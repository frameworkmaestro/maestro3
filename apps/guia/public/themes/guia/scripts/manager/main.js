//>>built
require({cache:{"dojo/request/default":function(){
define(["exports","require","../has"],function(_1,_2,_3){
var _4=_3("config-requestProvider"),_5;
if(1){
_5="./xhr";
}else{
if(0){
_5="./node";
}
}
if(!_4){
_4=_5;
}
_1.getPlatformDefaultId=function(){
return _5;
};
_1.load=function(id,_6,_7,_8){
_2([id=="platform"?_5:_4],function(_9){
_7(_9);
});
};
});
},"dojo/date":function(){
define(["./has","./_base/lang"],function(_a,_b){
var _c={};
_c.getDaysInMonth=function(_d){
var _e=_d.getMonth();
var _f=[31,28,31,30,31,30,31,31,30,31,30,31];
if(_e==1&&_c.isLeapYear(_d)){
return 29;
}
return _f[_e];
};
_c.isLeapYear=function(_10){
var _11=_10.getFullYear();
return !(_11%400)||(!(_11%4)&&!!(_11%100));
};
_c.getTimezoneName=function(_12){
var str=_12.toString();
var tz="";
var _13;
var pos=str.indexOf("(");
if(pos>-1){
tz=str.substring(++pos,str.indexOf(")"));
}else{
var pat=/([A-Z\/]+) \d{4}$/;
if((_13=str.match(pat))){
tz=_13[1];
}else{
str=_12.toLocaleString();
pat=/ ([A-Z\/]+)$/;
if((_13=str.match(pat))){
tz=_13[1];
}
}
}
return (tz=="AM"||tz=="PM")?"":tz;
};
_c.compare=function(_14,_15,_16){
_14=new Date(+_14);
_15=new Date(+(_15||new Date()));
if(_16=="date"){
_14.setHours(0,0,0,0);
_15.setHours(0,0,0,0);
}else{
if(_16=="time"){
_14.setFullYear(0,0,0);
_15.setFullYear(0,0,0);
}
}
if(_14>_15){
return 1;
}
if(_14<_15){
return -1;
}
return 0;
};
_c.add=function(_17,_18,_19){
var sum=new Date(+_17);
var _1a=false;
var _1b="Date";
switch(_18){
case "day":
break;
case "weekday":
var _1c,_1d;
var mod=_19%5;
if(!mod){
_1c=(_19>0)?5:-5;
_1d=(_19>0)?((_19-5)/5):((_19+5)/5);
}else{
_1c=mod;
_1d=parseInt(_19/5);
}
var _1e=_17.getDay();
var adj=0;
if(_1e==6&&_19>0){
adj=1;
}else{
if(_1e==0&&_19<0){
adj=-1;
}
}
var _1f=_1e+_1c;
if(_1f==0||_1f==6){
adj=(_19>0)?2:-2;
}
_19=(7*_1d)+_1c+adj;
break;
case "year":
_1b="FullYear";
_1a=true;
break;
case "week":
_19*=7;
break;
case "quarter":
_19*=3;
case "month":
_1a=true;
_1b="Month";
break;
default:
_1b="UTC"+_18.charAt(0).toUpperCase()+_18.substring(1)+"s";
}
if(_1b){
sum["set"+_1b](sum["get"+_1b]()+_19);
}
if(_1a&&(sum.getDate()<_17.getDate())){
sum.setDate(0);
}
return sum;
};
_c.difference=function(_20,_21,_22){
_21=_21||new Date();
_22=_22||"day";
var _23=_21.getFullYear()-_20.getFullYear();
var _24=1;
switch(_22){
case "quarter":
var m1=_20.getMonth();
var m2=_21.getMonth();
var q1=Math.floor(m1/3)+1;
var q2=Math.floor(m2/3)+1;
q2+=(_23*4);
_24=q2-q1;
break;
case "weekday":
var _25=Math.round(_c.difference(_20,_21,"day"));
var _26=parseInt(_c.difference(_20,_21,"week"));
var mod=_25%7;
if(mod==0){
_25=_26*5;
}else{
var adj=0;
var _27=_20.getDay();
var _28=_21.getDay();
_26=parseInt(_25/7);
mod=_25%7;
var _29=new Date(_20);
_29.setDate(_29.getDate()+(_26*7));
var _2a=_29.getDay();
if(_25>0){
switch(true){
case _27==6:
adj=-1;
break;
case _27==0:
adj=0;
break;
case _28==6:
adj=-1;
break;
case _28==0:
adj=-2;
break;
case (_2a+mod)>5:
adj=-2;
}
}else{
if(_25<0){
switch(true){
case _27==6:
adj=0;
break;
case _27==0:
adj=1;
break;
case _28==6:
adj=2;
break;
case _28==0:
adj=1;
break;
case (_2a+mod)<0:
adj=2;
}
}
}
_25+=adj;
_25-=(_26*2);
}
_24=_25;
break;
case "year":
_24=_23;
break;
case "month":
_24=(_21.getMonth()-_20.getMonth())+(_23*12);
break;
case "week":
_24=parseInt(_c.difference(_20,_21,"day")/7);
break;
case "day":
_24/=24;
case "hour":
_24/=60;
case "minute":
_24/=60;
case "second":
_24/=1000;
case "millisecond":
_24*=_21.getTime()-_20.getTime();
}
return Math.round(_24);
};
1&&_b.mixin(_b.getObject("dojo.date",true),_c);
return _c;
});
},"dojo/currency":function(){
define(["./_base/array","./_base/lang","./number","./i18n","./i18n!./cldr/nls/currency","./cldr/monetary"],function(_2b,_2c,_2d,_2e,_2f,_30){
var _31={};
_2c.setObject("dojo.currency",_31);
_31._mixInDefaults=function(_32){
_32=_32||{};
_32.type="currency";
var _33=_2e.getLocalization("dojo.cldr","currency",_32.locale)||{};
var iso=_32.currency;
var _34=_30.getData(iso);
_2b.forEach(["displayName","symbol","group","decimal"],function(_35){
_34[_35]=_33[iso+"_"+_35];
});
_34.fractional=[true,false];
return _2c.mixin(_34,_32);
};
_31.format=function(_36,_37){
return _2d.format(_36,_31._mixInDefaults(_37));
};
_31.regexp=function(_38){
return _2d.regexp(_31._mixInDefaults(_38));
};
_31.parse=function(_39,_3a){
return _2d.parse(_39,_31._mixInDefaults(_3a));
};
return _31;
});
},"dijit/selection":function(){
define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/sniff","dojo/_base/window","dijit/focus"],function(_3b,dom,_3c,has,_3d,_3e){
var _3f=function(win){
var doc=win.document;
this.getType=function(){
if(doc.getSelection){
var _40="text";
var _41;
try{
_41=win.getSelection();
}
catch(e){
}
if(_41&&_41.rangeCount==1){
var _42=_41.getRangeAt(0);
if((_42.startContainer==_42.endContainer)&&((_42.endOffset-_42.startOffset)==1)&&(_42.startContainer.nodeType!=3)){
_40="control";
}
}
return _40;
}else{
return doc.selection.type.toLowerCase();
}
};
this.getSelectedText=function(){
if(doc.getSelection){
var _43=win.getSelection();
return _43?_43.toString():"";
}else{
if(this.getType()=="control"){
return null;
}
return doc.selection.createRange().text;
}
};
this.getSelectedHtml=function(){
if(doc.getSelection){
var _44=win.getSelection();
if(_44&&_44.rangeCount){
var i;
var _45="";
for(i=0;i<_44.rangeCount;i++){
var _46=_44.getRangeAt(i).cloneContents();
var div=doc.createElement("div");
div.appendChild(_46);
_45+=div.innerHTML;
}
return _45;
}
return null;
}else{
if(this.getType()=="control"){
return null;
}
return doc.selection.createRange().htmlText;
}
};
this.getSelectedElement=function(){
if(this.getType()=="control"){
if(doc.getSelection){
var _47=win.getSelection();
return _47.anchorNode.childNodes[_47.anchorOffset];
}else{
var _48=doc.selection.createRange();
if(_48&&_48.item){
return doc.selection.createRange().item(0);
}
}
}
return null;
};
this.getParentElement=function(){
if(this.getType()=="control"){
var p=this.getSelectedElement();
if(p){
return p.parentNode;
}
}else{
if(doc.getSelection){
var _49=doc.getSelection();
if(_49){
var _4a=_49.anchorNode;
while(_4a&&(_4a.nodeType!=1)){
_4a=_4a.parentNode;
}
return _4a;
}
}else{
var r=doc.selection.createRange();
r.collapse(true);
return r.parentElement();
}
}
return null;
};
this.hasAncestorElement=function(_4b){
return this.getAncestorElement.apply(this,arguments)!=null;
};
this.getAncestorElement=function(_4c){
var _4d=this.getSelectedElement()||this.getParentElement();
return this.getParentOfType(_4d,arguments);
};
this.isTag=function(_4e,_4f){
if(_4e&&_4e.tagName){
var _50=_4e.tagName.toLowerCase();
for(var i=0;i<_4f.length;i++){
var _51=String(_4f[i]).toLowerCase();
if(_50==_51){
return _51;
}
}
}
return "";
};
this.getParentOfType=function(_52,_53){
while(_52){
if(this.isTag(_52,_53).length){
return _52;
}
_52=_52.parentNode;
}
return null;
};
this.collapse=function(_54){
if(doc.getSelection){
var _55=win.getSelection();
if(_55.removeAllRanges){
if(_54){
_55.collapseToStart();
}else{
_55.collapseToEnd();
}
}else{
_55.collapse(_54);
}
}else{
var _56=doc.selection.createRange();
_56.collapse(_54);
_56.select();
}
};
this.remove=function(){
var sel=doc.selection;
if(doc.getSelection){
sel=win.getSelection();
sel.deleteFromDocument();
return sel;
}else{
if(sel.type.toLowerCase()!="none"){
sel.clear();
}
return sel;
}
};
this.selectElementChildren=function(_57,_58){
var _59;
_57=dom.byId(_57);
if(doc.getSelection){
var _5a=win.getSelection();
if(has("opera")){
if(_5a.rangeCount){
_59=_5a.getRangeAt(0);
}else{
_59=doc.createRange();
}
_59.setStart(_57,0);
_59.setEnd(_57,(_57.nodeType==3)?_57.length:_57.childNodes.length);
_5a.addRange(_59);
}else{
_5a.selectAllChildren(_57);
}
}else{
_59=_57.ownerDocument.body.createTextRange();
_59.moveToElementText(_57);
if(!_58){
try{
_59.select();
}
catch(e){
}
}
}
};
this.selectElement=function(_5b,_5c){
var _5d;
_5b=dom.byId(_5b);
if(doc.getSelection){
var _5e=doc.getSelection();
_5d=doc.createRange();
if(_5e.removeAllRanges){
if(has("opera")){
if(_5e.getRangeAt(0)){
_5d=_5e.getRangeAt(0);
}
}
_5d.selectNode(_5b);
_5e.removeAllRanges();
_5e.addRange(_5d);
}
}else{
try{
var tg=_5b.tagName?_5b.tagName.toLowerCase():"";
if(tg==="img"||tg==="table"){
_5d=_3d.body(doc).createControlRange();
}else{
_5d=_3d.body(doc).createRange();
}
_5d.addElement(_5b);
if(!_5c){
_5d.select();
}
}
catch(e){
this.selectElementChildren(_5b,_5c);
}
}
};
this.inSelection=function(_5f){
if(_5f){
var _60;
var _61;
if(doc.getSelection){
var sel=win.getSelection();
if(sel&&sel.rangeCount>0){
_61=sel.getRangeAt(0);
}
if(_61&&_61.compareBoundaryPoints&&doc.createRange){
try{
_60=doc.createRange();
_60.setStart(_5f,0);
if(_61.compareBoundaryPoints(_61.START_TO_END,_60)===1){
return true;
}
}
catch(e){
}
}
}else{
_61=doc.selection.createRange();
try{
_60=_5f.ownerDocument.body.createTextRange();
_60.moveToElementText(_5f);
}
catch(e2){
}
if(_61&&_60){
if(_61.compareEndPoints("EndToStart",_60)===1){
return true;
}
}
}
}
return false;
},this.getBookmark=function(){
var bm,rg,tg,sel=doc.selection,cf=_3e.curNode;
if(doc.getSelection){
sel=win.getSelection();
if(sel){
if(sel.isCollapsed){
tg=cf?cf.tagName:"";
if(tg){
tg=tg.toLowerCase();
if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){
sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};
return {isCollapsed:(sel.end<=sel.start),mark:sel};
}
}
bm={isCollapsed:true};
if(sel.rangeCount){
bm.mark=sel.getRangeAt(0).cloneRange();
}
}else{
rg=sel.getRangeAt(0);
bm={isCollapsed:false,mark:rg.cloneRange()};
}
}
}else{
if(sel){
tg=cf?cf.tagName:"";
tg=tg.toLowerCase();
if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){
if(sel.type&&sel.type.toLowerCase()=="none"){
return {isCollapsed:true,mark:null};
}else{
rg=sel.createRange();
return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};
}
}
bm={};
try{
rg=sel.createRange();
bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);
}
catch(e){
bm.isCollapsed=true;
return bm;
}
if(sel.type.toUpperCase()=="CONTROL"){
if(rg.length){
bm.mark=[];
var i=0,len=rg.length;
while(i<len){
bm.mark.push(rg.item(i++));
}
}else{
bm.isCollapsed=true;
bm.mark=null;
}
}else{
bm.mark=rg.getBookmark();
}
}else{
console.warn("No idea how to store the current selection for this browser!");
}
}
return bm;
};
this.moveToBookmark=function(_62){
var _63=_62.mark;
if(_63){
if(doc.getSelection){
var sel=win.getSelection();
if(sel&&sel.removeAllRanges){
if(_63.pRange){
var n=_63.node;
n.selectionStart=_63.start;
n.selectionEnd=_63.end;
}else{
sel.removeAllRanges();
sel.addRange(_63);
}
}else{
console.warn("No idea how to restore selection for this browser!");
}
}else{
if(doc.selection&&_63){
var rg;
if(_63.pRange){
rg=_63.range;
}else{
if(_3c.isArray(_63)){
rg=doc.body.createControlRange();
_3b.forEach(_63,function(n){
rg.addElement(n);
});
}else{
rg=doc.body.createTextRange();
rg.moveToBookmark(_63);
}
}
rg.select();
}
}
}
};
this.isCollapsed=function(){
return this.getBookmark().isCollapsed;
};
};
var _64=new _3f(window);
_64.SelectionManager=_3f;
return _64;
});
},"dojox/form/uploader/_HTML5":function(){
define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo"],function(_65,_66,_67,_68){
return _65("dojox.form.uploader._HTML5",[],{errMsg:"Error uploading files. Try checking permissions",uploadType:"html5",postMixInProperties:function(){
this.inherited(arguments);
if(this.uploadType==="html5"){
}
},postCreate:function(){
this.connectForm();
this.inherited(arguments);
if(this.uploadOnSelect){
this.connect(this,"onChange",function(_69){
this.upload(_69[0]);
});
}
},_drop:function(e){
_68.stopEvent(e);
var dt=e.dataTransfer;
this._files=dt.files;
this.onChange(this.getFileList());
},upload:function(_6a){
this.onBegin(this.getFileList());
this.uploadWithFormData(_6a);
},addDropTarget:function(_6b,_6c){
if(!_6c){
this.connect(_6b,"dragenter",_68.stopEvent);
this.connect(_6b,"dragover",_68.stopEvent);
this.connect(_6b,"dragleave",_68.stopEvent);
}
this.connect(_6b,"drop","_drop");
},uploadWithFormData:function(_6d){
if(!this.getUrl()){
console.error("No upload url found.",this);
return;
}
var fd=new FormData(),_6e=this._getFileFieldName();
_67.forEach(this._files,function(f,i){
fd.append(_6e,f);
},this);
if(_6d){
_6d.uploadType=this.uploadType;
for(var nm in _6d){
fd.append(nm,_6d[nm]);
}
}
var xhr=this.createXhr();
xhr.send(fd);
},_xhrProgress:function(evt){
if(evt.lengthComputable){
var o={bytesLoaded:evt.loaded,bytesTotal:evt.total,type:evt.type,timeStamp:evt.timeStamp};
if(evt.type=="load"){
o.percent="100%";
o.decimal=1;
}else{
o.decimal=evt.loaded/evt.total;
o.percent=Math.ceil((evt.loaded/evt.total)*100)+"%";
}
this.onProgress(o);
}
},createXhr:function(){
var xhr=new XMLHttpRequest();
var _6f;
xhr.upload.addEventListener("progress",_66.hitch(this,"_xhrProgress"),false);
xhr.addEventListener("load",_66.hitch(this,"_xhrProgress"),false);
xhr.addEventListener("error",_66.hitch(this,function(evt){
this.onError(evt);
clearInterval(_6f);
}),false);
xhr.addEventListener("abort",_66.hitch(this,function(evt){
this.onAbort(evt);
clearInterval(_6f);
}),false);
xhr.onreadystatechange=_66.hitch(this,function(){
if(xhr.readyState===4){
clearInterval(_6f);
try{
this.onComplete(JSON.parse(xhr.responseText.replace(/^\{\}&&/,"")));
}
catch(e){
var msg="Error parsing server result:";
console.error(msg,e);
console.error(xhr.responseText);
this.onError(msg,e);
}
}
});
xhr.open("POST",this.getUrl());
xhr.setRequestHeader("Accept","application/json");
_6f=setInterval(_66.hitch(this,function(){
try{
if(typeof (xhr.statusText)){
}
}
catch(e){
clearInterval(_6f);
}
}),250);
return xhr;
}});
});
},"dojox/grid/DataGrid":function(){
define(["../main","dojo/_base/array","dojo/_base/lang","dojo/_base/json","dojo/_base/sniff","dojo/_base/declare","./_Grid","./DataSelection","dojo/_base/html","dojo/has","dojo/has!dojo-bidi?./bidi/_BidiMixin"],function(_70,_71,_72,_73,has,_74,_75,_76,_77){
var _78=_74("dojox.grid.DataGrid",_75,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:false,_isLoading:false,keepSelection:false,postCreate:function(){
this._pages=[];
this._store_connects=[];
this._by_idty={};
this._by_idx=[];
this._cache=[];
this._pending_requests={};
this._setStore(this.store);
this.inherited(arguments);
},destroy:function(){
this.selection.destroy();
this.inherited(arguments);
},createSelection:function(){
this.selection=new _76(this);
},get:function(_79,_7a){
if(_7a&&this.field=="_item"&&!this.fields){
return _7a;
}else{
if(_7a&&this.fields){
var ret=[];
var s=this.grid.store;
_71.forEach(this.fields,function(f){
ret=ret.concat(s.getValues(_7a,f));
});
return ret;
}else{
if(!_7a&&typeof _79==="string"){
return this.inherited(arguments);
}
}
}
return (!_7a?this.defaultValue:(!this.field?this.value:(this.field=="_item"?_7a:this.grid.store.getValue(_7a,this.field))));
},_checkUpdateStatus:function(){
if(this.updateDelay>0){
var _7b=false;
if(this._endUpdateDelay){
clearTimeout(this._endUpdateDelay);
delete this._endUpdateDelay;
_7b=true;
}
if(!this.updating){
this.beginUpdate();
_7b=true;
}
if(_7b){
var _7c=this;
this._endUpdateDelay=setTimeout(function(){
delete _7c._endUpdateDelay;
_7c.endUpdate();
},this.updateDelay);
}
}
},_onSet:function(_7d,_7e,_7f,_80){
this._checkUpdateStatus();
var idx=this.getItemIndex(_7d);
if(idx>-1){
this.updateRow(idx);
}
},_createItem:function(_81,_82){
var _83=this._hasIdentity?this.store.getIdentity(_81):_73.toJson(this.query)+":idx:"+_82+":sort:"+_73.toJson(this.getSortProps());
var o=this._by_idty[_83]={idty:_83,item:_81};
return o;
},_addItem:function(_84,_85,_86){
this._by_idx[_85]=this._createItem(_84,_85);
if(!_86){
this.updateRow(_85);
}
},_onNew:function(_87,_88){
this._checkUpdateStatus();
var _89=this.get("rowCount");
this._addingItem=true;
this.updateRowCount(_89+1);
this._addingItem=false;
this._addItem(_87,_89);
this.showMessage();
},_onDelete:function(_8a){
this._checkUpdateStatus();
var idx=this._getItemIndex(_8a,true);
if(idx>=0){
this._pages=[];
this._bop=-1;
this._eop=-1;
var o=this._by_idx[idx];
this._by_idx.splice(idx,1);
delete this._by_idty[o.idty];
this.updateRowCount(this.get("rowCount")-1);
if(this.get("rowCount")===0){
this.showMessage(this.noDataMessage);
}
}
if(this.selection.isSelected(idx)){
this.selection.deselect(idx);
this.selection.selected.splice(idx,1);
}
},_onRevert:function(){
this._refresh();
},setStore:function(_8b,_8c,_8d){
if(this._requestsPending(0)){
return;
}
this._setQuery(_8c,_8d);
this._setStore(_8b);
this._refresh(true);
},setQuery:function(_8e,_8f){
if(this._requestsPending(0)){
return;
}
this._setQuery(_8e,_8f);
this._refresh(true);
},setItems:function(_90){
this.items=_90;
this._setStore(this.store);
this._refresh(true);
},_setQuery:function(_91,_92){
this.query=_91;
this.queryOptions=_92||this.queryOptions;
},_setStore:function(_93){
if(this.store&&this._store_connects){
_71.forEach(this._store_connects,this.disconnect,this);
}
this.store=_93;
if(this.store){
var f=this.store.getFeatures();
var h=[];
this._canEdit=!!f["dojo.data.api.Write"]&&!!f["dojo.data.api.Identity"];
this._hasIdentity=!!f["dojo.data.api.Identity"];
if(!!f["dojo.data.api.Notification"]&&!this.items){
h.push(this.connect(this.store,"onSet","_onSet"));
h.push(this.connect(this.store,"onNew","_onNew"));
h.push(this.connect(this.store,"onDelete","_onDelete"));
}
if(this._canEdit){
h.push(this.connect(this.store,"revert","_onRevert"));
}
this._store_connects=h;
}
},_onFetchBegin:function(_94,req){
if(!this.scroller){
return;
}
if(this.rowCount!=_94){
if(req.isRender){
this.scroller.init(_94,this.keepRows,this.rowsPerPage);
this.rowCount=_94;
this._setAutoHeightAttr(this.autoHeight,true);
this._skipRowRenormalize=true;
this.prerender();
this._skipRowRenormalize=false;
}else{
this.updateRowCount(_94);
}
}
if(!_94){
this.views.render();
this._resize();
this.showMessage(this.noDataMessage);
this.focus.initFocusView();
}else{
this.showMessage();
}
},_onFetchComplete:function(_95,req){
if(!this.scroller){
return;
}
if(_95&&_95.length>0){
_71.forEach(_95,function(_96,idx){
this._addItem(_96,req.start+idx,true);
},this);
this.updateRows(req.start,_95.length);
if(req.isRender){
this.setScrollTop(0);
this.postrender();
}else{
if(this._lastScrollTop){
this.setScrollTop(this._lastScrollTop);
}
}
if(has("ie")){
_77.setSelectable(this.domNode,this.selectable);
}
}
delete this._lastScrollTop;
if(!this._isLoaded){
this._isLoading=false;
this._isLoaded=true;
}
this._pending_requests[req.start]=false;
},_onFetchError:function(err,req){
delete this._lastScrollTop;
if(!this._isLoaded){
this._isLoading=false;
this._isLoaded=true;
this.showMessage(this.errorMessage);
}
this._pending_requests[req.start]=false;
this.onFetchError(err,req);
},onFetchError:function(err,req){
},_fetch:function(_97,_98){
_97=_97||0;
if(this.store&&!this._pending_requests[_97]){
if(!this._isLoaded&&!this._isLoading){
this._isLoading=true;
this.showMessage(this.loadingMessage);
}
this._pending_requests[_97]=true;
try{
if(this.items){
var _99=this.items;
var _9a=this.store;
this.rowsPerPage=_99.length;
var req={start:_97,count:this.rowsPerPage,isRender:_98};
this._onFetchBegin(_99.length,req);
var _9b=0;
_71.forEach(_99,function(i){
if(!_9a.isItemLoaded(i)){
_9b++;
}
});
if(_9b===0){
this._onFetchComplete(_99,req);
}else{
var _9c=function(_9d){
_9b--;
if(_9b===0){
this._onFetchComplete(_99,req);
}
};
_71.forEach(_99,function(i){
if(!_9a.isItemLoaded(i)){
_9a.loadItem({item:i,onItem:_9c,scope:this});
}
},this);
}
}else{
this.store.fetch({start:_97,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:_98,onBegin:_72.hitch(this,"_onFetchBegin"),onComplete:_72.hitch(this,"_onFetchComplete"),onError:_72.hitch(this,"_onFetchError")});
}
}
catch(e){
this._onFetchError(e,{start:_97,count:this.rowsPerPage});
}
}
},_clearData:function(){
this.updateRowCount(0);
this._by_idty={};
this._by_idx=[];
this._pages=[];
this._bop=this._eop=-1;
this._isLoaded=false;
this._isLoading=false;
},getItem:function(idx){
var _9e=this._by_idx[idx];
if(!_9e||(_9e&&!_9e.item)){
this._preparePage(idx);
return null;
}
return _9e.item;
},getItemIndex:function(_9f){
return this._getItemIndex(_9f,false);
},_getItemIndex:function(_a0,_a1){
if(!_a1&&!this.store.isItem(_a0)){
return -1;
}
var _a2=this._hasIdentity?this.store.getIdentity(_a0):null;
for(var i=0,l=this._by_idx.length;i<l;i++){
var d=this._by_idx[i];
if(d&&((_a2&&d.idty==_a2)||(d.item===_a0))){
return i;
}
}
return -1;
},filter:function(_a3,_a4){
this.query=_a3;
if(_a4){
this._clearData();
}
this._fetch();
},_getItemAttr:function(idx,_a5){
var _a6=this.getItem(idx);
return (!_a6?this.fetchText:this.store.getValue(_a6,_a5));
},_render:function(){
if(this.domNode.parentNode){
this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);
this.prerender();
this._fetch(0,true);
}
},_requestsPending:function(_a7){
return this._pending_requests[_a7];
},_rowToPage:function(_a8){
return (this.rowsPerPage?Math.floor(_a8/this.rowsPerPage):_a8);
},_pageToRow:function(_a9){
return (this.rowsPerPage?this.rowsPerPage*_a9:_a9);
},_preparePage:function(_aa){
if((_aa<this._bop||_aa>=this._eop)&&!this._addingItem){
var _ab=this._rowToPage(_aa);
this._needPage(_ab);
this._bop=_ab*this.rowsPerPage;
this._eop=this._bop+(this.rowsPerPage||this.get("rowCount"));
}
},_needPage:function(_ac){
if(!this._pages[_ac]){
this._pages[_ac]=true;
this._requestPage(_ac);
}
},_requestPage:function(_ad){
var row=this._pageToRow(_ad);
var _ae=Math.min(this.rowsPerPage,this.get("rowCount")-row);
if(_ae>0){
this._requests++;
if(!this._requestsPending(row)){
setTimeout(_72.hitch(this,"_fetch",row,false),1);
}
}
},getCellName:function(_af){
return _af.field;
},_refresh:function(_b0){
this._clearData();
this._fetch(0,_b0);
},sort:function(){
this.edit.apply();
this._lastScrollTop=this.scrollTop;
this._refresh();
},canSort:function(){
return (!this._isLoading);
},getSortProps:function(){
var c=this.getCell(this.getSortIndex());
if(!c){
if(this.sortFields){
return this.sortFields;
}
return null;
}else{
var _b1=c["sortDesc"];
var si=!(this.sortInfo>0);
if(typeof _b1=="undefined"){
_b1=si;
}else{
_b1=si?!_b1:_b1;
}
return [{attribute:c.field,descending:_b1}];
}
},styleRowState:function(_b2){
if(this.store&&this.store.getState){
var _b3=this.store.getState(_b2.index),c="";
for(var i=0,ss=["inflight","error","inserting"],s;s=ss[i];i++){
if(_b3[s]){
c=" dojoxGridRow-"+s;
break;
}
}
_b2.customClasses+=c;
}
},onStyleRow:function(_b4){
this.styleRowState(_b4);
this.inherited(arguments);
},canEdit:function(_b5,_b6){
return this._canEdit;
},_copyAttr:function(idx,_b7){
var row={};
var _b8={};
var src=this.getItem(idx);
return this.store.getValue(src,_b7);
},doStartEdit:function(_b9,_ba){
if(!this._cache[_ba]){
this._cache[_ba]=this._copyAttr(_ba,_b9.field);
}
this.onStartEdit(_b9,_ba);
},doApplyCellEdit:function(_bb,_bc,_bd){
this.store.fetchItemByIdentity({identity:this._by_idx[_bc].idty,onItem:_72.hitch(this,function(_be){
var _bf=this.store.getValue(_be,_bd);
if(typeof _bf=="number"){
_bb=isNaN(_bb)?_bb:parseFloat(_bb);
}else{
if(typeof _bf=="boolean"){
_bb=_bb=="true"?true:_bb=="false"?false:_bb;
}else{
if(_bf instanceof Date){
var _c0=new Date(_bb);
_bb=isNaN(_c0.getTime())?_bb:_c0;
}
}
}
this.store.setValue(_be,_bd,_bb);
this.onApplyCellEdit(_bb,_bc,_bd);
})});
},doCancelEdit:function(_c1){
var _c2=this._cache[_c1];
if(_c2){
this.updateRow(_c1);
delete this._cache[_c1];
}
this.onCancelEdit.apply(this,arguments);
},doApplyEdit:function(_c3,_c4){
var _c5=this._cache[_c3];
this.onApplyEdit(_c3);
},removeSelectedRows:function(){
if(this._canEdit){
this.edit.apply();
var fx=_72.hitch(this,function(_c6){
if(_c6.length){
_71.forEach(_c6,this.store.deleteItem,this.store);
this.selection.clear();
}
});
if(this.allItemsSelected){
this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:fx});
}else{
fx(this.selection.getSelected());
}
}
}});
_78.cell_markupFactory=function(_c7,_c8,_c9){
var _ca=_72.trim(_77.attr(_c8,"field")||"");
if(_ca){
_c9.field=_ca;
}
_c9.field=_c9.field||_c9.name;
var _cb=_72.trim(_77.attr(_c8,"fields")||"");
if(_cb){
_c9.fields=_cb.split(",");
}
if(_c7){
_c7(_c8,_c9);
}
};
_78.markupFactory=function(_cc,_cd,_ce,_cf){
return _75.markupFactory(_cc,_cd,_ce,_72.partial(_78.cell_markupFactory,_cf));
};
return _78;
});
},"dijit/MenuBar":function(){
define(["dojo/_base/declare","dojo/keys","./_MenuBase","dojo/text!./templates/MenuBar.html"],function(_d0,_d1,_d2,_d3){
return _d0("dijit.MenuBar",_d2,{templateString:_d3,baseClass:"dijitMenuBar",popupDelay:0,_isMenuBar:true,_orient:["below"],_moveToPopup:function(evt){
if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){
this.onItemClick(this.focusedChild,evt);
}
},focusChild:function(_d4){
this.inherited(arguments);
if(this.activated&&_d4.popup&&!_d4.disabled){
this._openItemPopup(_d4,true);
}
},_onChildDeselect:function(_d5){
if(this.currentPopupItem==_d5){
this.currentPopupItem=null;
_d5._closePopup();
}
this.inherited(arguments);
},_onLeftArrow:function(){
this.focusPrev();
},_onRightArrow:function(){
this.focusNext();
},_onDownArrow:function(evt){
this._moveToPopup(evt);
},_onUpArrow:function(){
},onItemClick:function(_d6,evt){
if(_d6.popup&&_d6.popup.isShowingNow&&(!/^key/.test(evt.type)||evt.keyCode!==_d1.DOWN_ARROW)){
_d6.focusNode.focus();
this._cleanUp(true);
}else{
this.inherited(arguments);
}
}});
});
},"dijit/Viewport":function(){
define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(_d7,on,_d8,has,_d9){
var _da=new _d7();
var _db;
_d8(function(){
var _dc=_d9.getBox();
_da._rlh=on(window,"resize",function(){
var _dd=_d9.getBox();
if(_dc.h==_dd.h&&_dc.w==_dd.w){
return;
}
_dc=_dd;
_da.emit("resize");
});
if(has("ie")==8){
var _de=screen.deviceXDPI;
setInterval(function(){
if(screen.deviceXDPI!=_de){
_de=screen.deviceXDPI;
_da.emit("resize");
}
},500);
}
if(has("ios")){
on(document,"focusin",function(evt){
_db=evt.target;
});
on(document,"focusout",function(evt){
_db=null;
});
}
});
_da.getEffectiveBox=function(doc){
var box=_d9.getBox(doc);
var tag=_db&&_db.tagName&&_db.tagName.toLowerCase();
if(has("ios")&&_db&&!_db.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_db.type)))){
box.h*=(orientation==0||orientation==180?0.66:0.4);
var _df=_db.getBoundingClientRect();
box.h=Math.max(box.h,_df.top+_df.height);
}
return box;
};
return _da;
});
},"dijit/_editor/range":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(_e0,_e1,_e2){
var _e3={getIndex:function(_e4,_e5){
var ret=[],_e6=[];
var _e7=_e4;
var _e8,n;
while(_e4!=_e5){
var i=0;
_e8=_e4.parentNode;
while((n=_e8.childNodes[i++])){
if(n===_e4){
--i;
break;
}
}
ret.unshift(i);
_e6.unshift(i-_e8.childNodes.length);
_e4=_e8;
}
if(ret.length>0&&_e7.nodeType==3){
n=_e7.previousSibling;
while(n&&n.nodeType==3){
ret[ret.length-1]--;
n=n.previousSibling;
}
n=_e7.nextSibling;
while(n&&n.nodeType==3){
_e6[_e6.length-1]++;
n=n.nextSibling;
}
}
return {o:ret,r:_e6};
},getNode:function(_e9,_ea){
if(!_e2.isArray(_e9)||_e9.length==0){
return _ea;
}
var _eb=_ea;
_e0.every(_e9,function(i){
if(i>=0&&i<_eb.childNodes.length){
_eb=_eb.childNodes[i];
}else{
_eb=null;
return false;
}
return true;
});
return _eb;
},getCommonAncestor:function(n1,n2,_ec){
_ec=_ec||n1.ownerDocument.body;
var _ed=function(n){
var as=[];
while(n){
as.unshift(n);
if(n!==_ec){
n=n.parentNode;
}else{
break;
}
}
return as;
};
var _ee=_ed(n1);
var _ef=_ed(n2);
var m=Math.min(_ee.length,_ef.length);
var com=_ee[0];
for(var i=1;i<m;i++){
if(_ee[i]===_ef[i]){
com=_ee[i];
}else{
break;
}
}
return com;
},getAncestor:function(_f0,_f1,_f2){
_f2=_f2||_f0.ownerDocument.body;
while(_f0&&_f0!==_f2){
var _f3=_f0.nodeName.toUpperCase();
if(_f1.test(_f3)){
return _f0;
}
_f0=_f0.parentNode;
}
return null;
},BlockTagNames:/^(?:P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DT|DE)$/,getBlockAncestor:function(_f4,_f5,_f6){
_f6=_f6||_f4.ownerDocument.body;
_f5=_f5||_e3.BlockTagNames;
var _f7=null,_f8;
while(_f4&&_f4!==_f6){
var _f9=_f4.nodeName.toUpperCase();
if(!_f7&&_f5.test(_f9)){
_f7=_f4;
}
if(!_f8&&(/^(?:BODY|TD|TH|CAPTION)$/).test(_f9)){
_f8=_f4;
}
_f4=_f4.parentNode;
}
return {blockNode:_f7,blockContainer:_f8||_f4.ownerDocument.body};
},atBeginningOfContainer:function(_fa,_fb,_fc){
var _fd=false;
var _fe=(_fc==0);
if(!_fe&&_fb.nodeType==3){
if(/^[\s\xA0]+$/.test(_fb.nodeValue.substr(0,_fc))){
_fe=true;
}
}
if(_fe){
var _ff=_fb;
_fd=true;
while(_ff&&_ff!==_fa){
if(_ff.previousSibling){
_fd=false;
break;
}
_ff=_ff.parentNode;
}
}
return _fd;
},atEndOfContainer:function(_100,node,_101){
var _102=false;
var _103=(_101==(node.length||node.childNodes.length));
if(!_103&&node.nodeType==3){
if(/^[\s\xA0]+$/.test(node.nodeValue.substr(_101))){
_103=true;
}
}
if(_103){
var _104=node;
_102=true;
while(_104&&_104!==_100){
if(_104.nextSibling){
_102=false;
break;
}
_104=_104.parentNode;
}
}
return _102;
},adjacentNoneTextNode:function(_105,next){
var node=_105;
var len=(0-_105.length)||0;
var prop=next?"nextSibling":"previousSibling";
while(node){
if(node.nodeType!=3){
break;
}
len+=node.length;
node=node[prop];
}
return [node,len];
},create:function(win){
win=win||window;
if(win.getSelection){
return win.document.createRange();
}else{
return new _106();
}
},getSelection:function(_107,_108){
if(_107.getSelection){
return _107.getSelection();
}else{
var s=new ie.selection(_107);
if(!_108){
s._getCurrentSelection();
}
return s;
}
}};
if(!window.getSelection){
var ie=_e3.ie={cachedSelection:{},selection:function(_109){
this._ranges=[];
this.addRange=function(r,_10a){
this._ranges.push(r);
if(!_10a){
r._select();
}
this.rangeCount=this._ranges.length;
};
this.removeAllRanges=function(){
this._ranges=[];
this.rangeCount=0;
};
var _10b=function(){
var r=_109.document.selection.createRange();
var type=_109.document.selection.type.toUpperCase();
if(type=="CONTROL"){
return new _106(ie.decomposeControlRange(r));
}else{
return new _106(ie.decomposeTextRange(r));
}
};
this.getRangeAt=function(i){
return this._ranges[i];
};
this._getCurrentSelection=function(){
this.removeAllRanges();
var r=_10b();
if(r){
this.addRange(r,true);
this.isCollapsed=r.collapsed;
}else{
this.isCollapsed=true;
}
};
},decomposeControlRange:function(_10c){
var _10d=_10c.item(0),_10e=_10c.item(_10c.length-1);
var _10f=_10d.parentNode,_110=_10e.parentNode;
var _111=_e3.getIndex(_10d,_10f).o[0];
var _112=_e3.getIndex(_10e,_110).o[0]+1;
return [_10f,_111,_110,_112];
},getEndPoint:function(_113,end){
var _114=_113.duplicate();
_114.collapse(!end);
var _115="EndTo"+(end?"End":"Start");
var _116=_114.parentElement();
var _117,_118,_119;
if(_116.childNodes.length>0){
_e0.every(_116.childNodes,function(node,i){
var _11a;
if(node.nodeType!=3){
_114.moveToElementText(node);
if(_114.compareEndPoints(_115,_113)>0){
if(_119&&_119.nodeType==3){
_117=_119;
_11a=true;
}else{
_117=_116;
_118=i;
return false;
}
}else{
if(i==_116.childNodes.length-1){
_117=_116;
_118=_116.childNodes.length;
return false;
}
}
}else{
if(i==_116.childNodes.length-1){
_117=node;
_11a=true;
}
}
if(_11a&&_117){
var _11b=_e3.adjacentNoneTextNode(_117)[0];
if(_11b){
_117=_11b.nextSibling;
}else{
_117=_116.firstChild;
}
var _11c=_e3.adjacentNoneTextNode(_117);
_11b=_11c[0];
var _11d=_11c[1];
if(_11b){
_114.moveToElementText(_11b);
_114.collapse(false);
}else{
_114.moveToElementText(_116);
}
_114.setEndPoint(_115,_113);
_118=_114.text.length-_11d;
return false;
}
_119=node;
return true;
});
}else{
_117=_116;
_118=0;
}
if(!end&&_117.nodeType==1&&_118==_117.childNodes.length){
var _11e=_117.nextSibling;
if(_11e&&_11e.nodeType==3){
_117=_11e;
_118=0;
}
}
return [_117,_118];
},setEndPoint:function(_11f,_120,_121){
var _122=_11f.duplicate(),node,len;
if(_120.nodeType!=3){
if(_121>0){
node=_120.childNodes[_121-1];
if(node){
if(node.nodeType==3){
_120=node;
_121=node.length;
}else{
if(node.nextSibling&&node.nextSibling.nodeType==3){
_120=node.nextSibling;
_121=0;
}else{
_122.moveToElementText(node.nextSibling?node:_120);
var _123=node.parentNode;
var _124=_123.insertBefore(node.ownerDocument.createTextNode(" "),node.nextSibling);
_122.collapse(false);
_123.removeChild(_124);
}
}
}
}else{
_122.moveToElementText(_120);
_122.collapse(true);
}
}
if(_120.nodeType==3){
var _125=_e3.adjacentNoneTextNode(_120);
var _126=_125[0];
len=_125[1];
if(_126){
_122.moveToElementText(_126);
_122.collapse(false);
if(_126.contentEditable!="inherit"){
len++;
}
}else{
_122.moveToElementText(_120.parentNode);
_122.collapse(true);
_122.move("character",1);
_122.move("character",-1);
}
_121+=len;
if(_121>0){
if(_122.move("character",_121)!=_121){
console.error("Error when moving!");
}
}
}
return _122;
},decomposeTextRange:function(_127){
var _128=ie.getEndPoint(_127);
var _129=_128[0],_12a=_128[1];
var _12b=_128[0],_12c=_128[1];
if(_127.htmlText.length){
if(_127.htmlText==_127.text){
_12c=_12a+_127.text.length;
}else{
_128=ie.getEndPoint(_127,true);
_12b=_128[0],_12c=_128[1];
}
}
return [_129,_12a,_12b,_12c];
},setRange:function(_12d,_12e,_12f,_130,_131,_132){
var _133=ie.setEndPoint(_12d,_12e,_12f);
_12d.setEndPoint("StartToStart",_133);
if(!_132){
var end=ie.setEndPoint(_12d,_130,_131);
}
_12d.setEndPoint("EndToEnd",end||_133);
return _12d;
}};
var _106=_e3.W3CRange=_e1(null,{constructor:function(){
if(arguments.length>0){
this.setStart(arguments[0][0],arguments[0][1]);
this.setEnd(arguments[0][2],arguments[0][3]);
}else{
this.commonAncestorContainer=null;
this.startContainer=null;
this.startOffset=0;
this.endContainer=null;
this.endOffset=0;
this.collapsed=true;
}
},_updateInternal:function(){
if(this.startContainer!==this.endContainer){
this.commonAncestorContainer=_e3.getCommonAncestor(this.startContainer,this.endContainer);
}else{
this.commonAncestorContainer=this.startContainer;
}
this.collapsed=(this.startContainer===this.endContainer)&&(this.startOffset==this.endOffset);
},setStart:function(node,_134){
_134=parseInt(_134);
if(this.startContainer===node&&this.startOffset==_134){
return;
}
delete this._cachedBookmark;
this.startContainer=node;
this.startOffset=_134;
if(!this.endContainer){
this.setEnd(node,_134);
}else{
this._updateInternal();
}
},setEnd:function(node,_135){
_135=parseInt(_135);
if(this.endContainer===node&&this.endOffset==_135){
return;
}
delete this._cachedBookmark;
this.endContainer=node;
this.endOffset=_135;
if(!this.startContainer){
this.setStart(node,_135);
}else{
this._updateInternal();
}
},setStartAfter:function(node,_136){
this._setPoint("setStart",node,_136,1);
},setStartBefore:function(node,_137){
this._setPoint("setStart",node,_137,0);
},setEndAfter:function(node,_138){
this._setPoint("setEnd",node,_138,1);
},setEndBefore:function(node,_139){
this._setPoint("setEnd",node,_139,0);
},_setPoint:function(what,node,_13a,ext){
var _13b=_e3.getIndex(node,node.parentNode).o;
this[what](node.parentNode,_13b.pop()+ext);
},_getIERange:function(){
var r=(this._body||this.endContainer.ownerDocument.body).createTextRange();
ie.setRange(r,this.startContainer,this.startOffset,this.endContainer,this.endOffset,this.collapsed);
return r;
},getBookmark:function(){
this._getIERange();
return this._cachedBookmark;
},_select:function(){
var r=this._getIERange();
r.select();
},deleteContents:function(){
var s=this.startContainer,r=this._getIERange();
if(s.nodeType===3&&!this.startOffset){
this.setStartBefore(s);
}
r.pasteHTML("");
this.endContainer=this.startContainer;
this.endOffset=this.startOffset;
this.collapsed=true;
},cloneRange:function(){
var r=new _106([this.startContainer,this.startOffset,this.endContainer,this.endOffset]);
r._body=this._body;
return r;
},detach:function(){
this._body=null;
this.commonAncestorContainer=null;
this.startContainer=null;
this.startOffset=0;
this.endContainer=null;
this.endOffset=0;
this.collapsed=true;
}});
}
_e2.setObject("dijit.range",_e3);
return _e3;
});
},"dijit/Dialog":function(){
define(["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","dojo/text!./templates/Dialog.html","dojo/i18n!./nls/common"],function(_13c,_13d,_13e,_13f,_140,dom,_141,_142,_143,fx,i18n,keys,lang,on,_144,has,_145,_146,_147,_148,_149,_14a,_14b,_14c,_14d,_14e,_14f,_150,_151){
var _152=_13f("dijit._DialogBase"+(has("dojo-bidi")?"_NoBidi":""),[_14b,_14d,_14e,_14c],{templateString:_151,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:false,duration:_149.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,_setDraggableAttr:function(val){
this._set("draggable",val);
},maxRatio:0.9,closable:true,_setClosableAttr:function(val){
this.closeButtonNode.style.display=val?"":"none";
this._set("closable",val);
},postMixInProperties:function(){
var _153=i18n.getLocalization("dijit","common");
lang.mixin(this,_153);
this.inherited(arguments);
},postCreate:function(){
_143.set(this.domNode,{display:"none",position:"absolute"});
this.ownerDocumentBody.appendChild(this.domNode);
this.inherited(arguments);
_13e.after(this,"onExecute",lang.hitch(this,"hide"),true);
_13e.after(this,"onCancel",lang.hitch(this,"hide"),true);
this._modalconnects=[];
},onLoad:function(){
this._size();
this._position();
if(this.autofocus&&_154.isTop(this)){
this._getFocusItems(this.domNode);
_148.focus(this._firstFocusItem);
}
this.inherited(arguments);
},focus:function(){
this._getFocusItems(this.domNode);
_148.focus(this._firstFocusItem);
},_endDrag:function(){
var _155=_142.position(this.domNode),_156=_145.getBox(this.ownerDocument);
_155.y=Math.min(Math.max(_155.y,0),(_156.h-_155.h));
_155.x=Math.min(Math.max(_155.x,0),(_156.w-_155.w));
this._relativePosition=_155;
this._position();
},_setup:function(){
var node=this.domNode;
if(this.titleBar&&this.draggable){
this._moveable=new ((has("ie")==6)?_147:_146)(node,{handle:this.titleBar});
_13e.after(this._moveable,"onMoveStop",lang.hitch(this,"_endDrag"),true);
}else{
_141.add(node,"dijitDialogFixed");
}
this.underlayAttrs={dialogId:this.id,"class":_13d.map(this["class"].split(/\s/),function(s){
return s+"_underlay";
}).join(" "),_onKeyDown:lang.hitch(this,"_onKey"),ownerDocument:this.ownerDocument};
},_size:function(){
this._checkIfSingleChild();
if(this._singleChild){
if(typeof this._singleChildOriginalStyle!="undefined"){
this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;
delete this._singleChildOriginalStyle;
}
}else{
_143.set(this.containerNode,{width:"auto",height:"auto"});
}
var bb=_142.position(this.domNode);
var _157=_145.getBox(this.ownerDocument);
_157.w*=this.maxRatio;
_157.h*=this.maxRatio;
if(bb.w>=_157.w||bb.h>=_157.h){
var _158=_142.position(this.containerNode),w=Math.min(bb.w,_157.w)-(bb.w-_158.w),h=Math.min(bb.h,_157.h)-(bb.h-_158.h);
if(this._singleChild&&this._singleChild.resize){
if(typeof this._singleChildOriginalStyle=="undefined"){
this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;
}
this._singleChild.resize({w:w,h:h});
}else{
_143.set(this.containerNode,{width:w+"px",height:h+"px",overflow:"auto",position:"relative"});
}
}else{
if(this._singleChild&&this._singleChild.resize){
this._singleChild.resize();
}
}
},_position:function(){
if(!_141.contains(this.ownerDocumentBody,"dojoMove")){
var node=this.domNode,_159=_145.getBox(this.ownerDocument),p=this._relativePosition,bb=p?null:_142.position(node),l=Math.floor(_159.l+(p?p.x:(_159.w-bb.w)/2)),t=Math.floor(_159.t+(p?p.y:(_159.h-bb.h)/2));
_143.set(node,{left:l+"px",top:t+"px"});
}
},_onKey:function(evt){
if(evt.keyCode==keys.TAB){
this._getFocusItems(this.domNode);
var node=evt.target;
if(this._firstFocusItem==this._lastFocusItem){
evt.stopPropagation();
evt.preventDefault();
}else{
if(node==this._firstFocusItem&&evt.shiftKey){
_148.focus(this._lastFocusItem);
evt.stopPropagation();
evt.preventDefault();
}else{
if(node==this._lastFocusItem&&!evt.shiftKey){
_148.focus(this._firstFocusItem);
evt.stopPropagation();
evt.preventDefault();
}
}
}
}else{
if(this.closable&&evt.keyCode==keys.ESCAPE){
this.onCancel();
evt.stopPropagation();
evt.preventDefault();
}
}
},show:function(){
if(this.open){
return;
}
if(!this._started){
this.startup();
}
if(!this._alreadyInitialized){
this._setup();
this._alreadyInitialized=true;
}
if(this._fadeOutDeferred){
this._fadeOutDeferred.cancel();
_154.hide(this);
}
var win=_145.get(this.ownerDocument);
this._modalconnects.push(on(win,"scroll",lang.hitch(this,"resize")));
this._modalconnects.push(on(this.domNode,"keydown",lang.hitch(this,"_onKey")));
_143.set(this.domNode,{opacity:0,display:""});
this._set("open",true);
this._onShow();
this._size();
this._position();
var _15a;
this._fadeInDeferred=new _140(lang.hitch(this,function(){
_15a.stop();
delete this._fadeInDeferred;
}));
var _15b=this._fadeInDeferred.promise;
_15a=fx.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:lang.hitch(this,function(){
_154.show(this,this.underlayAttrs);
}),onEnd:lang.hitch(this,function(){
if(this.autofocus&&_154.isTop(this)){
this._getFocusItems(this.domNode);
_148.focus(this._firstFocusItem);
}
this._fadeInDeferred.resolve(true);
delete this._fadeInDeferred;
})}).play();
return _15b;
},hide:function(){
if(!this._alreadyInitialized||!this.open){
return;
}
if(this._fadeInDeferred){
this._fadeInDeferred.cancel();
}
var _15c;
this._fadeOutDeferred=new _140(lang.hitch(this,function(){
_15c.stop();
delete this._fadeOutDeferred;
}));
this._fadeOutDeferred.then(lang.hitch(this,"onHide"));
var _15d=this._fadeOutDeferred.promise;
_15c=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,function(){
this.domNode.style.display="none";
_154.hide(this);
this._fadeOutDeferred.resolve(true);
delete this._fadeOutDeferred;
})}).play();
if(this._scrollConnected){
this._scrollConnected=false;
}
var h;
while(h=this._modalconnects.pop()){
h.remove();
}
if(this._relativePosition){
delete this._relativePosition;
}
this._set("open",false);
return _15d;
},resize:function(){
if(this.domNode.style.display!="none"){
this._size();
if(!has("touch")){
this._position();
}
}
},destroy:function(){
if(this._fadeInDeferred){
this._fadeInDeferred.cancel();
}
if(this._fadeOutDeferred){
this._fadeOutDeferred.cancel();
}
if(this._moveable){
this._moveable.destroy();
}
var h;
while(h=this._modalconnects.pop()){
h.remove();
}
_154.hide(this);
this.inherited(arguments);
}});
if(has("dojo-bidi")){
_152=_13f("dijit._DialogBase",_152,{_setTitleAttr:function(_15e){
this._set("title",_15e);
this.titleNode.innerHTML=_15e;
this.applyTextDir(this.titleNode);
},_setTextDirAttr:function(_15f){
if(this._created&&this.textDir!=_15f){
this._set("textDir",_15f);
this.set("title",this.title);
}
}});
}
var _160=_13f("dijit.Dialog",[_150,_152],{});
_160._DialogBase=_152;
var _154=_160._DialogLevelManager={_beginZIndex:950,show:function(_161,_162){
ds[ds.length-1].focus=_148.curNode;
var _163=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:_160._DialogLevelManager._beginZIndex;
_143.set(_161.domNode,"zIndex",_163);
_14f.show(_162,_163-1);
ds.push({dialog:_161,underlayAttrs:_162,zIndex:_163});
},hide:function(_164){
if(ds[ds.length-1].dialog==_164){
ds.pop();
var pd=ds[ds.length-1];
if(ds.length==1){
_14f.hide();
}else{
_14f.show(pd.underlayAttrs,pd.zIndex-1);
}
if(_164.refocus){
var _165=pd.focus;
if(pd.dialog&&(!_165||!dom.isDescendant(_165,pd.dialog.domNode))){
pd.dialog._getFocusItems(pd.dialog.domNode);
_165=pd.dialog._firstFocusItem;
}
if(_165){
try{
_165.focus();
}
catch(e){
}
}
}
}else{
var idx=_13d.indexOf(_13d.map(ds,function(elem){
return elem.dialog;
}),_164);
if(idx!=-1){
ds.splice(idx,1);
}
}
},isTop:function(_166){
return ds[ds.length-1].dialog==_166;
}};
var ds=_160._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];
_148.watch("curNode",function(attr,_167,node){
var _168=ds[ds.length-1].dialog;
if(node&&_168&&!_168._fadeOutDeferred&&node.ownerDocument==_168.ownerDocument){
do{
if(node==_168.domNode||_141.contains(node,"dijitPopup")){
return;
}
}while(node=node.parentNode);
_168.focus();
}
});
if(has("dijit-legacy-requires")){
_144(0,function(){
var _169=["dijit/TooltipDialog"];
_13c(_169);
});
}
return _160;
});
},"dojox/form/Uploader":function(){
define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/connect","dojo/_base/window","dojo/dom-style","dojo/dom-class","dojo/dom-geometry","dojo/dom-attr","dojo/dom-construct","dojo/dom-form","dijit","dijit/form/Button","./uploader/_Base","./uploader/_HTML5","./uploader/_IFrame","./uploader/_Flash","dojo/i18n!./nls/Uploader","dojo/text!./resources/Uploader.html"],function(_16a,_16b,lang,_16c,_16d,win,_16e,_16f,_170,_171,_172,_173,_174,_175,Base,_176,_177,_178,res,_179){
return _16b("dojox.form.Uploader",[Base,_175,_176,_177,_178],{uploadOnSelect:false,tabIndex:0,multiple:false,label:res.label,url:"",name:"uploadedfile",flashFieldName:"",force:"",uploadType:"",showInput:"",focusedClass:"dijitButtonHover",_nameIndex:0,templateString:_179,baseClass:"dijitUploader "+_175.prototype.baseClass,postMixInProperties:function(){
this._inputs=[];
this._cons=[];
this.force=this.force.toLowerCase();
if(this.supports("multiple")){
this.uploadType=this.force==="form"?"form":"html5";
}else{
this.uploadType=this.force==="flash"?"flash":"iframe";
}
this.inherited(arguments);
},buildRendering:function(){
this.inherited(arguments);
_16e.set(this.domNode,{overflow:"hidden",position:"relative"});
this._buildDisplay();
_171.set(this.titleNode,"tabIndex",-1);
},_buildDisplay:function(){
if(this.showInput){
this.displayInput=_172.create("input",{"class":"dijitUploadDisplayInput","tabIndex":-1,"autocomplete":"off","role":"presentation"},this.containerNode,this.showInput);
this._attachPoints.push("displayInput");
this.connect(this,"onChange",function(_17a){
var i=0,l=_17a.length,f,r=[];
while((f=_17a[i++])){
if(f&&f.name){
r.push(f.name);
}
}
this.displayInput.value=r.join(", ");
});
this.connect(this,"reset",function(){
this.displayInput.value="";
});
}
},startup:function(){
if(this._buildInitialized){
return;
}
this._buildInitialized=true;
this._getButtonStyle(this.domNode);
this._setButtonStyle();
this.inherited(arguments);
},onChange:function(_17b){
},onBegin:function(_17c){
},onProgress:function(_17d){
},onComplete:function(_17e){
this.reset();
},onCancel:function(){
},onAbort:function(){
},onError:function(_17f){
},upload:function(_180){
_180=_180||{};
_180.uploadType=this.uploadType;
this.inherited(arguments);
},submit:function(form){
form=!!form?form.tagName?form:this.getForm():this.getForm();
var data=_173.toObject(form);
data.uploadType=this.uploadType;
this.upload(data);
},reset:function(){
delete this._files;
this._disconnectButton();
_16c.forEach(this._inputs,_172.destroy,dojo);
this._inputs=[];
this._nameIndex=0;
this._createInput();
},getFileList:function(){
var _181=[];
if(this.supports("multiple")){
_16c.forEach(this._files,function(f,i){
_181.push({index:i,name:f.name,size:f.size,type:f.type});
},this);
}else{
_16c.forEach(this._inputs,function(n,i){
if(n.value){
_181.push({index:i,name:n.value.substring(n.value.lastIndexOf("\\")+1),size:0,type:n.value.substring(n.value.lastIndexOf(".")+1)});
}
},this);
}
return _181;
},_getValueAttr:function(){
return this.getFileList();
},_setValueAttr:function(_182){
console.error("Uploader value is read only");
},_setDisabledAttr:function(_183){
if(this.disabled==_183||!this.inputNode){
return;
}
this.inherited(arguments);
_16e.set(this.inputNode,"display",_183?"none":"");
},_getButtonStyle:function(node){
this.btnSize={w:_16e.get(node,"width"),h:_16e.get(node,"height")};
},_setButtonStyle:function(){
this.inputNodeFontSize=Math.max(2,Math.max(Math.ceil(this.btnSize.w/60),Math.ceil(this.btnSize.h/15)));
this._createInput();
},_getFileFieldName:function(){
var name;
if(this.supports("multiple")&&this.multiple){
name=this.name+"s[]";
}else{
name=this.name+(this.multiple?this._nameIndex:"");
}
return name;
},_createInput:function(){
if(this._inputs.length){
_16e.set(this.inputNode,{top:"500px"});
this._disconnectButton();
this._nameIndex++;
}
var name=this._getFileFieldName();
this.focusNode=this.inputNode=_172.create("input",{type:"file",name:name,"aria-labelledby":this.id+"_label"},this.domNode,"first");
if(this.supports("multiple")&&this.multiple){
_171.set(this.inputNode,"multiple",true);
}
this._inputs.push(this.inputNode);
_16e.set(this.inputNode,{position:"absolute",fontSize:this.inputNodeFontSize+"em",top:"-3px",right:"-3px",opacity:0});
this._connectButton();
},_connectButton:function(){
this._cons.push(_16d.connect(this.inputNode,"change",this,function(evt){
this._files=this.inputNode.files;
this.onChange(this.getFileList(evt));
if(!this.supports("multiple")&&this.multiple){
this._createInput();
}
}));
if(this.tabIndex>-1){
this.inputNode.tabIndex=this.tabIndex;
this._cons.push(_16d.connect(this.inputNode,"focus",this,function(){
_16f.add(this.domNode,this.focusedClass);
}));
this._cons.push(_16d.connect(this.inputNode,"blur",this,function(){
_16f.remove(this.domNode,this.focusedClass);
}));
}
},_disconnectButton:function(){
_16c.forEach(this._cons,_16d.disconnect);
this._cons.splice(0,this._cons.length);
}});
});
},"manager/ComboBox":function(){
define("manager/ComboBox",["dojo/_base/declare"],function(_184){
return _184("Manager.ComboBox",[],{constructor:function(name){
this.name=name;
},onTextChange:function(_185,_186,_187){
var tf=dijit.byId(_186);
var sl=dijit.byId(_187);
var text=tf.value;
sl.valueNode.value=text;
if(sl.textbox.value==""){
alert("!!! ATENO!!!\n\no existe uma opo correspondente ao valor '"+text+"'\ndo campo '"+_185+"'!");
tf.value="";
tf.focus();
}
},onSelectionChange:function(_188,_189,_18a){
var tf=dijit.byId(_18a);
var sl=dijit.byId(_189);
var _18b=sl.selectedIndex;
if(_18b!=-1){
tf.value=String(sl.options[_18b].value);
}
}});
});
},"dojox/html/metrics":function(){
define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/sniff","dojo/ready","dojo/_base/unload","dojo/_base/window","dojo/dom-geometry"],function(_18c,lang,has,_18d,_18e,_18f,_190){
var dhm=lang.getObject("dojox.html.metrics",true);
var _191=lang.getObject("dojox");
dhm.getFontMeasurements=function(){
var _192={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};
if(has("ie")){
_18f.doc.documentElement.style.fontSize="100%";
}
var div=_18f.doc.createElement("div");
var ds=div.style;
ds.position="absolute";
ds.left="-100px";
ds.top="0";
ds.width="30px";
ds.height="1000em";
ds.borderWidth="0";
ds.margin="0";
ds.padding="0";
ds.outline="0";
ds.lineHeight="1";
ds.overflow="hidden";
_18f.body().appendChild(div);
for(var p in _192){
ds.fontSize=p;
_192[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;
}
_18f.body().removeChild(div);
div=null;
return _192;
};
var _193=null;
dhm.getCachedFontMeasurements=function(_194){
if(_194||!_193){
_193=dhm.getFontMeasurements();
}
return _193;
};
var _195=null,_196={};
dhm.getTextBox=function(text,_197,_198){
var m,s;
if(!_195){
m=_195=_18f.doc.createElement("div");
var c=_18f.doc.createElement("div");
c.appendChild(m);
s=c.style;
s.overflow="scroll";
s.position="absolute";
s.left="0px";
s.top="-10000px";
s.width="1px";
s.height="1px";
s.visibility="hidden";
s.borderWidth="0";
s.margin="0";
s.padding="0";
s.outline="0";
_18f.body().appendChild(c);
}else{
m=_195;
}
m.className="";
s=m.style;
s.borderWidth="0";
s.margin="0";
s.padding="0";
s.outline="0";
if(arguments.length>1&&_197){
for(var i in _197){
if(i in _196){
continue;
}
s[i]=_197[i];
}
}
if(arguments.length>2&&_198){
m.className=_198;
}
m.innerHTML=text;
var box=_190.position(m);
box.w=m.parentNode.scrollWidth;
return box;
};
var _199={w:16,h:16};
dhm.getScrollbar=function(){
return {w:_199.w,h:_199.h};
};
dhm._fontResizeNode=null;
dhm.initOnFontResize=function(_19a){
var f=dhm._fontResizeNode=_18f.doc.createElement("iframe");
var fs=f.style;
fs.position="absolute";
fs.width="5em";
fs.height="10em";
fs.top="-10000px";
fs.display="none";
if(has("ie")){
f.onreadystatechange=function(){
if(f.contentWindow.document.readyState=="complete"){
f.onresize=f.contentWindow.parent[_191._scopeName].html.metrics._fontresize;
}
};
}else{
f.onload=function(){
f.contentWindow.onresize=f.contentWindow.parent[_191._scopeName].html.metrics._fontresize;
};
}
f.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}</script></head><body></body></html>'");
_18f.body().appendChild(f);
dhm.initOnFontResize=function(){
};
};
dhm.onFontResize=function(){
};
dhm._fontresize=function(){
dhm.onFontResize();
};
_18e.addOnUnload(function(){
var f=dhm._fontResizeNode;
if(f){
if(has("ie")&&f.onresize){
f.onresize=null;
}else{
if(f.contentWindow&&f.contentWindow.onresize){
f.contentWindow.onresize=null;
}
}
dhm._fontResizeNode=null;
}
});
_18d(function(){
try{
var n=_18f.doc.createElement("div");
n.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";
_18f.body().appendChild(n);
_199.w=n.offsetWidth-n.clientWidth;
_199.h=n.offsetHeight-n.clientHeight;
_18f.body().removeChild(n);
delete n;
}
catch(e){
}
if("fontSizeWatch" in _18c.config&&!!_18c.config.fontSizeWatch){
dhm.initOnFontResize();
}
});
return dhm;
});
},"dojo/date/locale":function(){
define(["../_base/lang","../_base/array","../date","../cldr/supplemental","../i18n","../regexp","../string","../i18n!../cldr/nls/gregorian","module"],function(lang,_19b,date,_19c,i18n,_19d,_19e,_19f,_1a0){
var _1a1={};
lang.setObject(_1a0.id.replace(/\//g,"."),_1a1);
function _1a2(_1a3,_1a4,_1a5,_1a6){
return _1a6.replace(/([a-z])\1*/ig,function(_1a7){
var s,pad,c=_1a7.charAt(0),l=_1a7.length,_1a8=["abbr","wide","narrow"];
switch(c){
case "G":
s=_1a4[(l<4)?"eraAbbr":"eraNames"][_1a3.getFullYear()<0?0:1];
break;
case "y":
s=_1a3.getFullYear();
switch(l){
case 1:
break;
case 2:
if(!_1a5.fullYear){
s=String(s);
s=s.substr(s.length-2);
break;
}
default:
pad=true;
}
break;
case "Q":
case "q":
s=Math.ceil((_1a3.getMonth()+1)/3);
pad=true;
break;
case "M":
case "L":
var m=_1a3.getMonth();
if(l<3){
s=m+1;
pad=true;
}else{
var _1a9=["months",c=="L"?"standAlone":"format",_1a8[l-3]].join("-");
s=_1a4[_1a9][m];
}
break;
case "w":
var _1aa=0;
s=_1a1._getWeekOfYear(_1a3,_1aa);
pad=true;
break;
case "d":
s=_1a3.getDate();
pad=true;
break;
case "D":
s=_1a1._getDayOfYear(_1a3);
pad=true;
break;
case "e":
case "c":
var d=_1a3.getDay();
if(l<2){
s=(d-_19c.getFirstDayOfWeek(_1a5.locale)+8)%7;
break;
}
case "E":
d=_1a3.getDay();
if(l<3){
s=d+1;
pad=true;
}else{
var _1ab=["days",c=="c"?"standAlone":"format",_1a8[l-3]].join("-");
s=_1a4[_1ab][d];
}
break;
case "a":
var _1ac=_1a3.getHours()<12?"am":"pm";
s=_1a5[_1ac]||_1a4["dayPeriods-format-wide-"+_1ac];
break;
case "h":
case "H":
case "K":
case "k":
var h=_1a3.getHours();
switch(c){
case "h":
s=(h%12)||12;
break;
case "H":
s=h;
break;
case "K":
s=(h%12);
break;
case "k":
s=h||24;
break;
}
pad=true;
break;
case "m":
s=_1a3.getMinutes();
pad=true;
break;
case "s":
s=_1a3.getSeconds();
pad=true;
break;
case "S":
s=Math.round(_1a3.getMilliseconds()*Math.pow(10,l-3));
pad=true;
break;
case "v":
case "z":
s=_1a1._getZone(_1a3,true,_1a5);
if(s){
break;
}
l=4;
case "Z":
var _1ad=_1a1._getZone(_1a3,false,_1a5);
var tz=[(_1ad<=0?"+":"-"),_19e.pad(Math.floor(Math.abs(_1ad)/60),2),_19e.pad(Math.abs(_1ad)%60,2)];
if(l==4){
tz.splice(0,0,"GMT");
tz.splice(3,0,":");
}
s=tz.join("");
break;
default:
throw new Error("dojo.date.locale.format: invalid pattern char: "+_1a6);
}
if(pad){
s=_19e.pad(s,l);
}
return s;
});
};
_1a1._getZone=function(_1ae,_1af,_1b0){
if(_1af){
return date.getTimezoneName(_1ae);
}else{
return _1ae.getTimezoneOffset();
}
};
_1a1.format=function(_1b1,_1b2){
_1b2=_1b2||{};
var _1b3=i18n.normalizeLocale(_1b2.locale),_1b4=_1b2.formatLength||"short",_1b5=_1a1._getGregorianBundle(_1b3),str=[],_1b6=lang.hitch(this,_1a2,_1b1,_1b5,_1b2);
if(_1b2.selector=="year"){
return _1b7(_1b5["dateFormatItem-yyyy"]||"yyyy",_1b6);
}
var _1b8;
if(_1b2.selector!="date"){
_1b8=_1b2.timePattern||_1b5["timeFormat-"+_1b4];
if(_1b8){
str.push(_1b7(_1b8,_1b6));
}
}
if(_1b2.selector!="time"){
_1b8=_1b2.datePattern||_1b5["dateFormat-"+_1b4];
if(_1b8){
str.push(_1b7(_1b8,_1b6));
}
}
return str.length==1?str[0]:_1b5["dateTimeFormat-"+_1b4].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(_1b9,key){
return str[key];
});
};
_1a1.regexp=function(_1ba){
return _1a1._parseInfo(_1ba).regexp;
};
_1a1._parseInfo=function(_1bb){
_1bb=_1bb||{};
var _1bc=i18n.normalizeLocale(_1bb.locale),_1bd=_1a1._getGregorianBundle(_1bc),_1be=_1bb.formatLength||"short",_1bf=_1bb.datePattern||_1bd["dateFormat-"+_1be],_1c0=_1bb.timePattern||_1bd["timeFormat-"+_1be],_1c1;
if(_1bb.selector=="date"){
_1c1=_1bf;
}else{
if(_1bb.selector=="time"){
_1c1=_1c0;
}else{
_1c1=_1bd["dateTimeFormat-"+_1be].replace(/\{(\d+)\}/g,function(_1c2,key){
return [_1c0,_1bf][key];
});
}
}
var _1c3=[],re=_1b7(_1c1,lang.hitch(this,_1c4,_1c3,_1bd,_1bb));
return {regexp:re,tokens:_1c3,bundle:_1bd};
};
_1a1.parse=function(_1c5,_1c6){
var _1c7=/[\u200E\u200F\u202A\u202E]/g,info=_1a1._parseInfo(_1c6),_1c8=info.tokens,_1c9=info.bundle,re=new RegExp("^"+info.regexp.replace(_1c7,"")+"$",info.strict?"":"i"),_1ca=re.exec(_1c5&&_1c5.replace(_1c7,""));
if(!_1ca){
return null;
}
var _1cb=["abbr","wide","narrow"],_1cc=[1970,0,1,0,0,0,0],amPm="",_1cd=_19b.every(_1ca,function(v,i){
if(!i){
return true;
}
var _1ce=_1c8[i-1],l=_1ce.length,c=_1ce.charAt(0);
switch(c){
case "y":
if(l!=2&&_1c6.strict){
_1cc[0]=v;
}else{
if(v<100){
v=Number(v);
var year=""+new Date().getFullYear(),_1cf=year.substring(0,2)*100,_1d0=Math.min(Number(year.substring(2,4))+20,99);
_1cc[0]=(v<_1d0)?_1cf+v:_1cf-100+v;
}else{
if(_1c6.strict){
return false;
}
_1cc[0]=v;
}
}
break;
case "M":
case "L":
if(l>2){
var _1d1=_1c9["months-"+(c=="L"?"standAlone":"format")+"-"+_1cb[l-3]].concat();
if(!_1c6.strict){
v=v.replace(".","").toLowerCase();
_1d1=_19b.map(_1d1,function(s){
return s.replace(".","").toLowerCase();
});
}
v=_19b.indexOf(_1d1,v);
if(v==-1){
return false;
}
}else{
v--;
}
_1cc[1]=v;
break;
case "E":
case "e":
case "c":
var days=_1c9["days-"+(c=="c"?"standAlone":"format")+"-"+_1cb[l-3]].concat();
if(!_1c6.strict){
v=v.toLowerCase();
days=_19b.map(days,function(d){
return d.toLowerCase();
});
}
v=_19b.indexOf(days,v);
if(v==-1){
return false;
}
break;
case "D":
_1cc[1]=0;
case "d":
_1cc[2]=v;
break;
case "a":
var am=_1c6.am||_1c9["dayPeriods-format-wide-am"],pm=_1c6.pm||_1c9["dayPeriods-format-wide-pm"];
if(!_1c6.strict){
var _1d2=/\./g;
v=v.replace(_1d2,"").toLowerCase();
am=am.replace(_1d2,"").toLowerCase();
pm=pm.replace(_1d2,"").toLowerCase();
}
if(_1c6.strict&&v!=am&&v!=pm){
return false;
}
amPm=(v==pm)?"p":(v==am)?"a":"";
break;
case "K":
if(v==24){
v=0;
}
case "h":
case "H":
case "k":
if(v>23){
return false;
}
_1cc[3]=v;
break;
case "m":
_1cc[4]=v;
break;
case "s":
_1cc[5]=v;
break;
case "S":
_1cc[6]=v;
}
return true;
});
var _1d3=+_1cc[3];
if(amPm==="p"&&_1d3<12){
_1cc[3]=_1d3+12;
}else{
if(amPm==="a"&&_1d3==12){
_1cc[3]=0;
}
}
var _1d4=new Date(_1cc[0],_1cc[1],_1cc[2],_1cc[3],_1cc[4],_1cc[5],_1cc[6]);
if(_1c6.strict){
_1d4.setFullYear(_1cc[0]);
}
var _1d5=_1c8.join(""),_1d6=_1d5.indexOf("d")!=-1,_1d7=_1d5.indexOf("M")!=-1;
if(!_1cd||(_1d7&&_1d4.getMonth()>_1cc[1])||(_1d6&&_1d4.getDate()>_1cc[2])){
return null;
}
if((_1d7&&_1d4.getMonth()<_1cc[1])||(_1d6&&_1d4.getDate()<_1cc[2])){
_1d4=date.add(_1d4,"hour",1);
}
return _1d4;
};
function _1b7(_1d8,_1d9,_1da,_1db){
var _1dc=function(x){
return x;
};
_1d9=_1d9||_1dc;
_1da=_1da||_1dc;
_1db=_1db||_1dc;
var _1dd=_1d8.match(/(''|[^'])+/g),_1de=_1d8.charAt(0)=="'";
_19b.forEach(_1dd,function(_1df,i){
if(!_1df){
_1dd[i]="";
}else{
_1dd[i]=(_1de?_1da:_1d9)(_1df.replace(/''/g,"'"));
_1de=!_1de;
}
});
return _1db(_1dd.join(""));
};
function _1c4(_1e0,_1e1,_1e2,_1e3){
_1e3=_19d.escapeString(_1e3);
if(!_1e2.strict){
_1e3=_1e3.replace(" a"," ?a");
}
return _1e3.replace(/([a-z])\1*/ig,function(_1e4){
var s,c=_1e4.charAt(0),l=_1e4.length,p2="",p3="";
if(_1e2.strict){
if(l>1){
p2="0"+"{"+(l-1)+"}";
}
if(l>2){
p3="0"+"{"+(l-2)+"}";
}
}else{
p2="0?";
p3="0{0,2}";
}
switch(c){
case "y":
s="\\d{2,4}";
break;
case "M":
case "L":
s=(l>2)?"\\S+?":"1[0-2]|"+p2+"[1-9]";
break;
case "D":
s="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+p2+"[1-9][0-9]|"+p3+"[1-9]";
break;
case "d":
s="3[01]|[12]\\d|"+p2+"[1-9]";
break;
case "w":
s="[1-4][0-9]|5[0-3]|"+p2+"[1-9]";
break;
case "E":
case "e":
case "c":
s=".+?";
break;
case "h":
s="1[0-2]|"+p2+"[1-9]";
break;
case "k":
s="1[01]|"+p2+"\\d";
break;
case "H":
s="1\\d|2[0-3]|"+p2+"\\d";
break;
case "K":
s="1\\d|2[0-4]|"+p2+"[1-9]";
break;
case "m":
case "s":
s="[0-5]\\d";
break;
case "S":
s="\\d{"+l+"}";
break;
case "a":
var am=_1e2.am||_1e1["dayPeriods-format-wide-am"],pm=_1e2.pm||_1e1["dayPeriods-format-wide-pm"];
s=am+"|"+pm;
if(!_1e2.strict){
if(am!=am.toLowerCase()){
s+="|"+am.toLowerCase();
}
if(pm!=pm.toLowerCase()){
s+="|"+pm.toLowerCase();
}
if(s.indexOf(".")!=-1){
s+="|"+s.replace(/\./g,"");
}
}
s=s.replace(/\./g,"\\.");
break;
default:
s=".*";
}
if(_1e0){
_1e0.push(_1e4);
}
return "("+s+")";
}).replace(/[\xa0 ]/g,"[\\s\\xa0]");
};
var _1e5=[];
_1a1.addCustomFormats=function(_1e6,_1e7){
_1e5.push({pkg:_1e6,name:_1e7});
};
_1a1._getGregorianBundle=function(_1e8){
var _1e9={};
_19b.forEach(_1e5,function(desc){
var _1ea=i18n.getLocalization(desc.pkg,desc.name,_1e8);
_1e9=lang.mixin(_1e9,_1ea);
},this);
return _1e9;
};
_1a1.addCustomFormats(_1a0.id.replace(/\/date\/locale$/,".cldr"),"gregorian");
_1a1.getNames=function(item,type,_1eb,_1ec){
var _1ed,_1ee=_1a1._getGregorianBundle(_1ec),_1ef=[item,_1eb,type];
if(_1eb=="standAlone"){
var key=_1ef.join("-");
_1ed=_1ee[key];
if(_1ed[0]==1){
_1ed=undefined;
}
}
_1ef[1]="format";
return (_1ed||_1ee[_1ef.join("-")]).concat();
};
_1a1.isWeekend=function(_1f0,_1f1){
var _1f2=_19c.getWeekend(_1f1),day=(_1f0||new Date()).getDay();
if(_1f2.end<_1f2.start){
_1f2.end+=7;
if(day<_1f2.start){
day+=7;
}
}
return day>=_1f2.start&&day<=_1f2.end;
};
_1a1._getDayOfYear=function(_1f3){
return date.difference(new Date(_1f3.getFullYear(),0,1,_1f3.getHours()),_1f3)+1;
};
_1a1._getWeekOfYear=function(_1f4,_1f5){
if(arguments.length==1){
_1f5=0;
}
var _1f6=new Date(_1f4.getFullYear(),0,1).getDay(),adj=(_1f6-_1f5+7)%7,week=Math.floor((_1a1._getDayOfYear(_1f4)+adj-1)/7);
if(_1f6==_1f5){
week++;
}
return week;
};
return _1a1;
});
},"dijit/_Templated":function(){
define(["./_WidgetBase","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel"],function(_1f7,_1f8,_1f9,_1fa,_1fb,lang,_1fc){
lang.extend(_1f7,{waiRole:"",waiState:""});
return _1fb("dijit._Templated",[_1f8,_1f9],{widgetsInTemplate:false,constructor:function(){
_1fc.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0");
},_processNode:function(_1fd,_1fe){
var ret=this.inherited(arguments);
var role=_1fe(_1fd,"waiRole");
if(role){
_1fd.setAttribute("role",role);
}
var _1ff=_1fe(_1fd,"waiState");
if(_1ff){
_1fa.forEach(_1ff.split(/\s*,\s*/),function(_200){
if(_200.indexOf("-")!=-1){
var pair=_200.split("-");
_1fd.setAttribute("aria-"+pair[0],pair[1]);
}
});
}
return ret;
}});
});
},"dgrid/extensions/nls/pagination":function(){
define({root:{status:"${start} - ${end} of ${total} results",gotoFirst:"Go to first page",gotoNext:"Go to next page",gotoPrev:"Go to previous page",gotoLast:"Go to last page",gotoPage:"Go to page",jumpPage:"Jump to page"},es:true,fr:true,pt:true,ja:true,sk:true});
},"dgrid/extensions/nls/pt/pagination":function(){
define({status:"${start} - ${end} de ${total} resultados",gotoFirst:"Primeira pgina",gotoNext:"Prxima pgina",gotoPrev:"Pgina anterior",gotoLast:"ltima pgina",gotoPage:"Ir para pgina",jumpPage:"Pular para pgina"});
},"dgrid/extensions/nls/pt/pagination":function(){
define({status:"${start} - ${end} de ${total} resultados",gotoFirst:"Primeira pgina",gotoNext:"Prxima pgina",gotoPrev:"Pgina anterior",gotoLast:"ltima pgina",gotoPage:"Ir para pgina",jumpPage:"Pular para pgina"});
},"dijit/_editor/RichText":function(){
define(["dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/query","dojo/domReady","dojo/sniff","dojo/topic","dojo/_base/unload","dojo/_base/url","dojo/window","../_Widget","../_CssStateMixin","../selection","./range","./html","../focus","../main"],function(_201,_202,_203,_204,dom,_205,_206,_207,_208,_209,_20a,keys,lang,on,_20b,_20c,has,_20d,_20e,_20f,_210,_211,_212,_213,_214,_215,_216,_217){
var _218=_203("dijit._editor.RichText",[_211,_212],{constructor:function(_219){
this.contentPreFilters=[];
this.contentPostFilters=[];
this.contentDomPreFilters=[];
this.contentDomPostFilters=[];
this.editingAreaStyleSheets=[];
this.events=[].concat(this.events);
this._keyHandlers={};
if(_219&&lang.isString(_219.value)){
this.value=_219.value;
}
this.onLoadDeferred=new _204();
},baseClass:"dijitEditor",inheritWidth:false,focusOnLoad:false,name:"",styleSheets:"",height:"300px",minHeight:"1em",isClosed:true,isLoaded:false,_SEPARATOR:"@@**%%__RICHTEXTBOUNDRY__%%**@@",_NAME_CONTENT_SEP:"@@**%%:%%**@@",onLoadDeferred:null,isTabIndent:false,disableSpellCheck:false,postCreate:function(){
if("textarea"===this.domNode.tagName.toLowerCase()){
console.warn("RichText should not be used with the TEXTAREA tag.  See dijit._editor.RichText docs.");
}
this.contentPreFilters=[lang.hitch(this,"_preFixUrlAttributes")].concat(this.contentPreFilters);
if(has("mozilla")){
this.contentPreFilters=[this._normalizeFontStyle].concat(this.contentPreFilters);
this.contentPostFilters=[this._removeMozBogus].concat(this.contentPostFilters);
}
if(has("webkit")){
this.contentPreFilters=[this._removeWebkitBogus].concat(this.contentPreFilters);
this.contentPostFilters=[this._removeWebkitBogus].concat(this.contentPostFilters);
}
if(has("ie")||has("trident")){
this.contentPostFilters=[this._normalizeFontStyle].concat(this.contentPostFilters);
this.contentDomPostFilters=[lang.hitch(this,"_stripBreakerNodes")].concat(this.contentDomPostFilters);
}
this.contentDomPostFilters=[lang.hitch(this,"_stripTrailingEmptyNodes")].concat(this.contentDomPostFilters);
this.inherited(arguments);
_20d.publish(_217._scopeName+"._editor.RichText::init",this);
},startup:function(){
this.inherited(arguments);
this.open();
this.setupDefaultShortcuts();
},setupDefaultShortcuts:function(){
var exec=lang.hitch(this,function(cmd,arg){
return function(){
return !this.execCommand(cmd,arg);
};
});
var _21a={b:exec("bold"),i:exec("italic"),u:exec("underline"),a:exec("selectall"),s:function(){
this.save(true);
},m:function(){
this.isTabIndent=!this.isTabIndent;
},"1":exec("formatblock","h1"),"2":exec("formatblock","h2"),"3":exec("formatblock","h3"),"4":exec("formatblock","h4"),"\\":exec("insertunorderedlist")};
if(!has("ie")){
_21a.Z=exec("redo");
}
var key;
for(key in _21a){
this.addKeyHandler(key,true,false,_21a[key]);
}
},events:["onKeyDown","onKeyUp"],captureEvents:[],_editorCommandsLocalized:false,_localizeEditorCommands:function(){
if(_218._editorCommandsLocalized){
this._local2NativeFormatNames=_218._local2NativeFormatNames;
this._native2LocalFormatNames=_218._native2LocalFormatNames;
return;
}
_218._editorCommandsLocalized=true;
_218._local2NativeFormatNames={};
_218._native2LocalFormatNames={};
this._local2NativeFormatNames=_218._local2NativeFormatNames;
this._native2LocalFormatNames=_218._native2LocalFormatNames;
var _21b=["div","p","pre","h1","h2","h3","h4","h5","h6","ol","ul","address"];
var _21c="",_21d,i=0;
while((_21d=_21b[i++])){
if(_21d.charAt(1)!=="l"){
_21c+="<"+_21d+"><span>content</span></"+_21d+"><br/>";
}else{
_21c+="<"+_21d+"><li>content</li></"+_21d+"><br/>";
}
}
var _21e={position:"absolute",top:"0px",zIndex:10,opacity:0.01};
var div=_207.create("div",{style:_21e,innerHTML:_21c});
this.ownerDocumentBody.appendChild(div);
var _21f=lang.hitch(this,function(){
var node=div.firstChild;
while(node){
try{
this.selection.selectElement(node.firstChild);
var _220=node.tagName.toLowerCase();
this._local2NativeFormatNames[_220]=document.queryCommandValue("formatblock");
this._native2LocalFormatNames[this._local2NativeFormatNames[_220]]=_220;
node=node.nextSibling.nextSibling;
}
catch(e){
}
}
_207.destroy(div);
});
this.defer(_21f);
},open:function(_221){
if(!this.onLoadDeferred||this.onLoadDeferred.fired>=0){
this.onLoadDeferred=new _204();
}
if(!this.isClosed){
this.close();
}
_20d.publish(_217._scopeName+"._editor.RichText::open",this);
if(arguments.length===1&&_221.nodeName){
this.domNode=_221;
}
var dn=this.domNode;
var html;
if(lang.isString(this.value)){
html=this.value;
delete this.value;
dn.innerHTML="";
}else{
if(dn.nodeName&&dn.nodeName.toLowerCase()=="textarea"){
var ta=(this.textarea=dn);
this.name=ta.name;
html=ta.value;
dn=this.domNode=this.ownerDocument.createElement("div");
dn.setAttribute("widgetId",this.id);
ta.removeAttribute("widgetId");
dn.cssText=ta.cssText;
dn.className+=" "+ta.className;
_207.place(dn,ta,"before");
var _222=lang.hitch(this,function(){
_209.set(ta,{display:"block",position:"absolute",top:"-1000px"});
if(has("ie")){
var s=ta.style;
this.__overflow=s.overflow;
s.overflow="hidden";
}
});
if(has("ie")){
this.defer(_222,10);
}else{
_222();
}
if(ta.form){
var _223=ta.value;
this.reset=function(){
var _224=this.getValue();
if(_224!==_223){
this.replaceValue(_223);
}
};
on(ta.form,"submit",lang.hitch(this,function(){
_205.set(ta,"disabled",this.disabled);
ta.value=this.getValue();
}));
}
}else{
html=_215.getChildrenHtml(dn);
dn.innerHTML="";
}
}
this.value=html;
if(dn.nodeName&&dn.nodeName==="LI"){
dn.innerHTML=" <br>";
}
this.header=dn.ownerDocument.createElement("div");
dn.appendChild(this.header);
this.editingArea=dn.ownerDocument.createElement("div");
dn.appendChild(this.editingArea);
this.footer=dn.ownerDocument.createElement("div");
dn.appendChild(this.footer);
if(!this.name){
this.name=this.id+"_AUTOGEN";
}
if(this.name!==""&&(!_202["useXDomain"]||_202["allowXdRichTextSave"])){
var _225=dom.byId(_217._scopeName+"._editor.RichText.value");
if(_225&&_225.value!==""){
var _226=_225.value.split(this._SEPARATOR),i=0,dat;
while((dat=_226[i++])){
var data=dat.split(this._NAME_CONTENT_SEP);
if(data[0]===this.name){
html=data[1];
_226=_226.splice(i,1);
_225.value=_226.join(this._SEPARATOR);
break;
}
}
}
if(!_218._globalSaveHandler){
_218._globalSaveHandler={};
_20e.addOnUnload(function(){
var id;
for(id in _218._globalSaveHandler){
var f=_218._globalSaveHandler[id];
if(lang.isFunction(f)){
f();
}
}
});
}
_218._globalSaveHandler[this.id]=lang.hitch(this,"_saveContent");
}
this.isClosed=false;
var ifr=(this.editorObject=this.iframe=this.ownerDocument.createElement("iframe"));
ifr.id=this.id+"_iframe";
ifr.style.border="none";
ifr.style.width="100%";
if(this._layoutMode){
ifr.style.height="100%";
}else{
if(has("ie")>=7){
if(this.height){
ifr.style.height=this.height;
}
if(this.minHeight){
ifr.style.minHeight=this.minHeight;
}
}else{
ifr.style.height=this.height?this.height:this.minHeight;
}
}
ifr.frameBorder=0;
ifr._loadFunc=lang.hitch(this,function(w){
this.window=w;
this.document=w.document;
this.selection=new _213.SelectionManager(w);
if(has("ie")){
this._localizeEditorCommands();
}
this.onLoad(html);
});
var src=this._getIframeDocTxt().replace(/\\/g,"\\\\").replace(/'/g,"\\'"),s;
if(has("ie")<11){
s="javascript:document.open();try{parent.window;}catch(e){document.domain=\""+document.domain+"\";}"+"document.write('"+src+"');document.close()";
}else{
s="javascript: '"+src+"'";
}
if(has("ie")==9){
this.editingArea.appendChild(ifr);
ifr.src=s;
}else{
ifr.setAttribute("src",s);
this.editingArea.appendChild(ifr);
}
if(dn.nodeName==="LI"){
dn.lastChild.style.marginTop="-1.2em";
}
_206.add(this.domNode,this.baseClass);
},_local2NativeFormatNames:{},_native2LocalFormatNames:{},_getIframeDocTxt:function(){
var _227=_209.getComputedStyle(this.domNode);
var html="<div id='dijitEditorBody'></div>";
var font=[_227.fontWeight,_227.fontSize,_227.fontFamily].join(" ");
var _228=_227.lineHeight;
if(_228.indexOf("px")>=0){
_228=parseFloat(_228)/parseFloat(_227.fontSize);
}else{
if(_228.indexOf("em")>=0){
_228=parseFloat(_228);
}else{
_228="normal";
}
}
var _229="";
var self=this;
this.style.replace(/(^|;)\s*(line-|font-?)[^;]+/ig,function(_22a){
_22a=_22a.replace(/^;/ig,"")+";";
var s=_22a.split(":")[0];
if(s){
s=lang.trim(s);
s=s.toLowerCase();
var i;
var sC="";
for(i=0;i<s.length;i++){
var c=s.charAt(i);
switch(c){
case "-":
i++;
c=s.charAt(i).toUpperCase();
default:
sC+=c;
}
}
_209.set(self.domNode,sC,"");
}
_229+=_22a+";";
});
var _22b=_20b("label[for=\""+this.id+"\"]");
var _22c="";
if(_22b.length){
_22c=_22b[0].innerHTML;
}else{
if(this["aria-label"]){
_22c=this["aria-label"];
}else{
if(this["aria-labelledby"]){
_22c=dom.byId(this["aria-labelledby"]).innerHTML;
}
}
}
this.iframe.setAttribute("title",_22c);
return ["<!DOCTYPE html>",this.isLeftToRight()?"<html lang='"+this.lang+"'>\n<head>\n":"<html dir='rtl' lang='"+this.lang+"'>\n<head>\n",_22c?"<title>"+_22c+"</title>":"","<meta http-equiv='Content-Type' content='text/html'>\n","<style>\n","\tbody,html {\n","\t\tbackground:transparent;\n","\t\tpadding: 1px 0 0 0;\n","\t\tmargin: -1px 0 0 0;\n","\t}\n","\tbody,html,#dijitEditorBody { outline: none; }","html { height: 100%; width: 100%; overflow: hidden; }\n",this.height?"\tbody,#dijitEditorBody { height: 100%; width: 100%; overflow: auto; }\n":"\tbody,#dijitEditorBody { min-height: "+this.minHeight+"; width: 100%; overflow-x: auto; overflow-y: hidden; }\n","\tbody{\n","\t\ttop:0px;\n","\t\tleft:0px;\n","\t\tright:0px;\n","\t\tfont:",font,";\n",((this.height||has("opera"))?"":"\t\tposition: fixed;\n"),"\t\tline-height:",_228,";\n","\t}\n","\tp{ margin: 1em 0; }\n","\tli > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; }\n",(!has("ie")?"\tli{ min-height:1.2em; }\n":""),"</style>\n",this._applyEditingAreaStyleSheets(),"\n","</head>\n<body role='main' ","onload='frameElement && frameElement._loadFunc(window,document)' ","style='"+_229+"'>",html,"</body>\n</html>"].join("");
},_applyEditingAreaStyleSheets:function(){
var _22d=[];
if(this.styleSheets){
_22d=this.styleSheets.split(";");
this.styleSheets="";
}
_22d=_22d.concat(this.editingAreaStyleSheets);
this.editingAreaStyleSheets=[];
var text="",i=0,url,_22e=_210.get(this.ownerDocument);
while((url=_22d[i++])){
var _22f=(new _20f(_22e.location,url)).toString();
this.editingAreaStyleSheets.push(_22f);
text+="<link rel=\"stylesheet\" type=\"text/css\" href=\""+_22f+"\"/>";
}
return text;
},addStyleSheet:function(uri){
var url=uri.toString(),_230=_210.get(this.ownerDocument);
if(url.charAt(0)==="."||(url.charAt(0)!=="/"&&!uri.host)){
url=(new _20f(_230.location,url)).toString();
}
if(_201.indexOf(this.editingAreaStyleSheets,url)>-1){
return;
}
this.editingAreaStyleSheets.push(url);
this.onLoadDeferred.then(lang.hitch(this,function(){
if(this.document.createStyleSheet){
this.document.createStyleSheet(url);
}else{
var head=this.document.getElementsByTagName("head")[0];
var _231=this.document.createElement("link");
_231.rel="stylesheet";
_231.type="text/css";
_231.href=url;
head.appendChild(_231);
}
}));
},removeStyleSheet:function(uri){
var url=uri.toString(),_232=_210.get(this.ownerDocument);
if(url.charAt(0)==="."||(url.charAt(0)!=="/"&&!uri.host)){
url=(new _20f(_232.location,url)).toString();
}
var _233=_201.indexOf(this.editingAreaStyleSheets,url);
if(_233===-1){
return;
}
delete this.editingAreaStyleSheets[_233];
_20b("link[href=\""+url+"\"]",this.window.document).orphan();
},disabled:false,_mozSettingProps:{"styleWithCSS":false},_setDisabledAttr:function(_234){
_234=!!_234;
this._set("disabled",_234);
if(!this.isLoaded){
return;
}
var _235=has("ie")&&(this.isLoaded||!this.focusOnLoad);
if(_235){
this.editNode.unselectable="on";
}
this.editNode.contentEditable=!_234;
this.editNode.tabIndex=_234?"-1":this.tabIndex;
if(_235){
this.defer(function(){
if(this.editNode){
this.editNode.unselectable="off";
}
});
}
if(has("mozilla")&&!_234&&this._mozSettingProps){
var ps=this._mozSettingProps;
var n;
for(n in ps){
if(ps.hasOwnProperty(n)){
try{
this.document.execCommand(n,false,ps[n]);
}
catch(e2){
}
}
}
}
this._disabledOK=true;
},onLoad:function(html){
if(!this.window.__registeredWindow){
this.window.__registeredWindow=true;
this._iframeRegHandle=_216.registerIframe(this.iframe);
}
this.editNode=this.document.body.firstChild;
var _236=this;
this.beforeIframeNode=_207.place("<div tabIndex=-1></div>",this.iframe,"before");
this.afterIframeNode=_207.place("<div tabIndex=-1></div>",this.iframe,"after");
this.iframe.onfocus=this.document.onfocus=function(){
_236.editNode.focus();
};
this.focusNode=this.editNode;
var _237=this.events.concat(this.captureEvents);
var ap=this.iframe?this.document:this.editNode;
this.own(_201.map(_237,function(item){
var type=item.toLowerCase().replace(/^on/,"");
on(ap,type,lang.hitch(this,item));
},this));
this.own(on(ap,"mouseup",lang.hitch(this,"onClick")));
if(has("ie")){
this.own(on(this.document,"mousedown",lang.hitch(this,"_onIEMouseDown")));
this.editNode.style.zoom=1;
}else{
this.own(on(this.document,"mousedown",lang.hitch(this,function(){
delete this._cursorToStart;
})));
}
if(has("webkit")){
this._webkitListener=this.own(on(this.document,"mouseup",lang.hitch(this,"onDisplayChanged")))[0];
this.own(on(this.document,"mousedown",lang.hitch(this,function(e){
var t=e.target;
if(t&&(t===this.document.body||t===this.document)){
this.defer("placeCursorAtEnd");
}
})));
}
if(has("ie")){
try{
this.document.execCommand("RespectVisibilityInDesign",true,null);
}
catch(e){
}
}
this.isLoaded=true;
this.set("disabled",this.disabled);
var _238=lang.hitch(this,function(){
this.setValue(html);
if(this.onLoadDeferred){
this.onLoadDeferred.resolve(true);
}
this.onDisplayChanged();
if(this.focusOnLoad){
_20c(lang.hitch(this,"defer","focus",this.updateInterval));
}
this.value=this.getValue(true);
});
if(this.setValueDeferred){
this.setValueDeferred.then(_238);
}else{
_238();
}
},onKeyDown:function(e){
if(e.keyCode===keys.TAB&&this.isTabIndent){
e.stopPropagation();
e.preventDefault();
if(this.queryCommandEnabled((e.shiftKey?"outdent":"indent"))){
this.execCommand((e.shiftKey?"outdent":"indent"));
}
}
if(e.keyCode==keys.TAB&&!this.isTabIndent){
if(e.shiftKey&&!e.ctrlKey&&!e.altKey){
this.beforeIframeNode.focus();
}else{
if(!e.shiftKey&&!e.ctrlKey&&!e.altKey){
this.afterIframeNode.focus();
}
}
}
if(has("ie")<9&&e.keyCode===keys.BACKSPACE&&this.document.selection.type==="Control"){
e.stopPropagation();
e.preventDefault();
this.execCommand("delete");
}
if(has("ff")){
if(e.keyCode===keys.PAGE_UP||e.keyCode===keys.PAGE_DOWN){
if(this.editNode.clientHeight>=this.editNode.scrollHeight){
e.preventDefault();
}
}
}
var _239=this._keyHandlers[e.keyCode],args=arguments;
if(_239&&!e.altKey){
_201.some(_239,function(h){
if(!(h.shift^e.shiftKey)&&!(h.ctrl^(e.ctrlKey||e.metaKey))){
if(!h.handler.apply(this,args)){
e.preventDefault();
}
return true;
}
},this);
}
this.defer("onKeyPressed",1);
return true;
},onKeyUp:function(){
},setDisabled:function(_23a){
_20a.deprecated("dijit.Editor::setDisabled is deprecated","use dijit.Editor::attr(\"disabled\",boolean) instead",2);
this.set("disabled",_23a);
},_setValueAttr:function(_23b){
this.setValue(_23b);
},_setDisableSpellCheckAttr:function(_23c){
if(this.document){
_205.set(this.document.body,"spellcheck",!_23c);
}else{
this.onLoadDeferred.then(lang.hitch(this,function(){
_205.set(this.document.body,"spellcheck",!_23c);
}));
}
this._set("disableSpellCheck",_23c);
},addKeyHandler:function(key,ctrl,_23d,_23e){
if(typeof key=="string"){
key=key.toUpperCase().charCodeAt(0);
}
if(!lang.isArray(this._keyHandlers[key])){
this._keyHandlers[key]=[];
}
this._keyHandlers[key].push({shift:_23d||false,ctrl:ctrl||false,handler:_23e});
},onKeyPressed:function(){
this.onDisplayChanged();
},onClick:function(e){
this.onDisplayChanged(e);
},_onIEMouseDown:function(){
if(!this.focused&&!this.disabled){
this.focus();
}
},_onBlur:function(e){
if(has("ie")>=9){
this.defer(function(){
if(!_216.curNode){
this.ownerDocumentBody.focus();
}
});
}
this.inherited(arguments);
var _23f=this.getValue(true);
if(_23f!==this.value){
this.onChange(_23f);
}
this._set("value",_23f);
},_onFocus:function(e){
if(!this.disabled){
if(!this._disabledOK){
this.set("disabled",false);
}
this.inherited(arguments);
}
},blur:function(){
if(!has("ie")&&this.window.document.documentElement&&this.window.document.documentElement.focus){
this.window.document.documentElement.focus();
}else{
if(this.ownerDocumentBody.focus){
this.ownerDocumentBody.focus();
}
}
},focus:function(){
if(!this.isLoaded){
this.focusOnLoad=true;
return;
}
if(this._cursorToStart){
delete this._cursorToStart;
if(this.editNode.childNodes){
this.placeCursorAtStart();
return;
}
}
if(has("ie")<9){
this.iframe.fireEvent("onfocus",document.createEventObject());
}else{
this.editNode.focus();
}
},updateInterval:200,_updateTimer:null,onDisplayChanged:function(){
if(this._updateTimer){
this._updateTimer.remove();
}
this._updateTimer=this.defer("onNormalizedDisplayChanged",this.updateInterval);
},onNormalizedDisplayChanged:function(){
delete this._updateTimer;
},onChange:function(){
},_normalizeCommand:function(cmd,_240){
var _241=cmd.toLowerCase();
if(_241==="formatblock"){
if(has("safari")&&_240===undefined){
_241="heading";
}
}else{
if(_241==="hilitecolor"&&!has("mozilla")){
_241="backcolor";
}
}
return _241;
},_qcaCache:{},queryCommandAvailable:function(_242){
var ca=this._qcaCache[_242];
if(ca!==undefined){
return ca;
}
return (this._qcaCache[_242]=this._queryCommandAvailable(_242));
},_queryCommandAvailable:function(_243){
var ie=1;
var _244=1<<1;
var _245=1<<2;
var _246=1<<3;
function _247(_248){
return {ie:Boolean(_248&ie),mozilla:Boolean(_248&_244),webkit:Boolean(_248&_245),opera:Boolean(_248&_246)};
};
var _249=null;
switch(_243.toLowerCase()){
case "bold":
case "italic":
case "underline":
case "subscript":
case "superscript":
case "fontname":
case "fontsize":
case "forecolor":
case "hilitecolor":
case "justifycenter":
case "justifyfull":
case "justifyleft":
case "justifyright":
case "delete":
case "selectall":
case "toggledir":
_249=_247(_244|ie|_245|_246);
break;
case "createlink":
case "unlink":
case "removeformat":
case "inserthorizontalrule":
case "insertimage":
case "insertorderedlist":
case "insertunorderedlist":
case "indent":
case "outdent":
case "formatblock":
case "inserthtml":
case "undo":
case "redo":
case "strikethrough":
case "tabindent":
_249=_247(_244|ie|_246|_245);
break;
case "blockdirltr":
case "blockdirrtl":
case "dirltr":
case "dirrtl":
case "inlinedirltr":
case "inlinedirrtl":
_249=_247(ie);
break;
case "cut":
case "copy":
case "paste":
_249=_247(ie|_244|_245|_246);
break;
case "inserttable":
_249=_247(_244|ie);
break;
case "insertcell":
case "insertcol":
case "insertrow":
case "deletecells":
case "deletecols":
case "deleterows":
case "mergecells":
case "splitcell":
_249=_247(ie|_244);
break;
default:
return false;
}
return ((has("ie")||has("trident"))&&_249.ie)||(has("mozilla")&&_249.mozilla)||(has("webkit")&&_249.webkit)||(has("opera")&&_249.opera);
},execCommand:function(_24a,_24b){
var _24c;
if(this.focused){
this.focus();
}
_24a=this._normalizeCommand(_24a,_24b);
if(_24b!==undefined){
if(_24a==="heading"){
throw new Error("unimplemented");
}else{
if(_24a==="formatblock"&&(has("ie")||has("trident"))){
_24b="<"+_24b+">";
}
}
}
var _24d="_"+_24a+"Impl";
if(this[_24d]){
_24c=this[_24d](_24b);
}else{
_24b=arguments.length>1?_24b:null;
if(_24b||_24a!=="createlink"){
_24c=this.document.execCommand(_24a,false,_24b);
}
}
this.onDisplayChanged();
return _24c;
},queryCommandEnabled:function(_24e){
if(this.disabled||!this._disabledOK){
return false;
}
_24e=this._normalizeCommand(_24e);
var _24f="_"+_24e+"EnabledImpl";
if(this[_24f]){
return this[_24f](_24e);
}else{
return this._browserQueryCommandEnabled(_24e);
}
},queryCommandState:function(_250){
if(this.disabled||!this._disabledOK){
return false;
}
_250=this._normalizeCommand(_250);
try{
return this.document.queryCommandState(_250);
}
catch(e){
return false;
}
},queryCommandValue:function(_251){
if(this.disabled||!this._disabledOK){
return false;
}
var r;
_251=this._normalizeCommand(_251);
if((has("ie")||has("trident"))&&_251==="formatblock"){
r=this._native2LocalFormatNames[this.document.queryCommandValue(_251)];
}else{
if(has("mozilla")&&_251==="hilitecolor"){
var _252;
try{
_252=this.document.queryCommandValue("styleWithCSS");
}
catch(e){
_252=false;
}
this.document.execCommand("styleWithCSS",false,true);
r=this.document.queryCommandValue(_251);
this.document.execCommand("styleWithCSS",false,_252);
}else{
r=this.document.queryCommandValue(_251);
}
}
return r;
},_sCall:function(name,args){
return this.selection[name].apply(this.selection,args);
},placeCursorAtStart:function(){
this.focus();
var _253=false;
if(has("mozilla")){
var _254=this.editNode.firstChild;
while(_254){
if(_254.nodeType===3){
if(_254.nodeValue.replace(/^\s+|\s+$/g,"").length>0){
_253=true;
this.selection.selectElement(_254);
break;
}
}else{
if(_254.nodeType===1){
_253=true;
var tg=_254.tagName?_254.tagName.toLowerCase():"";
if(/br|input|img|base|meta|area|basefont|hr|link/.test(tg)){
this.selection.selectElement(_254);
}else{
this.selection.selectElementChildren(_254);
}
break;
}
}
_254=_254.nextSibling;
}
}else{
_253=true;
this.selection.selectElementChildren(this.editNode);
}
if(_253){
this.selection.collapse(true);
}
},placeCursorAtEnd:function(){
this.focus();
var _255=false;
if(has("mozilla")){
var last=this.editNode.lastChild;
while(last){
if(last.nodeType===3){
if(last.nodeValue.replace(/^\s+|\s+$/g,"").length>0){
_255=true;
this.selection.selectElement(last);
break;
}
}else{
if(last.nodeType===1){
_255=true;
this.selection.selectElement(last.lastChild||last);
break;
}
}
last=last.previousSibling;
}
}else{
_255=true;
this.selection.selectElementChildren(this.editNode);
}
if(_255){
this.selection.collapse(false);
}
},getValue:function(_256){
if(this.textarea){
if(this.isClosed||!this.isLoaded){
return this.textarea.value;
}
}
return this._postFilterContent(null,_256);
},_getValueAttr:function(){
return this.getValue(true);
},setValue:function(html){
if(!this.isLoaded){
this.onLoadDeferred.then(lang.hitch(this,function(){
this.setValue(html);
}));
return;
}
this._cursorToStart=true;
if(this.textarea&&(this.isClosed||!this.isLoaded)){
this.textarea.value=html;
}else{
html=this._preFilterContent(html);
var node=this.isClosed?this.domNode:this.editNode;
if(!html&&has("webkit")){
html="&#160;";
}
node.innerHTML=html;
this._preDomFilterContent(node);
}
this.onDisplayChanged();
this._set("value",this.getValue(true));
},replaceValue:function(html){
if(this.isClosed){
this.setValue(html);
}else{
if(this.window&&this.window.getSelection&&!has("mozilla")){
this.setValue(html);
}else{
if(this.window&&this.window.getSelection){
html=this._preFilterContent(html);
this.execCommand("selectall");
this.execCommand("inserthtml",html);
this._preDomFilterContent(this.editNode);
}else{
if(this.document&&this.document.selection){
this.setValue(html);
}
}
}
}
this._set("value",this.getValue(true));
},_preFilterContent:function(html){
var ec=html;
_201.forEach(this.contentPreFilters,function(ef){
if(ef){
ec=ef(ec);
}
});
return ec;
},_preDomFilterContent:function(dom){
dom=dom||this.editNode;
_201.forEach(this.contentDomPreFilters,function(ef){
if(ef&&lang.isFunction(ef)){
ef(dom);
}
},this);
},_postFilterContent:function(dom,_257){
var ec;
if(!lang.isString(dom)){
dom=dom||this.editNode;
if(this.contentDomPostFilters.length){
if(_257){
dom=lang.clone(dom);
}
_201.forEach(this.contentDomPostFilters,function(ef){
dom=ef(dom);
});
}
ec=_215.getChildrenHtml(dom);
}else{
ec=dom;
}
if(!lang.trim(ec.replace(/^\xA0\xA0*/,"").replace(/\xA0\xA0*$/,"")).length){
ec="";
}
_201.forEach(this.contentPostFilters,function(ef){
ec=ef(ec);
});
return ec;
},_saveContent:function(){
var _258=dom.byId(_217._scopeName+"._editor.RichText.value");
if(_258){
if(_258.value){
_258.value+=this._SEPARATOR;
}
_258.value+=this.name+this._NAME_CONTENT_SEP+this.getValue(true);
}
},escapeXml:function(str,_259){
str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");
if(!_259){
str=str.replace(/'/gm,"&#39;");
}
return str;
},getNodeHtml:function(node){
_20a.deprecated("dijit.Editor::getNodeHtml is deprecated","use dijit/_editor/html::getNodeHtml instead",2);
return _215.getNodeHtml(node);
},getNodeChildrenHtml:function(dom){
_20a.deprecated("dijit.Editor::getNodeChildrenHtml is deprecated","use dijit/_editor/html::getChildrenHtml instead",2);
return _215.getChildrenHtml(dom);
},close:function(save){
if(this.isClosed){
return;
}
if(!arguments.length){
save=true;
}
if(save){
this._set("value",this.getValue(true));
}
if(this.interval){
clearInterval(this.interval);
}
if(this._webkitListener){
this._webkitListener.remove();
delete this._webkitListener;
}
if(has("ie")){
this.iframe.onfocus=null;
}
this.iframe._loadFunc=null;
if(this._iframeRegHandle){
this._iframeRegHandle.remove();
delete this._iframeRegHandle;
}
if(this.textarea){
var s=this.textarea.style;
s.position="";
s.left=s.top="";
if(has("ie")){
s.overflow=this.__overflow;
this.__overflow=null;
}
this.textarea.value=this.value;
_207.destroy(this.domNode);
this.domNode=this.textarea;
}else{
this.domNode.innerHTML=this.value;
}
delete this.iframe;
_206.remove(this.domNode,this.baseClass);
this.isClosed=true;
this.isLoaded=false;
delete this.editNode;
delete this.focusNode;
if(this.window&&this.window._frameElement){
this.window._frameElement=null;
}
this.window=null;
this.document=null;
this.editingArea=null;
this.editorObject=null;
},destroy:function(){
if(!this.isClosed){
this.close(false);
}
if(this._updateTimer){
this._updateTimer.remove();
}
this.inherited(arguments);
if(_218._globalSaveHandler){
delete _218._globalSaveHandler[this.id];
}
},_removeMozBogus:function(html){
return html.replace(/\stype="_moz"/gi,"").replace(/\s_moz_dirty=""/gi,"").replace(/_moz_resizing="(true|false)"/gi,"");
},_removeWebkitBogus:function(html){
html=html.replace(/\sclass="webkit-block-placeholder"/gi,"");
html=html.replace(/\sclass="apple-style-span"/gi,"");
html=html.replace(/<meta charset=\"utf-8\" \/>/gi,"");
return html;
},_normalizeFontStyle:function(html){
return html.replace(/<(\/)?strong([ \>])/gi,"<$1b$2").replace(/<(\/)?em([ \>])/gi,"<$1i$2");
},_preFixUrlAttributes:function(html){
return html.replace(/(?:(<a(?=\s).*?\shref=)("|')(.*?)\2)|(?:(<a\s.*?href=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2").replace(/(?:(<img(?=\s).*?\ssrc=)("|')(.*?)\2)|(?:(<img\s.*?src=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2");
},_browserQueryCommandEnabled:function(_25a){
if(!_25a){
return false;
}
var elem=has("ie")<9?this.document.selection.createRange():this.document;
try{
return elem.queryCommandEnabled(_25a);
}
catch(e){
return false;
}
},_createlinkEnabledImpl:function(){
var _25b=true;
if(has("opera")){
var sel=this.window.getSelection();
if(sel.isCollapsed){
_25b=true;
}else{
_25b=this.document.queryCommandEnabled("createlink");
}
}else{
_25b=this._browserQueryCommandEnabled("createlink");
}
return _25b;
},_unlinkEnabledImpl:function(){
var _25c=true;
if(has("mozilla")||has("webkit")){
_25c=this.selection.hasAncestorElement("a");
}else{
_25c=this._browserQueryCommandEnabled("unlink");
}
return _25c;
},_inserttableEnabledImpl:function(){
var _25d=true;
if(has("mozilla")||has("webkit")){
_25d=true;
}else{
_25d=this._browserQueryCommandEnabled("inserttable");
}
return _25d;
},_cutEnabledImpl:function(){
var _25e=true;
if(has("webkit")){
var sel=this.window.getSelection();
if(sel){
sel=sel.toString();
}
_25e=!!sel;
}else{
_25e=this._browserQueryCommandEnabled("cut");
}
return _25e;
},_copyEnabledImpl:function(){
var _25f=true;
if(has("webkit")){
var sel=this.window.getSelection();
if(sel){
sel=sel.toString();
}
_25f=!!sel;
}else{
_25f=this._browserQueryCommandEnabled("copy");
}
return _25f;
},_pasteEnabledImpl:function(){
var _260=true;
if(has("webkit")){
return true;
}else{
_260=this._browserQueryCommandEnabled("paste");
}
return _260;
},_inserthorizontalruleImpl:function(_261){
if(has("ie")){
return this._inserthtmlImpl("<hr>");
}
return this.document.execCommand("inserthorizontalrule",false,_261);
},_unlinkImpl:function(_262){
if((this.queryCommandEnabled("unlink"))&&(has("mozilla")||has("webkit"))){
var a=this.selection.getAncestorElement("a");
this.selection.selectElement(a);
return this.document.execCommand("unlink",false,null);
}
return this.document.execCommand("unlink",false,_262);
},_hilitecolorImpl:function(_263){
var _264;
var _265=this._handleTextColorOrProperties("hilitecolor",_263);
if(!_265){
if(has("mozilla")){
this.document.execCommand("styleWithCSS",false,true);
_264=this.document.execCommand("hilitecolor",false,_263);
this.document.execCommand("styleWithCSS",false,false);
}else{
_264=this.document.execCommand("hilitecolor",false,_263);
}
}
return _264;
},_backcolorImpl:function(_266){
if(has("ie")){
_266=_266?_266:null;
}
var _267=this._handleTextColorOrProperties("backcolor",_266);
if(!_267){
_267=this.document.execCommand("backcolor",false,_266);
}
return _267;
},_forecolorImpl:function(_268){
if(has("ie")){
_268=_268?_268:null;
}
var _269=false;
_269=this._handleTextColorOrProperties("forecolor",_268);
if(!_269){
_269=this.document.execCommand("forecolor",false,_268);
}
return _269;
},_inserthtmlImpl:function(_26a){
_26a=this._preFilterContent(_26a);
var rv=true;
if(has("ie")<9){
var _26b=this.document.selection.createRange();
if(this.document.selection.type.toUpperCase()==="CONTROL"){
var n=_26b.item(0);
while(_26b.length){
_26b.remove(_26b.item(0));
}
n.outerHTML=_26a;
}else{
_26b.pasteHTML(_26a);
}
_26b.select();
}else{
if(has("trident")<8){
var _26b;
var _26c=_214.getSelection(this.window);
if(_26c&&_26c.rangeCount&&_26c.getRangeAt){
_26b=_26c.getRangeAt(0);
_26b.deleteContents();
var div=_207.create("div");
div.innerHTML=_26a;
var node,_26d;
var n=this.document.createDocumentFragment();
while((node=div.firstChild)){
_26d=n.appendChild(node);
}
_26b.insertNode(n);
if(_26d){
_26b=_26b.cloneRange();
_26b.setStartAfter(_26d);
_26b.collapse(false);
_26c.removeAllRanges();
_26c.addRange(_26b);
}
}
}else{
if(has("mozilla")&&!_26a.length){
this.selection.remove();
}else{
rv=this.document.execCommand("inserthtml",false,_26a);
}
}
}
return rv;
},_boldImpl:function(_26e){
var _26f=false;
if(has("ie")){
this._adaptIESelection();
_26f=this._adaptIEFormatAreaAndExec("bold");
}
if(!_26f){
_26f=this.document.execCommand("bold",false,_26e);
}
return _26f;
},_italicImpl:function(_270){
var _271=false;
if(has("ie")){
this._adaptIESelection();
_271=this._adaptIEFormatAreaAndExec("italic");
}
if(!_271){
_271=this.document.execCommand("italic",false,_270);
}
return _271;
},_underlineImpl:function(_272){
var _273=false;
if(has("ie")){
this._adaptIESelection();
_273=this._adaptIEFormatAreaAndExec("underline");
}
if(!_273){
_273=this.document.execCommand("underline",false,_272);
}
return _273;
},_strikethroughImpl:function(_274){
var _275=false;
if(has("ie")){
this._adaptIESelection();
_275=this._adaptIEFormatAreaAndExec("strikethrough");
}
if(!_275){
_275=this.document.execCommand("strikethrough",false,_274);
}
return _275;
},_superscriptImpl:function(_276){
var _277=false;
if(has("ie")){
this._adaptIESelection();
_277=this._adaptIEFormatAreaAndExec("superscript");
}
if(!_277){
_277=this.document.execCommand("superscript",false,_276);
}
return _277;
},_subscriptImpl:function(_278){
var _279=false;
if(has("ie")){
this._adaptIESelection();
_279=this._adaptIEFormatAreaAndExec("subscript");
}
if(!_279){
_279=this.document.execCommand("subscript",false,_278);
}
return _279;
},_fontnameImpl:function(_27a){
var _27b;
if(has("ie")){
_27b=this._handleTextColorOrProperties("fontname",_27a);
}
if(!_27b){
_27b=this.document.execCommand("fontname",false,_27a);
}
return _27b;
},_fontsizeImpl:function(_27c){
var _27d;
if(has("ie")){
_27d=this._handleTextColorOrProperties("fontsize",_27c);
}
if(!_27d){
_27d=this.document.execCommand("fontsize",false,_27c);
}
return _27d;
},_insertorderedlistImpl:function(_27e){
var _27f=false;
if(has("ie")){
_27f=this._adaptIEList("insertorderedlist",_27e);
}
if(!_27f){
_27f=this.document.execCommand("insertorderedlist",false,_27e);
}
return _27f;
},_insertunorderedlistImpl:function(_280){
var _281=false;
if(has("ie")){
_281=this._adaptIEList("insertunorderedlist",_280);
}
if(!_281){
_281=this.document.execCommand("insertunorderedlist",false,_280);
}
return _281;
},getHeaderHeight:function(){
return this._getNodeChildrenHeight(this.header);
},getFooterHeight:function(){
return this._getNodeChildrenHeight(this.footer);
},_getNodeChildrenHeight:function(node){
var h=0;
if(node&&node.childNodes){
var i;
for(i=0;i<node.childNodes.length;i++){
var size=_208.position(node.childNodes[i]);
h+=size.h;
}
}
return h;
},_isNodeEmpty:function(node,_282){
if(node.nodeType===1){
if(node.childNodes.length>0){
return this._isNodeEmpty(node.childNodes[0],_282);
}
return true;
}else{
if(node.nodeType===3){
return (node.nodeValue.substring(_282)==="");
}
}
return false;
},_removeStartingRangeFromRange:function(node,_283){
if(node.nextSibling){
_283.setStart(node.nextSibling,0);
}else{
var _284=node.parentNode;
while(_284&&_284.nextSibling==null){
_284=_284.parentNode;
}
if(_284){
_283.setStart(_284.nextSibling,0);
}
}
return _283;
},_adaptIESelection:function(){
var _285=_214.getSelection(this.window);
if(_285&&_285.rangeCount&&!_285.isCollapsed){
var _286=_285.getRangeAt(0);
var _287=_286.startContainer;
var _288=_286.startOffset;
while(_287.nodeType===3&&_288>=_287.length&&_287.nextSibling){
_288=_288-_287.length;
_287=_287.nextSibling;
}
var _289=null;
while(this._isNodeEmpty(_287,_288)&&_287!==_289){
_289=_287;
_286=this._removeStartingRangeFromRange(_287,_286);
_287=_286.startContainer;
_288=0;
}
_285.removeAllRanges();
_285.addRange(_286);
}
},_adaptIEFormatAreaAndExec:function(_28a){
var _28b=_214.getSelection(this.window);
var doc=this.document;
var rs,ret,_28c,txt,_28d,_28e,_28f,_290;
if(_28a&&_28b&&_28b.isCollapsed){
var _291=this.queryCommandValue(_28a);
if(_291){
var _292=this._tagNamesForCommand(_28a);
_28c=_28b.getRangeAt(0);
var fs=_28c.startContainer;
if(fs.nodeType===3){
var _293=_28c.endOffset;
if(fs.length<_293){
ret=this._adjustNodeAndOffset(rs,_293);
fs=ret.node;
_293=ret.offset;
}
}
var _294;
while(fs&&fs!==this.editNode){
var _295=fs.tagName?fs.tagName.toLowerCase():"";
if(_201.indexOf(_292,_295)>-1){
_294=fs;
break;
}
fs=fs.parentNode;
}
if(_294){
rs=_28c.startContainer;
var _296=doc.createElement(_294.tagName);
_207.place(_296,_294,"after");
if(rs&&rs.nodeType===3){
var _297,_298;
var _299=_28c.endOffset;
if(rs.length<_299){
ret=this._adjustNodeAndOffset(rs,_299);
rs=ret.node;
_299=ret.offset;
}
txt=rs.nodeValue;
_28d=doc.createTextNode(txt.substring(0,_299));
var _29a=txt.substring(_299,txt.length);
if(_29a){
_28e=doc.createTextNode(_29a);
}
_207.place(_28d,rs,"before");
if(_28e){
_28f=doc.createElement("span");
_28f.className="ieFormatBreakerSpan";
_207.place(_28f,rs,"after");
_207.place(_28e,_28f,"after");
_28e=_28f;
}
_207.destroy(rs);
var _29b=_28d.parentNode;
var _29c=[];
var _29d;
while(_29b!==_294){
var tg=_29b.tagName;
_29d={tagName:tg};
_29c.push(_29d);
var _29e=doc.createElement(tg);
if(_29b.style){
if(_29e.style){
if(_29b.style.cssText){
_29e.style.cssText=_29b.style.cssText;
_29d.cssText=_29b.style.cssText;
}
}
}
if(_29b.tagName==="FONT"){
if(_29b.color){
_29e.color=_29b.color;
_29d.color=_29b.color;
}
if(_29b.face){
_29e.face=_29b.face;
_29d.face=_29b.face;
}
if(_29b.size){
_29e.size=_29b.size;
_29d.size=_29b.size;
}
}
if(_29b.className){
_29e.className=_29b.className;
_29d.className=_29b.className;
}
if(_28e){
_297=_28e;
while(_297){
_298=_297.nextSibling;
_29e.appendChild(_297);
_297=_298;
}
}
if(_29e.tagName==_29b.tagName){
_28f=doc.createElement("span");
_28f.className="ieFormatBreakerSpan";
_207.place(_28f,_29b,"after");
_207.place(_29e,_28f,"after");
}else{
_207.place(_29e,_29b,"after");
}
_28d=_29b;
_28e=_29e;
_29b=_29b.parentNode;
}
if(_28e){
_297=_28e;
if(_297.nodeType===1||(_297.nodeType===3&&_297.nodeValue)){
_296.innerHTML="";
}
while(_297){
_298=_297.nextSibling;
_296.appendChild(_297);
_297=_298;
}
}
var _29f;
if(_29c.length){
_29d=_29c.pop();
var _2a0=doc.createElement(_29d.tagName);
if(_29d.cssText&&_2a0.style){
_2a0.style.cssText=_29d.cssText;
}
if(_29d.className){
_2a0.className=_29d.className;
}
if(_29d.tagName==="FONT"){
if(_29d.color){
_2a0.color=_29d.color;
}
if(_29d.face){
_2a0.face=_29d.face;
}
if(_29d.size){
_2a0.size=_29d.size;
}
}
_207.place(_2a0,_296,"before");
while(_29c.length){
_29d=_29c.pop();
var _2a1=doc.createElement(_29d.tagName);
if(_29d.cssText&&_2a1.style){
_2a1.style.cssText=_29d.cssText;
}
if(_29d.className){
_2a1.className=_29d.className;
}
if(_29d.tagName==="FONT"){
if(_29d.color){
_2a1.color=_29d.color;
}
if(_29d.face){
_2a1.face=_29d.face;
}
if(_29d.size){
_2a1.size=_29d.size;
}
}
_2a0.appendChild(_2a1);
_2a0=_2a1;
}
_290=doc.createTextNode(".");
_28f.appendChild(_290);
_2a0.appendChild(_290);
_29f=_214.create(this.window);
_29f.setStart(_290,0);
_29f.setEnd(_290,_290.length);
_28b.removeAllRanges();
_28b.addRange(_29f);
this.selection.collapse(false);
_290.parentNode.innerHTML="";
}else{
_28f=doc.createElement("span");
_28f.className="ieFormatBreakerSpan";
_290=doc.createTextNode(".");
_28f.appendChild(_290);
_207.place(_28f,_296,"before");
_29f=_214.create(this.window);
_29f.setStart(_290,0);
_29f.setEnd(_290,_290.length);
_28b.removeAllRanges();
_28b.addRange(_29f);
this.selection.collapse(false);
_290.parentNode.innerHTML="";
}
if(!_296.firstChild){
_207.destroy(_296);
}
return true;
}
}
return false;
}else{
_28c=_28b.getRangeAt(0);
rs=_28c.startContainer;
if(rs&&rs.nodeType===3){
var _293=_28c.startOffset;
if(rs.length<_293){
ret=this._adjustNodeAndOffset(rs,_293);
rs=ret.node;
_293=ret.offset;
}
txt=rs.nodeValue;
_28d=doc.createTextNode(txt.substring(0,_293));
var _29a=txt.substring(_293);
if(_29a!==""){
_28e=doc.createTextNode(txt.substring(_293));
}
_28f=doc.createElement("span");
_290=doc.createTextNode(".");
_28f.appendChild(_290);
if(_28d.length){
_207.place(_28d,rs,"after");
}else{
_28d=rs;
}
_207.place(_28f,_28d,"after");
if(_28e){
_207.place(_28e,_28f,"after");
}
_207.destroy(rs);
var _29f=_214.create(this.window);
_29f.setStart(_290,0);
_29f.setEnd(_290,_290.length);
_28b.removeAllRanges();
_28b.addRange(_29f);
doc.execCommand(_28a);
_207.place(_28f.firstChild,_28f,"before");
_207.destroy(_28f);
_29f.setStart(_290,0);
_29f.setEnd(_290,_290.length);
_28b.removeAllRanges();
_28b.addRange(_29f);
this.selection.collapse(false);
_290.parentNode.innerHTML="";
return true;
}
}
}else{
return false;
}
},_adaptIEList:function(_2a2){
var _2a3=_214.getSelection(this.window);
if(_2a3.isCollapsed){
if(_2a3.rangeCount&&!this.queryCommandValue(_2a2)){
var _2a4=_2a3.getRangeAt(0);
var sc=_2a4.startContainer;
if(sc&&sc.nodeType==3){
if(!_2a4.startOffset){
var _2a5="ul";
if(_2a2==="insertorderedlist"){
_2a5="ol";
}
var list=this.document.createElement(_2a5);
var li=_207.create("li",null,list);
_207.place(list,sc,"before");
li.appendChild(sc);
_207.create("br",null,list,"after");
var _2a6=_214.create(this.window);
_2a6.setStart(sc,0);
_2a6.setEnd(sc,sc.length);
_2a3.removeAllRanges();
_2a3.addRange(_2a6);
this.selection.collapse(true);
return true;
}
}
}
}
return false;
},_handleTextColorOrProperties:function(_2a7,_2a8){
var _2a9=_214.getSelection(this.window);
var doc=this.document;
var rs,ret,_2aa,txt,_2ab,_2ac,_2ad,_2ae;
_2a8=_2a8||null;
if(_2a7&&_2a9&&_2a9.isCollapsed){
if(_2a9.rangeCount){
_2aa=_2a9.getRangeAt(0);
rs=_2aa.startContainer;
if(rs&&rs.nodeType===3){
var _2af=_2aa.startOffset;
if(rs.length<_2af){
ret=this._adjustNodeAndOffset(rs,_2af);
rs=ret.node;
_2af=ret.offset;
}
txt=rs.nodeValue;
_2ab=doc.createTextNode(txt.substring(0,_2af));
var _2b0=txt.substring(_2af);
if(_2b0!==""){
_2ac=doc.createTextNode(txt.substring(_2af));
}
_2ad=doc.createElement("span");
_2ae=doc.createTextNode(".");
_2ad.appendChild(_2ae);
var _2b1=doc.createElement("span");
_2ad.appendChild(_2b1);
if(_2ab.length){
_207.place(_2ab,rs,"after");
}else{
_2ab=rs;
}
_207.place(_2ad,_2ab,"after");
if(_2ac){
_207.place(_2ac,_2ad,"after");
}
_207.destroy(rs);
var _2b2=_214.create(this.window);
_2b2.setStart(_2ae,0);
_2b2.setEnd(_2ae,_2ae.length);
_2a9.removeAllRanges();
_2a9.addRange(_2b2);
if(has("webkit")){
var _2b3="color";
if(_2a7==="hilitecolor"||_2a7==="backcolor"){
_2b3="backgroundColor";
}
_209.set(_2ad,_2b3,_2a8);
this.selection.remove();
_207.destroy(_2b1);
_2ad.innerHTML="&#160;";
this.selection.selectElement(_2ad);
this.focus();
}else{
this.execCommand(_2a7,_2a8);
_207.place(_2ad.firstChild,_2ad,"before");
_207.destroy(_2ad);
_2b2.setStart(_2ae,0);
_2b2.setEnd(_2ae,_2ae.length);
_2a9.removeAllRanges();
_2a9.addRange(_2b2);
this.selection.collapse(false);
_2ae.parentNode.removeChild(_2ae);
}
return true;
}
}
}
return false;
},_adjustNodeAndOffset:function(node,_2b4){
while(node.length<_2b4&&node.nextSibling&&node.nextSibling.nodeType===3){
_2b4=_2b4-node.length;
node=node.nextSibling;
}
return {"node":node,"offset":_2b4};
},_tagNamesForCommand:function(_2b5){
if(_2b5==="bold"){
return ["b","strong"];
}else{
if(_2b5==="italic"){
return ["i","em"];
}else{
if(_2b5==="strikethrough"){
return ["s","strike"];
}else{
if(_2b5==="superscript"){
return ["sup"];
}else{
if(_2b5==="subscript"){
return ["sub"];
}else{
if(_2b5==="underline"){
return ["u"];
}
}
}
}
}
}
return [];
},_stripBreakerNodes:function(node){
if(!this.isLoaded){
return;
}
_20b(".ieFormatBreakerSpan",node).forEach(function(b){
while(b.firstChild){
_207.place(b.firstChild,b,"before");
}
_207.destroy(b);
});
return node;
},_stripTrailingEmptyNodes:function(node){
function _2b6(node){
return (/^(p|div|br)$/i.test(node.nodeName)&&node.children.length==0&&lang.trim(node.textContent||node.innerText||"")=="")||(node.nodeType===3&&lang.trim(node.nodeValue)=="");
};
while(node.lastChild&&_2b6(node.lastChild)){
_207.destroy(node.lastChild);
}
return node;
}});
return _218;
});
},"dijit/ToolbarSeparator":function(){
define(["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],function(_2b7,dom,_2b8,_2b9){
return _2b7("dijit.ToolbarSeparator",[_2b8,_2b9],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\" role=\"presentation\"></div>",buildRendering:function(){
this.inherited(arguments);
dom.setSelectable(this.domNode,false);
},isFocusable:function(){
return false;
}});
});
},"dijit/form/RadioButton":function(){
define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(_2ba,_2bb,_2bc){
return _2ba("dijit.form.RadioButton",[_2bb,_2bc],{baseClass:"dijitRadio"});
});
},"dijit/MenuSeparator":function(){
define(["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(_2bd,dom,_2be,_2bf,_2c0,_2c1){
return _2bd("dijit.MenuSeparator",[_2be,_2bf,_2c0],{templateString:_2c1,buildRendering:function(){
this.inherited(arguments);
dom.setSelectable(this.domNode,false);
},isFocusable:function(){
return false;
}});
});
},"dijit/form/ToggleButton":function(){
define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_2c2,_2c3,_2c4,_2c5){
return _2c2("dijit.form.ToggleButton",[_2c4,_2c5],{baseClass:"dijitToggleButton",setChecked:function(_2c6){
_2c3.deprecated("setChecked("+_2c6+") is deprecated. Use set('checked',"+_2c6+") instead.","","2.0");
this.set("checked",_2c6);
}});
});
},"dijit/CheckedMenuItem":function(){
define(["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(_2c7,_2c8,_2c9,_2ca){
return _2c7("dijit.CheckedMenuItem",_2c9,{baseClass:"dijitMenuItem dijitCheckedMenuItem",templateString:_2ca,checked:false,_setCheckedAttr:function(_2cb){
this.domNode.setAttribute("aria-checked",_2cb?"true":"false");
this._set("checked",_2cb);
},iconClass:"",role:"menuitemcheckbox",checkedChar:"&#10003;",onChange:function(){
},_onClick:function(evt){
if(!this.disabled){
this.set("checked",!this.checked);
this.onChange(this.checked);
}
this.onClick(evt);
}});
});
},"dojox/html/_base":function(){
define(["dojo/_base/declare","dojo/Deferred","dojo/dom-construct","dojo/html","dojo/_base/kernel","dojo/_base/lang","dojo/ready","dojo/_base/sniff","dojo/_base/url","dojo/_base/xhr","dojo/when","dojo/_base/window"],function(_2cc,_2cd,_2ce,_2cf,_2d0,lang,_2d1,has,_2d2,_2d3,when,_2d4){
var html=_2d0.getObject("dojox.html",true);
if(has("ie")){
var _2d5=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;
}
var _2d6=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;
var _2d7=html._adjustCssPaths=function(_2d8,_2d9){
if(!_2d9||!_2d8){
return;
}
if(_2d5){
_2d9=_2d9.replace(_2d5,function(_2da,pre,_2db,url,post){
return pre+(new _2d2(_2d8,"./"+url).toString())+post;
});
}
return _2d9.replace(_2d6,function(_2dc,_2dd,_2de,_2df,_2e0,_2e1){
if(_2de){
return "@import \""+(new _2d2(_2d8,"./"+_2de).toString())+"\""+_2e1;
}else{
return "url("+(new _2d2(_2d8,"./"+_2e0).toString())+")"+_2e1;
}
});
};
var _2e2=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;
var _2e3=html._adjustHtmlPaths=function(_2e4,cont){
var url=_2e4||"./";
return cont.replace(_2e2,function(tag,_2e5,name,_2e6,_2e7,_2e8,_2e9,end){
return _2e5+(name?(name+"="+_2e6+(new _2d2(url,_2e7).toString())+_2e6):("style="+_2e8+_2d7(url,_2e9)+_2e8))+end;
});
};
var _2ea=html._snarfStyles=function(_2eb,cont,_2ec){
_2ec.attributes=[];
cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_2ed){
return _2ed.replace(/<(\/?)style\b/ig,"&lt;$1Style").replace(/<(\/?)link\b/ig,"&lt;$1Link").replace(/@import "/ig,"@ import \"");
});
return cont.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_2ee,_2ef,_2f0,_2f1,_2f2,href){
var i,attr=(_2ef||_2f1||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");
if(_2f0){
i=_2ec.push(_2eb?_2d7(_2eb,_2f0):_2f0);
}else{
i=_2ec.push("@import \""+href+"\";");
attr=attr.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");
}
if(attr){
attr=attr.split(/\s+/);
var _2f3={},tmp;
for(var j=0,e=attr.length;j<e;j++){
tmp=attr[j].split("=");
_2f3[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");
}
_2ec.attributes[i-1]=_2f3;
}
return "";
});
};
var _2f4=html._snarfScripts=function(cont,_2f5){
_2f5.code="";
cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_2f6){
return _2f6.replace(/<(\/?)script\b/ig,"&lt;$1Script");
});
function _2f7(src){
if(_2f5.downloadRemote){
src=src.replace(/&([a-z0-9#]+);/g,function(m,name){
switch(name){
case "amp":
return "&";
case "gt":
return ">";
case "lt":
return "<";
default:
return name.charAt(0)=="#"?String.fromCharCode(name.substring(1)):"&"+name+";";
}
});
_2d3.get({url:src,sync:true,load:function(code){
_2f5.code+=code+";";
},error:_2f5.errBack});
}
};
return cont.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,function(_2f8,_2f9,src,code){
if(src){
_2f7(src);
}else{
_2f5.code+=code;
}
return "";
});
};
var _2fa=html.evalInGlobal=function(code,_2fb){
_2fb=_2fb||_2d4.doc.body;
var n=_2fb.ownerDocument.createElement("script");
n.type="text/javascript";
_2fb.appendChild(n);
n.text=code;
};
html._ContentSetter=_2cc(_2cf._ContentSetter,{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function(_2fc){
this._styleNodes=[];
var st,att,_2fd,doc=this.node.ownerDocument;
var head=doc.getElementsByTagName("head")[0];
for(var i=0,e=_2fc.length;i<e;i++){
_2fd=_2fc[i];
att=_2fc.attributes[i];
st=doc.createElement("style");
st.setAttribute("type","text/css");
for(var x in att){
st.setAttribute(x,att[x]);
}
this._styleNodes.push(st);
head.appendChild(st);
if(st.styleSheet){
st.styleSheet.cssText=_2fd;
}else{
st.appendChild(doc.createTextNode(_2fd));
}
}
},empty:function(){
this.inherited("empty",arguments);
this._styles=[];
},onBegin:function(){
this.inherited("onBegin",arguments);
var cont=this.content,node=this.node;
var _2fe=this._styles;
if(lang.isString(cont)){
if(this.adjustPaths&&this.referencePath){
cont=_2e3(this.referencePath,cont);
}
if(this.renderStyles||this.cleanContent){
cont=_2ea(this.referencePath,cont,_2fe);
}
if(this.executeScripts){
var _2ff=this;
var _300={downloadRemote:true,errBack:function(e){
_2ff._onError.call(_2ff,"Exec","Error downloading remote script in \""+_2ff.id+"\"",e);
}};
cont=_2f4(cont,_300);
this._code=_300.code;
}
}
this.content=cont;
},onEnd:function(){
var code=this._code,_301=this._styles;
if(this._styleNodes&&this._styleNodes.length){
while(this._styleNodes.length){
_2ce.destroy(this._styleNodes.pop());
}
}
if(this.renderStyles&&_301&&_301.length){
this._renderStyles(_301);
}
var d=new _2cd();
var _302=this.getInherited(arguments),args=arguments,_303=lang.hitch(this,function(){
_302.apply(this,args);
when(this.parseDeferred,function(){
d.resolve();
});
});
if(this.executeScripts&&code){
if(this.cleanContent){
code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");
}
if(this.scriptHasHooks){
code=code.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);
}
try{
_2fa(code,this.node);
}
catch(e){
this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);
}
_2d1(_303);
}else{
_303();
}
return d.promise;
},tearDown:function(){
this.inherited(arguments);
delete this._styles;
if(this._styleNodes&&this._styleNodes.length){
while(this._styleNodes.length){
_2ce.destroy(this._styleNodes.pop());
}
}
delete this._styleNodes;
lang.mixin(this,html._ContentSetter.prototype);
}});
html.set=function(node,cont,_304){
if(!_304){
return _2cf._setNodeContent(node,cont,true);
}else{
var op=new html._ContentSetter(lang.mixin(_304,{content:cont,node:node}));
return op.set();
}
};
return html;
});
},"dijit/_editor/nls/FontChoice":function(){
define({root:({fontSize:"Size",fontName:"Font",formatBlock:"Format",serif:"serif","sans-serif":"sans-serif",monospace:"monospace",cursive:"cursive",fantasy:"fantasy",noFormat:"None",p:"Paragraph",h1:"Heading",h2:"Subheading",h3:"Sub-subheading",pre:"Pre-formatted",1:"xx-small",2:"x-small",3:"small",4:"medium",5:"large",6:"x-large",7:"xx-large"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});
},"dijit/_editor/nls/pt/FontChoice":function(){
define(({fontSize:"Tamanho",fontName:"Fonte",formatBlock:"Formatar",serif:"serif","sans-serif":"sans-serif",monospace:"espao simples",cursive:"cursiva",fantasy:"fantasy",noFormat:"Nenhum",p:"Pargrafo",h1:"Ttulo",h2:"Subttulo",h3:"Sub-subttulo",pre:"Pr-formatado",1:"extra-extra-pequeno",2:"extra-pequeno",3:"pequena",4:"mdio",5:"grande",6:"extra-grande",7:"extra-extra-grande"}));
},"dijit/_editor/nls/pt/FontChoice":function(){
define(({fontSize:"Tamanho",fontName:"Fonte",formatBlock:"Formatar",serif:"serif","sans-serif":"sans-serif",monospace:"espao simples",cursive:"cursiva",fantasy:"fantasy",noFormat:"Nenhum",p:"Pargrafo",h1:"Ttulo",h2:"Subttulo",h3:"Sub-subttulo",pre:"Pr-formatado",1:"extra-extra-pequeno",2:"extra-pequeno",3:"pequena",4:"mdio",5:"grande",6:"extra-grande",7:"extra-extra-grande"}));
},"dgrid/_StoreMixin":function(){
define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","dojo/aspect","put-selector/put"],function(_305,_306,lang,_307,_308,_309,put){
function noop(_30a){
return _30a;
};
function _30b(err){
if(typeof err!=="object"){
err=new Error(err);
}
err.grid=this;
if(_308.emit(this.domNode,"dgrid-error",{grid:this,error:err,cancelable:true,bubbles:true})){
console.error(err);
}
};
return _306(null,{store:null,query:null,queryOptions:null,getBeforePut:true,noDataMessage:"",loadingMessage:"",constructor:function(){
this.query={};
this.queryOptions={};
this.dirty={};
this._updating={};
this._columnsWithSet={};
_309.before(this,"configStructure",lang.hitch(this,function(){
this._columnsWithSet={};
}));
},_configColumn:function(_30c){
if(_30c.set){
this._columnsWithSet[_30c.field]=_30c;
}
},_setStore:function(_30d,_30e,_30f){
this.store=_30d;
this.dirty={};
this.set("query",_30e,_30f);
},_setQuery:function(_310,_311){
var sort=_311&&_311.sort;
this.query=_310!==undefined?_310:this.query;
this.queryOptions=_311||this.queryOptions;
sort?this.set("sort",sort):this.refresh();
},setStore:function(_312,_313,_314){
_305.deprecated("setStore(...)","use set(\"store\", ...) instead","dgrid 1.0");
this.set("store",_312,_313,_314);
},setQuery:function(_315,_316){
_305.deprecated("setQuery(...)","use set(\"query\", ...) instead","dgrid 1.0");
this.set("query",_315,_316);
},_getQueryOptions:function(){
var _317=lang.delegate(this.queryOptions,{});
if(this._sort.length){
_317.sort=this._sort;
}
return _317;
},_getQuery:function(){
var q=this.query;
return typeof q=="object"&&q!=null?lang.delegate(q,{}):q;
},_setSort:function(_318,_319){
if(this.store){
this._lastCollection=null;
}
this.inherited(arguments);
},insertRow:function(_31a,_31b,_31c,i,_31d){
var _31e=this.store,_31f=this.dirty,id=_31e&&_31e.getIdentity(_31a),_320;
if(id in _31f&&!(id in this._updating)){
_320=_31f[id];
}
if(_320){
_31a=lang.delegate(_31a,_320);
}
return this.inherited(arguments);
},updateDirty:function(id,_321,_322){
var _323=this.dirty,_324=_323[id];
if(!_324){
_324=_323[id]={};
}
_324[_321]=_322;
},setDirty:function(id,_325,_326){
_305.deprecated("setDirty(...)","use updateDirty() instead","dgrid 1.0");
this.updateDirty(id,_325,_326);
},save:function(){
var self=this,_327=this.store,_328=this.dirty,dfd=new _307(),_329=dfd.promise,_32a=function(id){
var data;
return (self.getBeforePut||!(data=self.row(id).data))?function(){
return _327.get(id);
}:function(){
return data;
};
};
function _32b(id,_32c){
return function(_32d){
var _32e=self._columnsWithSet,_32f=self._updating,key,data;
if(typeof _32d.set==="function"){
_32d.set(_32c);
}else{
for(key in _32c){
_32d[key]=_32c[key];
}
}
for(key in _32e){
data=_32e[key].set(_32d);
if(data!==undefined){
_32d[key]=data;
}
}
_32f[id]=true;
return _307.when(_327.put(_32d),function(){
delete _328[id];
delete _32f[id];
});
};
};
for(var id in _328){
var put=_32b(id,_328[id]);
_329=_329.then(_32a(id)).then(put);
}
dfd.resolve();
return _329;
},revert:function(){
this.dirty={};
this.refresh();
},_trackError:function(func){
var _330;
if(typeof func=="string"){
func=lang.hitch(this,func);
}
try{
_330=func();
}
catch(err){
_30b.call(this,err);
}
return _307.when(_330,noop,lang.hitch(this,_30b));
},newRow:function(){
if(this.noDataNode){
put(this.noDataNode,"!");
delete this.noDataNode;
}
return this.inherited(arguments);
},removeRow:function(_331,_332){
var row={element:_331};
if(!_332&&this.noDataMessage&&(this.up(row).element===_331)&&(this.down(row).element===_331)){
this.noDataNode=put(this.contentNode,"div.dgrid-no-data");
this.noDataNode.innerHTML=this.noDataMessage;
}
return this.inherited(arguments);
}});
});
},"manager/Ajax":function(){
define("manager/Ajax",["dojo/_base/declare","dojo/_base/lang","dojo/request","dojo/request/iframe"],function(_333,lang,_334,_335){
return _333("Manager.Ajax",[],{loading:"<img src=\"images/loading.gif\" border=\"0\" alt=\"\">",url:null,form:null,response_type:"JSON",updateElement:null,parameters:null,content:null,remote_method:"",load:null,sync:false,constructor:function(obj){
if(obj.url){
this.url=obj.url;
}
if(obj.form){
this.form=obj.form;
}
if(obj.content){
this.content=obj.content;
}
if(obj.response_type){
this.response_type=obj.response_type;
}
if(obj.updateElement){
this.updateElement=obj.updateElement;
}
if(obj.parameters){
this.parameters=obj.parameters;
}
if(obj.remote_method){
this.remote_method=obj.remote_method;
}
if(obj.callback_function){
this.callback_function=obj.callback_function;
}
if(obj.load){
this.load=obj.load;
}
if(obj.sync){
this.sync=obj.sync;
}
},update:function(_336,_337){
manager.getElementById(this.updateElement).innerHTML=_336;
},error:function(_338,_339){
if(errDiv=manager.getElementById("stdout")){
errDiv.innerHTML=_339.xhr.responseText;
}
},ioerror:function(_33a,_33b){
},getParameters:function(){
var _33c={};
if(this.parameters!=null){
if(lang.isFunction(this.parameters)){
_33c=this.parameters();
if(!lang.isObject(_33c)){
_33c={__EVENTARGUMENT:_33c};
}
}else{
_33c=this.parameters;
}
}
_33c.__ISAJAXCALL="yes";
_33c.__EVENTTARGETVALUE=this.remote_method;
_33c.ajaxResponseType=response_type;
return _33c;
},get:function(){
var _33d=this.callback_function?this.callback_function:this.update;
var _33e=this.response_type.toLowerCase();
var _33f=this.url?this.url:manager.getCurrentURL();
var _340={};
_340.args={query:this.getParameters(),handleAs:_33e,sync:this.sync};
_334.get(_33f,_340.args).then(function(data){
_33d(data,_340);
});
},call:function(){
var _341=this.response_type.toLowerCase();
if(this.updateElement){
this.update(this.loading);
}
var _342=this.url?this.url:manager.getAction();
var _343=this.callback_function?this.callback_function:this.update;
var _344={};
if(this.form!=null){
this.content.ajaxResponseType=_341;
_344.args={form:this.form,data:this.content,content:this.content,handleAs:_341};
if(manager.page.fileUpload=="yes"){
_335.post(_342,_344.args).then(function(data){
_343(data,_344);
});
}else{
_334.post(_342,_344.args).then(function(data){
_343(data,_344);
});
}
}else{
_344.args={updateElement:this.updateElement,data:this.content,content:this.content,handleAs:_341};
_334.post(_342,_344.args).then(function(data){
_343(data,_344);
});
}
}});
});
},"manager/MultiTextField2":function(){
define("manager/MultiTextField2",["dojo/_base/declare"],function(_345){
return _345("Manager.MultiTextField2",[],{mtfName:"",constructor:function(_346){
this.mtfName=_346;
this.leftSeparator="[";
this.rightSeparator="]";
this.separator=this.rightSeparator+" "+this.leftSeparator;
this.emptyField=this.leftSeparator+this.rightSeparator;
},onSubmit:function(_347,name){
var list=manager.getElementById(this.mtfName+this.emptyField);
if(list!=null&&list.options!=null){
for(var i=0;i<list.length;i++){
list.options[i].value=list.options[i].text;
list.options[i].selected=true;
}
}
return true;
},split:function(_348){
return _348.substring(1,_348.length-1).split(this.separator);
},join:function(_349){
var _34a=this.leftSeparator;
for(var i=0;i<_349.length;i++){
if(i>0){
_34a+=this.separator;
}
_34a+=_349[i];
}
_34a+=this.rightSeparator;
return _34a;
},onKeyDown:function(_34b,_34c,_34d,_34e,_34f){
var key=(document.all!=null)?_34e.keyCode:_34e.which;
var name=_34d+"_text";
var len=name.length;
if(_34b.name.substring(0,len)==name){
if(key==13){
this.add(_34c,_34d,_34f);
return false;
}
}else{
if(_34b.name==_34d+this.emptyField){
if(key==46){
this.remove(_34c,_34d,_34f);
return false;
}
}
}
},onSelect:function(_350){
var list=manager.getElementById(this.mtfName+this.emptyField);
var i=list.selectedIndex;
if(i!=-1){
var a=this.split(list.options[i].text);
for(var j=1;j<=_350;j++){
var tf=manager.getElementById(this.mtfName+"_text"+j);
if(tf!=null){
tf.value=a[j-1];
}else{
var op=manager.getElementById(this.mtfName+"_options"+j);
if(op!=null){
for(var n=0;n<op.options.length;n++){
if(op.options[n].text==a[j-1]){
op.selectedIndex=n;
break;
}
}
}
}
}
}else{
for(var j=1;j<=_350;j++){
var tf=manager.getElementById(this.mtfName+"_text"+j);
if(tf!=null){
tf.value="";
}else{
var op=manager.getElementById(this.mtfName+"_options"+j);
if(op!=null){
op.selectedIndex=-1;
}
}
}
}
},getInput:function(_351){
var list=manager.getElementById(this.mtfName+this.emptyField);
var _352=new Array(_351);
var _353="";
for(var i=1;i<=_351;i++){
var tf=manager.getElementById(this.mtfName+"_text"+i);
_352[i-1]="";
if(tf!=null){
_352[i-1]=tf.value;
}else{
var list=manager.getElementById(this.mtfName+"_options"+i);
if(list!=null){
_352[i-1]=list.options[list.selectedIndex].text;
}
}
}
return this.join(_352);
},add:function(_354){
var list=manager.getElementById(this.mtfName+this.emptyField);
var i=list.length;
list.options[i]=new Option(this.getInput(_354));
list.selectedIndex=i;
},remove:function(_355){
var list=manager.getElementById(this.mtfName+this.emptyField);
for(var i=0;i<list.length;i++){
if(list.options[i].selected){
list.options[i]=null;
if(i>=list.length){
i=list.length-1;
}
if(i>=0){
list.options[i].selected=true;
}
break;
}
}
},modify:function(_356){
var list=manager.getElementById(this.mtfName+this.emptyField);
var i=list.selectedIndex;
if(i!=-1){
list.options[i].text=this.getInput(_356);
}else{
alert(" preciso selecionar o item a ser modificado!");
}
},moveUp:function(_357){
var list=manager.getElementById(this.mtfName+this.emptyField);
var i=list.selectedIndex;
if(i!=-1){
if(i>0){
var u=list.options[i-1].text;
list.options[i-1].text=list.options[i].text;
list.options[i-1].selected=true;
list.options[i].text=u;
list.options[i].selected=false;
list.selectedIndex=i-1;
}
}else{
alert(" preciso selecionar o item a ser modificado!");
}
},moveDown:function(_358){
var list=manager.getElementById(this.mtfName+this.emptyField);
var i=list.selectedIndex;
if(i!=-1){
if(i<list.options.length-1){
var u=list.options[i+1].text;
list.options[i+1].text=list.options[i].text;
list.options[i+1].selected=true;
list.options[i].text=u;
list.options[i].selected=false;
list.selectedIndex=i+1;
}
}else{
alert(" preciso selecionar o item a ser modificado!");
}
}});
});
},"dijit/_DialogMixin":function(){
define(["dojo/_base/declare","./a11y"],function(_359,a11y){
return _359("dijit._DialogMixin",null,{execute:function(){
},onCancel:function(){
},onExecute:function(){
},_onSubmit:function(){
this.onExecute();
this.execute(this.get("value"));
},_getFocusItems:function(){
var _35a=a11y._getTabNavigable(this.containerNode);
this._firstFocusItem=_35a.lowest||_35a.first||this.closeButtonNode||this.domNode;
this._lastFocusItem=_35a.last||_35a.highest||this._firstFocusItem;
}});
});
},"dijit/_Widget":function(){
define(["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_35b,_35c,_35d,_35e,has,_35f,lang,_360,_361,_362,_363,_364,_365){
function _366(){
};
function _367(_368){
return function(obj,_369,_36a,_36b){
if(obj&&typeof _369=="string"&&obj[_369]==_366){
return obj.on(_369.substring(2).toLowerCase(),lang.hitch(_36a,_36b));
}
return _368.apply(_35d,arguments);
};
};
_35b.around(_35d,"connect",_367);
if(_35f.connect){
_35b.around(_35f,"connect",_367);
}
var _36c=_35e("dijit._Widget",[_363,_364,_365],{onClick:_366,onDblClick:_366,onKeyDown:_366,onKeyPress:_366,onKeyUp:_366,onMouseDown:_366,onMouseMove:_366,onMouseOut:_366,onMouseOver:_366,onMouseLeave:_366,onMouseEnter:_366,onMouseUp:_366,constructor:function(_36d){
this._toConnect={};
for(var name in _36d){
if(this[name]===_366){
this._toConnect[name.replace(/^on/,"").toLowerCase()]=_36d[name];
delete _36d[name];
}
}
},postCreate:function(){
this.inherited(arguments);
for(var name in this._toConnect){
this.on(name,this._toConnect[name]);
}
delete this._toConnect;
},on:function(type,func){
if(this[this._onMap(type)]===_366){
return _35d.connect(this.domNode,type.toLowerCase(),this,func);
}
return this.inherited(arguments);
},_setFocusedAttr:function(val){
this._focused=val;
this._set("focused",val);
},setAttribute:function(attr,_36e){
_35f.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");
this.set(attr,_36e);
},attr:function(name,_36f){
var args=arguments.length;
if(args>=2||typeof name==="object"){
return this.set.apply(this,arguments);
}else{
return this.get(name);
}
},getDescendants:function(){
_35f.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");
return this.containerNode?_360("[widgetId]",this.containerNode).map(_362.byNode):[];
},_onShow:function(){
this.onShow();
},onShow:function(){
},onHide:function(){
},onClose:function(){
return true;
}});
if(has("dijit-legacy-requires")){
_361(0,function(){
var _370=["dijit/_base"];
require(_370);
});
}
return _36c;
});
},"dijit/form/_SearchMixin":function(){
define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/query","dojo/string","dojo/when","../registry"],function(_371,keys,lang,_372,_373,when,_374){
return _371("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:true,_patternToRegExp:function(_375){
return new RegExp("^"+_375.replace(/(\\.)|(\*)|(\?)|\W/g,function(str,_376,star,_377){
return star?".*":_377?".":_376?_376:"\\"+str;
})+"$",this.ignoreCase?"mi":"m");
},_abortQuery:function(){
if(this.searchTimer){
this.searchTimer=this.searchTimer.remove();
}
if(this._queryDeferHandle){
this._queryDeferHandle=this._queryDeferHandle.remove();
}
if(this._fetchHandle){
if(this._fetchHandle.abort){
this._cancelingQuery=true;
this._fetchHandle.abort();
this._cancelingQuery=false;
}
if(this._fetchHandle.cancel){
this._cancelingQuery=true;
this._fetchHandle.cancel();
this._cancelingQuery=false;
}
this._fetchHandle=null;
}
},_processInput:function(evt){
if(this.disabled||this.readOnly){
return;
}
var key=evt.charOrCode;
if("type" in evt&&evt.type.substring(0,3)=="key"&&(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==keys.SHIFT)){
return;
}
var _378=false;
this._prev_key_backspace=false;
switch(key){
case keys.DELETE:
case keys.BACKSPACE:
this._prev_key_backspace=true;
this._maskValidSubsetError=true;
_378=true;
break;
default:
_378=typeof key=="string"||key==229;
}
if(_378){
if(!this.store){
this.onSearch();
}else{
this.searchTimer=this.defer("_startSearchFromInput",1);
}
}
},onSearch:function(){
},_startSearchFromInput:function(){
this._startSearch(this.focusNode.value);
},_startSearch:function(text){
this._abortQuery();
var _379=this,_372=lang.clone(this.query),_37a={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:true}},qs=_373.substitute(this.queryExpr,[text.replace(/([\\\*\?])/g,"\\$1")]),q,_37b=function(){
var _37c=_379._fetchHandle=_379.store.query(_372,_37a);
if(_379.disabled||_379.readOnly||(q!==_379._lastQuery)){
return;
}
when(_37c,function(res){
_379._fetchHandle=null;
if(!_379.disabled&&!_379.readOnly&&(q===_379._lastQuery)){
when(_37c.total,function(_37d){
res.total=_37d;
var _37e=_379.pageSize;
if(isNaN(_37e)||_37e>res.total){
_37e=res.total;
}
res.nextPage=function(_37f){
_37a.direction=_37f=_37f!==false;
_37a.count=_37e;
if(_37f){
_37a.start+=res.length;
if(_37a.start>=res.total){
_37a.count=0;
}
}else{
_37a.start-=_37e;
if(_37a.start<0){
_37a.count=Math.max(_37e+_37a.start,0);
_37a.start=0;
}
}
if(_37a.count<=0){
res.length=0;
_379.onSearch(res,_372,_37a);
}else{
_37b();
}
};
_379.onSearch(res,_372,_37a);
});
}
},function(err){
_379._fetchHandle=null;
if(!_379._cancelingQuery){
console.error(_379.declaredClass+" "+err.toString());
}
});
};
lang.mixin(_37a,this.fetchProperties);
if(this.store._oldAPI){
q=qs;
}else{
q=this._patternToRegExp(qs);
q.toString=function(){
return qs;
};
}
this._lastQuery=_372[this.searchAttr]=q;
this._queryDeferHandle=this.defer(_37b,this.searchDelay);
},constructor:function(){
this.query={};
this.fetchProperties={};
},postMixInProperties:function(){
if(!this.store){
var list=this.list;
if(list){
this.store=_374.byId(list);
}
}
this.inherited(arguments);
}});
});
},"dijit/layout/AccordionContainer":function(){
define(["require","dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/topic","../focus","../_base/manager","dojo/ready","../_Widget","../_Container","../_TemplatedMixin","../_CssStateMixin","./StackContainer","./ContentPane","dojo/text!./templates/AccordionButton.html","../a11yclick"],function(_380,_381,_382,fx,dom,_383,_384,_385,_386,keys,lang,has,_387,_388,_389,_38a,_38b,_38c,_38d,_38e,_38f,_390,_391){
var _392=_382("dijit.layout._AccordionButton",[_38b,_38d,_38e],{templateString:_391,label:"",_setLabelAttr:{node:"titleTextNode",type:"innerHTML"},title:"",_setTitleAttr:{node:"titleTextNode",type:"attribute",attribute:"title"},iconClassAttr:"",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitAccordionTitle",getParent:function(){
return this.parent;
},buildRendering:function(){
this.inherited(arguments);
var _393=this.id.replace(" ","_");
_383.set(this.titleTextNode,"id",_393+"_title");
this.focusNode.setAttribute("aria-labelledby",_383.get(this.titleTextNode,"id"));
dom.setSelectable(this.domNode,false);
},getTitleHeight:function(){
return _386.getMarginSize(this.domNode).h;
},_onTitleClick:function(){
var _394=this.getParent();
_394.selectChild(this.contentWidget,true);
_388.focus(this.focusNode);
},_onTitleKeyDown:function(evt){
return this.getParent()._onKeyDown(evt,this.contentWidget);
},_setSelectedAttr:function(_395){
this._set("selected",_395);
this.focusNode.setAttribute("aria-expanded",_395?"true":"false");
this.focusNode.setAttribute("aria-selected",_395?"true":"false");
this.focusNode.setAttribute("tabIndex",_395?"0":"-1");
}});
if(has("dojo-bidi")){
_392.extend({_setLabelAttr:function(_396){
this._set("label",_396);
_383.set(this.titleTextNode,"innerHTML",_396);
this.applyTextDir(this.titleTextNode);
},_setTitleAttr:function(_397){
this._set("title",_397);
_383.set(this.titleTextNode,"title",_397);
this.applyTextDir(this.titleTextNode);
}});
}
var _398=_382("dijit.layout._AccordionInnerContainer"+(has("dojo-bidi")?"_NoBidi":""),[_38b,_38e],{baseClass:"dijitAccordionInnerContainer",isLayoutContainer:true,buildRendering:function(){
this.domNode=_385.place("<div class='"+this.baseClass+"' role='presentation'>",this.contentWidget.domNode,"after");
var _399=this.contentWidget,cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;
this.button=_399._buttonWidget=(new cls({contentWidget:_399,label:_399.title,title:_399.tooltip,dir:_399.dir,lang:_399.lang,textDir:_399.textDir||this.textDir,iconClass:_399.iconClass,id:_399.id+"_button",parent:this.parent})).placeAt(this.domNode);
this.containerNode=_385.place("<div class='dijitAccordionChildWrapper' role='tabpanel' style='display:none'>",this.domNode);
this.containerNode.setAttribute("aria-labelledby",this.button.id);
_385.place(this.contentWidget.domNode,this.containerNode);
},postCreate:function(){
this.inherited(arguments);
var _39a=this.button,cw=this.contentWidget;
this._contentWidgetWatches=[cw.watch("title",lang.hitch(this,function(name,_39b,_39c){
_39a.set("label",_39c);
})),cw.watch("tooltip",lang.hitch(this,function(name,_39d,_39e){
_39a.set("title",_39e);
})),cw.watch("iconClass",lang.hitch(this,function(name,_39f,_3a0){
_39a.set("iconClass",_3a0);
}))];
},_setSelectedAttr:function(_3a1){
this._set("selected",_3a1);
this.button.set("selected",_3a1);
if(_3a1){
var cw=this.contentWidget;
if(cw.onSelected){
cw.onSelected();
}
}
},startup:function(){
this.contentWidget.startup();
},destroy:function(){
this.button.destroyRecursive();
_381.forEach(this._contentWidgetWatches||[],function(w){
w.unwatch();
});
delete this.contentWidget._buttonWidget;
delete this.contentWidget._wrapperWidget;
this.inherited(arguments);
},destroyDescendants:function(_3a2){
this.contentWidget.destroyRecursive(_3a2);
}});
if(has("dojo-bidi")){
_398=_382("dijit.layout._AccordionInnerContainer",_398,{postCreate:function(){
this.inherited(arguments);
var _3a3=this.button;
this._contentWidgetWatches.push(this.contentWidget.watch("textDir",function(name,_3a4,_3a5){
_3a3.set("textDir",_3a5);
}));
}});
}
var _3a6=_382("dijit.layout.AccordionContainer",_38f,{duration:_389.defaultDuration,buttonWidget:_392,baseClass:"dijitAccordionContainer",buildRendering:function(){
this.inherited(arguments);
this.domNode.style.overflow="hidden";
this.domNode.setAttribute("role","tablist");
},startup:function(){
if(this._started){
return;
}
this.inherited(arguments);
if(this.selectedChildWidget){
this.selectedChildWidget._wrapperWidget.set("selected",true);
}
},layout:function(){
var _3a7=this.selectedChildWidget;
if(!_3a7){
return;
}
var _3a8=_3a7._wrapperWidget.domNode,_3a9=_386.getMarginExtents(_3a8),_3aa=_386.getPadBorderExtents(_3a8),_3ab=_3a7._wrapperWidget.containerNode,_3ac=_386.getMarginExtents(_3ab),_3ad=_386.getPadBorderExtents(_3ab),_3ae=this._contentBox;
var _3af=0;
_381.forEach(this.getChildren(),function(_3b0){
if(_3b0!=_3a7){
_3af+=_386.getMarginSize(_3b0._wrapperWidget.domNode).h;
}
});
this._verticalSpace=_3ae.h-_3af-_3a9.h-_3aa.h-_3ac.h-_3ad.h-_3a7._buttonWidget.getTitleHeight();
this._containerContentBox={h:this._verticalSpace,w:this._contentBox.w-_3a9.w-_3aa.w-_3ac.w-_3ad.w};
if(_3a7){
_3a7.resize(this._containerContentBox);
}
},_setupChild:function(_3b1){
_3b1._wrapperWidget=_398({contentWidget:_3b1,buttonWidget:this.buttonWidget,id:_3b1.id+"_wrapper",dir:_3b1.dir,lang:_3b1.lang,textDir:_3b1.textDir||this.textDir,parent:this});
this.inherited(arguments);
_385.place(_3b1.domNode,_3b1._wrapper,"replace");
},removeChild:function(_3b2){
if(_3b2._wrapperWidget){
_385.place(_3b2.domNode,_3b2._wrapperWidget.domNode,"after");
_3b2._wrapperWidget.destroy();
delete _3b2._wrapperWidget;
}
_384.remove(_3b2.domNode,"dijitHidden");
this.inherited(arguments);
},getChildren:function(){
return _381.map(this.inherited(arguments),function(_3b3){
return _3b3.declaredClass=="dijit.layout._AccordionInnerContainer"?_3b3.contentWidget:_3b3;
},this);
},destroy:function(){
if(this._animation){
this._animation.stop();
}
_381.forEach(this.getChildren(),function(_3b4){
if(_3b4._wrapperWidget){
_3b4._wrapperWidget.destroy();
}else{
_3b4.destroyRecursive();
}
});
this.inherited(arguments);
},_showChild:function(_3b5){
_3b5._wrapperWidget.containerNode.style.display="block";
return this.inherited(arguments);
},_hideChild:function(_3b6){
_3b6._wrapperWidget.containerNode.style.display="none";
this.inherited(arguments);
},_transition:function(_3b7,_3b8,_3b9){
if(has("ie")<8){
_3b9=false;
}
if(this._animation){
this._animation.stop(true);
delete this._animation;
}
var self=this;
if(_3b7){
_3b7._wrapperWidget.set("selected",true);
var d=this._showChild(_3b7);
if(this.doLayout&&_3b7.resize){
_3b7.resize(this._containerContentBox);
}
}
if(_3b8){
_3b8._wrapperWidget.set("selected",false);
if(!_3b9){
this._hideChild(_3b8);
}
}
if(_3b9){
var _3ba=_3b7._wrapperWidget.containerNode,_3bb=_3b8._wrapperWidget.containerNode;
var _3bc=_3b7._wrapperWidget.containerNode,_3bd=_386.getMarginExtents(_3bc),_3be=_386.getPadBorderExtents(_3bc),_3bf=_3bd.h+_3be.h;
_3bb.style.height=(self._verticalSpace-_3bf)+"px";
this._animation=new fx.Animation({node:_3ba,duration:this.duration,curve:[1,this._verticalSpace-_3bf-1],onAnimate:function(_3c0){
_3c0=Math.floor(_3c0);
_3ba.style.height=_3c0+"px";
_3bb.style.height=(self._verticalSpace-_3bf-_3c0)+"px";
},onEnd:function(){
delete self._animation;
_3ba.style.height="auto";
_3b8._wrapperWidget.containerNode.style.display="none";
_3bb.style.height="auto";
self._hideChild(_3b8);
}});
this._animation.onStop=this._animation.onEnd;
this._animation.play();
}
return d;
},_onKeyDown:function(e,_3c1){
if(this.disabled||e.altKey||!(_3c1||e.ctrlKey)){
return;
}
var c=e.keyCode;
if((_3c1&&(c==keys.LEFT_ARROW||c==keys.UP_ARROW))||(e.ctrlKey&&c==keys.PAGE_UP)){
this._adjacent(false)._buttonWidget._onTitleClick();
e.stopPropagation();
e.preventDefault();
}else{
if((_3c1&&(c==keys.RIGHT_ARROW||c==keys.DOWN_ARROW))||(e.ctrlKey&&(c==keys.PAGE_DOWN||c==keys.TAB))){
this._adjacent(true)._buttonWidget._onTitleClick();
e.stopPropagation();
e.preventDefault();
}
}
}});
if(has("dijit-legacy-requires")){
_38a(0,function(){
var _3c2=["dijit/layout/AccordionPane"];
_380(_3c2);
});
}
_3a6._InnerContainer=_398;
_3a6._Button=_392;
return _3a6;
});
},"dgrid/Keyboard":function(){
define(["dojo/_base/declare","dojo/aspect","dojo/on","dojo/_base/lang","dojo/has","put-selector/put","dojo/_base/Deferred","dojo/_base/sniff"],function(_3c3,_3c4,on,lang,has,put,_3c5){
var _3c6={checkbox:1,radio:1,button:1},_3c7=/\bdgrid-cell\b/,_3c8=/\bdgrid-row\b/;
has.add("dom-contains",function(_3c9,doc,_3ca){
return !!_3ca.contains;
});
function _3cb(_3cc,node){
if(has("dom-contains")){
return _3cc.contains(node);
}else{
return _3cc.compareDocumentPosition(node)&8;
}
};
var _3cd=_3c3(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){
this.inherited(arguments);
if(!this.keyMap){
this.keyMap=lang.mixin({},_3cd.defaultKeyMap);
}
if(!this.headerKeyMap){
this.headerKeyMap=lang.mixin({},_3cd.defaultHeaderKeyMap);
}
},postCreate:function(){
this.inherited(arguments);
var grid=this;
function _3ce(_3cf){
var _3d0=_3cf.target;
return _3d0.type&&(!_3c6[_3d0.type]||_3cf.keyCode==32);
};
function _3d1(_3d2){
var _3d3=grid.cellNavigation,_3d4=_3d3?_3c7:_3c8,_3d5=_3d2===grid.headerNode,_3d6=_3d2;
function _3d7(){
grid._focusedHeaderNode=_3d6=_3d3?grid.headerNode.getElementsByTagName("th")[0]:grid.headerNode;
if(_3d6){
_3d6.tabIndex=grid.tabIndex;
}
};
if(_3d5){
_3d7();
_3c4.after(grid,"renderHeader",_3d7,true);
}else{
_3c4.after(grid,"renderArray",function(ret){
return _3c5.when(ret,function(ret){
var _3d8=grid._focusedNode||_3d6;
if(_3d4.test(_3d8.className)&&_3cb(_3d2,_3d8)){
return ret;
}
for(var i=0,_3d9=_3d2.getElementsByTagName("*"),_3da;(_3da=_3d9[i]);++i){
if(_3d4.test(_3da.className)){
_3d8=grid._focusedNode=_3da;
break;
}
}
_3d8.tabIndex=grid.tabIndex;
return ret;
});
});
}
grid._listeners.push(on(_3d2,"mousedown",function(_3db){
if(!_3ce(_3db)){
grid._focusOnNode(_3db.target,_3d5,_3db);
}
}));
grid._listeners.push(on(_3d2,"keydown",function(_3dc){
if(_3dc.metaKey||_3dc.altKey){
return;
}
var _3dd=grid[_3d5?"headerKeyMap":"keyMap"][_3dc.keyCode];
if(_3dd&&!_3ce(_3dc)){
_3dd.call(grid,_3dc);
}
}));
};
if(this.tabableHeader){
_3d1(this.headerNode);
on(this.headerNode,"dgrid-cellfocusin",function(){
grid.scrollTo({x:this.scrollLeft});
});
}
_3d1(this.contentNode);
},addKeyHandler:function(key,_3de,_3df){
return _3c4.after(this[_3df?"headerKeyMap":"keyMap"],key,_3de,true);
},_focusOnNode:function(_3e0,_3e1,_3e2){
var _3e3="_focused"+(_3e1?"Header":"")+"Node",_3e4=this[_3e3],_3e5=this.cellNavigation?"cell":"row",cell=this[_3e5](_3e0),_3e6,_3e7,_3e8,_3e9,i;
_3e0=cell&&cell.element;
if(!_3e0){
return;
}
if(this.cellNavigation){
_3e6=_3e0.getElementsByTagName("input");
for(i=0,_3e8=_3e6.length;i<_3e8;i++){
_3e7=_3e6[i];
if((_3e7.tabIndex!=-1||"lastValue" in _3e7)&&!_3e7.disabled){
if(has("ie")<8){
_3e7.style.position="relative";
}
_3e7.focus();
if(has("ie")<8){
_3e7.style.position="";
}
_3e9=true;
break;
}
}
}
_3e2=lang.mixin({grid:this},_3e2);
if(_3e2.type){
_3e2.parentType=_3e2.type;
}
if(!_3e2.bubbles){
_3e2.bubbles=true;
}
if(_3e4){
put(_3e4,"!dgrid-focus[!tabIndex]");
if(has("ie")<8){
_3e4.style.position="";
}
_3e2[_3e5]=this[_3e5](_3e4);
on.emit(_3e0,"dgrid-cellfocusout",_3e2);
}
_3e4=this[_3e3]=_3e0;
_3e2[_3e5]=cell;
if(!_3e9){
if(has("ie")<8){
_3e0.style.position="relative";
}
_3e0.tabIndex=this.tabIndex;
_3e0.focus();
}
put(_3e0,".dgrid-focus");
on.emit(_3e4,"dgrid-cellfocusin",_3e2);
},focusHeader:function(_3ea){
this._focusOnNode(_3ea||this._focusedHeaderNode,true);
},focus:function(_3eb){
this._focusOnNode(_3eb||this._focusedNode,false);
}});
var _3ec=_3cd.moveFocusVertical=function(_3ed,_3ee){
var _3ef=this.cellNavigation,_3f0=this[_3ef?"cell":"row"](_3ed),_3f1=_3ef&&_3f0.column.id,next=this.down(this._focusedNode,_3ee,true);
if(_3ef){
next=this.cell(next,_3f1);
}
this._focusOnNode(next,false,_3ed);
_3ed.preventDefault();
};
var _3f2=_3cd.moveFocusUp=function(_3f3){
_3ec.call(this,_3f3,-1);
};
var _3f4=_3cd.moveFocusDown=function(_3f5){
_3ec.call(this,_3f5,1);
};
var _3f6=_3cd.moveFocusPageUp=function(_3f7){
_3ec.call(this,_3f7,-this.pageSkip);
};
var _3f8=_3cd.moveFocusPageDown=function(_3f9){
_3ec.call(this,_3f9,this.pageSkip);
};
var _3fa=_3cd.moveFocusHorizontal=function(_3fb,_3fc){
if(!this.cellNavigation){
return;
}
var _3fd=!this.row(_3fb),_3fe=this["_focused"+(_3fd?"Header":"")+"Node"];
this._focusOnNode(this.right(_3fe,_3fc),_3fd,_3fb);
_3fb.preventDefault();
};
var _3ff=_3cd.moveFocusLeft=function(_400){
_3fa.call(this,_400,-1);
};
var _401=_3cd.moveFocusRight=function(_402){
_3fa.call(this,_402,1);
};
var _403=_3cd.moveHeaderFocusEnd=function(_404,_405){
var _406;
if(this.cellNavigation){
_406=this.headerNode.getElementsByTagName("th");
this._focusOnNode(_406[_405?0:_406.length-1],true,_404);
}
_404.preventDefault();
};
var _407=_3cd.moveHeaderFocusHome=function(_408){
_403.call(this,_408,true);
};
var _409=_3cd.moveFocusEnd=function(_40a,_40b){
var self=this,_40c=this.cellNavigation,_40d=this.contentNode,_40e=_40b?0:_40d.scrollHeight,_40f=_40d.scrollTop+_40e,_410=_40d[_40b?"firstChild":"lastChild"],_411=_410.className.indexOf("dgrid-preload")>-1,_412=_411?_410[(_40b?"next":"previous")+"Sibling"]:_410,_413=_412.offsetTop+(_40b?0:_412.offsetHeight),_414;
if(_411){
while(_412&&_412.className.indexOf("dgrid-row")<0){
_412=_412[(_40b?"next":"previous")+"Sibling"];
}
if(!_412){
return;
}
}
if(!_411||_410.offsetHeight<1){
if(_40c){
_412=this.cell(_412,this.cell(_40a).column.id);
}
this._focusOnNode(_412,false,_40a);
}else{
if(!has("dom-addeventlistener")){
_40a=lang.mixin({},_40a);
}
_414=_3c4.after(this,"renderArray",function(rows){
_414.remove();
return _3c5.when(rows,function(rows){
var _415=rows[_40b?0:rows.length-1];
if(_40c){
_415=self.cell(_415,self.cell(_40a).column.id);
}
self._focusOnNode(_415,false,_40a);
});
});
}
if(_40f===_413){
_40a.preventDefault();
}
};
var _416=_3cd.moveFocusHome=function(_417){
_409.call(this,_417,true);
};
function _418(_419){
_419.preventDefault();
};
_3cd.defaultKeyMap={32:_418,33:_3f6,34:_3f8,35:_409,36:_416,37:_3ff,38:_3f2,39:_401,40:_3f4};
_3cd.defaultHeaderKeyMap={32:_418,35:_403,36:_407,37:_3ff,39:_401};
return _3cd;
});
},"dijit/form/SimpleTextarea":function(){
define(["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(_41a,_41b,has,_41c){
return _41a("dijit.form.SimpleTextarea",_41c,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} data-dojo-attach-point='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){
if(!this.value&&this.srcNodeRef){
this.value=this.srcNodeRef.value;
}
this.inherited(arguments);
},buildRendering:function(){
this.inherited(arguments);
if(has("ie")&&this.cols){
_41b.add(this.textbox,"dijitTextAreaCols");
}
},filter:function(_41d){
if(_41d){
_41d=_41d.replace(/\r/g,"");
}
return this.inherited(arguments);
},_onInput:function(e){
if(this.maxLength){
var _41e=parseInt(this.maxLength);
var _41f=this.textbox.value.replace(/\r/g,"");
var _420=_41f.length-_41e;
if(_420>0){
var _421=this.textbox;
if(_421.selectionStart){
var pos=_421.selectionStart;
var cr=0;
if(has("opera")){
cr=(this.textbox.value.substring(0,pos).match(/\r/g)||[]).length;
}
this.textbox.value=_41f.substring(0,pos-_420-cr)+_41f.substring(pos-cr);
_421.setSelectionRange(pos-_420,pos-_420);
}else{
if(this.ownerDocument.selection){
_421.focus();
var _422=this.ownerDocument.selection.createRange();
_422.moveStart("character",-_420);
_422.text="";
_422.select();
}
}
}
}
this.inherited(arguments);
}});
});
},"manager/MD5":function(){
function _423(n){
for(i=0;i<n;i++){
this[i]=0;
}
this.length=n;
};
define("manager/MD5",["dojo/_base/declare"],function(_424){
return _424("Manager.MD5",[],{constructor:function(){
},array:function(n){
var a;
for(i=0;i<n;i++){
a[i]=0;
}
a.length=n;
return a;
},integer:function(n){
return n%(4294967295+1);
},shr:function(a,b){
a=this.integer(a);
b=this.integer(b);
if(a-2147483648>=0){
a=a%2147483648;
a>>=b;
a+=1073741824>>(b-1);
}else{
a>>=b;
}
return a;
},shl1:function(a){
a=a%2147483648;
if(a&1073741824==1073741824){
a-=1073741824;
a*=2;
a+=2147483648;
}else{
a*=2;
}
return a;
},shl:function(a,b){
a=this.integer(a);
b=this.integer(b);
for(var i=0;i<b;i++){
a=this.shl1(a);
}
return a;
},and:function(a,b){
a=this.integer(a);
b=this.integer(b);
var t1=(a-2147483648);
var t2=(b-2147483648);
if(t1>=0){
if(t2>=0){
return ((t1&t2)+2147483648);
}else{
return (t1&b);
}
}else{
if(t2>=0){
return (a&t2);
}else{
return (a&b);
}
}
},or:function(a,b){
a=this.integer(a);
b=this.integer(b);
var t1=(a-2147483648);
var t2=(b-2147483648);
if(t1>=0){
if(t2>=0){
return ((t1|t2)+2147483648);
}else{
return ((t1|b)+2147483648);
}
}else{
if(t2>=0){
return ((a|t2)+2147483648);
}else{
return (a|b);
}
}
},xor:function(a,b){
a=this.integer(a);
b=this.integer(b);
var t1=(a-2147483648);
var t2=(b-2147483648);
if(t1>=0){
if(t2>=0){
return (t1^t2);
}else{
return ((t1^b)+2147483648);
}
}else{
if(t2>=0){
return ((a^t2)+2147483648);
}else{
return (a^b);
}
}
},not:function(a){
a=this.integer(a);
return (4294967295-a);
},state:new _423(4),count:new _423(2),buffer:new _423(64),transformBuffer:new _423(16),digestBits:new _423(16),S11:7,S12:12,S13:17,S14:22,S21:5,S22:9,S23:14,S24:20,S31:4,S32:11,S33:16,S34:23,S41:6,S42:10,S43:15,S44:21,F:function(x,y,z){
return this.or(this.and(x,y),this.and(this.not(x),z));
},G:function(x,y,z){
return this.or(this.and(x,z),this.and(y,this.not(z)));
},H:function(x,y,z){
return this.xor(this.xor(x,y),z);
},I:function(x,y,z){
return this.xor(y,this.or(x,this.not(z)));
},rotateLeft:function(a,n){
return this.or(this.shl(a,n),(this.shr(a,(32-n))));
},FF:function(a,b,c,d,x,s,ac){
a=a+this.F(b,c,d)+x+ac;
a=this.rotateLeft(a,s);
a=a+b;
return a;
},GG:function(a,b,c,d,x,s,ac){
a=a+this.G(b,c,d)+x+ac;
a=this.rotateLeft(a,s);
a=a+b;
return a;
},HH:function(a,b,c,d,x,s,ac){
a=a+this.H(b,c,d)+x+ac;
a=this.rotateLeft(a,s);
a=a+b;
return a;
},II:function(a,b,c,d,x,s,ac){
a=a+this.I(b,c,d)+x+ac;
a=this.rotateLeft(a,s);
a=a+b;
return a;
},transform:function(buf,_425){
var a=0,b=0,c=0,d=0;
var x=this.transformBuffer;
a=this.state[0];
b=this.state[1];
c=this.state[2];
d=this.state[3];
for(i=0;i<16;i++){
x[i]=this.and(buf[i*4+_425],255);
for(j=1;j<4;j++){
x[i]+=this.shl(this.and(buf[i*4+j+_425],255),j*8);
}
}
a=this.FF(a,b,c,d,x[0],this.S11,3614090360);
d=this.FF(d,a,b,c,x[1],this.S12,3905402710);
c=this.FF(c,d,a,b,x[2],this.S13,606105819);
b=this.FF(b,c,d,a,x[3],this.S14,3250441966);
a=this.FF(a,b,c,d,x[4],this.S11,4118548399);
d=this.FF(d,a,b,c,x[5],this.S12,1200080426);
c=this.FF(c,d,a,b,x[6],this.S13,2821735955);
b=this.FF(b,c,d,a,x[7],this.S14,4249261313);
a=this.FF(a,b,c,d,x[8],this.S11,1770035416);
d=this.FF(d,a,b,c,x[9],this.S12,2336552879);
c=this.FF(c,d,a,b,x[10],this.S13,4294925233);
b=this.FF(b,c,d,a,x[11],this.S14,2304563134);
a=this.FF(a,b,c,d,x[12],this.S11,1804603682);
d=this.FF(d,a,b,c,x[13],this.S12,4254626195);
c=this.FF(c,d,a,b,x[14],this.S13,2792965006);
b=this.FF(b,c,d,a,x[15],this.S14,1236535329);
a=this.GG(a,b,c,d,x[1],this.S21,4129170786);
d=this.GG(d,a,b,c,x[6],this.S22,3225465664);
c=this.GG(c,d,a,b,x[11],this.S23,643717713);
b=this.GG(b,c,d,a,x[0],this.S24,3921069994);
a=this.GG(a,b,c,d,x[5],this.S21,3593408605);
d=this.GG(d,a,b,c,x[10],this.S22,38016083);
c=this.GG(c,d,a,b,x[15],this.S23,3634488961);
b=this.GG(b,c,d,a,x[4],this.S24,3889429448);
a=this.GG(a,b,c,d,x[9],this.S21,568446438);
d=this.GG(d,a,b,c,x[14],this.S22,3275163606);
c=this.GG(c,d,a,b,x[3],this.S23,4107603335);
b=this.GG(b,c,d,a,x[8],this.S24,1163531501);
a=this.GG(a,b,c,d,x[13],this.S21,2850285829);
d=this.GG(d,a,b,c,x[2],this.S22,4243563512);
c=this.GG(c,d,a,b,x[7],this.S23,1735328473);
b=this.GG(b,c,d,a,x[12],this.S24,2368359562);
a=this.HH(a,b,c,d,x[5],this.S31,4294588738);
d=this.HH(d,a,b,c,x[8],this.S32,2272392833);
c=this.HH(c,d,a,b,x[11],this.S33,1839030562);
b=this.HH(b,c,d,a,x[14],this.S34,4259657740);
a=this.HH(a,b,c,d,x[1],this.S31,2763975236);
d=this.HH(d,a,b,c,x[4],this.S32,1272893353);
c=this.HH(c,d,a,b,x[7],this.S33,4139469664);
b=this.HH(b,c,d,a,x[10],this.S34,3200236656);
a=this.HH(a,b,c,d,x[13],this.S31,681279174);
d=this.HH(d,a,b,c,x[0],this.S32,3936430074);
c=this.HH(c,d,a,b,x[3],this.S33,3572445317);
b=this.HH(b,c,d,a,x[6],this.S34,76029189);
a=this.HH(a,b,c,d,x[9],this.S31,3654602809);
d=this.HH(d,a,b,c,x[12],this.S32,3873151461);
c=this.HH(c,d,a,b,x[15],this.S33,530742520);
b=this.HH(b,c,d,a,x[2],this.S34,3299628645);
a=this.II(a,b,c,d,x[0],this.S41,4096336452);
d=this.II(d,a,b,c,x[7],this.S42,1126891415);
c=this.II(c,d,a,b,x[14],this.S43,2878612391);
b=this.II(b,c,d,a,x[5],this.S44,4237533241);
a=this.II(a,b,c,d,x[12],this.S41,1700485571);
d=this.II(d,a,b,c,x[3],this.S42,2399980690);
c=this.II(c,d,a,b,x[10],this.S43,4293915773);
b=this.II(b,c,d,a,x[1],this.S44,2240044497);
a=this.II(a,b,c,d,x[8],this.S41,1873313359);
d=this.II(d,a,b,c,x[15],this.S42,4264355552);
c=this.II(c,d,a,b,x[6],this.S43,2734768916);
b=this.II(b,c,d,a,x[13],this.S44,1309151649);
a=this.II(a,b,c,d,x[4],this.S41,4149444226);
d=this.II(d,a,b,c,x[11],this.S42,3174756917);
c=this.II(c,d,a,b,x[2],this.S43,718787259);
b=this.II(b,c,d,a,x[9],this.S44,3951481745);
this.state[0]+=a;
this.state[1]+=b;
this.state[2]+=c;
this.state[3]+=d;
},init:function(){
this.count[0]=this.count[1]=0;
this.state[0]=1732584193;
this.state[1]=4023233417;
this.state[2]=2562383102;
this.state[3]=271733878;
for(i=0;i<this.digestBits.length;i++){
this.digestBits[i]=0;
}
},update:function(b){
var _426,i;
_426=this.and(this.shr(this.count[0],3),63);
if(this.count[0]<4294967295-7){
this.count[0]+=8;
}else{
this.count[1]++;
this.count[0]-=4294967295+1;
this.count[0]+=8;
}
this.buffer[_426]=this.and(b,255);
if(_426>=63){
this.transform(this.buffer,0);
}
},finish:function(){
var bits=new _423(8);
var _427;
var i=0,_428=0,_429=0;
for(i=0;i<4;i++){
bits[i]=this.and(this.shr(this.count[0],(i*8)),255);
}
for(i=0;i<4;i++){
bits[i+4]=this.and(this.shr(this.count[1],(i*8)),255);
}
_428=this.and(this.shr(this.count[0],3),63);
_429=(_428<56)?(56-_428):(120-_428);
_427=new _423(64);
_427[0]=128;
for(i=0;i<_429;i++){
this.update(_427[i]);
}
for(i=0;i<8;i++){
this.update(bits[i]);
}
for(i=0;i<4;i++){
for(j=0;j<4;j++){
this.digestBits[i*4+j]=this.and(this.shr(this.state[i],(j*8)),255);
}
}
},hexa:function(n){
var _42a="0123456789abcdef";
var _42b="";
var _42c=n;
for(hexa_i=0;hexa_i<8;hexa_i++){
_42b=_42a.charAt(Math.abs(_42c)%16)+_42b;
_42c=Math.floor(_42c/16);
}
return _42b;
},ascii:"01234567890123456789012345678901"+" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",MD5:function(_42d){
var l,s,k,ka,kb,kc,kd;
this.init();
for(k=0;k<_42d.length;k++){
l=_42d.charAt(k);
this.update(this.ascii.lastIndexOf(l));
}
this.finish();
ka=kb=kc=kd=0;
for(i=0;i<4;i++){
ka+=this.shl(this.digestBits[15-i],(i*8));
}
for(i=4;i<8;i++){
kb+=this.shl(this.digestBits[15-i],((i-4)*8));
}
for(i=8;i<12;i++){
kc+=this.shl(this.digestBits[15-i],((i-8)*8));
}
for(i=12;i<16;i++){
kd+=this.shl(this.digestBits[15-i],((i-12)*8));
}
s=this.hexa(kd)+this.hexa(kc)+this.hexa(kb)+this.hexa(ka);
return s;
}});
});
},"dijit/Destroyable":function(){
define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_42e,_42f,_430){
return _430("dijit.Destroyable",null,{destroy:function(_431){
this._destroyed=true;
},own:function(){
_42e.forEach(arguments,function(_432){
var _433="destroyRecursive" in _432?"destroyRecursive":"destroy" in _432?"destroy":"remove";
var odh=_42f.before(this,"destroy",function(_434){
_432[_433](_434);
});
var hdh=_42f.after(_432,_433,function(){
odh.remove();
hdh.remove();
},true);
},this);
return arguments;
}});
});
},"dojo/request":function(){
define(["./request/default!"],function(_435){
return _435;
});
},"dojox/grid/_RowSelector":function(){
define(["dojo/_base/declare","./_View"],function(_436,_437){
return _436("dojox.grid._RowSelector",_437,{defaultWidth:"2em",noscroll:true,padBorderWidth:2,buildRendering:function(){
this.inherited("buildRendering",arguments);
this.scrollboxNode.style.overflow="hidden";
this.headerNode.style.visibility="hidden";
},getWidth:function(){
return this.viewWidth||this.defaultWidth;
},buildRowContent:function(_438,_439){
var w=this.contentWidth||0;
_439.innerHTML="<table class=\"dojoxGridRowbarTable\" style=\"width:"+w+"px;height:1px;\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"><tr><td class=\"dojoxGridRowbarInner\">&nbsp;</td></tr></table>";
},renderHeader:function(){
},updateRow:function(){
},resize:function(){
this.adaptHeight();
},adaptWidth:function(){
if(!("contentWidth" in this)&&this.contentNode&&this.contentNode.offsetWidth>0){
this.contentWidth=this.contentNode.offsetWidth-this.padBorderWidth;
}
},doStyleRowNode:function(_43a,_43b){
var n=["dojoxGridRowbar dojoxGridNonNormalizedCell"];
if(this.grid.rows.isOver(_43a)){
n.push("dojoxGridRowbarOver");
}
if(this.grid.selection.isSelected(_43a)){
n.push("dojoxGridRowbarSelected");
}
_43b.className=n.join(" ");
},domouseover:function(e){
this.grid.onMouseOverRow(e);
},domouseout:function(e){
if(!this.isIntraRowEvent(e)){
this.grid.onMouseOutRow(e);
}
}});
});
},"dijit/form/MultiSelect":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-geometry","dojo/has","dojo/query","./_FormValueWidget"],function(_43c,_43d,_43e,has,_43f,_440){
var _441=_43d("dijit.form.MultiSelect"+(has("dojo-bidi")?"_NoBidi":""),_440,{size:7,baseClass:"dijitMultiSelect",templateString:"<select multiple='true' ${!nameAttrSetting} data-dojo-attach-point='containerNode,focusNode' data-dojo-attach-event='onchange: _onChange'></select>",addSelected:function(_442){
_442.getSelected().forEach(function(n){
this.containerNode.appendChild(n);
this.domNode.scrollTop=this.domNode.offsetHeight;
var _443=_442.domNode.scrollTop;
_442.domNode.scrollTop=0;
_442.domNode.scrollTop=_443;
},this);
this._set("value",this.get("value"));
},getSelected:function(){
return _43f("option",this.containerNode).filter(function(n){
return n.selected;
});
},_getValueAttr:function(){
return _43c.map(this.getSelected(),function(n){
return n.value;
});
},multiple:true,_setValueAttr:function(_444,_445){
_43f("option",this.containerNode).forEach(function(n){
n.selected=(_43c.indexOf(_444,n.value)!=-1);
});
this.inherited(arguments);
},invertSelection:function(_446){
var val=[];
_43f("option",this.containerNode).forEach(function(n){
if(!n.selected){
val.push(n.value);
}
});
this._setValueAttr(val,!(_446===false||_446==null));
},_onChange:function(){
this._handleOnChange(this.get("value"),true);
},resize:function(size){
if(size){
_43e.setMarginBox(this.domNode,size);
}
},postCreate:function(){
this._set("value",this.get("value"));
this.inherited(arguments);
}});
if(has("dojo-bidi")){
_441=_43d("dijit.form.MultiSelect",_441,{addSelected:function(_447){
_447.getSelected().forEach(function(n){
n.text=this.enforceTextDirWithUcc(this.restoreOriginalText(n),n.text);
},this);
this.inherited(arguments);
},_setTextDirAttr:function(_448){
if((this.textDir!=_448||!this._created)&&this.enforceTextDirWithUcc){
this._set("textDir",_448);
_43f("option",this.containerNode).forEach(function(_449){
if(!this._created&&_449.value===_449.text){
_449.value=_449.text;
}
_449.text=this.enforceTextDirWithUcc(_449,_449.originalText||_449.text);
},this);
}
}});
}
return _441;
});
},"xstyle/has-class":function(){
define(["dojo/has"],function(has){
var _44a={};
return function(){
var test,args=arguments;
for(var i=0;i<args.length;i++){
var test=args[i];
if(!_44a[test]){
_44a[test]=true;
var _44b=test.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),_44c=has(_44b[2]),_44d=-_44b[4];
if((_44d>0?_44d<=_44c&&(-_44b[5]||_44d)>=_44c:!!_44c)==!_44b[1]){
document.documentElement.className+=" has-"+test;
}
}
}
};
});
},"dojox/form/uploader/plugins/IFrame":function(){
define([],function(){
console.warn("dojox.form.uploader.plugins.IFrame has been removed. You can use Uploader directly and it will contain all necessary functionality.");
return {};
});
},"dojox/grid/_Layout":function(){
define(["dojo/_base/kernel","../main","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-geometry","./cells","./_RowSelector"],function(dojo,_44e,_44f,_450,lang,_451){
return _44f("dojox.grid._Layout",null,{constructor:function(_452){
this.grid=_452;
},cells:[],structure:null,defaultWidth:"6em",moveColumn:function(_453,_454,_455,_456,_457){
var _458=this.structure[_453].cells[0];
var _459=this.structure[_454].cells[0];
var cell=null;
var _45a=0;
var _45b=0;
for(var i=0,c;c=_458[i];i++){
if(c.index==_455){
_45a=i;
break;
}
}
cell=_458.splice(_45a,1)[0];
cell.view=this.grid.views.views[_454];
for(i=0,c=null;c=_459[i];i++){
if(c.index==_456){
_45b=i;
break;
}
}
if(!_457){
_45b+=1;
}
_459.splice(_45b,0,cell);
var _45c=this.grid.getCell(this.grid.getSortIndex());
if(_45c){
_45c._currentlySorted=this.grid.getSortAsc();
}
this.cells=[];
_455=0;
var v;
for(i=0;v=this.structure[i];i++){
for(var j=0,cs;cs=v.cells[j];j++){
for(var k=0;c=cs[k];k++){
c.index=_455;
this.cells.push(c);
if("_currentlySorted" in c){
var si=_455+1;
si*=c._currentlySorted?1:-1;
this.grid.sortInfo=si;
delete c._currentlySorted;
}
_455++;
}
}
}
_450.forEach(this.cells,function(c){
var _45d=c.markup[2].split(" ");
var _45e=parseInt(_45d[1].substring(5));
if(_45e!=c.index){
_45d[1]="idx=\""+c.index+"\"";
c.markup[2]=_45d.join(" ");
}
});
this.grid.setupHeaderMenu();
},setColumnVisibility:function(_45f,_460){
var cell=this.cells[_45f];
if(cell.hidden==_460){
cell.hidden=!_460;
var v=cell.view,w=v.viewWidth;
if(w&&w!="auto"){
v._togglingColumn=_451.getMarginBox(cell.getHeaderNode()).w||0;
}
v.update();
return true;
}else{
return false;
}
},addCellDef:function(_461,_462,_463){
var self=this;
var _464=function(_465){
var w=0;
if(_465.colSpan>1){
w=0;
}else{
w=_465.width||self._defaultCellProps.width||self.defaultWidth;
if(!isNaN(w)){
w=w+"em";
}
}
return w;
};
var _466={grid:this.grid,subrow:_461,layoutIndex:_462,index:this.cells.length};
if(_463&&_463 instanceof _44e.grid.cells._Base){
var _467=lang.clone(_463);
_466.unitWidth=_464(_467._props);
_467=lang.mixin(_467,this._defaultCellProps,_463._props,_466);
return _467;
}
var _468=_463.type||_463.cellType||this._defaultCellProps.type||this._defaultCellProps.cellType||_44e.grid.cells.Cell;
if(lang.isString(_468)){
_468=lang.getObject(_468);
}
_466.unitWidth=_464(_463);
return new _468(lang.mixin({},this._defaultCellProps,_463,_466));
},addRowDef:function(_469,_46a){
var _46b=[];
var _46c=0,_46d=0,_46e=true;
for(var i=0,def,cell;(def=_46a[i]);i++){
cell=this.addCellDef(_469,i,def);
_46b.push(cell);
this.cells.push(cell);
if(_46e&&cell.relWidth){
_46c+=cell.relWidth;
}else{
if(cell.width){
var w=cell.width;
if(typeof w=="string"&&w.slice(-1)=="%"){
_46d+=window.parseInt(w,10);
}else{
if(w=="auto"){
_46e=false;
}
}
}
}
}
if(_46c&&_46e){
_450.forEach(_46b,function(cell){
if(cell.relWidth){
cell.width=cell.unitWidth=((cell.relWidth/_46c)*(100-_46d))+"%";
}
});
}
return _46b;
},addRowsDef:function(_46f){
var _470=[];
if(lang.isArray(_46f)){
if(lang.isArray(_46f[0])){
for(var i=0,row;_46f&&(row=_46f[i]);i++){
_470.push(this.addRowDef(i,row));
}
}else{
_470.push(this.addRowDef(0,_46f));
}
}
return _470;
},addViewDef:function(_471){
this._defaultCellProps=_471.defaultCell||{};
if(_471.width&&_471.width=="auto"){
delete _471.width;
}
return lang.mixin({},_471,{cells:this.addRowsDef(_471.rows||_471.cells)});
},setStructure:function(_472){
this.fieldIndex=0;
this.cells=[];
var s=this.structure=[];
if(this.grid.rowSelector){
var sel={type:_44e._scopeName+".grid._RowSelector"};
if(lang.isString(this.grid.rowSelector)){
var _473=this.grid.rowSelector;
if(_473=="false"){
sel=null;
}else{
if(_473!="true"){
sel["width"]=_473;
}
}
}else{
if(!this.grid.rowSelector){
sel=null;
}
}
if(sel){
s.push(this.addViewDef(sel));
}
}
var _474=function(def){
return ("name" in def||"field" in def||"get" in def);
};
var _475=function(def){
if(lang.isArray(def)){
if(lang.isArray(def[0])||_474(def[0])){
return true;
}
}
return false;
};
var _476=function(def){
return (def!==null&&lang.isObject(def)&&("cells" in def||"rows" in def||("type" in def&&!_474(def))));
};
if(lang.isArray(_472)){
var _477=false;
for(var i=0,st;(st=_472[i]);i++){
if(_476(st)){
_477=true;
break;
}
}
if(!_477){
s.push(this.addViewDef({cells:_472}));
}else{
for(i=0;(st=_472[i]);i++){
if(_475(st)){
s.push(this.addViewDef({cells:st}));
}else{
if(_476(st)){
s.push(this.addViewDef(st));
}
}
}
}
}else{
if(_476(_472)){
s.push(this.addViewDef(_472));
}
}
this.cellCount=this.cells.length;
this.grid.setupHeaderMenu();
}});
});
},"dojo/data/util/filter":function(){
define(["../../_base/lang"],function(lang){
var _478={};
lang.setObject("dojo.data.util.filter",_478);
_478.patternToRegExp=function(_479,_47a){
var rxp="^";
var c=null;
for(var i=0;i<_479.length;i++){
c=_479.charAt(i);
switch(c){
case "\\":
rxp+=c;
i++;
rxp+=_479.charAt(i);
break;
case "*":
rxp+=".*";
break;
case "?":
rxp+=".";
break;
case "$":
case "^":
case "/":
case "+":
case ".":
case "|":
case "(":
case ")":
case "{":
case "}":
case "[":
case "]":
rxp+="\\";
default:
rxp+=c;
}
}
rxp+="$";
if(_47a){
return new RegExp(rxp,"mi");
}else{
return new RegExp(rxp,"m");
}
};
return _478;
});
},"dojo/dnd/common":function(){
define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(has,_47b,lang,dom){
var _47c=lang.getObject("dojo.dnd",true);
_47c.getCopyKeyState=function(evt){
return evt[has("mac")?"metaKey":"ctrlKey"];
};
_47c._uniqueId=0;
_47c.getUniqueId=function(){
var id;
do{
id=_47b._scopeName+"Unique"+(++_47c._uniqueId);
}while(dom.byId(id));
return id;
};
_47c._empty={};
_47c.isFormElement=function(e){
var t=e.target;
if(t.nodeType==3){
t=t.parentNode;
}
return " a button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;
};
return _47c;
});
},"dijit/tree/ObjectStoreModel":function(){
define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/when"],function(_47d,_47e,_47f,lang,when){
return _47f("dijit.tree.ObjectStoreModel",null,{store:null,labelAttr:"name",labelType:"text",root:null,query:null,constructor:function(args){
lang.mixin(this,args);
this.childrenCache={};
},destroy:function(){
for(var id in this.childrenCache){
this.childrenCache[id].close&&this.childrenCache[id].close();
}
},getRoot:function(_480,_481){
if(this.root){
_480(this.root);
}else{
var res;
when(res=this.store.query(this.query),lang.hitch(this,function(_482){
if(_482.length!=1){
throw new Error("dijit.tree.ObjectStoreModel: root query returned "+_482.length+" items, but must return exactly one");
}
this.root=_482[0];
_480(this.root);
if(res.observe){
res.observe(lang.hitch(this,function(obj){
this.onChange(obj);
}),true);
}
}),_481);
}
},mayHaveChildren:function(){
return true;
},getChildren:function(_483,_484,_485){
var id=this.store.getIdentity(_483);
if(this.childrenCache[id]){
when(this.childrenCache[id],_484,_485);
return;
}
var res=this.childrenCache[id]=this.store.getChildren(_483);
when(res,_484,_485);
if(res.observe){
res.observe(lang.hitch(this,function(obj,_486,_487){
this.onChange(obj);
if(_486!=_487){
when(res,lang.hitch(this,"onChildrenChange",_483));
}
}),true);
}
},isItem:function(){
return true;
},getIdentity:function(item){
return this.store.getIdentity(item);
},getLabel:function(item){
return item[this.labelAttr];
},newItem:function(args,_488,_489,_48a){
return this.store.put(args,{parent:_488,before:_48a});
},pasteItem:function(_48b,_48c,_48d,_48e,_48f,_490){
if(!_48e){
var _491=[].concat(this.childrenCache[this.getIdentity(_48c)]),_492=_47d.indexOf(_491,_48b);
_491.splice(_492,1);
this.onChildrenChange(_48c,_491);
}
return this.store.put(_48b,{overwrite:true,parent:_48d,before:_490});
},onChange:function(){
},onChildrenChange:function(){
},onDelete:function(){
}});
});
},"dijit/tree/ForestStoreModel":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(_493,_494,_495,lang,_496){
return _494("dijit.tree.ForestStoreModel",_496,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_497){
this.root={store:this,root:true,id:_497.rootId,label:_497.rootLabel,children:_497.rootChildren};
},mayHaveChildren:function(item){
return item===this.root||this.inherited(arguments);
},getChildren:function(_498,_499,_49a){
if(_498===this.root){
if(this.root.children){
_499(this.root.children);
}else{
this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_49b){
this.root.children=_49b;
_499(_49b);
}),onError:_49a});
}
}else{
this.inherited(arguments);
}
},isItem:function(_49c){
return (_49c===this.root)?true:this.inherited(arguments);
},fetchItemByIdentity:function(_49d){
if(_49d.identity==this.root.id){
var _49e=_49d.scope||_495.global;
if(_49d.onItem){
_49d.onItem.call(_49e,this.root);
}
}else{
this.inherited(arguments);
}
},getIdentity:function(item){
return (item===this.root)?this.root.id:this.inherited(arguments);
},getLabel:function(item){
return (item===this.root)?this.root.label:this.inherited(arguments);
},newItem:function(args,_49f,_4a0){
if(_49f===this.root){
this.onNewRootItem(args);
return this.store.newItem(args);
}else{
return this.inherited(arguments);
}
},onNewRootItem:function(){
},pasteItem:function(_4a1,_4a2,_4a3,_4a4,_4a5){
if(_4a2===this.root){
if(!_4a4){
this.onLeaveRoot(_4a1);
}
}
this.inherited(arguments,[_4a1,_4a2===this.root?null:_4a2,_4a3===this.root?null:_4a3,_4a4,_4a5]);
if(_4a3===this.root){
this.onAddToRoot(_4a1);
}
},onAddToRoot:function(item){
},onLeaveRoot:function(item){
},_requeryTop:function(){
var _4a6=this.root.children||[];
this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_4a7){
this.root.children=_4a7;
if(_4a6.length!=_4a7.length||_493.some(_4a6,function(item,idx){
return _4a7[idx]!=item;
})){
this.onChildrenChange(this.root,_4a7);
}
})});
},onNewItem:function(item,_4a8){
this._requeryTop();
this.inherited(arguments);
},onDeleteItem:function(item){
if(_493.indexOf(this.root.children,item)!=-1){
this._requeryTop();
}
this.inherited(arguments);
},onSetItem:function(item,_4a9,_4aa,_4ab){
this._requeryTop();
this.inherited(arguments);
}});
});
},"manager/Patches":function(){
define("manager/Patches",["dojo/_base/declare","dojo/cldr/supplemental"],function(_4ac,_4ad){
return _4ac("Manager.Patches",[],{constructor:function(){
_4ad.getFirstDayOfWeek=function(_4ae){
var _4af={mv:5,br:0,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,er:6,et:6,iq:6,ir:6,jo:6,ke:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,so:6,sy:6,tn:6,ye:6,ar:0,as:0,az:0,bw:0,ca:0,cn:0,fo:0,ge:0,gl:0,gu:0,hk:0,il:0,"in":0,jm:0,jp:0,kg:0,kr:0,la:0,mh:0,mn:0,mo:0,mp:0,mt:0,nz:0,ph:0,pk:0,sg:0,th:0,tt:0,tw:0,um:0,us:0,uz:0,vi:0,zw:0};
var _4b0=_4ad._region(_4ae);
var dow=_4af[_4b0];
return (dow===undefined)?1:dow;
};
}});
});
},"dijit/form/TimeTextBox":function(){
define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","../_TimePicker","./_DateTimeTextBox"],function(_4b1,keys,lang,_4b2,_4b3){
return _4b1("dijit.form.TimeTextBox",_4b3,{baseClass:"dijitTextBox dijitComboBox dijitTimeTextBox",popupClass:_4b2,_selector:"time",value:new Date(""),maxHeight:-1,_onKey:function(evt){
if(this.disabled||this.readOnly){
return;
}
this.inherited(arguments);
switch(evt.keyCode){
case keys.ENTER:
case keys.TAB:
case keys.ESCAPE:
case keys.DOWN_ARROW:
case keys.UP_ARROW:
break;
default:
this.defer(function(){
var val=this.get("displayedValue");
this.filterString=(val&&!this.parse(val,this.constraints))?val.toLowerCase():"";
if(this._opened){
this.closeDropDown();
}
this.openDropDown();
});
}
}});
});
},"manager/UTF8":function(){
define("manager/UTF8",["dojo/_base/declare"],function(_4b4){
return _4b4("Manager.UTF8",[],{constructor:function(id){
},encode:function(_4b5){
_4b5=_4b5.replace(/\r\n/g,"\n");
var _4b6="";
for(var n=0;n<_4b5.length;n++){
var c=_4b5.charCodeAt(n);
if(c<128){
_4b6+=String.fromCharCode(c);
}else{
if((c>127)&&(c<2048)){
_4b6+=String.fromCharCode((c>>6)|192);
_4b6+=String.fromCharCode((c&63)|128);
}else{
_4b6+=String.fromCharCode((c>>12)|224);
_4b6+=String.fromCharCode(((c>>6)&63)|128);
_4b6+=String.fromCharCode((c&63)|128);
}
}
}
return _4b6;
},decode:function(_4b7){
var _4b8="";
var i=0;
var c=c1=c2=0;
while(i<_4b7.length){
c=_4b7.charCodeAt(i);
if(c<128){
_4b8+=String.fromCharCode(c);
i++;
}else{
if((c>191)&&(c<224)){
c2=_4b7.charCodeAt(i+1);
_4b8+=String.fromCharCode(((c&31)<<6)|(c2&63));
i+=2;
}else{
c2=_4b7.charCodeAt(i+1);
c3=_4b7.charCodeAt(i+2);
_4b8+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));
i+=3;
}
}
}
return _4b8;
}});
});
},"dijit/Menu":function(){
define(["require","dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(_4b9,_4ba,_4bb,dom,_4bc,_4bd,_4be,keys,lang,on,has,win,_4bf,pm,_4c0,_4c1){
if(has("dijit-legacy-requires")){
_4c1(0,function(){
var _4c2=["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"];
_4b9(_4c2);
});
}
return _4bb("dijit.Menu",_4c0,{constructor:function(){
this._bindings=[];
},targetNodeIds:[],selector:"",contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){
if(this.contextMenuForWindow){
this.bindDomNode(this.ownerDocumentBody);
}else{
_4ba.forEach(this.targetNodeIds,this.bindDomNode,this);
}
this.inherited(arguments);
},_iframeContentWindow:function(_4c3){
return _4bf.get(this._iframeContentDocument(_4c3))||this._iframeContentDocument(_4c3)["__parent__"]||(_4c3.name&&document.frames[_4c3.name])||null;
},_iframeContentDocument:function(_4c4){
return _4c4.contentDocument||(_4c4.contentWindow&&_4c4.contentWindow.document)||(_4c4.name&&document.frames[_4c4.name]&&document.frames[_4c4.name].document)||null;
},bindDomNode:function(node){
node=dom.byId(node,this.ownerDocument);
var cn;
if(node.tagName.toLowerCase()=="iframe"){
var _4c5=node,_4c6=this._iframeContentWindow(_4c5);
cn=win.body(_4c6.document);
}else{
cn=(node==win.body(this.ownerDocument)?this.ownerDocument.documentElement:node);
}
var _4c7={node:node,iframe:_4c5};
_4bc.set(node,"_dijitMenu"+this.id,this._bindings.push(_4c7));
var _4c8=lang.hitch(this,function(cn){
var _4c9=this.selector,_4ca=_4c9?function(_4cb){
return on.selector(_4c9,_4cb);
}:function(_4cc){
return _4cc;
},self=this;
return [on(cn,_4ca(this.leftClickToOpen?"click":"contextmenu"),function(evt){
evt.stopPropagation();
evt.preventDefault();
self._scheduleOpen(this,_4c5,{x:evt.pageX,y:evt.pageY});
}),on(cn,_4ca("keydown"),function(evt){
if(evt.shiftKey&&evt.keyCode==keys.F10){
evt.stopPropagation();
evt.preventDefault();
self._scheduleOpen(this,_4c5);
}
})];
});
_4c7.connects=cn?_4c8(cn):[];
if(_4c5){
_4c7.onloadHandler=lang.hitch(this,function(){
var _4cd=this._iframeContentWindow(_4c5),cn=win.body(_4cd.document);
_4c7.connects=_4c8(cn);
});
if(_4c5.addEventListener){
_4c5.addEventListener("load",_4c7.onloadHandler,false);
}else{
_4c5.attachEvent("onload",_4c7.onloadHandler);
}
}
},unBindDomNode:function(_4ce){
var node;
try{
node=dom.byId(_4ce,this.ownerDocument);
}
catch(e){
return;
}
var _4cf="_dijitMenu"+this.id;
if(node&&_4bc.has(node,_4cf)){
var bid=_4bc.get(node,_4cf)-1,b=this._bindings[bid],h;
while((h=b.connects.pop())){
h.remove();
}
var _4d0=b.iframe;
if(_4d0){
if(_4d0.removeEventListener){
_4d0.removeEventListener("load",b.onloadHandler,false);
}else{
_4d0.detachEvent("onload",b.onloadHandler);
}
}
_4bc.remove(node,_4cf);
delete this._bindings[bid];
}
},_scheduleOpen:function(_4d1,_4d2,_4d3){
if(!this._openTimer){
this._openTimer=this.defer(function(){
delete this._openTimer;
this._openMyself({target:_4d1,iframe:_4d2,coords:_4d3});
},1);
}
},_openMyself:function(args){
var _4d4=args.target,_4d5=args.iframe,_4d6=args.coords,_4d7=!_4d6;
this.currentTarget=_4d4;
if(_4d6){
if(_4d5){
var ifc=_4bd.position(_4d5,true),_4d8=this._iframeContentWindow(_4d5),_4d9=_4bd.docScroll(_4d8.document);
var cs=_4be.getComputedStyle(_4d5),tp=_4be.toPixelValue,left=(has("ie")&&has("quirks")?0:tp(_4d5,cs.paddingLeft))+(has("ie")&&has("quirks")?tp(_4d5,cs.borderLeftWidth):0),top=(has("ie")&&has("quirks")?0:tp(_4d5,cs.paddingTop))+(has("ie")&&has("quirks")?tp(_4d5,cs.borderTopWidth):0);
_4d6.x+=ifc.x+left-_4d9.x;
_4d6.y+=ifc.y+top-_4d9.y;
}
}else{
_4d6=_4bd.position(_4d4,true);
_4d6.x+=10;
_4d6.y+=10;
}
var self=this;
var _4da=this._focusManager.get("prevNode");
var _4db=this._focusManager.get("curNode");
var _4dc=!_4db||(dom.isDescendant(_4db,this.domNode))?_4da:_4db;
function _4dd(){
if(self.refocus&&_4dc){
_4dc.focus();
}
pm.close(self);
};
pm.open({popup:this,x:_4d6.x,y:_4d6.y,onExecute:_4dd,onCancel:_4dd,orient:this.isLeftToRight()?"L":"R"});
this.focus();
if(!_4d7){
this.defer(function(){
this._cleanUp(true);
});
}
this._onBlur=function(){
this.inherited("_onBlur",arguments);
pm.close(this);
};
},destroy:function(){
_4ba.forEach(this._bindings,function(b){
if(b){
this.unBindDomNode(b.node);
}
},this);
this.inherited(arguments);
}});
});
},"dijit/_base/window":function(){
define(["dojo/window","../main"],function(_4de,_4df){
_4df.getDocumentWindow=function(doc){
return _4de.get(doc);
};
});
},"dojo/data/ObjectStore":function(){
define(["../_base/lang","../Evented","../_base/declare","../_base/Deferred","../_base/array","../_base/connect","../regexp"],function(lang,_4e0,_4e1,_4e2,_4e3,_4e4,_4e5){
function _4e6(_4e7){
return _4e7=="*"?".*":_4e7=="?"?".":_4e7;
};
return _4e1("dojo.data.ObjectStore",[_4e0],{objectStore:null,constructor:function(_4e8){
this._dirtyObjects=[];
if(_4e8.labelAttribute){
_4e8.labelProperty=_4e8.labelAttribute;
}
lang.mixin(this,_4e8);
},labelProperty:"label",getValue:function(item,_4e9,_4ea){
return typeof item.get==="function"?item.get(_4e9):_4e9 in item?item[_4e9]:_4ea;
},getValues:function(item,_4eb){
var val=this.getValue(item,_4eb);
return val instanceof Array?val:val===undefined?[]:[val];
},getAttributes:function(item){
var res=[];
for(var i in item){
if(item.hasOwnProperty(i)&&!(i.charAt(0)=="_"&&i.charAt(1)=="_")){
res.push(i);
}
}
return res;
},hasAttribute:function(item,_4ec){
return _4ec in item;
},containsValue:function(item,_4ed,_4ee){
return _4e3.indexOf(this.getValues(item,_4ed),_4ee)>-1;
},isItem:function(item){
return (typeof item=="object")&&item&&!(item instanceof Date);
},isItemLoaded:function(item){
return item&&typeof item.load!=="function";
},loadItem:function(args){
var item;
if(typeof args.item.load==="function"){
_4e2.when(args.item.load(),function(_4ef){
item=_4ef;
var func=_4ef instanceof Error?args.onError:args.onItem;
if(func){
func.call(args.scope,_4ef);
}
});
}else{
if(args.onItem){
args.onItem.call(args.scope,args.item);
}
}
return item;
},close:function(_4f0){
return _4f0&&_4f0.abort&&_4f0.abort();
},fetch:function(args){
args=lang.delegate(args,args&&args.queryOptions);
var self=this;
var _4f1=args.scope||self;
var _4f2=args.query;
if(typeof _4f2=="object"){
_4f2=lang.delegate(_4f2);
for(var i in _4f2){
var _4f3=_4f2[i];
if(typeof _4f3=="string"){
_4f2[i]=RegExp("^"+_4e5.escapeString(_4f3,"*?\\").replace(/\\.|\*|\?/g,_4e6)+"$",args.ignoreCase?"mi":"m");
_4f2[i].toString=(function(_4f4){
return function(){
return _4f4;
};
})(_4f3);
}
}
}
var _4f5=this.objectStore.query(_4f2,args);
_4e2.when(_4f5.total,function(_4f6){
_4e2.when(_4f5,function(_4f7){
if(args.onBegin){
args.onBegin.call(_4f1,_4f6||_4f7.length,args);
}
if(args.onItem){
for(var i=0;i<_4f7.length;i++){
args.onItem.call(_4f1,_4f7[i],args);
}
}
if(args.onComplete){
args.onComplete.call(_4f1,args.onItem?null:_4f7,args);
}
return _4f7;
},_4f8);
},_4f8);
function _4f8(_4f9){
if(args.onError){
args.onError.call(_4f1,_4f9,args);
}
};
args.abort=function(){
if(_4f5.cancel){
_4f5.cancel();
}
};
if(_4f5.observe){
if(this.observing){
this.observing.cancel();
}
this.observing=_4f5.observe(function(_4fa,_4fb,_4fc){
if(_4e3.indexOf(self._dirtyObjects,_4fa)==-1){
if(_4fb==-1){
self.onNew(_4fa);
}else{
if(_4fc==-1){
self.onDelete(_4fa);
}else{
for(var i in _4fa){
if(i!=self.objectStore.idProperty){
self.onSet(_4fa,i,null,_4fa[i]);
}
}
}
}
}
},true);
}
this.onFetch(_4f5);
args.store=this;
return args;
},getFeatures:function(){
return {"dojo.data.api.Read":!!this.objectStore.get,"dojo.data.api.Identity":true,"dojo.data.api.Write":!!this.objectStore.put,"dojo.data.api.Notification":true};
},getLabel:function(item){
if(this.isItem(item)){
return this.getValue(item,this.labelProperty);
}
return undefined;
},getLabelAttributes:function(item){
return [this.labelProperty];
},getIdentity:function(item){
return this.objectStore.getIdentity?this.objectStore.getIdentity(item):item[this.objectStore.idProperty||"id"];
},getIdentityAttributes:function(item){
return [this.objectStore.idProperty];
},fetchItemByIdentity:function(args){
var item;
_4e2.when(this.objectStore.get(args.identity),function(_4fd){
item=_4fd;
args.onItem.call(args.scope,_4fd);
},function(_4fe){
args.onError.call(args.scope,_4fe);
});
return item;
},newItem:function(data,_4ff){
if(_4ff){
var _500=this.getValue(_4ff.parent,_4ff.attribute,[]);
_500=_500.concat([data]);
data.__parent=_500;
this.setValue(_4ff.parent,_4ff.attribute,_500);
}
this._dirtyObjects.push({object:data,save:true});
this.onNew(data);
return data;
},deleteItem:function(item){
this.changing(item,true);
this.onDelete(item);
},setValue:function(item,_501,_502){
var old=item[_501];
this.changing(item);
item[_501]=_502;
this.onSet(item,_501,old,_502);
},setValues:function(item,_503,_504){
if(!lang.isArray(_504)){
throw new Error("setValues expects to be passed an Array object as its value");
}
this.setValue(item,_503,_504);
},unsetAttribute:function(item,_505){
this.changing(item);
var old=item[_505];
delete item[_505];
this.onSet(item,_505,old,undefined);
},changing:function(_506,_507){
_506.__isDirty=true;
for(var i=0;i<this._dirtyObjects.length;i++){
var _508=this._dirtyObjects[i];
if(_506==_508.object){
if(_507){
_508.object=false;
if(!this._saveNotNeeded){
_508.save=true;
}
}
return;
}
}
var old=_506 instanceof Array?[]:{};
for(i in _506){
if(_506.hasOwnProperty(i)){
old[i]=_506[i];
}
}
this._dirtyObjects.push({object:!_507&&_506,old:old,save:!this._saveNotNeeded});
},save:function(_509){
_509=_509||{};
var _50a,_50b=[];
var _50c=[];
var self=this;
var _50d=this._dirtyObjects;
var left=_50d.length;
try{
_4e4.connect(_509,"onError",function(){
if(_509.revertOnError!==false){
var _50e=_50d;
_50d=_50c;
self.revert();
self._dirtyObjects=_50e;
}else{
self._dirtyObjects=_50d.concat(_50c);
}
});
if(this.objectStore.transaction){
var _50f=this.objectStore.transaction();
}
for(var i=0;i<_50d.length;i++){
var _510=_50d[i];
var _511=_510.object;
var old=_510.old;
delete _511.__isDirty;
if(_511){
_50a=this.objectStore.put(_511,{overwrite:!!old});
}else{
if(typeof old!="undefined"){
_50a=this.objectStore.remove(this.getIdentity(old));
}
}
_50c.push(_510);
_50d.splice(i--,1);
_4e2.when(_50a,function(_512){
if(!(--left)){
if(_509.onComplete){
_509.onComplete.call(_509.scope,_50b);
}
}
},function(_513){
left=-1;
_509.onError.call(_509.scope,_513);
});
}
if(_50f){
_50f.commit();
}
}
catch(e){
_509.onError.call(_509.scope,value);
}
},revert:function(){
var _514=this._dirtyObjects;
for(var i=_514.length;i>0;){
i--;
var _515=_514[i];
var _516=_515.object;
var old=_515.old;
if(_516&&old){
for(var j in old){
if(old.hasOwnProperty(j)&&_516[j]!==old[j]){
this.onSet(_516,j,_516[j],old[j]);
_516[j]=old[j];
}
}
for(j in _516){
if(!old.hasOwnProperty(j)){
this.onSet(_516,j,_516[j]);
delete _516[j];
}
}
}else{
if(!old){
this.onDelete(_516);
}else{
this.onNew(old);
}
}
delete (_516||old).__isDirty;
_514.splice(i,1);
}
},isDirty:function(item){
if(!item){
return !!this._dirtyObjects.length;
}
return item.__isDirty;
},onSet:function(){
},onNew:function(){
},onDelete:function(){
},onFetch:function(_517){
}});
});
},"dojo/store/Observable":function(){
define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(_518,lang,when,_519){
var _51a=function(_51b){
var _51c,_51d=[],_51e=0;
_51b=lang.delegate(_51b);
_51b.notify=function(_51f,_520){
_51e++;
var _521=_51d.slice();
for(var i=0,l=_521.length;i<l;i++){
_521[i](_51f,_520);
}
};
var _522=_51b.query;
_51b.query=function(_523,_524){
_524=_524||{};
var _525=_522.apply(this,arguments);
if(_525&&_525.forEach){
var _526=lang.mixin({},_524);
delete _526.start;
delete _526.count;
var _527=_51b.queryEngine&&_51b.queryEngine(_523,_526);
var _528=_51e;
var _529=[],_52a;
_525.observe=function(_52b,_52c){
if(_529.push(_52b)==1){
_51d.push(_52a=function(_52d,_52e){
when(_525,function(_52f){
var _530=_52f.length!=_524.count;
var i,l,_52b;
if(++_528!=_51e){
throw new Error("Query is out of date, you must observe() the query prior to any data modifications");
}
var _531,_532=-1,_533=-1;
if(_52e!==_51c){
for(i=0,l=_52f.length;i<l;i++){
var _534=_52f[i];
if(_51b.getIdentity(_534)==_52e){
_531=_534;
_532=i;
if(_527||!_52d){
_52f.splice(i,1);
}
break;
}
}
}
if(_527){
if(_52d&&(_527.matches?_527.matches(_52d):_527([_52d]).length)){
var _535=_532>-1?_532:_52f.length;
_52f.splice(_535,0,_52d);
_533=_519.indexOf(_527(_52f),_52d);
_52f.splice(_535,1);
if((_524.start&&_533==0)||(!_530&&_533==_52f.length)){
_533=-1;
}else{
_52f.splice(_533,0,_52d);
}
}
}else{
if(_52d){
if(_52e!==_51c){
_533=_532;
}else{
if(!_524.start){
_533=_51b.defaultIndex||0;
_52f.splice(_533,0,_52d);
}
}
}
}
if((_532>-1||_533>-1)&&(_52c||!_527||(_532!=_533))){
var _536=_529.slice();
for(i=0;_52b=_536[i];i++){
_52b(_52d||_531,_532,_533);
}
}
});
});
}
var _537={};
_537.remove=_537.cancel=function(){
var _538=_519.indexOf(_529,_52b);
if(_538>-1){
_529.splice(_538,1);
if(!_529.length){
_51d.splice(_519.indexOf(_51d,_52a),1);
}
}
};
return _537;
};
}
return _525;
};
var _539;
function _53a(_53b,_53c){
var _53d=_51b[_53b];
if(_53d){
_51b[_53b]=function(_53e){
if(_539){
return _53d.apply(this,arguments);
}
_539=true;
try{
var _53f=_53d.apply(this,arguments);
when(_53f,function(_540){
_53c((typeof _540=="object"&&_540)||_53e);
});
return _53f;
}
finally{
_539=false;
}
};
}
};
_53a("put",function(_541){
_51b.notify(_541,_51b.getIdentity(_541));
});
_53a("add",function(_542){
_51b.notify(_542);
});
_53a("remove",function(id){
_51b.notify(undefined,id);
});
return _51b;
};
lang.setObject("dojo.store.Observable",_51a);
return _51a;
});
},"dijit/form/MappedTextBox":function(){
define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(_543,has,_544,_545){
return _543("dijit.form.MappedTextBox",_545,{postMixInProperties:function(){
this.inherited(arguments);
this.nameAttrSetting="";
},_setNameAttr:"valueNode",serialize:function(val){
return val.toString?val.toString():"";
},toString:function(){
var val=this.filter(this.get("value"));
return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";
},validate:function(){
this.valueNode.value=this.toString();
return this.inherited(arguments);
},buildRendering:function(){
this.inherited(arguments);
this.valueNode=_544.place("<input type='hidden'"+((this.name&&!has("msapp"))?" name=\""+this.name.replace(/"/g,"&quot;")+"\"":"")+"/>",this.textbox,"after");
},reset:function(){
this.valueNode.value="";
this.inherited(arguments);
}});
});
},"dojox/grid/util":function(){
define(["../main","dojo/_base/lang","dojo/dom"],function(_546,lang,dom){
var dgu=lang.getObject("grid.util",true,_546);
dgu.na="...";
dgu.rowIndexTag="gridRowIndex";
dgu.gridViewTag="gridView";
dgu.fire=function(ob,ev,args){
var fn=ob&&ev&&ob[ev];
return fn&&(args?fn.apply(ob,args):ob[ev]());
};
dgu.setStyleHeightPx=function(_547,_548){
if(_548>=0){
var s=_547.style;
var v=_548+"px";
if(_547&&s["height"]!=v){
s["height"]=v;
}
}
};
dgu.mouseEvents=["mouseover","mouseout","mousedown","mouseup","click","dblclick","contextmenu"];
dgu.keyEvents=["keyup","keydown","keypress"];
dgu.funnelEvents=function(_549,_54a,_54b,_54c){
var evts=(_54c?_54c:dgu.mouseEvents.concat(dgu.keyEvents));
for(var i=0,l=evts.length;i<l;i++){
_54a.connect(_549,"on"+evts[i],_54b);
}
};
dgu.removeNode=function(_54d){
_54d=dom.byId(_54d);
_54d&&_54d.parentNode&&_54d.parentNode.removeChild(_54d);
return _54d;
};
dgu.arrayCompare=function(inA,inB){
for(var i=0,l=inA.length;i<l;i++){
if(inA[i]!=inB[i]){
return false;
}
}
return (inA.length==inB.length);
};
dgu.arrayInsert=function(_54e,_54f,_550){
if(_54e.length<=_54f){
_54e[_54f]=_550;
}else{
_54e.splice(_54f,0,_550);
}
};
dgu.arrayRemove=function(_551,_552){
_551.splice(_552,1);
};
dgu.arraySwap=function(_553,inI,inJ){
var _554=_553[inI];
_553[inI]=_553[inJ];
_553[inJ]=_554;
};
return dgu;
});
},"dojox/layout/ContentPane":function(){
define(["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(lang,_555,_556,_557,_558){
return _558("dojox.layout.ContentPane",_556,{adjustPaths:false,cleanContent:false,renderStyles:false,executeScripts:true,scriptHasHooks:false,ioMethod:_555.get,ioArgs:{},onExecError:function(e){
},_setContent:function(cont){
var _559=this._contentSetter;
if(!(_559&&_559 instanceof _557._ContentSetter)){
_559=this._contentSetter=new _557._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){
var _55a=this.onContentError(e);
try{
this.containerNode.innerHTML=_55a;
}
catch(e){
console.error("Fatal "+this.id+" could not change content due to "+e.message,e);
}
})});
}
this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};
this.inherited("_setContent",arguments);
}});
});
},"dojox/grid/_RowManager":function(){
define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class"],function(_55b,lang,_55c){
var _55d=function(_55e,_55f){
if(_55e.style.cssText==undefined){
_55e.setAttribute("style",_55f);
}else{
_55e.style.cssText=_55f;
}
};
return _55b("dojox.grid._RowManager",null,{constructor:function(_560){
this.grid=_560;
},linesToEms:2,overRow:-2,prepareStylingRow:function(_561,_562){
return {index:_561,node:_562,odd:Boolean(_561&1),selected:!!this.grid.selection.isSelected(_561),over:this.isOver(_561),customStyles:"",customClasses:"dojoxGridRow"};
},styleRowNode:function(_563,_564){
var row=this.prepareStylingRow(_563,_564);
this.grid.onStyleRow(row);
this.applyStyles(row);
},applyStyles:function(_565){
var i=_565;
i.node.className=i.customClasses;
var h=i.node.style.height;
_55d(i.node,i.customStyles+";"+(i.node._style||""));
i.node.style.height=h;
},updateStyles:function(_566){
this.grid.updateRowStyles(_566);
},setOverRow:function(_567){
var last=this.overRow;
this.overRow=_567;
if((last!=this.overRow)&&(lang.isString(last)||last>=0)){
this.updateStyles(last);
}
this.updateStyles(this.overRow);
},isOver:function(_568){
return (this.overRow==_568&&!_55c.contains(this.grid.domNode,"dojoxGridColumnResizing"));
}});
});
},"manager/Dialog":function(){
require({cache:{"url:manager/templates/Dialog.html":"<div class=\"mBoxPaneDialog mElement\" role=\"dialog\" aria-labelledby=\"${id}_title\"  cleanContent=\"true\">\n    <div >\n\t<span></span>\n\t<span dojoAttachPoint=\"closeButtonNode\"></span>\n    </div>  \n<div  id=\"${id}_container\" dojoAttachPoint=\"containerNode\"></div>\n</div>\n"}});
define("manager/Dialog",["dojo/_base/declare","dojo/_base/window","dojo/_base/lang","dojo/aspect","dojo/dom-geometry","dojo/query","dojo/has","dojo/topic","dojo/dom-class","dojo/dom-style","dijit/Dialog","dojo/dnd/Moveable","manager/ElementPane","dojo/text!./templates/Dialog.html"],function(_569,_56a,lang,_56b,_56c,_56d,has,_56e,_56f,_570,_571,_572,_573,_574){
return _569("Manager.Dialog",[_571,_573],{widgetsInTemplate:true,templateString:_574,enableDrag:function(){
var node=this.domNode;
var _575=_56d(" > form div div *",this.containerNode.id);
var _576=_575.shift();
if(_576&&this.draggable){
this._moveable=new ((has("ie")==6)?TimedMoveable:_572)(node,{handle:_576});
_56b.after(this._moveable,"onMoveStop",lang.hitch(this,"_endDrag"),true);
}else{
_56f.add(node,"dijitDialogFixed");
}
}});
});
},"dojo/dnd/Moveable":function(){
define(["../_base/array","../_base/declare","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(_577,_578,lang,dom,_579,_57a,on,_57b,_57c,dnd,_57d,win){
var _57e=_578("dojo.dnd.Moveable",[_57a],{handle:"",delay:0,skip:false,constructor:function(node,_57f){
this.node=dom.byId(node);
if(!_57f){
_57f={};
}
this.handle=_57f.handle?dom.byId(_57f.handle):null;
if(!this.handle){
this.handle=this.node;
}
this.delay=_57f.delay>0?_57f.delay:0;
this.skip=_57f.skip;
this.mover=_57f.mover?_57f.mover:_57d;
this.events=[on(this.handle,_57c.press,lang.hitch(this,"onMouseDown")),on(this.handle,"dragstart",lang.hitch(this,"onSelectStart")),on(this.handle,"selectstart",lang.hitch(this,"onSelectStart"))];
},markupFactory:function(_580,node,Ctor){
return new Ctor(node,_580);
},destroy:function(){
_577.forEach(this.events,function(_581){
_581.remove();
});
this.events=this.node=this.handle=null;
},onMouseDown:function(e){
if(this.skip&&dnd.isFormElement(e)){
return;
}
if(this.delay){
this.events.push(on(this.handle,_57c.move,lang.hitch(this,"onMouseMove")),on(this.handle,_57c.release,lang.hitch(this,"onMouseUp")));
this._lastX=e.pageX;
this._lastY=e.pageY;
}else{
this.onDragDetected(e);
}
e.stopPropagation();
e.preventDefault();
},onMouseMove:function(e){
if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){
this.onMouseUp(e);
this.onDragDetected(e);
}
e.stopPropagation();
e.preventDefault();
},onMouseUp:function(e){
for(var i=0;i<2;++i){
this.events.pop().remove();
}
e.stopPropagation();
e.preventDefault();
},onSelectStart:function(e){
if(!this.skip||!dnd.isFormElement(e)){
e.stopPropagation();
e.preventDefault();
}
},onDragDetected:function(e){
new this.mover(this.node,e,this);
},onMoveStart:function(_582){
_57b.publish("/dnd/move/start",_582);
_579.add(win.body(),"dojoMove");
_579.add(this.node,"dojoMoveItem");
},onMoveStop:function(_583){
_57b.publish("/dnd/move/stop",_583);
_579.remove(win.body(),"dojoMove");
_579.remove(this.node,"dojoMoveItem");
},onFirstMove:function(){
},onMove:function(_584,_585){
this.onMoving(_584,_585);
var s=_584.node.style;
s.left=_585.l+"px";
s.top=_585.t+"px";
this.onMoved(_584,_585);
},onMoving:function(){
},onMoved:function(){
}});
return _57e;
});
},"dojo/store/util/QueryResults":function(){
define(["../../_base/array","../../_base/lang","../../when"],function(_586,lang,when){
var _587=function(_588){
if(!_588){
return _588;
}
if(_588.then){
_588=lang.delegate(_588);
}
function _589(_58a){
if(!_588[_58a]){
_588[_58a]=function(){
var args=arguments;
return when(_588,function(_58b){
Array.prototype.unshift.call(args,_58b);
return _587(_586[_58a].apply(_586,args));
});
};
}
};
_589("forEach");
_589("filter");
_589("map");
if(!_588.total){
_588.total=when(_588,function(_58c){
return _58c.length;
});
}
return _588;
};
lang.setObject("dojo.store.util.QueryResults",_587);
return _587;
});
},"xstyle/load-css":function(){
define([],function(){
"use strict";
var _58d="onreadystatechange",_58e="onload",_58f="createElement",_590=false,doc=document,_591=typeof _css_cache=="undefined"?{}:_css_cache,_592,_593={"event-link-onload":false,"dom-create-style-element":!document.createStyleSheet},head=doc.head||(doc.head=doc.getElementsByTagName("head")[0]);
function has(_594){
return _593[_594];
};
function _595(doc,_596){
var link=doc[_58f]("link");
link.rel="stylesheet";
link.type="text/css";
if(_596){
link.href=_596;
}
return link;
};
function _597(name,_598){
return name.lastIndexOf(".")<=name.lastIndexOf("/")?name+"."+_598:name;
};
function _599(name){
var _59a=name.split("!"),suf,i=1,pair;
while((suf=_59a[i++])){
pair=suf.split("=",2);
_59a[pair[0]]=pair.length==2?pair[1]:true;
}
return _59a;
};
if(!has("bundled-css")){
var _59b=function(_59c,cb){
if(require.onError){
require.onError=(function(orig){
return function(){
_590=true;
orig.apply(this,arguments);
};
})(require.onError);
}
function _59d(_59e,cb){
var link=_59e.link;
link[_58d]=link[_58e]=function(){
if(!link.readyState||link.readyState=="complete"){
_593["event-link-onload"]=true;
_59f(_59e);
cb();
}
};
};
var _5a0;
function _5a1(){
if(!_5a0){
_5a0=document[_58f]("div");
_5a0.id="_cssx_load_test";
_5a0.style.cssText="position:absolute;top:-999px;left:-999px;";
doc.body.appendChild(_5a0);
}
return doc.defaultView.getComputedStyle(_5a0,null).marginTop=="-5px";
};
function _5a2(link){
var _5a3,_5a4,_5a5=false;
try{
_5a3=link.sheet||link.styleSheet;
if(_5a3){
_5a4=_5a3.cssRules||_5a3.rules;
_5a5=_5a4?_5a4.length>0:_5a4!==_592;
if(_5a5&&navigator.userAgent.indexOf("Chrome")>=0){
_5a3.insertRule("#_cssx_load_test{margin-top:-5px;}",0);
_5a5=_5a1();
_5a3.deleteRule(0);
}
}
}
catch(ex){
_5a5=(ex.code==1000)||(ex.message.match(/security|denied/i));
}
return _5a5;
};
function _5a6(_5a7,cb){
if(_5a2(_5a7.link)){
_59f(_5a7);
cb();
}else{
if(!_590){
setTimeout(function(){
_5a6(_5a7,cb);
},_5a7.wait);
}
}
};
function _59f(_5a8){
var link=_5a8.link;
link[_58d]=link[_58e]=null;
};
var _5a9;
function _5aa(){
if(!_5a9){
_5a9=true;
cb();
}
};
_59d(_59c,_5aa);
if(!has("event-link-onload")){
_5a6(_59c,_5aa);
}
};
}
function _5ab(css){
if(has("dom-create-style-element")){
_5ac=document.createElement("style");
_5ac.setAttribute("type","text/css");
_5ac.appendChild(document.createTextNode(css));
head.insertBefore(_5ac,head.firstChild);
return _5ac;
}else{
var _5ac=document.createStyleSheet();
_5ac.cssText=css;
return _5ac.owningElement;
}
};
return function(_5ad,_5ae,_5af){
var _5b0=_5ad.split(","),_5b1=_5b0.length,_5b2=function(){
if(--_5b1==0){
_5ae(link.sheet||link.styleSheet);
}
};
for(var i=0,_5b3;i<_5b0.length;i++,_5b3=url){
_5ad=_5b0[i];
var _5b4=_591[_5ad];
if(_5b4){
link=_5ab(_5b4);
return _5b2();
}
var opts=_599(_5ad),name=opts.shift(),url=_597(name,"css"),link=_595(doc),_5b5="nowait" in opts?opts.nowait!="false":!!(_5af&&_5af.cssDeferLoad),_5b6={link:link,url:url,wait:_5af&&_5af.cssWatchPeriod||50};
_59b(_5b6,_5b2);
if(_5b5){
_5ae(link);
}
link.href=url;
head.appendChild(link);
}
};
});
},"dijit/form/CheckBox":function(){
define(["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom","../a11yclick"],function(_5b7,_5b8,_5b9,has,_5ba,_5bb,_5bc,_5bd,_5be){
if(has("dijit-legacy-requires")){
_5bb(0,function(){
var _5bf=["dijit/form/RadioButton"];
_5b7(_5bf);
});
}
return _5b8("dijit.form.CheckBox",[_5bc,_5bd],{templateString:_5be,baseClass:"dijitCheckBox",_setValueAttr:function(_5c0,_5c1){
if(typeof _5c0=="string"){
this.inherited(arguments);
_5c0=true;
}
if(this._created){
this.set("checked",_5c0,_5c1);
}
},_getValueAttr:function(){
return this.checked&&this._get("value");
},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){
this.inherited(arguments);
this.checkedAttrSetting="";
},_fillContent:function(){
},_onFocus:function(){
if(this.id){
_5ba("label[for='"+this.id+"']").addClass("dijitFocusedLabel");
}
this.inherited(arguments);
},_onBlur:function(){
if(this.id){
_5ba("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");
}
this.inherited(arguments);
}});
});
},"dijit/nls/common":function(){
define({root:({buttonOk:"OK",buttonCancel:"Cancel",buttonSave:"Save",itemClose:"Close"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});
},"dijit/nls/pt/common":function(){
define(({buttonOk:"OK",buttonCancel:"Cancelar",buttonSave:"Salvar",itemClose:"Fechar"}));
},"dijit/nls/pt/common":function(){
define(({buttonOk:"OK",buttonCancel:"Cancelar",buttonSave:"Salvar",itemClose:"Fechar"}));
},"dijit/form/DropDownButton":function(){
define(["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(_5c2,lang,_5c3,_5c4,_5c5,_5c6,_5c7,_5c8,_5c9){
return _5c2("dijit.form.DropDownButton",[_5c6,_5c7,_5c8],{baseClass:"dijitDropDownButton",templateString:_5c9,_fillContent:function(){
if(this.srcNodeRef){
var _5ca=_5c3("*",this.srcNodeRef);
this.inherited(arguments,[_5ca[0]]);
this.dropDownContainer=this.srcNodeRef;
}
},startup:function(){
if(this._started){
return;
}
if(!this.dropDown&&this.dropDownContainer){
var _5cb=_5c3("[widgetId]",this.dropDownContainer)[0];
if(_5cb){
this.dropDown=_5c4.byNode(_5cb);
}
delete this.dropDownContainer;
}
if(this.dropDown){
_5c5.hide(this.dropDown);
}
this.inherited(arguments);
},isLoaded:function(){
var _5cc=this.dropDown;
return (!!_5cc&&(!_5cc.href||_5cc.isLoaded));
},loadDropDown:function(_5cd){
var _5ce=this.dropDown;
var _5cf=_5ce.on("load",lang.hitch(this,function(){
_5cf.remove();
_5cd();
}));
_5ce.refresh();
},isFocusable:function(){
return this.inherited(arguments)&&!this._mouseDown;
}});
});
},"dijit/_base/scroll":function(){
define(["dojo/window","../main"],function(_5d0,_5d1){
_5d1.scrollIntoView=function(node,pos){
_5d0.scrollIntoView(node,pos);
};
});
},"manager/Utils":function(){
define(["dijit","dojo","dojox"],function(_5d2,dojo,_5d3){
function _5d4(_5d5){
var _5d6=/^([\w\W]*)(\b\s*)$/;
if(_5d6.test(_5d5)){
_5d5=_5d5.replace(_5d6,"$1");
}
return _5d5;
};
function _5d7(_5d8){
var _5d9=/^(\s*)(\b[\w\W]*)$/;
if(_5d9.test(_5d8)){
_5d8=_5d8.replace(_5d9,"$2");
}
return _5d8;
};
function _5da(_5db){
var _5dc=/^(\s*)$/;
if(_5dc.test(_5db)){
_5db=_5db.replace(_5dc,"");
if(_5db.length==0){
return _5db;
}
}
_5dc=/^(\s*)([\W\w]*)(\b\s*$)/;
if(_5dc.test(_5db)){
_5db=_5db.replace(_5dc,"$2");
}
return _5db;
};
function _5dd(_5de){
var _5df=/,/g;
return _5de.replace(_5df,"");
};
function _5e0(_5e1){
var _5e2=new RegExp("(-?[0-9]+)([0-9]{3})");
while(_5e2.test(_5e1)){
_5e1=_5e1.replace(_5e2,"$1,$2");
}
return _5e1;
};
function _5e3(_5e4){
var _5e5=new RegExp("(-?[0-9]+)([0-9]{3})");
while(_5e5.test(_5e4)){
_5e4=_5e4.replace(_5e5,"$1.$2");
}
return _5e4;
};
function _5e6(_5e7,_5e8){
var _5e9=new RegExp(_5e8,"gi");
return _5e7.replace(_5e9,"");
};
function _5ea(_5eb){
_5eb=_5eb.replace(/\u2013/g,"-");
_5eb=_5eb.replace(/\u201A/g,"'");
_5eb=_5eb.replace(/\u201E/g,"\"");
_5eb=_5eb.replace(/\u02C6/g,"^");
_5eb=_5eb.replace(/\u2018/g,"'");
_5eb=_5eb.replace(/\u2019/g,"'");
_5eb=_5eb.replace(/\u201D/g,"\"");
_5eb=_5eb.replace(/\u201C/g,"\"");
_5eb=_5eb.replace(/\u2022/g,".");
_5eb=_5eb.replace(/\u2014/g,"-");
_5eb=_5eb.replace(/\u02DC/g,"~");
return _5eb;
};
function _5ec(id){
manager.getElementById(id).value=_5ea(manager.getElementById(id).value);
};
function _5ed(_5ee,_5ef,_5f0,_5f1){
var half="",_5f2;
var _5f3=function(s,len){
var _5f4="",i;
while(_5f4.length<len){
_5f4+=s;
}
_5f4=_5f4.substr(0,len);
return _5f4;
};
_5ee+="";
_5f0=_5f0!==undefined?_5f0:" ";
if(_5f1!="STR_PAD_LEFT"&&_5f1!="STR_PAD_RIGHT"&&_5f1!="STR_PAD_BOTH"){
_5f1="STR_PAD_RIGHT";
}
if((_5f2=_5ef-_5ee.length)>0){
if(_5f1=="STR_PAD_LEFT"){
_5ee=_5f3(_5f0,_5f2)+_5ee;
}else{
if(_5f1=="STR_PAD_RIGHT"){
_5ee=_5ee+_5f3(_5f0,_5f2);
}else{
if(_5f1=="STR_PAD_BOTH"){
half=_5f3(_5f0,Math.ceil(_5f2/2));
_5ee=half+_5ee+half;
_5ee=_5ee.substr(0,_5ef);
}
}
}
}
return _5ee;
};
});
},"dojo/regexp":function(){
define(["./_base/kernel","./_base/lang"],function(dojo,lang){
var _5f5={};
lang.setObject("dojo.regexp",_5f5);
_5f5.escapeString=function(str,_5f6){
return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){
if(_5f6&&_5f6.indexOf(ch)!=-1){
return ch;
}
return "\\"+ch;
});
};
_5f5.buildGroupRE=function(arr,re,_5f7){
if(!(arr instanceof Array)){
return re(arr);
}
var b=[];
for(var i=0;i<arr.length;i++){
b.push(re(arr[i]));
}
return _5f5.group(b.join("|"),_5f7);
};
_5f5.group=function(_5f8,_5f9){
return "("+(_5f9?"?:":"")+_5f8+")";
};
return _5f5;
});
},"dojox/grid/_FocusManager":function(){
define(["dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojo/_base/event","dojo/_base/sniff","dojo/query","./util","dojo/_base/html"],function(_5fa,lang,_5fb,_5fc,_5fd,has,_5fe,util,html){
return _5fb("dojox.grid._FocusManager",null,{constructor:function(_5ff){
this.grid=_5ff;
this.cell=null;
this.rowIndex=-1;
this._connects=[];
this._headerConnects=[];
this.headerMenu=this.grid.headerMenu;
this._connects.push(_5fc.connect(this.grid.domNode,"onfocus",this,"doFocus"));
this._connects.push(_5fc.connect(this.grid.domNode,"onblur",this,"doBlur"));
this._connects.push(_5fc.connect(this.grid.domNode,"mousedown",this,"_mouseDown"));
this._connects.push(_5fc.connect(this.grid.domNode,"mouseup",this,"_mouseUp"));
this._connects.push(_5fc.connect(this.grid.domNode,"oncontextmenu",this,"doContextMenu"));
this._connects.push(_5fc.connect(this.grid.lastFocusNode,"onfocus",this,"doLastNodeFocus"));
this._connects.push(_5fc.connect(this.grid.lastFocusNode,"onblur",this,"doLastNodeBlur"));
this._connects.push(_5fc.connect(this.grid,"_onFetchComplete",this,"_delayedCellFocus"));
this._connects.push(_5fc.connect(this.grid,"postrender",this,"_delayedHeaderFocus"));
},destroy:function(){
_5fa.forEach(this._connects,_5fc.disconnect);
_5fa.forEach(this._headerConnects,_5fc.disconnect);
delete this.grid;
delete this.cell;
},_colHeadNode:null,_colHeadFocusIdx:null,_contextMenuBindNode:null,tabbingOut:false,focusClass:"dojoxGridCellFocus",focusView:null,initFocusView:function(){
this.focusView=this.grid.views.getFirstScrollingView()||this.focusView||this.grid.views.views[0];
this._initColumnHeaders();
},isFocusCell:function(_600,_601){
return (this.cell==_600)&&(this.rowIndex==_601);
},isLastFocusCell:function(){
if(this.cell){
return (this.rowIndex==this.grid.rowCount-1)&&(this.cell.index==this.grid.layout.cellCount-1);
}
return false;
},isFirstFocusCell:function(){
if(this.cell){
return (this.rowIndex===0)&&(this.cell.index===0);
}
return false;
},isNoFocusCell:function(){
return (this.rowIndex<0)||!this.cell;
},isNavHeader:function(){
return (!!this._colHeadNode);
},getHeaderIndex:function(){
if(this._colHeadNode){
return _5fa.indexOf(this._findHeaderCells(),this._colHeadNode);
}else{
return -1;
}
},_focusifyCellNode:function(_602){
var n=this.cell&&this.cell.getNode(this.rowIndex);
if(n){
html.toggleClass(n,this.focusClass,_602);
if(_602){
var sl=this.scrollIntoView();
try{
if(has("webkit")||!this.grid.edit.isEditing()){
util.fire(n,"focus");
if(sl){
this.cell.view.scrollboxNode.scrollLeft=sl;
}
}
}
catch(e){
}
}
}
},_delayedCellFocus:function(){
if(this.isNavHeader()||!this.grid.focused){
return;
}
var n=this.cell&&this.cell.getNode(this.rowIndex);
if(n){
try{
if(!this.grid.edit.isEditing()){
html.toggleClass(n,this.focusClass,true);
if(this._colHeadNode){
this.blurHeader();
}
util.fire(n,"focus");
}
}
catch(e){
}
}
},_delayedHeaderFocus:function(){
if(this.isNavHeader()){
this.focusHeader();
}
},_initColumnHeaders:function(){
_5fa.forEach(this._headerConnects,_5fc.disconnect);
this._headerConnects=[];
var _603=this._findHeaderCells();
for(var i=0;i<_603.length;i++){
this._headerConnects.push(_5fc.connect(_603[i],"onfocus",this,"doColHeaderFocus"));
this._headerConnects.push(_5fc.connect(_603[i],"onblur",this,"doColHeaderBlur"));
}
},_findHeaderCells:function(){
var _604=_5fe("th",this.grid.viewsHeaderNode);
var _605=[];
for(var i=0;i<_604.length;i++){
var _606=_604[i];
var _607=html.hasAttr(_606,"tabIndex");
var _608=html.attr(_606,"tabIndex");
if(_607&&_608<0){
_605.push(_606);
}
}
return _605;
},_setActiveColHeader:function(_609,_60a,_60b){
this.grid.domNode.setAttribute("aria-activedescendant",_609.id);
if(_60b!=null&&_60b>=0&&_60b!=_60a){
html.toggleClass(this._findHeaderCells()[_60b],this.focusClass,false);
}
html.toggleClass(_609,this.focusClass,true);
this._colHeadNode=_609;
this._colHeadFocusIdx=_60a;
this._scrollHeader(this._colHeadFocusIdx);
},scrollIntoView:function(){
var info=(this.cell?this._scrollInfo(this.cell):null);
if(!info||!info.s){
return null;
}
var rt=this.grid.scroller.findScrollTop(this.rowIndex);
if(info.n&&info.sr){
if(info.n.offsetLeft+info.n.offsetWidth>info.sr.l+info.sr.w){
info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;
}else{
if(info.n.offsetLeft<info.sr.l){
info.s.scrollLeft=info.n.offsetLeft;
}
}
}
if(info.r&&info.sr){
if(rt+info.r.offsetHeight>info.sr.t+info.sr.h){
this.grid.setScrollTop(rt+info.r.offsetHeight-info.sr.h);
}else{
if(rt<info.sr.t){
this.grid.setScrollTop(rt);
}
}
}
return info.s.scrollLeft;
},_scrollInfo:function(cell,_60c){
if(cell){
var cl=cell,sbn=cl.view.scrollboxNode,sbnr={w:sbn.clientWidth,l:sbn.scrollLeft,t:sbn.scrollTop,h:sbn.clientHeight},rn=cl.view.getRowNode(this.rowIndex);
return {c:cl,s:sbn,sr:sbnr,n:(_60c?_60c:cell.getNode(this.rowIndex)),r:rn};
}
return null;
},_scrollHeader:function(_60d){
var info=null;
if(this._colHeadNode){
var cell=this.grid.getCell(_60d);
if(!cell){
return;
}
info=this._scrollInfo(cell,cell.getNode(0));
}
if(info&&info.s&&info.sr&&info.n){
var _60e=info.sr.l+info.sr.w;
if(info.n.offsetLeft+info.n.offsetWidth>_60e){
info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;
}else{
if(info.n.offsetLeft<info.sr.l){
info.s.scrollLeft=info.n.offsetLeft;
}else{
if(has("ie")<=7&&cell&&cell.view.headerNode){
cell.view.headerNode.scrollLeft=info.s.scrollLeft;
}
}
}
}
},_isHeaderHidden:function(){
var _60f=this.focusView;
if(!_60f){
for(var i=0,_610;(_610=this.grid.views.views[i]);i++){
if(_610.headerNode){
_60f=_610;
break;
}
}
}
return (_60f&&html.getComputedStyle(_60f.headerNode).display=="none");
},colSizeAdjust:function(e,_611,_612){
var _613=this._findHeaderCells();
var view=this.focusView;
if(!view||!view.header.tableMap.map){
for(var i=0,_614;(_614=this.grid.views.views[i]);i++){
if(_614.header.tableMap.map){
view=_614;
break;
}
}
}
var _615=_613[_611];
if(!view||(_611==_613.length-1&&_611===0)){
return;
}
view.content.baseDecorateEvent(e);
e.cellNode=_615;
e.cellIndex=view.content.getCellNodeIndex(e.cellNode);
e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);
if(view.header.canResize(e)){
var _616={l:_612};
var drag=view.header.colResizeSetup(e,false);
view.header.doResizeColumn(drag,null,_616);
view.update();
}
},styleRow:function(_617){
return;
},setFocusIndex:function(_618,_619){
this.setFocusCell(this.grid.getCell(_619),_618);
},setFocusCell:function(_61a,_61b){
if(_61a&&!this.isFocusCell(_61a,_61b)){
this.tabbingOut=false;
if(this._colHeadNode){
this.blurHeader();
}
this._colHeadNode=this._colHeadFocusIdx=null;
this.focusGridView();
this._focusifyCellNode(false);
this.cell=_61a;
this.rowIndex=_61b;
this._focusifyCellNode(true);
}
if(has("opera")){
setTimeout(lang.hitch(this.grid,"onCellFocus",this.cell,this.rowIndex),1);
}else{
this.grid.onCellFocus(this.cell,this.rowIndex);
}
},next:function(){
if(this.cell){
var row=this.rowIndex,col=this.cell.index+1,cc=this.grid.layout.cellCount-1,rc=this.grid.rowCount-1;
if(col>cc){
col=0;
row++;
}
if(row>rc){
col=cc;
row=rc;
}
if(this.grid.edit.isEditing()){
var _61c=this.grid.getCell(col);
if(!this.isLastFocusCell()&&(!_61c.editable||this.grid.canEdit&&!this.grid.canEdit(_61c,row))){
this.cell=_61c;
this.rowIndex=row;
this.next();
return;
}
}
this.setFocusIndex(row,col);
}
},previous:function(){
if(this.cell){
var row=(this.rowIndex||0),col=(this.cell.index||0)-1;
if(col<0){
col=this.grid.layout.cellCount-1;
row--;
}
if(row<0){
row=0;
col=0;
}
if(this.grid.edit.isEditing()){
var _61d=this.grid.getCell(col);
if(!this.isFirstFocusCell()&&!_61d.editable){
this.cell=_61d;
this.rowIndex=row;
this.previous();
return;
}
}
this.setFocusIndex(row,col);
}
},move:function(_61e,_61f){
var _620=_61f<0?-1:1;
if(this.isNavHeader()){
var _621=this._findHeaderCells();
var _622=currentIdx=_5fa.indexOf(_621,this._colHeadNode);
currentIdx+=_61f;
while(currentIdx>=0&&currentIdx<_621.length&&_621[currentIdx].style.display=="none"){
currentIdx+=_620;
}
if((currentIdx>=0)&&(currentIdx<_621.length)){
this._setActiveColHeader(_621[currentIdx],currentIdx,_622);
}
}else{
if(this.cell){
var sc=this.grid.scroller,r=this.rowIndex,rc=this.grid.rowCount-1,row=Math.min(rc,Math.max(0,r+_61e));
if(_61e){
if(_61e>0){
if(row>sc.getLastPageRow(sc.page)){
this.grid.setScrollTop(this.grid.scrollTop+sc.findScrollTop(row)-sc.findScrollTop(r));
}
}else{
if(_61e<0){
if(row<=sc.getPageRow(sc.page)){
this.grid.setScrollTop(this.grid.scrollTop-sc.findScrollTop(r)-sc.findScrollTop(row));
}
}
}
}
var cc=this.grid.layout.cellCount-1,i=this.cell.index,col=Math.min(cc,Math.max(0,i+_61f));
var cell=this.grid.getCell(col);
while(col>=0&&col<cc&&cell&&cell.hidden===true){
col+=_620;
cell=this.grid.getCell(col);
}
if(!cell||cell.hidden===true){
col=i;
}
var n=cell.getNode(row);
if(!n&&_61e){
if((row+_61e)>=0&&(row+_61e)<=rc){
this.move(_61e>0?++_61e:--_61e,_61f);
}
return;
}else{
if((!n||html.style(n,"display")==="none")&&_61f){
if((col+_61f)>=0&&(col+_61f)<=cc){
this.move(_61e,_61f>0?++_61f:--_61f);
}
return;
}
}
this.setFocusIndex(row,col);
if(_61e){
this.grid.updateRow(r);
}
}
}
},previousKey:function(e){
if(this.grid.edit.isEditing()){
_5fd.stop(e);
this.previous();
}else{
if(!this.isNavHeader()&&!this._isHeaderHidden()){
this.grid.domNode.focus();
_5fd.stop(e);
}else{
this.tabOut(this.grid.domNode);
if(this._colHeadFocusIdx!=null){
html.toggleClass(this._findHeaderCells()[this._colHeadFocusIdx],this.focusClass,false);
this._colHeadFocusIdx=null;
}
this._focusifyCellNode(false);
}
}
},nextKey:function(e){
var _623=(this.grid.rowCount===0);
if(e.target===this.grid.domNode&&this._colHeadFocusIdx==null){
this.focusHeader();
_5fd.stop(e);
}else{
if(this.isNavHeader()){
this.blurHeader();
if(!this.findAndFocusGridCell()){
this.tabOut(this.grid.lastFocusNode);
}
this._colHeadNode=this._colHeadFocusIdx=null;
}else{
if(this.grid.edit.isEditing()){
_5fd.stop(e);
this.next();
}else{
this.tabOut(this.grid.lastFocusNode);
}
}
}
},tabOut:function(_624){
this.tabbingOut=true;
_624.focus();
},focusGridView:function(){
util.fire(this.focusView,"focus");
},focusGrid:function(_625){
this.focusGridView();
this._focusifyCellNode(true);
},findAndFocusGridCell:function(){
var _626=true;
var _627=(this.grid.rowCount===0);
if(this.isNoFocusCell()&&!_627){
var _628=0;
var cell=this.grid.getCell(_628);
if(cell.hidden){
_628=this.isNavHeader()?this._colHeadFocusIdx:0;
}
this.setFocusIndex(0,_628);
}else{
if(this.cell&&!_627){
if(this.focusView&&!this.focusView.rowNodes[this.rowIndex]){
this.grid.scrollToRow(this.rowIndex);
}
this.focusGrid();
}else{
_626=false;
}
}
this._colHeadNode=this._colHeadFocusIdx=null;
return _626;
},focusHeader:function(){
var _629=this._findHeaderCells();
var _62a=this._colHeadFocusIdx;
if(this._isHeaderHidden()){
this.findAndFocusGridCell();
}else{
if(!this._colHeadFocusIdx){
if(this.isNoFocusCell()){
this._colHeadFocusIdx=0;
}else{
this._colHeadFocusIdx=this.cell.index;
}
}
}
this._colHeadNode=_629[this._colHeadFocusIdx];
while(this._colHeadNode&&this._colHeadFocusIdx>=0&&this._colHeadFocusIdx<_629.length&&this._colHeadNode.style.display=="none"){
this._colHeadFocusIdx++;
this._colHeadNode=_629[this._colHeadFocusIdx];
}
if(this._colHeadNode&&this._colHeadNode.style.display!="none"){
if(this.headerMenu&&this._contextMenuBindNode!=this.grid.domNode){
this.headerMenu.unBindDomNode(this.grid.viewsHeaderNode);
this.headerMenu.bindDomNode(this.grid.domNode);
this._contextMenuBindNode=this.grid.domNode;
}
this._setActiveColHeader(this._colHeadNode,this._colHeadFocusIdx,_62a);
this._scrollHeader(this._colHeadFocusIdx);
this._focusifyCellNode(false);
}else{
this.findAndFocusGridCell();
}
},blurHeader:function(){
html.removeClass(this._colHeadNode,this.focusClass);
html.removeAttr(this.grid.domNode,"aria-activedescendant");
if(this.headerMenu&&this._contextMenuBindNode==this.grid.domNode){
var _62b=this.grid.viewsHeaderNode;
this.headerMenu.unBindDomNode(this.grid.domNode);
this.headerMenu.bindDomNode(_62b);
this._contextMenuBindNode=_62b;
}
},doFocus:function(e){
if(e&&e.target!=e.currentTarget){
_5fd.stop(e);
return;
}
if(this._clickFocus){
return;
}
if(!this.tabbingOut){
this.focusHeader();
}
this.tabbingOut=false;
_5fd.stop(e);
},doBlur:function(e){
_5fd.stop(e);
},doContextMenu:function(e){
if(!this.headerMenu){
_5fd.stop(e);
}
},doLastNodeFocus:function(e){
if(this.tabbingOut){
this._focusifyCellNode(false);
}else{
if(this.grid.rowCount>0){
if(this.isNoFocusCell()){
this.setFocusIndex(0,0);
}
this._focusifyCellNode(true);
}else{
this.focusHeader();
}
}
this.tabbingOut=false;
_5fd.stop(e);
},doLastNodeBlur:function(e){
_5fd.stop(e);
},doColHeaderFocus:function(e){
this._setActiveColHeader(e.target,html.attr(e.target,"idx"),this._colHeadFocusIdx);
this._scrollHeader(this.getHeaderIndex());
_5fd.stop(e);
},doColHeaderBlur:function(e){
html.toggleClass(e.target,this.focusClass,false);
},_mouseDown:function(e){
this._clickFocus=dojo.some(this.grid.views.views,function(v){
return v.scrollboxNode===e.target;
});
},_mouseUp:function(e){
this._clickFocus=false;
}});
});
},"manager/Lookup":function(){
define("manager/Lookup",["dojo/_base/declare"],function(_62c){
return _62c("Manager.Lookup",[],{context:null,url:"",handle:null,constructor:function(){
this.obj=this;
},setContext:function(_62d){
this.context=_62d;
},start:function(){
this.url=this.context.action+"?__lookupName="+this.context.name;
if(this.context.filter!=""){
var _62e=this.context.filter.split(",");
for(var i=0;i<_62e.length;i++){
var id=_62e[i];
if(id!="none"){
if(field=dijit.byId(id)){
var _62f=field.get("value");
}else{
field=manager.getElementById(id);
var _62f=escape(field.value);
}
var _630=id;
this.url=this.url+"&"+_630+"="+_62f;
}
}
}
this.handle=dojo.subscribe(this.context.name,this,this.deliver);
if(this.context.autocomplete){
this.autocomplete();
}else{
this.open();
}
},open:function(){
var _631=this.context.name;
var _632=manager.getWindow(_631);
if(!_632){
manager.addWindow(_631);
}
manager.getWindow(_631).setHref(this.url);
manager.getWindow(_631).open();
},autocomplete:function(){
var _633=new manager.Ajax({url:this.url,response_type:"TEXT",parameters:{name:this.context.name,__ISAJAXCALL:"yes"},callback_function:function(_634,_635){
var args=_634;
var name=_635.args.content.name;
var _636=eval(name);
_636.deliver(name,0,args);
}});
_633.call();
},deliver:function(_637){
related=this.obj.context.related;
var _638=/(.*):([^:]*)/;
var _639=related.split(",");
for(var i=0;i<_639.length;i++){
var aId=_638.exec(_639[i])||Array(_639[i],_639[i]);
var _63a=(aId[2]?aId[2]:aId[1]);
var _63b=_637[_63a];
if(aId[1]!="none"){
var _63c=dijit.byId(aId[1]);
if(_63c!=null){
if(_63c.declaredClass==="Manager.DateTextBox"){
var _63d=_63b.split("/");
_63c.set("value",_63d[2]+"-"+_63d[1]+"-"+_63d[0]);
}else{
_63c.set("value",_63b);
}
}else{
_63c=manager.getElementById(aId[1]);
if(_63c!=null){
_63c.value=_63b;
_63c=manager.getElementById(_63c.name+"_sel");
if(_63c!=null){
_63c.value=_63b;
}
}
}
}
}
dojo.unsubscribe(this.handle);
manager.getWindow(this.obj.context.name).close();
}});
});
},"dijit/_TimePicker":function(){
define(["dojo/_base/array","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/query","dojo/mouse","dojo/on","./_WidgetBase","./form/_ListMouseMixin"],function(_63e,_63f,_640,_641,_642,_643,_644,_645,keys,lang,has,_646,_647,on,_648,_649){
var _64a=_642("dijit._TimePicker",[_648,_649],{baseClass:"dijitTimePicker",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",value:new Date(),_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:_641.toISOString,buildRendering:function(){
this.inherited(arguments);
this.containerNode=this.domNode;
this.timeMenu=this.domNode;
},setValue:function(_64b){
_645.deprecated("dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");
this.set("value",_64b);
},_setValueAttr:function(date){
this._set("value",date);
this._showText();
},_setFilterStringAttr:function(val){
this._set("filterString",val);
this._showText();
},isDisabledDate:function(){
return false;
},_getFilteredNodes:function(_64c,_64d,_64e,_64f){
var _650=[];
for(var i=0;i<this._maxIncrement;i++){
var n=this._createOption(i);
if(n){
_650.push(n);
}
}
return _650;
},_showText:function(){
var _651=_641.fromISOString;
this.domNode.innerHTML="";
this._clickableIncrementDate=_651(this.clickableIncrement);
this._visibleIncrementDate=_651(this.visibleIncrement);
var _652=function(date){
return date.getHours()*60*60+date.getMinutes()*60+date.getSeconds();
},_653=_652(this._clickableIncrementDate),_654=_652(this._visibleIncrementDate),time=(this.value||this.currentFocus).getTime();
this._refDate=_651("T00:00:00");
this._refDate.setFullYear(1970,0,1);
this._clickableIncrement=1;
this._visibleIncrement=_654/_653;
this._maxIncrement=(60*60*24)/_653;
var _655=this._getFilteredNodes();
_63e.forEach(_655,function(n){
this.domNode.appendChild(n);
},this);
if(!_655.length&&this.filterString){
this.filterString="";
this._showText();
}
},constructor:function(){
this.constraints={};
},postMixInProperties:function(){
this.inherited(arguments);
this._setConstraintsAttr(this.constraints);
},_setConstraintsAttr:function(_656){
for(var key in {clickableIncrement:1,visibleIncrement:1}){
if(key in _656){
this[key]=_656[key];
}
}
if(!_656.locale){
_656.locale=this.lang;
}
},_createOption:function(_657){
var date=new Date(this._refDate);
var _658=this._clickableIncrementDate;
date.setHours(date.getHours()+_658.getHours()*_657,date.getMinutes()+_658.getMinutes()*_657,date.getSeconds()+_658.getSeconds()*_657);
if(this.constraints.selector=="time"){
date.setFullYear(1970,0,1);
}
var _659=_640.format(date,this.constraints);
if(this.filterString&&_659.toLowerCase().indexOf(this.filterString)!==0){
return null;
}
var div=this.ownerDocument.createElement("div");
div.className=this.baseClass+"Item";
div.date=date;
div.idx=_657;
_644.create("div",{"class":this.baseClass+"ItemInner",innerHTML:_659},div);
if(_657%this._visibleIncrement<1&&_657%this._visibleIncrement>-1){
_643.add(div,this.baseClass+"Marker");
}else{
if(!(_657%this._clickableIncrement)){
_643.add(div,this.baseClass+"Tick");
}
}
if(this.isDisabledDate(date)){
_643.add(div,this.baseClass+"ItemDisabled");
}
if(this.value&&!_63f.compare(this.value,date,this.constraints.selector)){
div.selected=true;
_643.add(div,this.baseClass+"ItemSelected");
this._selectedDiv=div;
if(_643.contains(div,this.baseClass+"Marker")){
_643.add(div,this.baseClass+"MarkerSelected");
}else{
_643.add(div,this.baseClass+"TickSelected");
}
this._highlightOption(div,true);
}
return div;
},onOpen:function(){
this.inherited(arguments);
this.set("selected",this._selectedDiv);
},_onOptionSelected:function(tgt){
var _65a=tgt.target.date||tgt.target.parentNode.date;
if(!_65a||this.isDisabledDate(_65a)){
return;
}
this._highlighted_option=null;
this.set("value",_65a);
this.onChange(_65a);
},onChange:function(){
},_highlightOption:function(node,_65b){
if(!node){
return;
}
if(_65b){
if(this._highlighted_option){
this._highlightOption(this._highlighted_option,false);
}
this._highlighted_option=node;
}else{
if(this._highlighted_option!==node){
return;
}else{
this._highlighted_option=null;
}
}
_643.toggle(node,this.baseClass+"ItemHover",_65b);
if(_643.contains(node,this.baseClass+"Marker")){
_643.toggle(node,this.baseClass+"MarkerHover",_65b);
}else{
_643.toggle(node,this.baseClass+"TickHover",_65b);
}
},handleKey:function(e){
if(e.keyCode==keys.DOWN_ARROW){
this.selectNextNode();
e.stopPropagation();
e.preventDefault();
return false;
}else{
if(e.keyCode==keys.UP_ARROW){
this.selectPreviousNode();
e.stopPropagation();
e.preventDefault();
return false;
}else{
if(e.keyCode==keys.ENTER||e.keyCode===keys.TAB){
if(!this._keyboardSelected&&e.keyCode===keys.TAB){
return true;
}
if(this._highlighted_option){
this._onOptionSelected({target:this._highlighted_option});
}
return e.keyCode===keys.TAB;
}
}
}
return undefined;
},onHover:function(node){
this._highlightOption(node,true);
},onUnhover:function(node){
this._highlightOption(node,false);
},onSelect:function(node){
this._highlightOption(node,true);
},onDeselect:function(node){
this._highlightOption(node,false);
},onClick:function(node){
this._onOptionSelected({target:node});
}});
return _64a;
});
},"manager/Tree":function(){
define("manager/Tree",["dojo/_base/declare","dojo/_base/window","dojo/store/Memory","dijit/tree/ObjectStoreModel","dijit/Tree"],function(_65c,_65d,_65e,_65f,Tree){
return _65c("Manager.Tree",[Tree],{constructor:function(obj){
this.root=(obj.root?obj.root:"root");
this.store=new _65e({data:obj.data,getChildren:function(_660){
return this.query({parent:_660.id});
}});
this.model=new _65f({store:this.store,mayHaveChildren:function(item){
return (item.type=="folder");
},query:{id:this.root}});
this.layout=obj.layout;
this.onClick=obj.selectEvent;
this.iconFolderOpened=(obj.iconFolderOpened?obj.iconFolderOpened:"iconFolderOpened");
this.iconFolderClosed=(obj.iconFolderClosed?obj.iconFolderClosed:"iconFolderClosed");
this.iconLeaf=(obj.iconLeaf?obj.iconLeaf:"iconLeaf");
},store:null,model:null,getIconClass:function(item,_661){
var cls=(!item||(item.type=="folder"))?_661?this.iconFolderOpened:this.iconFolderClosed:this.iconLeaf;
return cls+this.layout;
},showRoot:false});
});
},"dojox/widget/Standby":function(){
define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/event","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/window","dojo/_base/window","dojo/_base/fx","dojo/fx","dijit/_Widget","dijit/_TemplatedMixin","dijit/registry"],function(_662,_663,_664,_665,has,dom,attr,_666,_667,_668,_669,_66a,_66b,fx,_66c,_66d,_66e){
_662.experimental("dojox.widget.Standby");
return _663("dojox.widget.Standby",[_66c,_66d],{image:require.toUrl("dojox/widget/Standby/images/loading.gif").toString(),imageText:"Please Wait...",text:"Please wait...",centerIndicator:"image",target:"",color:"#C0C0C0",duration:500,zIndex:"auto",opacity:0.75,templateString:"<div>"+"<div style=\"display: none; opacity: 0; z-index: 9999; "+"position: absolute; cursor:wait;\" dojoAttachPoint=\"_underlayNode\"></div>"+"<img src=\"${image}\" style=\"opacity: 0; display: none; z-index: -10000; "+"position: absolute; top: 0px; left: 0px; cursor:wait;\" "+"dojoAttachPoint=\"_imageNode\">"+"<div style=\"opacity: 0; display: none; z-index: -10000; position: absolute; "+"top: 0px;\" dojoAttachPoint=\"_textNode\"></div>"+"</div>",_underlayNode:null,_imageNode:null,_textNode:null,_centerNode:null,_displayed:false,_resizeCheck:null,_started:false,_parent:null,startup:function(args){
if(!this._started){
if(typeof this.target==="string"){
var w=_66e.byId(this.target);
this.target=w?w.domNode:dom.byId(this.target);
}
if(this.text){
this._textNode.innerHTML=this.text;
}
if(this.centerIndicator==="image"){
this._centerNode=this._imageNode;
attr.set(this._imageNode,"src",this.image);
attr.set(this._imageNode,"alt",this.imageText);
}else{
this._centerNode=this._textNode;
}
_668.set(this._underlayNode,{display:"none",backgroundColor:this.color});
_668.set(this._centerNode,"display","none");
this.connect(this._underlayNode,"onclick","_ignore");
if(this.domNode.parentNode&&this.domNode.parentNode!=_66a.body()){
_66a.body().appendChild(this.domNode);
}
if(has("ie")==7){
this._ieFixNode=_666.create("div");
_668.set(this._ieFixNode,{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"});
_66a.body().appendChild(this._ieFixNode);
}
this.inherited(arguments);
}
},show:function(){
if(!this._displayed){
if(this._anim){
this._anim.stop();
delete this._anim;
}
this._displayed=true;
this._size();
this._disableOverflow();
this._fadeIn();
}
},hide:function(){
if(this._displayed){
if(this._anim){
this._anim.stop();
delete this._anim;
}
this._size();
this._fadeOut();
this._displayed=false;
if(this._resizeCheck!==null){
clearInterval(this._resizeCheck);
this._resizeCheck=null;
}
}
},isVisible:function(){
return this._displayed;
},onShow:function(){
},onHide:function(){
},uninitialize:function(){
this._displayed=false;
if(this._resizeCheck){
clearInterval(this._resizeCheck);
}
_668.set(this._centerNode,"display","none");
_668.set(this._underlayNode,"display","none");
if(has("ie")==7&&this._ieFixNode){
_66a.body().removeChild(this._ieFixNode);
delete this._ieFixNode;
}
if(this._anim){
this._anim.stop();
delete this._anim;
}
this.target=null;
this._imageNode=null;
this._textNode=null;
this._centerNode=null;
this.inherited(arguments);
},_size:function(){
if(this._displayed){
var dir=attr.get(_66a.body(),"dir");
if(dir){
dir=dir.toLowerCase();
}
var _66f;
var _670=this._scrollerWidths();
var _671=this.target;
var _672=_668.get(this._centerNode,"display");
_668.set(this._centerNode,"display","block");
var box=_667.position(_671,true);
if(_671===_66a.body()||_671===_66a.doc){
box=_669.getBox();
box.x=box.l;
box.y=box.t;
}
var _673=_667.getMarginBox(this._centerNode);
_668.set(this._centerNode,"display",_672);
if(this._ieFixNode){
_66f=-this._ieFixNode.offsetTop/1000;
box.x=Math.floor((box.x+0.9)/_66f);
box.y=Math.floor((box.y+0.9)/_66f);
box.w=Math.floor((box.w+0.9)/_66f);
box.h=Math.floor((box.h+0.9)/_66f);
}
var zi=_668.get(_671,"zIndex");
var ziUl=zi;
var ziIn=zi;
if(this.zIndex==="auto"){
if(zi!="auto"){
ziUl=parseInt(ziUl,10)+1;
ziIn=parseInt(ziIn,10)+2;
}else{
var _674=_671.parentNode;
var _675=-100000;
while(_674&&_674!==_66a.body()){
zi=_668.get(_674,"zIndex");
if(!zi||zi==="auto"){
_674=_674.parentNode;
}else{
var _676=parseInt(zi,10);
if(_675<_676){
_675=_676;
ziUl=_676+1;
ziIn=_676+2;
}
_674=_674.parentNode;
}
}
}
}else{
ziUl=parseInt(this.zIndex,10)+1;
ziIn=parseInt(this.zIndex,10)+2;
}
_668.set(this._centerNode,"zIndex",ziIn);
_668.set(this._underlayNode,"zIndex",ziUl);
var pn=_671.parentNode;
if(pn&&pn!==_66a.body()&&_671!==_66a.body()&&_671!==_66a.doc){
var obh=box.h;
var obw=box.w;
var _677=_667.position(pn,true);
if(this._ieFixNode){
_66f=-this._ieFixNode.offsetTop/1000;
_677.x=Math.floor((_677.x+0.9)/_66f);
_677.y=Math.floor((_677.y+0.9)/_66f);
_677.w=Math.floor((_677.w+0.9)/_66f);
_677.h=Math.floor((_677.h+0.9)/_66f);
}
_677.w-=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_670.v:0;
_677.h-=pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_670.h:0;
if(dir==="rtl"){
if(has("opera")){
box.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_670.v:0;
_677.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_670.v:0;
}else{
if(has("ie")){
_677.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_670.v:0;
}else{
if(has("webkit")){
}
}
}
}
if(_677.w<box.w){
box.w=box.w-_677.w;
}
if(_677.h<box.h){
box.h=box.h-_677.h;
}
var _678=_677.y;
var _679=_677.y+_677.h;
var bTop=box.y;
var _67a=box.y+obh;
var _67b=_677.x;
var _67c=_677.x+_677.w;
var _67d=box.x;
var _67e=box.x+obw;
var _67f;
if(_67a>_678&&bTop<_678){
box.y=_677.y;
_67f=_678-bTop;
var _680=obh-_67f;
if(_680<_677.h){
box.h=_680;
}else{
box.h-=2*(pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_670.h:0);
}
}else{
if(bTop<_679&&_67a>_679){
box.h=_679-bTop;
}else{
if(_67a<=_678||bTop>=_679){
box.h=0;
}
}
}
if(_67e>_67b&&_67d<_67b){
box.x=_677.x;
_67f=_67b-_67d;
var _681=obw-_67f;
if(_681<_677.w){
box.w=_681;
}else{
box.w-=2*(pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_670.w:0);
}
}else{
if(_67d<_67c&&_67e>_67c){
box.w=_67c-_67d;
}else{
if(_67e<=_67b||_67d>=_67c){
box.w=0;
}
}
}
}
if(box.h>0&&box.w>0){
_668.set(this._underlayNode,{display:"block",width:box.w+"px",height:box.h+"px",top:box.y+"px",left:box.x+"px"});
var _682=["borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"];
this._cloneStyles(_682);
if(!has("ie")){
_682=["MozBorderRadius","MozBorderRadiusTopleft","MozBorderRadiusTopright","MozBorderRadiusBottomleft","MozBorderRadiusBottomright","WebkitBorderRadius","WebkitBorderTopLeftRadius","WebkitBorderTopRightRadius","WebkitBorderBottomLeftRadius","WebkitBorderBottomRightRadius"];
this._cloneStyles(_682,this);
}
var _683=(box.h/2)-(_673.h/2);
var _684=(box.w/2)-(_673.w/2);
if(box.h>=_673.h&&box.w>=_673.w){
_668.set(this._centerNode,{top:(_683+box.y)+"px",left:(_684+box.x)+"px",display:"block"});
}else{
_668.set(this._centerNode,"display","none");
}
}else{
_668.set(this._underlayNode,"display","none");
_668.set(this._centerNode,"display","none");
}
if(this._resizeCheck===null){
var self=this;
this._resizeCheck=setInterval(function(){
self._size();
},100);
}
}
},_cloneStyles:function(list){
_664.forEach(list,function(s){
_668.set(this._underlayNode,s,_668.get(this.target,s));
},this);
},_fadeIn:function(){
var self=this;
var _685=_66b.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:0,end:self.opacity}}});
var _686=_66b.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:0,end:1}},onEnd:function(){
self.onShow();
delete self._anim;
}});
this._anim=fx.combine([_685,_686]);
this._anim.play();
},_fadeOut:function(){
var self=this;
var _687=_66b.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:self.opacity,end:0}},onEnd:function(){
_668.set(this.node,{"display":"none","zIndex":"-1000"});
}});
var _688=_66b.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:1,end:0}},onEnd:function(){
_668.set(this.node,{"display":"none","zIndex":"-1000"});
self.onHide();
self._enableOverflow();
delete self._anim;
}});
this._anim=fx.combine([_687,_688]);
this._anim.play();
},_ignore:function(e){
if(e){
_665.stop(e);
}
},_scrollerWidths:function(){
var div=_666.create("div");
_668.set(div,{position:"absolute",opacity:0,overflow:"hidden",width:"50px",height:"50px",zIndex:"-100",top:"-200px",padding:"0px",margin:"0px"});
var iDiv=_666.create("div");
_668.set(iDiv,{width:"200px",height:"10px"});
div.appendChild(iDiv);
_66a.body().appendChild(div);
var b=_667.getContentBox(div);
_668.set(div,"overflow","scroll");
var a=_667.getContentBox(div);
_66a.body().removeChild(div);
return {v:b.w-a.w,h:b.h-a.h};
},_setTextAttr:function(text){
this._textNode.innerHTML=text;
this.text=text;
},_setColorAttr:function(c){
_668.set(this._underlayNode,"backgroundColor",c);
this.color=c;
},_setImageTextAttr:function(text){
attr.set(this._imageNode,"alt",text);
this.imageText=text;
},_setImageAttr:function(url){
attr.set(this._imageNode,"src",url);
this.image=url;
},_setCenterIndicatorAttr:function(_689){
this.centerIndicator=_689;
if(_689==="image"){
this._centerNode=this._imageNode;
_668.set(this._textNode,"display","none");
}else{
this._centerNode=this._textNode;
_668.set(this._imageNode,"display","none");
}
},_disableOverflow:function(){
if(this.target===_66a.body()||this.target===_66a.doc){
this._overflowDisabled=true;
var body=_66a.body();
if(body.style&&body.style.overflow){
this._oldOverflow=_668.get(body,"overflow");
}else{
this._oldOverflow="";
}
if(has("ie")&&!has("quirks")){
if(body.parentNode&&body.parentNode.style&&body.parentNode.style.overflow){
this._oldBodyParentOverflow=body.parentNode.style.overflow;
}else{
try{
this._oldBodyParentOverflow=_668.get(body.parentNode,"overflow");
}
catch(e){
this._oldBodyParentOverflow="scroll";
}
}
_668.set(body.parentNode,"overflow","hidden");
}
_668.set(body,"overflow","hidden");
}
},_enableOverflow:function(){
if(this._overflowDisabled){
delete this._overflowDisabled;
var body=_66a.body();
if(has("ie")&&!has("quirks")){
body.parentNode.style.overflow=this._oldBodyParentOverflow;
delete this._oldBodyParentOverflow;
}
_668.set(body,"overflow",this._oldOverflow);
if(has("webkit")){
var div=_666.create("div",{style:{height:"2px"}});
body.appendChild(div);
setTimeout(function(){
body.removeChild(div);
},0);
}
delete this._oldOverflow;
}
}});
});
},"dgrid/extensions/Pagination":function(){
define(["../_StoreMixin","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","dojo/query","dojo/string","dojo/has","put-selector/put","dojo/i18n!./nls/pagination","dojo/_base/sniff","xstyle/css!../css/extensions/Pagination.css"],function(_68a,_68b,lang,_68c,on,_68d,_68e,has,put,i18n){
function _68f(grid){
if(grid.noDataNode){
put(grid.noDataNode,"!");
delete grid.noDataNode;
}else{
grid.cleanup();
}
grid.contentNode.innerHTML="";
};
function _690(grid){
if(grid.loadingNode){
put(grid.loadingNode,"!");
delete grid.loadingNode;
}else{
if(grid._oldPageNodes){
for(var id in grid._oldPageNodes){
grid.removeRow(grid._oldPageNodes[id]);
}
delete grid._oldPageNodes;
if(grid._oldPageObserver){
grid._oldPageObserver.cancel();
delete grid._oldPageObserver;
}
}
}
delete grid._isLoading;
};
return _68b(_68a,{rowsPerPage:10,pagingTextBox:false,previousNextArrows:true,firstLastArrows:false,pagingLinks:2,pageSizeOptions:[],showLoadingMessage:true,i18nPagination:i18n,showFooter:true,_currentPage:1,_total:0,buildRendering:function(){
this.inherited(arguments);
var grid=this,_691=this.paginationNode=put(this.footerNode,"div.dgrid-pagination"),_692=this.paginationStatusNode=put(_691,"div.dgrid-status"),_693=this.pageSizeOptions,i18n=this.i18nPagination,_694,node;
_692.tabIndex=0;
if(_693.length){
var _695=put(_691,"select.dgrid-page-size"),i;
for(i=0;i<_693.length;i++){
put(_695,"option",_693[i],{value:_693[i],selected:this.rowsPerPage===_693[i]});
}
this._listeners.push(on(_695,"change",function(){
grid.rowsPerPage=+_695.value;
grid.gotoPage(1);
}));
}
_692.innerHTML=_68e.substitute(i18n.status,{start:1,end:1,total:0});
_694=this.paginationNavigationNode=put(_691,"div.dgrid-navigation");
if(this.firstLastArrows){
node=this.paginationFirstNode=put(_694,"span.dgrid-first.dgrid-page-link","");
node.setAttribute("aria-label",i18n.gotoFirst);
node.tabIndex=0;
}
if(this.previousNextArrows){
node=this.paginationPreviousNode=put(_694,"span.dgrid-previous.dgrid-page-link","");
node.setAttribute("aria-label",i18n.gotoPrev);
node.tabIndex=0;
}
this.paginationLinksNode=put(_694,"span.dgrid-pagination-links");
if(this.previousNextArrows){
node=this.paginationNextNode=put(_694,"span.dgrid-next.dgrid-page-link","");
node.setAttribute("aria-label",i18n.gotoNext);
node.tabIndex=0;
}
if(this.firstLastArrows){
node=this.paginationLastNode=put(_694,"span.dgrid-last.dgrid-page-link","");
node.setAttribute("aria-label",i18n.gotoLast);
node.tabIndex=0;
}
this._listeners.push(on(_694,".dgrid-page-link:click,.dgrid-page-link:keydown",function(_696){
if(_696.type==="keydown"&&_696.keyCode!==13){
return;
}
var cls=this.className,curr,max;
if(grid._isLoading||cls.indexOf("dgrid-page-disabled")>-1){
return;
}
curr=grid._currentPage;
max=Math.ceil(grid._total/grid.rowsPerPage);
if(this===grid.paginationPreviousNode){
grid.gotoPage(curr-1);
}else{
if(this===grid.paginationNextNode){
grid.gotoPage(curr+1);
}else{
if(this===grid.paginationFirstNode){
grid.gotoPage(1);
}else{
if(this===grid.paginationLastNode){
grid.gotoPage(max);
}else{
if(cls==="dgrid-page-link"){
grid.gotoPage(+this.innerHTML,true);
}
}
}
}
}
}));
},destroy:function(){
this.inherited(arguments);
if(this._pagingTextBoxHandle){
this._pagingTextBoxHandle.remove();
}
},_updateNavigation:function(_697){
var grid=this,i18n=this.i18nPagination,_698=this.paginationLinksNode,_699=this._currentPage,_69a=this.pagingLinks,_69b=this.paginationNavigationNode,end=Math.ceil(this._total/this.rowsPerPage),_69c=this._pagingTextBoxHandle;
function _69d(page){
var link;
if(grid.pagingTextBox&&page==_699&&end>1){
link=put(_698,"input.dgrid-page-input[type=text][value=$]",_699);
link.setAttribute("aria-label",i18n.jumpPage);
grid._pagingTextBoxHandle=on(link,"change",function(){
var _69e=+this.value;
if(!isNaN(_69e)&&_69e>0&&_69e<=end){
grid.gotoPage(+this.value,true);
}
});
}else{
link=put(_698,"span"+(page==_699?".dgrid-page-disabled":"")+".dgrid-page-link",page);
link.setAttribute("aria-label",i18n.gotoPage);
link.tabIndex=0;
}
if(page==_699&&_697){
link.focus();
}
};
if(_69c){
_69c.remove();
}
_698.innerHTML="";
_68d(".dgrid-first, .dgrid-previous",_69b).forEach(function(link){
put(link,(_699==1?".":"!")+"dgrid-page-disabled");
});
_68d(".dgrid-last, .dgrid-next",_69b).forEach(function(link){
put(link,(_699>=end?".":"!")+"dgrid-page-disabled");
});
if(_69a&&end>0){
_69d(1);
var _69f=_699-_69a;
if(_69f>2){
put(_698,"span.dgrid-page-skip","...");
}else{
_69f=2;
}
for(var i=_69f;i<Math.min(_699+_69a+1,end);i++){
_69d(i);
}
if(_699+_69a+1<end){
put(_698,"span.dgrid-page-skip","...");
}
if(end>1){
_69d(end);
}
}else{
if(grid.pagingTextBox){
_69d(_699);
}
}
},refresh:function(){
var self=this;
this.inherited(arguments);
if(!this.store){
console.warn("Pagination requires a store to operate.");
return;
}
return this.gotoPage(1).then(function(_6a0){
setTimeout(function(){
on.emit(self.domNode,"dgrid-refresh-complete",{bubbles:true,cancelable:false,grid:self,results:_6a0});
},0);
return _6a0;
});
},_onNotification:function(rows){
if(rows.length!==this._rowsOnPage){
this.gotoPage(this._currentPage);
}
},renderArray:function(){
var rows=this.inherited(arguments);
this._lastCollection=null;
return rows;
},insertRow:function(){
var _6a1=this._oldPageNodes,row=this.inherited(arguments);
if(_6a1&&row===_6a1[row.id]){
delete _6a1[row.id];
}
return row;
},gotoPage:function(page,_6a2){
var grid=this,dfd=new _68c();
var _6a3=this._trackError(function(){
var _6a4=grid.rowsPerPage,_6a5=(page-1)*_6a4,_6a6=lang.mixin(grid.get("queryOptions"),{start:_6a5,count:_6a4}),_6a7,_6a8=grid.contentNode,_6a9,_6aa,_6ab,i,len;
if(grid.showLoadingMessage){
_68f(grid);
_6a9=grid.loadingNode=put(_6a8,"div.dgrid-loading");
_6a9.innerHTML=grid.loadingMessage;
}else{
grid._oldPageNodes=_6aa={};
_6ab=_6a8.children;
for(i=0,len=_6ab.length;i<len;i++){
_6aa[_6ab[i].id]=_6ab[i];
}
grid._oldPageObserver=grid.observers.pop();
}
grid._isLoading=true;
_6a7=grid.store.query(grid.query,_6a6);
_68c.when(grid.renderArray(_6a7,null,_6a6),function(rows){
_690(grid);
grid.scrollTo({y:0});
_68c.when(_6a7.total,function(_6ac){
if(!_6ac){
if(grid.noDataNode){
put(grid.noDataNode,"!");
delete grid.noDataNode;
}
grid.noDataNode=put(grid.contentNode,"div.dgrid-no-data");
grid.noDataNode.innerHTML=grid.noDataMessage;
}
grid.paginationStatusNode.innerHTML=_68e.substitute(grid.i18nPagination.status,{start:Math.min(_6a5+1,_6ac),end:Math.min(_6ac,_6a5+_6a4),total:_6ac});
grid._total=_6ac;
grid._currentPage=page;
grid._rowsOnPage=rows.length;
grid._updateNavigation(_6a2);
});
if(has("ie")<7||(has("ie")&&has("quirks"))){
grid.resize();
}
dfd.resolve(_6a7);
},function(_6ad){
_690(grid);
dfd.reject(_6ad);
});
return dfd.promise;
});
if(!_6a3){
dfd.reject();
}
return dfd.promise;
}});
});
},"manager/Form":function(){
define("manager/Form",["dojo/_base/declare"],function(_6ae){
return _6ae("Manager.Form",[],{id:null,onLoad:new Function(),onSubmit:new Function(),validators:null,connections:null,constructor:function(id){
this.id=id;
this.connections=[];
},setFocus:function(_6af){
if(_6af==""){
var _6b0=null;
var f=manager.getElementById(this.id);
var _6b1=f.getElementsByTagName("input");
if(_6b1.length==0){
var _6b1=f.getElementsByTagName("select");
if(_6b1.length>0){
_6b0=_6b1[0];
}
}else{
_6b0=_6b1[0];
}
}else{
var _6b0=manager.getElementById(_6af);
}
if(_6b0!=null){
_6b0.focus();
}
},getInputs:function(){
var _6b2=new Object();
var f=manager.getElementById(this.id);
var _6b3=f.getElementsByTagName("input");
for(var i=0,_6b4=_6b3.length;i<_6b4;i++){
var _6b5=_6b3[i];
if((_6b5.type=="text")||(_6b5.type=="hidden")){
if(_6b2[_6b5.name]){
_6b2[_6b5.name]+="&"+_6b5.value;
}else{
_6b2[_6b5.name]=_6b5.value;
}
}
if(_6b5.type=="checkbox"){
if(_6b5.checked){
_6b2[_6b5.name]=(_6b5.value==""?"on":_6b5.value);
}
}
if(_6b5.type=="radio"){
if(_6b5.checked){
_6b2[_6b5.name]=_6b5.value;
}
}
}
var _6b3=f.getElementsByTagName("select");
for(var i=0,_6b4=_6b3.length;i<_6b4;i++){
var _6b5=_6b3[i];
_6b2[_6b5.name]=_6b5.options[_6b5.selectedIndex].value;
}
return _6b2;
},getForm:function(){
return manager.getElementById("frm_"+this.id);
},setAction:function(url){
manager.getElementById("frm_"+this.id).action=url;
},getAction:function(){
return manager.getElementById("frm_"+this.id).action;
},init:function(){
this.validators=null;
},submit:function(){
return manager.getElementById("frm_"+this.id).submit();
},connect:function(_6b6,_6b7,_6b8){
var node=dojo.byId(_6b6);
if(!node){
return;
}
this.connections.push(dojo.connect(node,_6b7,_6b8));
},disconnect:function(){
dojo.forEach(this.connections,dojo.disconnect);
this.connections.length=0;
}});
});
},"dojo/dnd/Avatar":function(){
define(["../_base/declare","../_base/window","../dom","../dom-attr","../dom-class","../dom-construct","../hccss","../query"],function(_6b9,win,dom,_6ba,_6bb,_6bc,has,_6bd){
return _6b9("dojo.dnd.Avatar",null,{constructor:function(_6be){
this.manager=_6be;
this.construct();
},construct:function(){
var a=_6bc.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_6bf=this.manager.source,node,b=_6bc.create("tbody",null,a),tr=_6bc.create("tr",null,b),td=_6bc.create("td",null,tr),k=Math.min(5,this.manager.nodes.length),i=0;
if(has("highcontrast")){
_6bc.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},td);
}
_6bc.create("span",{innerHTML:_6bf.generateText?this._generateText():""},td);
_6ba.set(tr,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});
for(;i<k;++i){
if(_6bf.creator){
node=_6bf._normalizedCreator(_6bf.getItem(this.manager.nodes[i].id).data,"avatar").node;
}else{
node=this.manager.nodes[i].cloneNode(true);
if(node.tagName.toLowerCase()=="tr"){
var _6c0=_6bc.create("table"),_6c1=_6bc.create("tbody",null,_6c0);
_6c1.appendChild(node);
node=_6c0;
}
}
node.id="";
tr=_6bc.create("tr",null,b);
td=_6bc.create("td",null,tr);
td.appendChild(node);
_6ba.set(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});
}
this.node=a;
},destroy:function(){
_6bc.destroy(this.node);
this.node=false;
},update:function(){
_6bb.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);
if(has("highcontrast")){
var icon=dom.byId("a11yIcon");
var text="+";
if(this.manager.canDropFlag&&!this.manager.copy){
text="< ";
}else{
if(!this.manager.canDropFlag&&!this.manager.copy){
text="o";
}else{
if(!this.manager.canDropFlag){
text="x";
}
}
}
icon.innerHTML=text;
}
_6bd(("tr.dojoDndAvatarHeader td span"+(has("highcontrast")?" span":"")),this.node).forEach(function(node){
node.innerHTML=this.manager.source.generateText?this._generateText():"";
},this);
},_generateText:function(){
return this.manager.nodes.length.toString();
}});
});
},"dojo/string":function(){
define(["./_base/kernel","./_base/lang"],function(_6c2,lang){
var _6c3={};
lang.setObject("dojo.string",_6c3);
_6c3.rep=function(str,num){
if(num<=0||!str){
return "";
}
var buf=[];
for(;;){
if(num&1){
buf.push(str);
}
if(!(num>>=1)){
break;
}
str+=str;
}
return buf.join("");
};
_6c3.pad=function(text,size,ch,end){
if(!ch){
ch="0";
}
var out=String(text),pad=_6c3.rep(ch,Math.ceil((size-out.length)/ch.length));
return end?out+pad:pad+out;
};
_6c3.substitute=function(_6c4,map,_6c5,_6c6){
_6c6=_6c6||_6c2.global;
_6c5=_6c5?lang.hitch(_6c6,_6c5):function(v){
return v;
};
return _6c4.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_6c7,key,_6c8){
var _6c9=lang.getObject(key,false,map);
if(_6c8){
_6c9=lang.getObject(_6c8,false,_6c6).call(_6c6,_6c9,key);
}
return _6c5(_6c9,key).toString();
});
};
_6c3.trim=String.prototype.trim?lang.trim:function(str){
str=str.replace(/^\s+/,"");
for(var i=str.length-1;i>=0;i--){
if(/\S/.test(str.charAt(i))){
str=str.substring(0,i+1);
break;
}
}
return str;
};
return _6c3;
});
},"dijit/_Contained":function(){
define(["dojo/_base/declare","./registry"],function(_6ca,_6cb){
return _6ca("dijit._Contained",null,{_getSibling:function(_6cc){
var node=this.domNode;
do{
node=node[_6cc+"Sibling"];
}while(node&&node.nodeType!=1);
return node&&_6cb.byNode(node);
},getPreviousSibling:function(){
return this._getSibling("previous");
},getNextSibling:function(){
return this._getSibling("next");
},getIndexInParent:function(){
var p=this.getParent();
if(!p||!p.getIndexOfChild){
return -1;
}
return p.getIndexOfChild(this);
}});
});
},"dojox/grid/_Builder":function(){
define(["../main","dojo/_base/array","dojo/_base/lang","dojo/_base/window","dojo/_base/event","dojo/_base/sniff","dojo/_base/connect","dojo/dnd/Moveable","dojox/html/metrics","./util","dojo/_base/html","dojo/dom-geometry"],function(_6cd,_6ce,lang,win,_6cf,has,_6d0,_6d1,_6d2,util,html,_6d3){
var dg=_6cd.grid;
var _6d4=function(td){
return td.cellIndex>=0?td.cellIndex:_6ce.indexOf(td.parentNode.cells,td);
};
var _6d5=function(tr){
return tr.rowIndex>=0?tr.rowIndex:_6ce.indexOf(tr.parentNode.childNodes,tr);
};
var _6d6=function(_6d7,_6d8){
return _6d7&&((_6d7.rows||0)[_6d8]||_6d7.childNodes[_6d8]);
};
var _6d9=function(node){
for(var n=node;n&&n.tagName!="TABLE";n=n.parentNode){
}
return n;
};
var _6da=function(_6db,_6dc){
for(var n=_6db;n&&_6dc(n);n=n.parentNode){
}
return n;
};
var _6dd=function(_6de){
var name=_6de.toUpperCase();
return function(node){
return node.tagName!=name;
};
};
var _6df=util.rowIndexTag;
var _6e0=util.gridViewTag;
var _6e1=dg._Builder=lang.extend(function(view){
if(view){
this.view=view;
this.grid=view.grid;
}
},{view:null,_table:"<table class=\"dojoxGridRowTable\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"",getTableArray:function(){
var html=[this._table];
if(this.view.viewWidth){
html.push([" style=\"width:",this.view.viewWidth,";\""].join(""));
}
html.push(">");
return html;
},generateCellMarkup:function(_6e2,_6e3,_6e4,_6e5){
var _6e6=[],html;
if(_6e5){
var _6e7=_6e2.index!=_6e2.grid.getSortIndex()?"":_6e2.grid.sortInfo>0?"aria-sort=\"ascending\"":"aria-sort=\"descending\"";
if(!_6e2.id){
_6e2.id=this.grid.id+"Hdr"+_6e2.index;
}
html=["<th tabIndex=\"-1\" aria-readonly=\"true\" role=\"columnheader\"",_6e7," id=\"",_6e2.id,"\""];
}else{
var _6e8=this.grid.editable&&!_6e2.editable?"aria-readonly=\"true\"":"";
html=["<td tabIndex=\"-1\" role=\"gridcell\"",_6e8];
}
if(_6e2.colSpan){
html.push(" colspan=\"",_6e2.colSpan,"\"");
}
if(_6e2.rowSpan){
html.push(" rowspan=\"",_6e2.rowSpan,"\"");
}
html.push(" class=\"dojoxGridCell ");
if(_6e2.classes){
html.push(_6e2.classes," ");
}
if(_6e4){
html.push(_6e4," ");
}
_6e6.push(html.join(""));
_6e6.push("");
html=["\" idx=\"",_6e2.index,"\" style=\""];
if(_6e3&&_6e3[_6e3.length-1]!=";"){
_6e3+=";";
}
html.push(_6e2.styles,_6e3||"",_6e2.hidden?"display:none;":"");
if(_6e2.unitWidth){
html.push("width:",_6e2.unitWidth,";");
}
_6e6.push(html.join(""));
_6e6.push("");
html=["\""];
if(_6e2.attrs){
html.push(" ",_6e2.attrs);
}
html.push(">");
_6e6.push(html.join(""));
_6e6.push("");
_6e6.push(_6e5?"</th>":"</td>");
return _6e6;
},isCellNode:function(_6e9){
return Boolean(_6e9&&_6e9!=win.doc&&html.attr(_6e9,"idx"));
},getCellNodeIndex:function(_6ea){
return _6ea?Number(html.attr(_6ea,"idx")):-1;
},getCellNode:function(_6eb,_6ec){
for(var i=0,row;((row=_6d6(_6eb.firstChild,i))&&row.cells);i++){
for(var j=0,cell;(cell=row.cells[j]);j++){
if(this.getCellNodeIndex(cell)==_6ec){
return cell;
}
}
}
return null;
},findCellTarget:function(_6ed,_6ee){
var n=_6ed;
while(n&&(!this.isCellNode(n)||(n.offsetParent&&_6e0 in n.offsetParent.parentNode&&n.offsetParent.parentNode[_6e0]!=this.view.id))&&(n!=_6ee)){
n=n.parentNode;
}
return n!=_6ee?n:null;
},baseDecorateEvent:function(e){
e.dispatch="do"+e.type;
e.grid=this.grid;
e.sourceView=this.view;
e.cellNode=this.findCellTarget(e.target,e.rowNode);
e.cellIndex=this.getCellNodeIndex(e.cellNode);
e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);
},findTarget:function(_6ef,_6f0){
var n=_6ef;
while(n&&(n!=this.domNode)&&(!(_6f0 in n)||(_6e0 in n&&n[_6e0]!=this.view.id))){
n=n.parentNode;
}
return (n!=this.domNode)?n:null;
},findRowTarget:function(_6f1){
return this.findTarget(_6f1,_6df);
},isIntraNodeEvent:function(e){
try{
return (e.cellNode&&e.relatedTarget&&html.isDescendant(e.relatedTarget,e.cellNode));
}
catch(x){
return false;
}
},isIntraRowEvent:function(e){
try{
var row=e.relatedTarget&&this.findRowTarget(e.relatedTarget);
return !row&&(e.rowIndex==-1)||row&&(e.rowIndex==row.gridRowIndex);
}
catch(x){
return false;
}
},dispatchEvent:function(e){
if(e.dispatch in this){
return this[e.dispatch](e);
}
return false;
},domouseover:function(e){
if(e.cellNode&&(e.cellNode!=this.lastOverCellNode)){
this.lastOverCellNode=e.cellNode;
this.grid.onMouseOver(e);
}
this.grid.onMouseOverRow(e);
},domouseout:function(e){
if(e.cellNode&&(e.cellNode==this.lastOverCellNode)&&!this.isIntraNodeEvent(e,this.lastOverCellNode)){
this.lastOverCellNode=null;
this.grid.onMouseOut(e);
if(!this.isIntraRowEvent(e)){
this.grid.onMouseOutRow(e);
}
}
},domousedown:function(e){
if(e.cellNode){
this.grid.onMouseDown(e);
}
this.grid.onMouseDownRow(e);
},_getTextDirStyle:function(_6f2,_6f3,_6f4){
return "";
}});
var _6f5=dg._ContentBuilder=lang.extend(function(view){
_6e1.call(this,view);
},_6e1.prototype,{update:function(){
this.prepareHtml();
},prepareHtml:function(){
var _6f6=this.grid.get,_6f7=this.view.structure.cells;
for(var j=0,row;(row=_6f7[j]);j++){
for(var i=0,cell;(cell=row[i]);i++){
cell.get=cell.get||(cell.value==undefined)&&_6f6;
cell.markup=this.generateCellMarkup(cell,cell.cellStyles,cell.cellClasses,false);
if(!this.grid.editable&&cell.editable){
this.grid.editable=true;
}
}
}
},generateHtml:function(_6f8,_6f9){
var html=this.getTableArray(),v=this.view,dir,_6fa=v.structure.cells,item=this.grid.getItem(_6f9);
util.fire(this.view,"onBeforeRow",[_6f9,_6fa]);
for(var j=0,row;(row=_6fa[j]);j++){
if(row.hidden||row.header){
continue;
}
html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");
for(var i=0,cell,m,cc,cs;(cell=row[i]);i++){
m=cell.markup;
cc=cell.customClasses=[];
cs=cell.customStyles=[];
m[5]=cell.format(_6f9,item);
m[1]=cc.join(" ");
m[3]=cs.join(";");
dir=cell.textDir||this.grid.textDir;
if(dir){
m[3]+=this._getTextDirStyle(dir,cell,_6f9);
}
html.push.apply(html,m);
}
html.push("</tr>");
}
html.push("</table>");
return html.join("");
},decorateEvent:function(e){
e.rowNode=this.findRowTarget(e.target);
if(!e.rowNode){
return false;
}
e.rowIndex=e.rowNode[_6df];
this.baseDecorateEvent(e);
e.cell=this.grid.getCell(e.cellIndex);
return true;
}});
var _6fb=dg._HeaderBuilder=lang.extend(function(view){
this.moveable=null;
_6e1.call(this,view);
},_6e1.prototype,{_skipBogusClicks:false,overResizeWidth:4,minColWidth:1,update:function(){
if(this.tableMap){
this.tableMap.mapRows(this.view.structure.cells);
}else{
this.tableMap=new dg._TableMap(this.view.structure.cells);
}
},generateHtml:function(_6fc,_6fd){
var dir,html=this.getTableArray(),_6fe=this.view.structure.cells;
util.fire(this.view,"onBeforeRow",[-1,_6fe]);
for(var j=0,row;(row=_6fe[j]);j++){
if(row.hidden){
continue;
}
html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");
for(var i=0,cell,_6ff;(cell=row[i]);i++){
cell.customClasses=[];
cell.customStyles=[];
if(this.view.simpleStructure){
if(cell.draggable){
if(cell.headerClasses){
if(cell.headerClasses.indexOf("dojoDndItem")==-1){
cell.headerClasses+=" dojoDndItem";
}
}else{
cell.headerClasses="dojoDndItem";
}
}
if(cell.attrs){
if(cell.attrs.indexOf("dndType='gridColumn_")==-1){
cell.attrs+=" dndType='gridColumn_"+this.grid.id+"'";
}
}else{
cell.attrs="dndType='gridColumn_"+this.grid.id+"'";
}
}
_6ff=this.generateCellMarkup(cell,cell.headerStyles,cell.headerClasses,true);
_6ff[5]=(_6fd!=undefined?_6fd:_6fc(cell));
_6ff[3]=cell.customStyles.join(";");
dir=cell.textDir||this.grid.textDir;
if(dir){
_6ff[3]+=this._getTextDirStyle(dir,cell,_6fd);
}
_6ff[1]=cell.customClasses.join(" ");
html.push(_6ff.join(""));
}
html.push("</tr>");
}
html.push("</table>");
return html.join("");
},getCellX:function(e){
var n,x,pos;
n=_6da(e.target,_6dd("th"));
if(n){
pos=_6d3.position(n);
x=e.clientX-pos.x;
}else{
x=e.layerX;
}
return x;
},decorateEvent:function(e){
this.baseDecorateEvent(e);
e.rowIndex=-1;
e.cellX=this.getCellX(e);
return true;
},prepareResize:function(e,mod){
do{
var i=e.cellIndex;
e.cellNode=(i?e.cellNode.parentNode.cells[i+mod]:null);
e.cellIndex=(e.cellNode?this.getCellNodeIndex(e.cellNode):-1);
}while(e.cellNode&&e.cellNode.style.display=="none");
return Boolean(e.cellNode);
},canResize:function(e){
if(!e.cellNode||e.cellNode.colSpan>1){
return false;
}
var cell=this.grid.getCell(e.cellIndex);
return !cell.noresize&&cell.canResize();
},overLeftResizeArea:function(e){
if(html.hasClass(win.body(),"dojoDndMove")){
return false;
}
if(has("ie")){
var tN=e.target;
if(html.hasClass(tN,"dojoxGridArrowButtonNode")||html.hasClass(tN,"dojoxGridArrowButtonChar")||html.hasClass(tN,"dojoxGridColCaption")){
return false;
}
}
if(this.grid.isLeftToRight()){
return (e.cellIndex>0)&&(e.cellX>0&&e.cellX<this.overResizeWidth)&&this.prepareResize(e,-1);
}
var t=e.cellNode&&(e.cellX>0&&e.cellX<this.overResizeWidth);
return t;
},overRightResizeArea:function(e){
if(html.hasClass(win.body(),"dojoDndMove")){
return false;
}
if(has("ie")){
var tN=e.target;
if(html.hasClass(tN,"dojoxGridArrowButtonNode")||html.hasClass(tN,"dojoxGridArrowButtonChar")||html.hasClass(tN,"dojoxGridColCaption")){
return false;
}
}
if(this.grid.isLeftToRight()){
return e.cellNode&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth);
}
return (e.cellIndex>0)&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth)&&this.prepareResize(e,-1);
},domousemove:function(e){
if(!this.moveable){
var c=(this.overRightResizeArea(e)?"dojoxGridColResize":(this.overLeftResizeArea(e)?"dojoxGridColResize":""));
if(c&&!this.canResize(e)){
c="dojoxGridColNoResize";
}
html.toggleClass(e.sourceView.headerNode,"dojoxGridColNoResize",(c=="dojoxGridColNoResize"));
html.toggleClass(e.sourceView.headerNode,"dojoxGridColResize",(c=="dojoxGridColResize"));
if(c){
_6cf.stop(e);
}
}
},domousedown:function(e){
if(!this.moveable){
if((this.overRightResizeArea(e)||this.overLeftResizeArea(e))&&this.canResize(e)){
this.beginColumnResize(e);
}else{
this.grid.onMouseDown(e);
this.grid.onMouseOverRow(e);
}
}
},doclick:function(e){
if(this._skipBogusClicks){
_6cf.stop(e);
return true;
}
return false;
},colResizeSetup:function(e,_700){
var _701=html.contentBox(e.sourceView.headerNode);
if(_700){
this.lineDiv=document.createElement("div");
var vw=html.position(e.sourceView.headerNode,true);
var _702=html.contentBox(e.sourceView.domNode);
var l=e.pageX;
if(!this.grid.isLeftToRight()&&has("ie")<8){
l-=_6d2.getScrollbar().w;
}
html.style(this.lineDiv,{top:vw.y+"px",left:l+"px",height:(_702.h+_701.h)+"px"});
html.addClass(this.lineDiv,"dojoxGridResizeColLine");
this.lineDiv._origLeft=l;
win.body().appendChild(this.lineDiv);
}
var _703=[],_704=this.tableMap.findOverlappingNodes(e.cellNode);
for(var i=0,cell;(cell=_704[i]);i++){
_703.push({node:cell,index:this.getCellNodeIndex(cell),width:cell.offsetWidth});
}
var view=e.sourceView;
var adj=this.grid.isLeftToRight()?1:-1;
var _705=e.grid.views.views;
var _706=[];
for(var j=view.idx+adj,_707;(_707=_705[j]);j=j+adj){
_706.push({node:_707.headerNode,left:window.parseInt(_707.headerNode.style.left)});
}
var _708=view.headerContentNode.firstChild;
var drag={scrollLeft:e.sourceView.headerNode.scrollLeft,view:view,node:e.cellNode,index:e.cellIndex,w:html.contentBox(e.cellNode).w,vw:_701.w,table:_708,tw:html.contentBox(_708).w,spanners:_703,followers:_706};
return drag;
},beginColumnResize:function(e){
this.moverDiv=document.createElement("div");
html.style(this.moverDiv,{position:"absolute",left:0});
win.body().appendChild(this.moverDiv);
html.addClass(this.grid.domNode,"dojoxGridColumnResizing");
var m=(this.moveable=new _6d1(this.moverDiv));
var drag=this.colResizeSetup(e,true);
m.onMove=lang.hitch(this,"doResizeColumn",drag);
_6d0.connect(m,"onMoveStop",lang.hitch(this,function(){
this.endResizeColumn(drag);
if(drag.node.releaseCapture){
drag.node.releaseCapture();
}
this.moveable.destroy();
delete this.moveable;
this.moveable=null;
html.removeClass(this.grid.domNode,"dojoxGridColumnResizing");
}));
if(e.cellNode.setCapture){
e.cellNode.setCapture();
}
m.onMouseDown(e);
},doResizeColumn:function(_709,_70a,_70b){
var _70c=_70b.l;
var data={deltaX:_70c,w:_709.w+(this.grid.isLeftToRight()?_70c:-_70c),vw:_709.vw+_70c,tw:_709.tw+_70c};
this.dragRecord={inDrag:_709,mover:_70a,leftTop:_70b};
if(data.w>=this.minColWidth){
if(!_70a){
this.doResizeNow(_709,data);
}else{
html.style(this.lineDiv,"left",(this.lineDiv._origLeft+data.deltaX)+"px");
}
}
},endResizeColumn:function(_70d){
if(this.dragRecord){
var _70e=this.dragRecord.leftTop;
var _70f=this.grid.isLeftToRight()?_70e.l:-_70e.l;
_70f+=Math.max(_70d.w+_70f,this.minColWidth)-(_70d.w+_70f);
if(has("webkit")&&_70d.spanners.length){
_70f+=html._getPadBorderExtents(_70d.spanners[0].node).w;
}
var data={deltaX:_70f,w:_70d.w+_70f,vw:_70d.vw+_70f,tw:_70d.tw+_70f};
this.doResizeNow(_70d,data);
delete this.dragRecord;
}
html.destroy(this.lineDiv);
html.destroy(this.moverDiv);
html.destroy(this.moverDiv);
delete this.moverDiv;
this._skipBogusClicks=true;
_70d.view.update();
this._skipBogusClicks=false;
this.grid.onResizeColumn(_70d.index);
},doResizeNow:function(_710,data){
_710.view.convertColPctToFixed();
if(_710.view.flexCells&&!_710.view.testFlexCells()){
var t=_6d9(_710.node);
if(t){
(t.style.width="");
}
}
var i,s,sw,f,fl;
for(i=0;(s=_710.spanners[i]);i++){
sw=s.width+data.deltaX;
if(sw>0){
s.node.style.width=sw+"px";
_710.view.setColWidth(s.index,sw);
}
}
if(this.grid.isLeftToRight()||!has("ie")){
for(i=0;(f=_710.followers[i]);i++){
fl=f.left+data.deltaX;
f.node.style.left=fl+"px";
}
}
_710.node.style.width=data.w+"px";
_710.view.setColWidth(_710.index,data.w);
_710.view.headerNode.style.width=data.vw+"px";
_710.view.setColumnsWidth(data.tw);
if(!this.grid.isLeftToRight()){
_710.view.headerNode.scrollLeft=_710.scrollLeft+data.deltaX;
}
}});
dg._TableMap=lang.extend(function(rows){
this.mapRows(rows);
},{map:null,mapRows:function(_711){
var _712=_711.length;
if(!_712){
return;
}
this.map=[];
var row;
for(var k=0;(row=_711[k]);k++){
this.map[k]=[];
}
for(var j=0;(row=_711[j]);j++){
for(var i=0,x=0,cell,_713,_714;(cell=row[i]);i++){
while(this.map[j][x]){
x++;
}
this.map[j][x]={c:i,r:j};
_714=cell.rowSpan||1;
_713=cell.colSpan||1;
for(var y=0;y<_714;y++){
for(var s=0;s<_713;s++){
this.map[j+y][x+s]=this.map[j][x];
}
}
x+=_713;
}
}
},dumpMap:function(){
for(var j=0,row,h="";(row=this.map[j]);j++,h=""){
for(var i=0,cell;(cell=row[i]);i++){
h+=cell.r+","+cell.c+"   ";
}
}
},getMapCoords:function(_715,_716){
for(var j=0,row;(row=this.map[j]);j++){
for(var i=0,cell;(cell=row[i]);i++){
if(cell.c==_716&&cell.r==_715){
return {j:j,i:i};
}
}
}
return {j:-1,i:-1};
},getNode:function(_717,_718,_719){
var row=_717&&_717.rows[_718];
return row&&row.cells[_719];
},_findOverlappingNodes:function(_71a,_71b,_71c){
var _71d=[];
var m=this.getMapCoords(_71b,_71c);
for(var j=0,row;(row=this.map[j]);j++){
if(j==m.j){
continue;
}
var rw=row[m.i];
var n=(rw?this.getNode(_71a,rw.r,rw.c):null);
if(n){
_71d.push(n);
}
}
return _71d;
},findOverlappingNodes:function(_71e){
return this._findOverlappingNodes(_6d9(_71e),_6d5(_71e.parentNode),_6d4(_71e));
}});
return {_Builder:_6e1,_HeaderBuilder:_6fb,_ContentBuilder:_6f5};
});
},"dijit/_Container":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(_71f,_720,_721,_722){
return _720("dijit._Container",null,{buildRendering:function(){
this.inherited(arguments);
if(!this.containerNode){
this.containerNode=this.domNode;
}
},addChild:function(_723,_724){
var _725=this.containerNode;
if(_724>0){
_725=_725.firstChild;
while(_724>0){
if(_725.nodeType==1){
_724--;
}
_725=_725.nextSibling;
}
if(_725){
_724="before";
}else{
_725=this.containerNode;
_724="last";
}
}
_721.place(_723.domNode,_725,_724);
if(this._started&&!_723._started){
_723.startup();
}
},removeChild:function(_726){
if(typeof _726=="number"){
_726=this.getChildren()[_726];
}
if(_726){
var node=_726.domNode;
if(node&&node.parentNode){
node.parentNode.removeChild(node);
}
}
},hasChildren:function(){
return this.getChildren().length>0;
},_getSiblingOfChild:function(_727,dir){
_722.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");
var _728=this.getChildren(),idx=_71f.indexOf(_728,_727);
return _728[idx+dir];
},getIndexOfChild:function(_729){
return _71f.indexOf(this.getChildren(),_729);
}});
});
},"dijit/layout/BorderContainer":function(){
define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./LayoutContainer","./utils"],function(_72a,_72b,_72c,_72d,_72e,_72f,_730,keys,lang,on,_731,_732,_733,_734,_735,_736){
var _737=_72c("dijit.layout._Splitter",[_733,_734],{live:true,templateString:"<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",constructor:function(){
this._handlers=[];
},postMixInProperties:function(){
this.inherited(arguments);
this.horizontal=/top|bottom/.test(this.region);
this._factor=/top|left/.test(this.region)?1:-1;
this._cookieName=this.container.id+"_"+this.region;
},buildRendering:function(){
this.inherited(arguments);
_72d.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));
if(this.container.persist){
var _738=_72b(this._cookieName);
if(_738){
this.child.domNode.style[this.horizontal?"height":"width"]=_738;
}
}
},_computeMaxSize:function(){
var dim=this.horizontal?"h":"w",_739=_72f.getMarginBox(this.child.domNode)[dim],_73a=_72a.filter(this.container.getChildren(),function(_73b){
return _73b.region=="center";
})[0];
var _73c=_72f.getContentBox(_73a.domNode)[dim]-10;
return Math.min(this.child.maxSize,_739+_73c);
},_startDrag:function(e){
if(!this.cover){
this.cover=_72e.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after");
}
_72d.add(this.cover,"dijitSplitterCoverActive");
if(this.fake){
_72e.destroy(this.fake);
}
if(!(this._resize=this.live)){
(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");
_72d.add(this.domNode,"dijitSplitterShadow");
_72e.place(this.fake,this.domNode,"after");
}
_72d.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");
if(this.fake){
_72d.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");
}
var _73d=this._factor,_73e=this.horizontal,axis=_73e?"pageY":"pageX",_73f=e[axis],_740=this.domNode.style,dim=_73e?"h":"w",_741=_730.getComputedStyle(this.child.domNode),_742=_72f.getMarginBox(this.child.domNode,_741)[dim],max=this._computeMaxSize(),min=Math.max(this.child.minSize,_72f.getPadBorderExtents(this.child.domNode,_741)[dim]+10),_743=this.region,_744=_743=="top"||_743=="bottom"?"top":"left",_745=parseInt(_740[_744],10),_746=this._resize,_747=lang.hitch(this.container,"_layoutChildren",this.child.id),de=this.ownerDocument;
this._handlers=this._handlers.concat([on(de,_731.move,this._drag=function(e,_748){
var _749=e[axis]-_73f,_74a=_73d*_749+_742,_74b=Math.max(Math.min(_74a,max),min);
if(_746||_748){
_747(_74b);
}
_740[_744]=_749+_745+_73d*(_74b-_74a)+"px";
}),on(de,"dragstart",function(e){
e.stopPropagation();
e.preventDefault();
}),on(this.ownerDocumentBody,"selectstart",function(e){
e.stopPropagation();
e.preventDefault();
}),on(de,_731.release,lang.hitch(this,"_stopDrag"))]);
e.stopPropagation();
e.preventDefault();
},_onMouse:function(e){
var o=(e.type=="mouseover"||e.type=="mouseenter");
_72d.toggle(this.domNode,"dijitSplitterHover",o);
_72d.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);
},_stopDrag:function(e){
try{
if(this.cover){
_72d.remove(this.cover,"dijitSplitterCoverActive");
}
if(this.fake){
_72e.destroy(this.fake);
}
_72d.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");
this._drag(e);
this._drag(e,true);
}
finally{
this._cleanupHandlers();
delete this._drag;
}
if(this.container.persist){
_72b(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});
}
},_cleanupHandlers:function(){
var h;
while(h=this._handlers.pop()){
h.remove();
}
},_onKeyDown:function(e){
this._resize=true;
var _74c=this.horizontal;
var tick=1;
switch(e.keyCode){
case _74c?keys.UP_ARROW:keys.LEFT_ARROW:
tick*=-1;
case _74c?keys.DOWN_ARROW:keys.RIGHT_ARROW:
break;
default:
return;
}
var _74d=_72f.getMarginSize(this.child.domNode)[_74c?"h":"w"]+this._factor*tick;
this.container._layoutChildren(this.child.id,Math.max(Math.min(_74d,this._computeMaxSize()),this.child.minSize));
e.stopPropagation();
e.preventDefault();
},destroy:function(){
this._cleanupHandlers();
delete this.child;
delete this.container;
delete this.cover;
delete this.fake;
this.inherited(arguments);
}});
var _74e=_72c("dijit.layout._Gutter",[_733,_734],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){
this.inherited(arguments);
this.horizontal=/top|bottom/.test(this.region);
},buildRendering:function(){
this.inherited(arguments);
_72d.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));
}});
var _74f=_72c("dijit.layout.BorderContainer",_735,{gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_737,postMixInProperties:function(){
if(!this.gutters){
this.baseClass+="NoGutter";
}
this.inherited(arguments);
},_setupChild:function(_750){
this.inherited(arguments);
var _751=_750.region,ltr=_750.isLeftToRight();
if(_751=="leading"){
_751=ltr?"left":"right";
}
if(_751=="trailing"){
_751=ltr?"right":"left";
}
if(_751){
if(_751!="center"&&(_750.splitter||this.gutters)&&!_750._splitterWidget){
var _752=_750.splitter?this._splitterClass:_74e;
if(lang.isString(_752)){
_752=lang.getObject(_752);
}
var _753=new _752({id:_750.id+"_splitter",container:this,child:_750,region:_751,live:this.liveSplitters});
_753.isSplitter=true;
_750._splitterWidget=_753;
var _754=_751=="bottom"||_751==(this.isLeftToRight()?"right":"left");
_72e.place(_753.domNode,_750.domNode,_754?"before":"after");
_753.startup();
}
}
},layout:function(){
this._layoutChildren();
},removeChild:function(_755){
var _756=_755._splitterWidget;
if(_756){
_756.destroy();
delete _755._splitterWidget;
}
this.inherited(arguments);
},getChildren:function(){
return _72a.filter(this.inherited(arguments),function(_757){
return !_757.isSplitter;
});
},getSplitter:function(_758){
return _72a.filter(this.getChildren(),function(_759){
return _759.region==_758;
})[0]._splitterWidget;
},resize:function(_75a,_75b){
if(!this.cs||!this.pe){
var node=this.domNode;
this.cs=_730.getComputedStyle(node);
this.pe=_72f.getPadExtents(node,this.cs);
this.pe.r=_730.toPixelValue(node,this.cs.paddingRight);
this.pe.b=_730.toPixelValue(node,this.cs.paddingBottom);
_730.set(node,"padding","0px");
}
this.inherited(arguments);
},_layoutChildren:function(_75c,_75d){
if(!this._borderBox||!this._borderBox.h){
return;
}
var _75e=[];
_72a.forEach(this._getOrderedChildren(),function(pane){
_75e.push(pane);
if(pane._splitterWidget){
_75e.push(pane._splitterWidget);
}
});
var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};
_736.layoutChildren(this.domNode,dim,_75e,_75c,_75d);
},destroyRecursive:function(){
_72a.forEach(this.getChildren(),function(_75f){
var _760=_75f._splitterWidget;
if(_760){
_760.destroy();
}
delete _75f._splitterWidget;
});
this.inherited(arguments);
}});
_74f.ChildWidgetProperties={splitter:false,minSize:0,maxSize:Infinity};
lang.mixin(_74f.ChildWidgetProperties,_735.ChildWidgetProperties);
lang.extend(_732,_74f.ChildWidgetProperties);
_74f._Splitter=_737;
_74f._Gutter=_74e;
return _74f;
});
},"dijit/_base/wai":function(){
define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(_761,lang,_762){
var _763={hasWaiRole:function(elem,role){
var _764=this.getWaiRole(elem);
return role?(_764.indexOf(role)>-1):(_764.length>0);
},getWaiRole:function(elem){
return lang.trim((_761.get(elem,"role")||"").replace("wairole:",""));
},setWaiRole:function(elem,role){
_761.set(elem,"role",role);
},removeWaiRole:function(elem,role){
var _765=_761.get(elem,"role");
if(!_765){
return;
}
if(role){
var t=lang.trim((" "+_765+" ").replace(" "+role+" "," "));
_761.set(elem,"role",t);
}else{
elem.removeAttribute("role");
}
},hasWaiState:function(elem,_766){
return elem.hasAttribute?elem.hasAttribute("aria-"+_766):!!elem.getAttribute("aria-"+_766);
},getWaiState:function(elem,_767){
return elem.getAttribute("aria-"+_767)||"";
},setWaiState:function(elem,_768,_769){
elem.setAttribute("aria-"+_768,_769);
},removeWaiState:function(elem,_76a){
elem.removeAttribute("aria-"+_76a);
}};
lang.mixin(_762,_763);
return _762;
});
},"dojo/dnd/Mover":function(){
define(["../_base/array","../_base/declare","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(_76b,_76c,lang,has,win,dom,_76d,_76e,_76f,on,_770,dnd,_771){
return _76c("dojo.dnd.Mover",[_76f],{constructor:function(node,e,host){
this.node=dom.byId(node);
this.marginBox={l:e.pageX,t:e.pageY};
this.mouseButton=e.button;
var h=(this.host=host),d=node.ownerDocument;
function _772(e){
e.preventDefault();
e.stopPropagation();
};
this.events=[on(d,_770.move,lang.hitch(this,"onFirstMove")),on(d,_770.move,lang.hitch(this,"onMouseMove")),on(d,_770.release,lang.hitch(this,"onMouseUp")),on(d,"dragstart",_772),on(d.body,"selectstart",_772)];
_771.autoScrollStart(d);
if(h&&h.onMoveStart){
h.onMoveStart(this);
}
},onMouseMove:function(e){
_771.autoScroll(e);
var m=this.marginBox;
this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY},e);
e.preventDefault();
e.stopPropagation();
},onMouseUp:function(e){
if(has("webkit")&&has("mac")&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){
this.destroy();
}
e.preventDefault();
e.stopPropagation();
},onFirstMove:function(e){
var s=this.node.style,l,t,h=this.host;
switch(s.position){
case "relative":
case "absolute":
l=Math.round(parseFloat(s.left))||0;
t=Math.round(parseFloat(s.top))||0;
break;
default:
s.position="absolute";
var m=_76d.getMarginBox(this.node);
var b=win.doc.body;
var bs=_76e.getComputedStyle(b);
var bm=_76d.getMarginBox(b,bs);
var bc=_76d.getContentBox(b,bs);
l=m.l-(bc.l-bm.l);
t=m.t-(bc.t-bm.t);
break;
}
this.marginBox.l=l-this.marginBox.l;
this.marginBox.t=t-this.marginBox.t;
if(h&&h.onFirstMove){
h.onFirstMove(this,e);
}
this.events.shift().remove();
},destroy:function(){
_76b.forEach(this.events,function(_773){
_773.remove();
});
var h=this.host;
if(h&&h.onMoveStop){
h.onMoveStop(this);
}
this.events=this.node=this.host=null;
}});
});
},"dijit/form/ComboBoxMixin":function(){
define(["dojo/_base/declare","dojo/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(_774,_775,_776,lang,_777,_778,_779,_77a,_77b){
return _774("dijit.form.ComboBoxMixin",[_77a,_778],{dropDownClass:_779,hasDownArrow:true,templateString:_77b,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},_setHasDownArrowAttr:function(val){
this._set("hasDownArrow",val);
this._buttonNode.style.display=val?"":"none";
},_showResultList:function(){
this.displayMessage("");
this.inherited(arguments);
},_setStoreAttr:function(_77c){
if(!_77c.get){
lang.mixin(_77c,{_oldAPI:true,get:function(id){
var _77d=new _775();
this.fetchItemByIdentity({identity:id,onItem:function(_77e){
_77d.resolve(_77e);
},onError:function(_77f){
_77d.reject(_77f);
}});
return _77d.promise;
},query:function(_780,_781){
var _782=new _775(function(){
_783.abort&&_783.abort();
});
_782.total=new _775();
var _783=this.fetch(lang.mixin({query:_780,onBegin:function(_784){
_782.total.resolve(_784);
},onComplete:function(_785){
_782.resolve(_785);
},onError:function(_786){
_782.reject(_786);
}},_781));
return _777(_782);
}});
}
this._set("store",_77c);
},postMixInProperties:function(){
var _787=this.params.store||this.store;
if(_787){
this._setStoreAttr(_787);
}
this.inherited(arguments);
if(!this.params.store&&!this.store._oldAPI){
var _788=this.declaredClass;
lang.mixin(this.store,{getValue:function(item,attr){
_776.deprecated(_788+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");
return item[attr];
},getLabel:function(item){
_776.deprecated(_788+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");
return item.name;
},fetch:function(args){
_776.deprecated(_788+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");
var shim=["dojo/data/ObjectStore"];
require(shim,lang.hitch(this,function(_789){
new _789({objectStore:this}).fetch(args);
}));
}});
}
}});
});
},"dijit/form/Select":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/i18n","dojo/_base/lang","dojo/on","dojo/sniff","./_FormSelectWidget","../_HasDropDown","../DropDownMenu","../MenuItem","../MenuSeparator","../Tooltip","../_KeyNavMixin","../registry","dojo/text!./templates/Select.html","dojo/i18n!./nls/validate"],function(_78a,_78b,_78c,_78d,_78e,i18n,lang,on,has,_78f,_790,_791,_792,_793,_794,_795,_796,_797){
var _798=_78b("dijit.form._SelectMenu",_791,{autoFocus:true,buildRendering:function(){
this.inherited(arguments);
this.domNode.setAttribute("role","listbox");
},postCreate:function(){
this.inherited(arguments);
this.own(on(this.domNode,"selectstart",function(evt){
evt.preventDefault();
evt.stopPropagation();
}));
},focus:function(){
var _799=false,val=this.parentWidget.value;
if(lang.isArray(val)){
val=val[val.length-1];
}
if(val){
_78a.forEach(this.parentWidget._getChildren(),function(_79a){
if(_79a.option&&(val===_79a.option.value)){
_799=true;
this.focusChild(_79a,false);
}
},this);
}
if(!_799){
this.inherited(arguments);
}
}});
var _79b=_78b("dijit.form.Select"+(has("dojo-bidi")?"_NoBidi":""),[_78f,_790,_795],{baseClass:"dijitSelect dijitValidationTextBox",templateString:_797,_buttonInputDisabled:has("ie")?"disabled":"",required:false,state:"",message:"",tooltipPosition:[],emptyLabel:"&#160;",_isLoaded:false,_childrenLoaded:false,_fillContent:function(){
this.inherited(arguments);
if(this.options.length&&!this.value&&this.srcNodeRef){
var si=this.srcNodeRef.selectedIndex||0;
this._set("value",this.options[si>=0?si:0].value);
}
this.dropDown=new _798({id:this.id+"_menu",parentWidget:this});
_78d.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "));
},_getMenuItemForOption:function(_79c){
if(!_79c.value&&!_79c.label){
return new _793({ownerDocument:this.ownerDocument});
}else{
var _79d=lang.hitch(this,"_setValueAttr",_79c);
var item=new _792({option:_79c,label:_79c.label||this.emptyLabel,onClick:_79d,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:_79c.disabled||false});
item.focusNode.setAttribute("role","option");
return item;
}
},_addOptionItem:function(_79e){
if(this.dropDown){
this.dropDown.addChild(this._getMenuItemForOption(_79e));
}
},_getChildren:function(){
if(!this.dropDown){
return [];
}
return this.dropDown.getChildren();
},focus:function(){
if(!this.disabled&&this.focusNode.focus){
try{
this.focusNode.focus();
}
catch(e){
}
}
},focusChild:function(_79f){
if(_79f){
this.set("value",_79f.option);
}
},_getFirst:function(){
var _7a0=this._getChildren();
return _7a0.length?_7a0[0]:null;
},_getLast:function(){
var _7a1=this._getChildren();
return _7a1.length?_7a1[_7a1.length-1]:null;
},childSelector:function(node){
var node=_796.byNode(node);
return node&&node.getParent()==this.dropDown;
},onKeyboardSearch:function(item,evt,_7a2,_7a3){
if(item){
this.focusChild(item);
}
},_loadChildren:function(_7a4){
if(_7a4===true){
if(this.dropDown){
delete this.dropDown.focusedChild;
this.focusedChild=null;
}
if(this.options.length){
this.inherited(arguments);
}else{
_78a.forEach(this._getChildren(),function(_7a5){
_7a5.destroyRecursive();
});
var item=new _792({ownerDocument:this.ownerDocument,label:this.emptyLabel});
this.dropDown.addChild(item);
}
}else{
this._updateSelection();
}
this._isLoaded=false;
this._childrenLoaded=true;
if(!this._loadingStore){
this._setValueAttr(this.value,false);
}
},_refreshState:function(){
if(this._started){
this.validate(this.focused);
}
},startup:function(){
this.inherited(arguments);
this._refreshState();
},_setValueAttr:function(_7a6){
this.inherited(arguments);
_78c.set(this.valueNode,"value",this.get("value"));
this._refreshState();
},_setNameAttr:"valueNode",_setDisabledAttr:function(_7a7){
this.inherited(arguments);
this._refreshState();
},_setRequiredAttr:function(_7a8){
this._set("required",_7a8);
this.focusNode.setAttribute("aria-required",_7a8);
this._refreshState();
},_setOptionsAttr:function(_7a9){
this._isLoaded=false;
this._set("options",_7a9);
},_setDisplay:function(_7aa){
var lbl=_7aa||this.emptyLabel;
this.containerNode.innerHTML="<span role=\"option\" class=\"dijitReset dijitInline "+this.baseClass.replace(/\s+|$/g,"Label ")+"\">"+lbl+"</span>";
},validate:function(_7ab){
var _7ac=this.disabled||this.isValid(_7ab);
this._set("state",_7ac?"":(this._hasBeenBlurred?"Error":"Incomplete"));
this.focusNode.setAttribute("aria-invalid",_7ac?"false":"true");
var _7ad=_7ac?"":this._missingMsg;
if(_7ad&&this.focused&&this._hasBeenBlurred){
_794.show(_7ad,this.domNode,this.tooltipPosition,!this.isLeftToRight());
}else{
_794.hide(this.domNode);
}
this._set("message",_7ad);
return _7ac;
},isValid:function(){
return (!this.required||this.value===0||!(/^\s*$/.test(this.value||"")));
},reset:function(){
this.inherited(arguments);
_794.hide(this.domNode);
this._refreshState();
},postMixInProperties:function(){
this.inherited(arguments);
this._missingMsg=i18n.getLocalization("dijit.form","validate",this.lang).missingMessage;
},postCreate:function(){
this.inherited(arguments);
this.own(on(this.domNode,"selectstart",function(evt){
evt.preventDefault();
evt.stopPropagation();
}));
this.domNode.setAttribute("aria-expanded","false");
if(has("ie")<9){
this.defer(function(){
try{
var s=domStyle.getComputedStyle(this.domNode);
if(s){
var ff=s.fontFamily;
if(ff){
var _7ae=this.domNode.getElementsByTagName("INPUT");
if(_7ae){
for(var i=0;i<_7ae.length;i++){
_7ae[i].style.fontFamily=ff;
}
}
}
}
}
catch(e){
}
});
}
},_setStyleAttr:function(_7af){
this.inherited(arguments);
_78d.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width);
},isLoaded:function(){
return this._isLoaded;
},loadDropDown:function(_7b0){
this._loadChildren(true);
this._isLoaded=true;
_7b0();
},destroy:function(_7b1){
if(this.dropDown&&!this.dropDown._destroyed){
this.dropDown.destroyRecursive(_7b1);
delete this.dropDown;
}
this.inherited(arguments);
},_onFocus:function(){
this.validate(true);
},_onBlur:function(){
_794.hide(this.domNode);
this.inherited(arguments);
this.validate(false);
}});
if(has("dojo-bidi")){
_79b=_78b("dijit.form.Select",_79b,{_setDisplay:function(_7b2){
this.inherited(arguments);
this.applyTextDir(this.containerNode);
}});
}
_79b._Menu=_798;
function _7b3(_7b4){
return function(evt){
if(!this._isLoaded){
this.loadDropDown(lang.hitch(this,_7b4,evt));
}else{
this.inherited(_7b4,arguments);
}
};
};
_79b.prototype._onContainerKeydown=_7b3("_onContainerKeydown");
_79b.prototype._onContainerKeypress=_7b3("_onContainerKeypress");
return _79b;
});
},"dijit/Calendar":function(){
define(["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(_7b5,date,_7b6,_7b7,_7b8,_7b9,_7ba,keys,lang,on,has,_7bb,_7bc,_7bd,_7be,_7bf){
var _7c0=_7b7("dijit.Calendar",[_7bb,_7bc,_7bd],{cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(_7c1){
_7ba.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");
this.set("value",_7c1);
},_createMonthWidget:function(){
return new _7c0._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);
},postCreate:function(){
this.inherited(arguments);
this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")),on(this.dateRowsNode,"mouseover",lang.hitch(this,"_onDayMouseOver")),on(this.dateRowsNode,"mouseout",lang.hitch(this,"_onDayMouseOut")),on(this.dateRowsNode,"mousedown",lang.hitch(this,"_onDayMouseDown")),on(this.dateRowsNode,"mouseup",lang.hitch(this,"_onDayMouseUp")));
},_onMonthSelect:function(_7c2){
var date=new this.dateClassObj(this.currentFocus);
date.setDate(1);
date.setMonth(_7c2);
var _7c3=this.dateModule.getDaysInMonth(date);
var _7c4=this.currentFocus.getDate();
date.setDate(Math.min(_7c4,_7c3));
this._setCurrentFocusAttr(date);
},_onDayMouseOver:function(evt){
var node=_7b9.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;
if(node&&((node.dijitDateValue&&!_7b9.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){
_7b9.add(node,"dijitCalendarHoveredDate");
this._currentNode=node;
}
},_onDayMouseOut:function(evt){
if(!this._currentNode){
return;
}
if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){
return;
}
var cls="dijitCalendarHoveredDate";
if(_7b9.contains(this._currentNode,"dijitCalendarActiveDate")){
cls+=" dijitCalendarActiveDate";
}
_7b9.remove(this._currentNode,cls);
this._currentNode=null;
},_onDayMouseDown:function(evt){
var node=evt.target.parentNode;
if(node&&node.dijitDateValue&&!_7b9.contains(node,"dijitCalendarDisabledDate")){
_7b9.add(node,"dijitCalendarActiveDate");
this._currentNode=node;
}
},_onDayMouseUp:function(evt){
var node=evt.target.parentNode;
if(node&&node.dijitDateValue){
_7b9.remove(node,"dijitCalendarActiveDate");
}
},handleKey:function(evt){
var _7c5=-1,_7c6,_7c7=this.currentFocus;
switch(evt.keyCode){
case keys.RIGHT_ARROW:
_7c5=1;
case keys.LEFT_ARROW:
_7c6="day";
if(!this.isLeftToRight()){
_7c5*=-1;
}
break;
case keys.DOWN_ARROW:
_7c5=1;
case keys.UP_ARROW:
_7c6="week";
break;
case keys.PAGE_DOWN:
_7c5=1;
case keys.PAGE_UP:
_7c6=evt.ctrlKey||evt.altKey?"year":"month";
break;
case keys.END:
_7c7=this.dateModule.add(_7c7,"month",1);
_7c6="day";
case keys.HOME:
_7c7=new this.dateClassObj(_7c7);
_7c7.setDate(1);
break;
default:
return true;
}
if(_7c6){
_7c7=this.dateModule.add(_7c7,_7c6,_7c5);
}
this._setCurrentFocusAttr(_7c7);
return false;
},_onKeyDown:function(evt){
if(!this.handleKey(evt)){
evt.stopPropagation();
evt.preventDefault();
}
},onValueSelected:function(){
},onChange:function(_7c8){
this.onValueSelected(_7c8);
},getClassForDate:function(){
}});
_7c0._MonthDropDownButton=_7b7("dijit.Calendar._MonthDropDownButton",_7bf,{onMonthSelect:function(){
},postCreate:function(){
this.inherited(arguments);
this.dropDown=new _7c0._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});
},_setMonthAttr:function(_7c9){
var _7ca=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_7c9);
this.dropDown.set("months",_7ca);
this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_7ca[_7c9.getMonth()]+"</div>";
}});
_7c0._MonthDropDown=_7b7("dijit.Calendar._MonthDropDown",[_7bc,_7be],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' "+"data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(_7cb){
this.domNode.innerHTML=_7b5.map(_7cb,function(_7cc,idx){
return _7cc?"<div class='dijitCalendarMonthLabel' month='"+idx+"'>"+_7cc+"</div>":"";
}).join("");
},_onClick:function(evt){
this.onChange(_7b8.get(evt.target,"month"));
},onChange:function(){
},_onMenuHover:function(evt){
_7b9.toggle(evt.target,"dijitCalendarMonthLabelHover",evt.type=="mouseover");
}});
return _7c0;
});
},"dojox/validate/regexp":function(){
define(["dojo/_base/lang","dojo/regexp","dojox/main"],function(lang,_7cd,_7ce){
var _7cf=lang.getObject("validate.regexp",true,_7ce);
_7cf=_7ce.validate.regexp={ipAddress:function(_7d0){
_7d0=(typeof _7d0=="object")?_7d0:{};
if(typeof _7d0.allowDottedDecimal!="boolean"){
_7d0.allowDottedDecimal=true;
}
if(typeof _7d0.allowDottedHex!="boolean"){
_7d0.allowDottedHex=true;
}
if(typeof _7d0.allowDottedOctal!="boolean"){
_7d0.allowDottedOctal=true;
}
if(typeof _7d0.allowDecimal!="boolean"){
_7d0.allowDecimal=true;
}
if(typeof _7d0.allowHex!="boolean"){
_7d0.allowHex=true;
}
if(typeof _7d0.allowIPv6!="boolean"){
_7d0.allowIPv6=true;
}
if(typeof _7d0.allowHybrid!="boolean"){
_7d0.allowHybrid=true;
}
var _7d1="((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";
var _7d2="(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]";
var _7d3="(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]";
var _7d4="(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|"+"4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])";
var _7d5="0[xX]0*[\\da-fA-F]{1,8}";
var _7d6="([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}";
var _7d7="([\\da-fA-F]{1,4}\\:){6}"+"((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";
var a=[];
if(_7d0.allowDottedDecimal){
a.push(_7d1);
}
if(_7d0.allowDottedHex){
a.push(_7d2);
}
if(_7d0.allowDottedOctal){
a.push(_7d3);
}
if(_7d0.allowDecimal){
a.push(_7d4);
}
if(_7d0.allowHex){
a.push(_7d5);
}
if(_7d0.allowIPv6){
a.push(_7d6);
}
if(_7d0.allowHybrid){
a.push(_7d7);
}
var _7d8="";
if(a.length>0){
_7d8="("+a.join("|")+")";
}
return _7d8;
},host:function(_7d9){
_7d9=(typeof _7d9=="object")?_7d9:{};
if(typeof _7d9.allowIP!="boolean"){
_7d9.allowIP=true;
}
if(typeof _7d9.allowLocal!="boolean"){
_7d9.allowLocal=false;
}
if(typeof _7d9.allowPort!="boolean"){
_7d9.allowPort=true;
}
if(typeof _7d9.allowNamed!="boolean"){
_7d9.allowNamed=false;
}
var _7da="(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)";
var _7db="(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)";
var _7dc=_7d9.allowPort?"(\\:\\d+)?":"";
var _7dd="((?:"+_7da+"\\.)+"+_7db+"\\.?)";
if(_7d9.allowIP){
_7dd+="|"+_7cf.ipAddress(_7d9);
}
if(_7d9.allowLocal){
_7dd+="|localhost";
}
if(_7d9.allowNamed){
_7dd+="|^[^-][a-zA-Z0-9_-]*";
}
return "("+_7dd+")"+_7dc;
},url:function(_7de){
_7de=(typeof _7de=="object")?_7de:{};
if(!("scheme" in _7de)){
_7de.scheme=[true,false];
}
var _7df=_7cd.buildGroupRE(_7de.scheme,function(q){
if(q){
return "(https?|ftps?)\\://";
}
return "";
});
var _7e0="(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?";
return _7df+_7cf.host(_7de)+_7e0;
},emailAddress:function(_7e1){
_7e1=(typeof _7e1=="object")?_7e1:{};
if(typeof _7e1.allowCruft!="boolean"){
_7e1.allowCruft=false;
}
_7e1.allowPort=false;
var _7e2="([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+";
var _7e3=_7e2+"@"+_7cf.host(_7e1);
if(_7e1.allowCruft){
_7e3="<?(mailto\\:)?"+_7e3+">?";
}
return _7e3;
},emailAddressList:function(_7e4){
_7e4=(typeof _7e4=="object")?_7e4:{};
if(typeof _7e4.listSeparator!="string"){
_7e4.listSeparator="\\s;,";
}
var _7e5=_7cf.emailAddress(_7e4);
var _7e6="("+_7e5+"\\s*["+_7e4.listSeparator+"]\\s*)*"+_7e5+"\\s*["+_7e4.listSeparator+"]?\\s*";
return _7e6;
},numberFormat:function(_7e7){
_7e7=(typeof _7e7=="object")?_7e7:{};
if(typeof _7e7.format=="undefined"){
_7e7.format="###-###-####";
}
var _7e8=function(_7e9){
return _7cd.escapeString(_7e9,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d");
};
return _7cd.buildGroupRE(_7e7.format,_7e8);
},ca:{postalCode:function(){
return "([A-Z][0-9][A-Z] [0-9][A-Z][0-9])";
},province:function(){
return "(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)";
}},us:{state:function(_7ea){
_7ea=(typeof _7ea=="object")?_7ea:{};
if(typeof _7ea.allowTerritories!="boolean"){
_7ea.allowTerritories=true;
}
if(typeof _7ea.allowMilitary!="boolean"){
_7ea.allowMilitary=true;
}
var _7eb="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|"+"NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";
var _7ec="AS|FM|GU|MH|MP|PW|PR|VI";
var _7ed="AA|AE|AP";
if(_7ea.allowTerritories){
_7eb+="|"+_7ec;
}
if(_7ea.allowMilitary){
_7eb+="|"+_7ed;
}
return "("+_7eb+")";
}}};
return _7cf;
});
},"dijit/_base/manager":function(){
define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_7ee,_7ef,lang,_7f0,_7f1){
var _7f2={};
_7ee.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){
_7f2[name]=_7f0[name];
});
lang.mixin(_7f2,{defaultDuration:_7ef["defaultDuration"]||200});
lang.mixin(_7f1,_7f2);
return _7f1;
});
},"dojo/data/ItemFileReadStore":function(){
define(["../_base/kernel","../_base/lang","../_base/declare","../_base/array","../_base/xhr","../Evented","./util/filter","./util/simpleFetch","../date/stamp"],function(_7f3,lang,_7f4,_7f5,xhr,_7f6,_7f7,_7f8,_7f9){
var _7fa=_7f4("dojo.data.ItemFileReadStore",[_7f6],{constructor:function(_7fb){
this._arrayOfAllItems=[];
this._arrayOfTopLevelItems=[];
this._loadFinished=false;
this._jsonFileUrl=_7fb.url;
this._ccUrl=_7fb.url;
this.url=_7fb.url;
this._jsonData=_7fb.data;
this.data=null;
this._datatypeMap=_7fb.typeMap||{};
if(!this._datatypeMap["Date"]){
this._datatypeMap["Date"]={type:Date,deserialize:function(_7fc){
return _7f9.fromISOString(_7fc);
}};
}
this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};
this._itemsByIdentity=null;
this._storeRefPropName="_S";
this._itemNumPropName="_0";
this._rootItemPropName="_RI";
this._reverseRefMap="_RRM";
this._loadInProgress=false;
this._queuedFetches=[];
if(_7fb.urlPreventCache!==undefined){
this.urlPreventCache=_7fb.urlPreventCache?true:false;
}
if(_7fb.hierarchical!==undefined){
this.hierarchical=_7fb.hierarchical?true:false;
}
if(_7fb.clearOnClose){
this.clearOnClose=true;
}
if("failOk" in _7fb){
this.failOk=_7fb.failOk?true:false;
}
},url:"",_ccUrl:"",data:null,typeMap:null,clearOnClose:false,urlPreventCache:false,failOk:false,hierarchical:true,_assertIsItem:function(item){
if(!this.isItem(item)){
throw new Error(this.declaredClass+": Invalid item argument.");
}
},_assertIsAttribute:function(_7fd){
if(typeof _7fd!=="string"){
throw new Error(this.declaredClass+": Invalid attribute argument.");
}
},getValue:function(item,_7fe,_7ff){
var _800=this.getValues(item,_7fe);
return (_800.length>0)?_800[0]:_7ff;
},getValues:function(item,_801){
this._assertIsItem(item);
this._assertIsAttribute(_801);
return (item[_801]||[]).slice(0);
},getAttributes:function(item){
this._assertIsItem(item);
var _802=[];
for(var key in item){
if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){
_802.push(key);
}
}
return _802;
},hasAttribute:function(item,_803){
this._assertIsItem(item);
this._assertIsAttribute(_803);
return (_803 in item);
},containsValue:function(item,_804,_805){
var _806=undefined;
if(typeof _805==="string"){
_806=_7f7.patternToRegExp(_805,false);
}
return this._containsValue(item,_804,_805,_806);
},_containsValue:function(item,_807,_808,_809){
return _7f5.some(this.getValues(item,_807),function(_80a){
if(_80a!==null&&!lang.isObject(_80a)&&_809){
if(_80a.toString().match(_809)){
return true;
}
}else{
if(_808===_80a){
return true;
}
}
});
},isItem:function(_80b){
if(_80b&&_80b[this._storeRefPropName]===this){
if(this._arrayOfAllItems[_80b[this._itemNumPropName]]===_80b){
return true;
}
}
return false;
},isItemLoaded:function(_80c){
return this.isItem(_80c);
},loadItem:function(_80d){
this._assertIsItem(_80d.item);
},getFeatures:function(){
return this._features;
},getLabel:function(item){
if(this._labelAttr&&this.isItem(item)){
return this.getValue(item,this._labelAttr);
}
return undefined;
},getLabelAttributes:function(item){
if(this._labelAttr){
return [this._labelAttr];
}
return null;
},filter:function(_80e,_80f,_810){
var _811=[],i,key;
if(_80e.query){
var _812,_813=_80e.queryOptions?_80e.queryOptions.ignoreCase:false;
var _814={};
for(key in _80e.query){
_812=_80e.query[key];
if(typeof _812==="string"){
_814[key]=_7f7.patternToRegExp(_812,_813);
}else{
if(_812 instanceof RegExp){
_814[key]=_812;
}
}
}
for(i=0;i<_80f.length;++i){
var _815=true;
var _816=_80f[i];
if(_816===null){
_815=false;
}else{
for(key in _80e.query){
_812=_80e.query[key];
if(!this._containsValue(_816,key,_812,_814[key])){
_815=false;
}
}
}
if(_815){
_811.push(_816);
}
}
_810(_811,_80e);
}else{
for(i=0;i<_80f.length;++i){
var item=_80f[i];
if(item!==null){
_811.push(item);
}
}
_810(_811,_80e);
}
},_fetchItems:function(_817,_818,_819){
var self=this;
if(this._loadFinished){
this.filter(_817,this._getItemsArray(_817.queryOptions),_818);
}else{
if(this._jsonFileUrl!==this._ccUrl){
_7f3.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");
this._ccUrl=this._jsonFileUrl;
this.url=this._jsonFileUrl;
}else{
if(this.url!==this._ccUrl){
this._jsonFileUrl=this.url;
this._ccUrl=this.url;
}
}
if(this.data!=null){
this._jsonData=this.data;
this.data=null;
}
if(this._jsonFileUrl){
if(this._loadInProgress){
this._queuedFetches.push({args:_817,filter:lang.hitch(self,"filter"),findCallback:lang.hitch(self,_818)});
}else{
this._loadInProgress=true;
var _81a={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};
var _81b=xhr.get(_81a);
_81b.addCallback(function(data){
try{
self._getItemsFromLoadedData(data);
self._loadFinished=true;
self._loadInProgress=false;
self.filter(_817,self._getItemsArray(_817.queryOptions),_818);
self._handleQueuedFetches();
}
catch(e){
self._loadFinished=true;
self._loadInProgress=false;
_819(e,_817);
}
});
_81b.addErrback(function(_81c){
self._loadInProgress=false;
_819(_81c,_817);
});
var _81d=null;
if(_817.abort){
_81d=_817.abort;
}
_817.abort=function(){
var df=_81b;
if(df&&df.fired===-1){
df.cancel();
df=null;
}
if(_81d){
_81d.call(_817);
}
};
}
}else{
if(this._jsonData){
try{
this._loadFinished=true;
this._getItemsFromLoadedData(this._jsonData);
this._jsonData=null;
self.filter(_817,this._getItemsArray(_817.queryOptions),_818);
}
catch(e){
_819(e,_817);
}
}else{
_819(new Error(this.declaredClass+": No JSON source data was provided as either URL or a nested Javascript object."),_817);
}
}
}
},_handleQueuedFetches:function(){
if(this._queuedFetches.length>0){
for(var i=0;i<this._queuedFetches.length;i++){
var _81e=this._queuedFetches[i],_81f=_81e.args,_820=_81e.filter,_821=_81e.findCallback;
if(_820){
_820(_81f,this._getItemsArray(_81f.queryOptions),_821);
}else{
this.fetchItemByIdentity(_81f);
}
}
this._queuedFetches=[];
}
},_getItemsArray:function(_822){
if(_822&&_822.deep){
return this._arrayOfAllItems;
}
return this._arrayOfTopLevelItems;
},close:function(_823){
if(this.clearOnClose&&this._loadFinished&&!this._loadInProgress){
if(((this._jsonFileUrl==""||this._jsonFileUrl==null)&&(this.url==""||this.url==null))&&this.data==null){
}
this._arrayOfAllItems=[];
this._arrayOfTopLevelItems=[];
this._loadFinished=false;
this._itemsByIdentity=null;
this._loadInProgress=false;
this._queuedFetches=[];
}
},_getItemsFromLoadedData:function(_824){
var _825=false,self=this;
function _826(_827){
return (_827!==null)&&(typeof _827==="object")&&(!lang.isArray(_827)||_825)&&(!lang.isFunction(_827))&&(_827.constructor==Object||lang.isArray(_827))&&(typeof _827._reference==="undefined")&&(typeof _827._type==="undefined")&&(typeof _827._value==="undefined")&&self.hierarchical;
};
function _828(_829){
self._arrayOfAllItems.push(_829);
for(var _82a in _829){
var _82b=_829[_82a];
if(_82b){
if(lang.isArray(_82b)){
var _82c=_82b;
for(var k=0;k<_82c.length;++k){
var _82d=_82c[k];
if(_826(_82d)){
_828(_82d);
}
}
}else{
if(_826(_82b)){
_828(_82b);
}
}
}
}
};
this._labelAttr=_824.label;
var i,item;
this._arrayOfAllItems=[];
this._arrayOfTopLevelItems=_824.items;
for(i=0;i<this._arrayOfTopLevelItems.length;++i){
item=this._arrayOfTopLevelItems[i];
if(lang.isArray(item)){
_825=true;
}
_828(item);
item[this._rootItemPropName]=true;
}
var _82e={},key;
for(i=0;i<this._arrayOfAllItems.length;++i){
item=this._arrayOfAllItems[i];
for(key in item){
if(key!==this._rootItemPropName){
var _82f=item[key];
if(_82f!==null){
if(!lang.isArray(_82f)){
item[key]=[_82f];
}
}else{
item[key]=[null];
}
}
_82e[key]=key;
}
}
while(_82e[this._storeRefPropName]){
this._storeRefPropName+="_";
}
while(_82e[this._itemNumPropName]){
this._itemNumPropName+="_";
}
while(_82e[this._reverseRefMap]){
this._reverseRefMap+="_";
}
var _830;
var _831=_824.identifier;
if(_831){
this._itemsByIdentity={};
this._features["dojo.data.api.Identity"]=_831;
for(i=0;i<this._arrayOfAllItems.length;++i){
item=this._arrayOfAllItems[i];
_830=item[_831];
var _832=_830[0];
if(!Object.hasOwnProperty.call(this._itemsByIdentity,_832)){
this._itemsByIdentity[_832]=item;
}else{
if(this._jsonFileUrl){
throw new Error(this.declaredClass+":  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_831+"].  Value collided: ["+_832+"]");
}else{
if(this._jsonData){
throw new Error(this.declaredClass+":  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_831+"].  Value collided: ["+_832+"]");
}
}
}
}
}else{
this._features["dojo.data.api.Identity"]=Number;
}
for(i=0;i<this._arrayOfAllItems.length;++i){
item=this._arrayOfAllItems[i];
item[this._storeRefPropName]=this;
item[this._itemNumPropName]=i;
}
for(i=0;i<this._arrayOfAllItems.length;++i){
item=this._arrayOfAllItems[i];
for(key in item){
_830=item[key];
for(var j=0;j<_830.length;++j){
_82f=_830[j];
if(_82f!==null&&typeof _82f=="object"){
if(("_type" in _82f)&&("_value" in _82f)){
var type=_82f._type;
var _833=this._datatypeMap[type];
if(!_833){
throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");
}else{
if(lang.isFunction(_833)){
_830[j]=new _833(_82f._value);
}else{
if(lang.isFunction(_833.deserialize)){
_830[j]=_833.deserialize(_82f._value);
}else{
throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");
}
}
}
}
if(_82f._reference){
var _834=_82f._reference;
if(!lang.isObject(_834)){
_830[j]=this._getItemByIdentity(_834);
}else{
for(var k=0;k<this._arrayOfAllItems.length;++k){
var _835=this._arrayOfAllItems[k],_836=true;
for(var _837 in _834){
if(_835[_837]!=_834[_837]){
_836=false;
}
}
if(_836){
_830[j]=_835;
}
}
}
if(this.referenceIntegrity){
var _838=_830[j];
if(this.isItem(_838)){
this._addReferenceToMap(_838,item,key);
}
}
}else{
if(this.isItem(_82f)){
if(this.referenceIntegrity){
this._addReferenceToMap(_82f,item,key);
}
}
}
}
}
}
}
},_addReferenceToMap:function(_839,_83a,_83b){
},getIdentity:function(item){
var _83c=this._features["dojo.data.api.Identity"];
if(_83c===Number){
return item[this._itemNumPropName];
}else{
var _83d=item[_83c];
if(_83d){
return _83d[0];
}
}
return null;
},fetchItemByIdentity:function(_83e){
var item,_83f;
if(!this._loadFinished){
var self=this;
if(this._jsonFileUrl!==this._ccUrl){
_7f3.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");
this._ccUrl=this._jsonFileUrl;
this.url=this._jsonFileUrl;
}else{
if(this.url!==this._ccUrl){
this._jsonFileUrl=this.url;
this._ccUrl=this.url;
}
}
if(this.data!=null&&this._jsonData==null){
this._jsonData=this.data;
this.data=null;
}
if(this._jsonFileUrl){
if(this._loadInProgress){
this._queuedFetches.push({args:_83e});
}else{
this._loadInProgress=true;
var _840={url:self._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk};
var _841=xhr.get(_840);
_841.addCallback(function(data){
var _842=_83e.scope?_83e.scope:_7f3.global;
try{
self._getItemsFromLoadedData(data);
self._loadFinished=true;
self._loadInProgress=false;
item=self._getItemByIdentity(_83e.identity);
if(_83e.onItem){
_83e.onItem.call(_842,item);
}
self._handleQueuedFetches();
}
catch(error){
self._loadInProgress=false;
if(_83e.onError){
_83e.onError.call(_842,error);
}
}
});
_841.addErrback(function(_843){
self._loadInProgress=false;
if(_83e.onError){
var _844=_83e.scope?_83e.scope:_7f3.global;
_83e.onError.call(_844,_843);
}
});
}
}else{
if(this._jsonData){
self._getItemsFromLoadedData(self._jsonData);
self._jsonData=null;
self._loadFinished=true;
item=self._getItemByIdentity(_83e.identity);
if(_83e.onItem){
_83f=_83e.scope?_83e.scope:_7f3.global;
_83e.onItem.call(_83f,item);
}
}
}
}else{
item=this._getItemByIdentity(_83e.identity);
if(_83e.onItem){
_83f=_83e.scope?_83e.scope:_7f3.global;
_83e.onItem.call(_83f,item);
}
}
},_getItemByIdentity:function(_845){
var item=null;
if(this._itemsByIdentity){
if(Object.hasOwnProperty.call(this._itemsByIdentity,_845)){
item=this._itemsByIdentity[_845];
}
}else{
if(Object.hasOwnProperty.call(this._arrayOfAllItems,_845)){
item=this._arrayOfAllItems[_845];
}
}
if(item===undefined){
item=null;
}
return item;
},getIdentityAttributes:function(item){
var _846=this._features["dojo.data.api.Identity"];
if(_846===Number){
return null;
}else{
return [_846];
}
},_forceLoad:function(){
var self=this;
if(this._jsonFileUrl!==this._ccUrl){
_7f3.deprecated(this.declaredClass+": ","To change the url, set the url property of the store,"+" not _jsonFileUrl.  _jsonFileUrl support will be removed in 2.0");
this._ccUrl=this._jsonFileUrl;
this.url=this._jsonFileUrl;
}else{
if(this.url!==this._ccUrl){
this._jsonFileUrl=this.url;
this._ccUrl=this.url;
}
}
if(this.data!=null){
this._jsonData=this.data;
this.data=null;
}
if(this._jsonFileUrl){
var _847={url:this._jsonFileUrl,handleAs:"json-comment-optional",preventCache:this.urlPreventCache,failOk:this.failOk,sync:true};
var _848=xhr.get(_847);
_848.addCallback(function(data){
try{
if(self._loadInProgress!==true&&!self._loadFinished){
self._getItemsFromLoadedData(data);
self._loadFinished=true;
}else{
if(self._loadInProgress){
throw new Error(this.declaredClass+":  Unable to perform a synchronous load, an async load is in progress.");
}
}
}
catch(e){
throw e;
}
});
_848.addErrback(function(_849){
throw _849;
});
}else{
if(this._jsonData){
self._getItemsFromLoadedData(self._jsonData);
self._jsonData=null;
self._loadFinished=true;
}
}
}});
lang.extend(_7fa,_7f8);
return _7fa;
});
},"dijit/form/ComboButton":function(){
define(["dojo/_base/declare","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html"],function(_84a,keys,_84b,_84c,_84d){
return _84a("dijit.form.ComboButton",_84c,{templateString:_84d,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(evt){
if(evt.keyCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){
_84b.focus(this._popupStateNode);
evt.stopPropagation();
evt.preventDefault();
}
},_onArrowKeyDown:function(evt){
if(evt.keyCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){
_84b.focus(this.titleNode);
evt.stopPropagation();
evt.preventDefault();
}
},focus:function(_84e){
if(!this.disabled){
_84b.focus(_84e=="start"?this.titleNode:this._popupStateNode);
}
}});
});
},"dijit/WidgetSet":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(_84f,_850,_851,_852){
var _853=_850("dijit.WidgetSet",null,{constructor:function(){
this._hash={};
this.length=0;
},add:function(_854){
if(this._hash[_854.id]){
throw new Error("Tried to register widget with id=="+_854.id+" but that id is already registered");
}
this._hash[_854.id]=_854;
this.length++;
},remove:function(id){
if(this._hash[id]){
delete this._hash[id];
this.length--;
}
},forEach:function(func,_855){
_855=_855||_851.global;
var i=0,id;
for(id in this._hash){
func.call(_855,this._hash[id],i++,this._hash);
}
return this;
},filter:function(_856,_857){
_857=_857||_851.global;
var res=new _853(),i=0,id;
for(id in this._hash){
var w=this._hash[id];
if(_856.call(_857,w,i++,this._hash)){
res.add(w);
}
}
return res;
},byId:function(id){
return this._hash[id];
},byClass:function(cls){
var res=new _853(),id,_858;
for(id in this._hash){
_858=this._hash[id];
if(_858.declaredClass==cls){
res.add(_858);
}
}
return res;
},toArray:function(){
var ar=[];
for(var id in this._hash){
ar.push(this._hash[id]);
}
return ar;
},map:function(func,_859){
return _84f.map(this.toArray(),func,_859);
},every:function(func,_85a){
_85a=_85a||_851.global;
var x=0,i;
for(i in this._hash){
if(!func.call(_85a,this._hash[i],x++,this._hash)){
return false;
}
}
return true;
},some:function(func,_85b){
_85b=_85b||_851.global;
var x=0,i;
for(i in this._hash){
if(func.call(_85b,this._hash[i],x++,this._hash)){
return true;
}
}
return false;
}});
_84f.forEach(["forEach","filter","byClass","map","every","some"],function(func){
_852[func]=_853.prototype[func];
});
return _853;
});
},"dijit/form/RangeBoundTextBox":function(){
define(["dojo/_base/declare","dojo/i18n","./MappedTextBox"],function(_85c,i18n,_85d){
var _85e=_85c("dijit.form.RangeBoundTextBox",_85d,{rangeMessage:"",rangeCheck:function(_85f,_860){
return ("min" in _860?(this.compare(_85f,_860.min)>=0):true)&&("max" in _860?(this.compare(_85f,_860.max)<=0):true);
},isInRange:function(){
return this.rangeCheck(this.get("value"),this.constraints);
},_isDefinitelyOutOfRange:function(){
var val=this.get("value");
if(val==null){
return false;
}
var _861=false;
if("min" in this.constraints){
var min=this.constraints.min;
_861=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min)<0;
}
if(!_861&&("max" in this.constraints)){
var max=this.constraints.max;
_861=this.compare(val,((typeof max!="number")||max>0)?max:0)>0;
}
return _861;
},_isValidSubset:function(){
return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();
},isValid:function(_862){
return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_862));
},getErrorMessage:function(_863){
var v=this.get("value");
if(v!=null&&v!==""&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_863)){
return this.rangeMessage;
}
return this.inherited(arguments);
},postMixInProperties:function(){
this.inherited(arguments);
if(!this.rangeMessage){
this.messages=i18n.getLocalization("dijit.form","validate",this.lang);
this.rangeMessage=this.messages.rangeMessage;
}
}});
return _85e;
});
},"dojox/html/entities":function(){
define(["dojo/_base/lang"],function(lang){
var dhe=lang.getObject("dojox.html.entities",true);
var _864=function(str,map){
var _865,_866;
if(map._encCache&&map._encCache.regexp&&map._encCache.mapper&&map.length==map._encCache.length){
_865=map._encCache.mapper;
_866=map._encCache.regexp;
}else{
_865={};
_866=["["];
var i;
for(i=0;i<map.length;i++){
_865[map[i][0]]="&"+map[i][1]+";";
_866.push(map[i][0]);
}
_866.push("]");
_866=new RegExp(_866.join(""),"g");
map._encCache={mapper:_865,regexp:_866,length:map.length};
}
str=str.replace(_866,function(c){
return _865[c];
});
return str;
};
var _867=function(str,map){
var _868,_869;
if(map._decCache&&map._decCache.regexp&&map._decCache.mapper&&map.length==map._decCache.length){
_868=map._decCache.mapper;
_869=map._decCache.regexp;
}else{
_868={};
_869=["("];
var i;
for(i=0;i<map.length;i++){
var e="&"+map[i][1]+";";
if(i){
_869.push("|");
}
_868[e]=map[i][0];
_869.push(e);
}
_869.push(")");
_869=new RegExp(_869.join(""),"g");
map._decCache={mapper:_868,regexp:_869,length:map.length};
}
str=str.replace(_869,function(c){
return _868[c];
});
return str;
};
dhe.html=[["&","amp"],["\"","quot"],["<","lt"],[">","gt"],["","nbsp"]];
dhe.latin=[["","iexcl"],["","cent"],["","pound"],["","euro"],["","curren"],["","yen"],["","brvbar"],["","sect"],["","uml"],["","copy"],["","ordf"],["","laquo"],["","not"],["","shy"],["","reg"],["","macr"],["","deg"],["","plusmn"],["","sup2"],["","sup3"],["","acute"],["","micro"],["","para"],["","middot"],["","cedil"],["","sup1"],["","ordm"],["","raquo"],["","frac14"],["","frac12"],["","frac34"],["","iquest"],["","Agrave"],["","Aacute"],["","Acirc"],["","Atilde"],["","Auml"],["","Aring"],["","AElig"],["","Ccedil"],["","Egrave"],["","Eacute"],["","Ecirc"],["","Euml"],["","Igrave"],["","Iacute"],["","Icirc"],["","Iuml"],["","ETH"],["","Ntilde"],["","Ograve"],["","Oacute"],["","Ocirc"],["","Otilde"],["","Ouml"],["","times"],["","Oslash"],["","Ugrave"],["","Uacute"],["","Ucirc"],["","Uuml"],["","Yacute"],["","THORN"],["","szlig"],["","agrave"],["","aacute"],["","acirc"],["","atilde"],["","auml"],["","aring"],["","aelig"],["","ccedil"],["","egrave"],["","eacute"],["","ecirc"],["","euml"],["","igrave"],["","iacute"],["","icirc"],["","iuml"],["","eth"],["","ntilde"],["","ograve"],["","oacute"],["","ocirc"],["","otilde"],["","ouml"],["","divide"],["","oslash"],["","ugrave"],["","uacute"],["","ucirc"],["","uuml"],["","yacute"],["","thorn"],["","yuml"],["","fnof"],["","Alpha"],["","Beta"],["","Gamma"],["","Delta"],["","Epsilon"],["","Zeta"],["","Eta"],["","Theta"],["","Iota"],["","Kappa"],["","Lambda"],["","Mu"],["","Nu"],["","Xi"],["","Omicron"],["","Pi"],["","Rho"],["","Sigma"],["","Tau"],["","Upsilon"],["","Phi"],["","Chi"],["","Psi"],["","Omega"],["","alpha"],["","beta"],["","gamma"],["","delta"],["","epsilon"],["","zeta"],["","eta"],["","theta"],["","iota"],["","kappa"],["","lambda"],["","mu"],["","nu"],["","xi"],["","omicron"],["","pi"],["","rho"],["","sigmaf"],["","sigma"],["","tau"],["","upsilon"],["","phi"],["","chi"],["","psi"],["","omega"],["","thetasym"],["","upsih"],["","piv"],["","bull"],["","hellip"],["","prime"],["","Prime"],["","oline"],["","frasl"],["","weierp"],["","image"],["","real"],["","trade"],["","alefsym"],["","larr"],["","uarr"],["","rarr"],["","darr"],["","harr"],["","crarr"],["","lArr"],["","uArr"],["","rArr"],["","dArr"],["","hArr"],["","forall"],["","part"],["","exist"],["","empty"],["","nabla"],["","isin"],["","notin"],["","ni"],["","prod"],["","sum"],["","minus"],["","lowast"],["","radic"],["","prop"],["","infin"],["","ang"],["","and"],["","or"],["","cap"],["","cup"],["","int"],["","there4"],["","sim"],["","cong"],["","asymp"],["","ne"],["","equiv"],["","le"],["","ge"],["","sub"],["","sup"],["","nsub"],["","sube"],["","supe"],["","oplus"],["","otimes"],["","perp"],["","sdot"],["","lceil"],["","rceil"],["","lfloor"],["","rfloor"],["","lang"],["","rang"],["","loz"],["","spades"],["","clubs"],["","hearts"],["","diams"],["","OElig"],["","oelig"],["","Scaron"],["","scaron"],["","Yuml"],["","circ"],["","tilde"],["","ensp"],["","emsp"],["","thinsp"],["","zwnj"],["","zwj"],["","lrm"],["","rlm"],["","ndash"],["","mdash"],["","lsquo"],["","rsquo"],["","sbquo"],["","ldquo"],["","rdquo"],["","bdquo"],["","dagger"],["","Dagger"],["","permil"],["","lsaquo"],["","rsaquo"]];
dhe.encode=function(str,m){
if(str){
if(!m){
str=_864(str,dhe.html);
str=_864(str,dhe.latin);
}else{
str=_864(str,m);
}
}
return str;
};
dhe.decode=function(str,m){
if(str){
if(!m){
str=_867(str,dhe.html);
str=_867(str,dhe.latin);
}else{
str=_867(str,m);
}
}
return str;
};
return dhe;
});
},"dojo/touch":function(){
define(["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(dojo,_86a,dom,_86b,lang,on,has,_86c,_86d,win){
var _86e=has("touch");
var ios4=has("ios")<5;
var _86f=navigator.pointerEnabled||navigator.msPointerEnabled,_870=(function(){
var _871={};
for(var type in {down:1,move:1,up:1,cancel:1,over:1,out:1}){
_871[type]=!navigator.pointerEnabled?"MSPointer"+type.charAt(0).toUpperCase()+type.slice(1):"pointer"+type;
}
return _871;
})();
var _872,_873,_874,_875,_876,_877,_878,_879;
var _87a;
function _87b(_87c,_87d,_87e){
if(_86f&&_87e){
return function(node,_87f){
return on(node,_87e,_87f);
};
}else{
if(_86e){
return function(node,_880){
var _881=on(node,_87d,_880),_882=on(node,_87c,function(evt){
if(!_87a||(new Date()).getTime()>_87a+1000){
_880.call(this,evt);
}
});
return {remove:function(){
_881.remove();
_882.remove();
}};
};
}else{
return function(node,_883){
return on(node,_87c,_883);
};
}
}
};
function _884(node){
do{
if(node.dojoClick!==undefined){
return node.dojoClick;
}
}while(node=node.parentNode);
};
function _885(e,_886,_887){
_873=!e.target.disabled&&_884(e.target);
if(_873){
_874=e.target;
_875=e.touches?e.touches[0].pageX:e.clientX;
_876=e.touches?e.touches[0].pageY:e.clientY;
_877=(typeof _873=="object"?_873.x:(typeof _873=="number"?_873:0))||4;
_878=(typeof _873=="object"?_873.y:(typeof _873=="number"?_873:0))||4;
if(!_872){
_872=true;
win.doc.addEventListener(_886,function(e){
_873=_873&&e.target==_874&&Math.abs((e.touches?e.touches[0].pageX:e.clientX)-_875)<=_877&&Math.abs((e.touches?e.touches[0].pageY:e.clientY)-_876)<=_878;
},true);
win.doc.addEventListener(_887,function(e){
if(_873){
_879=(new Date()).getTime();
var _888=e.target;
if(_888.tagName==="LABEL"){
_888=dom.byId(_888.getAttribute("for"))||_888;
}
setTimeout(function(){
on.emit(_888,"click",{bubbles:true,cancelable:true,_dojo_click:true});
});
}
},true);
function _889(type){
win.doc.addEventListener(type,function(e){
if(!e._dojo_click&&(new Date()).getTime()<=_879+1000&&!(e.target.tagName=="INPUT"&&_86b.contains(e.target,"dijitOffScreen"))){
e.stopPropagation();
e.stopImmediatePropagation&&e.stopImmediatePropagation();
if(type=="click"&&(e.target.tagName!="INPUT"||e.target.type=="radio"||e.target.type=="checkbox")&&e.target.tagName!="TEXTAREA"&&e.target.tagName!="AUDIO"&&e.target.tagName!="VIDEO"){
e.preventDefault();
}
}
},true);
};
_889("click");
_889("mousedown");
_889("mouseup");
}
}
};
var _88a;
if(_86e){
if(_86f){
_86d(function(){
win.doc.addEventListener(_870.down,function(evt){
_885(evt,_870.move,_870.up);
},true);
});
}else{
_86d(function(){
_88a=win.body();
win.doc.addEventListener("touchstart",function(evt){
_87a=(new Date()).getTime();
var _88b=_88a;
_88a=evt.target;
on.emit(_88b,"dojotouchout",{relatedTarget:_88a,bubbles:true});
on.emit(_88a,"dojotouchover",{relatedTarget:_88b,bubbles:true});
_885(evt,"touchmove","touchend");
},true);
function _88c(evt){
var _88d=lang.delegate(evt,{bubbles:true});
if(has("ios")>=6){
_88d.touches=evt.touches;
_88d.altKey=evt.altKey;
_88d.changedTouches=evt.changedTouches;
_88d.ctrlKey=evt.ctrlKey;
_88d.metaKey=evt.metaKey;
_88d.shiftKey=evt.shiftKey;
_88d.targetTouches=evt.targetTouches;
}
return _88d;
};
on(win.doc,"touchmove",function(evt){
_87a=(new Date()).getTime();
var _88e=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset));
if(_88e){
if(_88a!==_88e){
on.emit(_88a,"dojotouchout",{relatedTarget:_88e,bubbles:true});
on.emit(_88e,"dojotouchover",{relatedTarget:_88a,bubbles:true});
_88a=_88e;
}
if(!on.emit(_88e,"dojotouchmove",_88c(evt))){
evt.preventDefault();
}
}
});
on(win.doc,"touchend",function(evt){
_87a=(new Date()).getTime();
var node=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset))||win.body();
on.emit(node,"dojotouchend",_88c(evt));
});
});
}
}
var _88f={press:_87b("mousedown","touchstart",_870.down),move:_87b("mousemove","dojotouchmove",_870.move),release:_87b("mouseup","dojotouchend",_870.up),cancel:_87b(_86c.leave,"touchcancel",_86e?_870.cancel:null),over:_87b("mouseover","dojotouchover",_870.over),out:_87b("mouseout","dojotouchout",_870.out),enter:_86c._eventHandler(_87b("mouseover","dojotouchover",_870.over)),leave:_86c._eventHandler(_87b("mouseout","dojotouchout",_870.out))};
1&&(dojo.touch=_88f);
return _88f;
});
},"dojo/cache":function(){
define(["./_base/kernel","./text"],function(dojo){
return dojo.cache;
});
},"dijit/DialogUnderlay":function(){
define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe","./Viewport","./main"],function(_890,lang,_891,_892,_893,on,_894,_895,_896,_897,_898,_899){
var _89a=_890("dijit.DialogUnderlay",[_895,_896],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' tabIndex='-1' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(id){
_892.set(this.node,"id",id+"_underlay");
this._set("dialogId",id);
},_setClassAttr:function(_89b){
this.node.className="dijitDialogUnderlay "+_89b;
this._set("class",_89b);
},postCreate:function(){
this.ownerDocumentBody.appendChild(this.domNode);
this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")));
this.inherited(arguments);
},layout:function(){
var is=this.node.style,os=this.domNode.style;
os.display="none";
var _89c=_894.getBox(this.ownerDocument);
os.top=_89c.t+"px";
os.left=_89c.l+"px";
is.width=_89c.w+"px";
is.height=_89c.h+"px";
os.display="block";
},show:function(){
this.domNode.style.display="block";
this.open=true;
this.layout();
this.bgIframe=new _897(this.domNode);
var win=_894.get(this.ownerDocument);
this._modalConnects=[_898.on("resize",lang.hitch(this,"layout")),on(win,"scroll",lang.hitch(this,"layout"))];
},hide:function(){
this.bgIframe.destroy();
delete this.bgIframe;
this.domNode.style.display="none";
while(this._modalConnects.length){
(this._modalConnects.pop()).remove();
}
this.open=false;
},destroy:function(){
while(this._modalConnects.length){
(this._modalConnects.pop()).remove();
}
this.inherited(arguments);
},_onKeyDown:function(){
}});
_89a.show=function(_89d,_89e){
var _89f=_89a._singleton;
if(!_89f||_89f._destroyed){
_89f=_899._underlay=_89a._singleton=new _89a(_89d);
}else{
if(_89d){
_89f.set(_89d);
}
}
_893.set(_89f.domNode,"zIndex",_89e);
if(!_89f.open){
_89f.show();
}
};
_89a.hide=function(){
var _8a0=_89a._singleton;
if(_8a0&&!_8a0._destroyed){
_8a0.hide();
}
};
return _89a;
});
},"manager/GridPages":function(){
define("manager/GridPages",["dojo/_base/declare"],function(_8a1){
return _8a1("Manager.GridPages",[],{templateString:dojo.cache("../../manager","templates/GridPages.html"),baseClass:"mGridPages",from:0,to:0,selected:0,grid:"",postCreate:function(){
var page=[];
page[0]=document.createElement("span");
page[0].appendChild(document.createTextNode("Pginas:"));
page[0].className="text";
this.containerNode.appendChild(page[0]);
for(var i=this.from;i<=this.to;i++){
page[i]=document.createElement("span");
page[i].appendChild(document.createTextNode(i));
page[i].className=(i==this.selected)?"selected":"link";
this.containerNode.appendChild(page[i]);
}
},onClick:function(_8a2){
}});
});
},"manager/DGrid":function(){
define("manager/DGrid",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/json","dojo/_base/Deferred","dojo/parser","dojo/aspect","dojo/dom-construct","dojo/dom-class","dojo/store/Memory","dojo/store/JsonRest","dijit/registry","dojo/store/util/QueryResults","dojo/store/Observable","dojo/store/Cache","dgrid/Grid","dgrid/OnDemandGrid","dgrid/extensions/Pagination"],function(_8a3,lang,_8a4,json,_8a5,_8a6,_8a7,_8a8,_8a9,_8aa,_8ab,_8ac,_8ad,_8ae,_8af,Grid,_8b0,_8b1){
return _8a3("Manager.DGrid",[],{constructor:function(name,_8b2,_8b3){
this.name=name;
this.firstIndex=_8b2;
this.data=null;
this.columns=null;
this.widgets=[];
this.dgrid=null;
this.dgridType=_8b3;
this.store=null;
this.arrayData=[];
this.arrayColumns=[];
this.actionData="";
},startup:function(){
_8a4.forEach(this.data,lang.hitch(this,function(row,i){
var o={};
var id=i+this.firstIndex;
var arr=_8a4.map(row,function(item,_8b4){
o["id"]=id;
o["widgets"]=[];
o["field"+_8b4]=item;
});
this.arrayData[i++]=o;
}));
this.store=_8ae(_8af(_8ab({baseTarget:this.actionData,idProperty:"idPessoa",query:function(_8b5,_8b6){
var _8b7,def,_8b8;
this.target=this.baseTarget+"?start="+_8b6.start+"&count="+_8b6.count;
var r=_8ab.prototype.query.call(this,_8b5,_8b6);
return r;
}}),_8aa()));
this.store.getChildren=function(_8b9,_8ba){
return this.store.query({parent:_8b9.id},_8ba);
};
var arr=_8a4.map(this.columns,lang.hitch(this,function(item,i){
var _8bb=_8a8.toDom(item.label);
this.arrayColumns[i]={label:item.label,field:item.field,className:item.className,sortable:item.sortable,renderHeaderCell:function(node){
if(item.label.charAt(0)=="<"){
var _8bc=_8a8.toDom(item.label);
_8a8.place(_8bc,node);
_8a6.parse(node);
}else{
node.appendChild(document.createTextNode(item.label));
}
},renderCell:function(_8bd,_8be,node){
node.appendChild(document.createTextNode(_8be));
}};
}));
if(this.dgridType=="demand"){
this.dgridOnDemand();
}else{
this.dgridPagination();
}
},dgridOnDemand:function(){
this.dgrid=new _8b0({},this.name);
this.dgrid.set("minRowsPerPage",16);
this.dgrid.set("store",this.store);
this.dgrid.set("columns",this.arrayColumns);
this.dgrid.startup();
},dgridPagination:function(){
var _8bf=_8a3([Grid,_8b1]);
this.dgrid=new _8bf({pagingLinks:1,pagingTextBox:true,firstLastArrows:true,pageSizeOptions:[10,15,25]},this.name);
_8a7.after(this.dgrid,"renderArray",function(_8c0){
for(var i=0;i<_8c0.length;i++){
_8a6.parse(_8c0[i].id);
}
return _8c0;
});
_8a7.before(this.dgrid,"renderRow",function(_8c1){
for(var i=0;i<_8c1.widgets.length;i++){
var _8c2=_8ac.byId(_8c1.widgets[i]);
if(_8c2){
_8c2.destroyRecursive();
}
}
},true);
this.dgrid.set("store",this.store);
this.dgrid.set("columns",this.arrayColumns);
this.dgrid.startup();
}});
});
},"manager/Validate":function(){
require(["dojox/validate/_base","dojo/_base/lang","dijit/registry"],function(_8c3,lang,_8c4){
Manager.Validate={isValidCpf:function(_8c5,_8c6){
var _8c7=_8c4.byId(_8c6);
if(_8c7){
if(!_8c7.required&&(_8c7._isEmpty(_8c5)||(_8c5=="___.___.___-__"))){
return true;
}
}
if(!lang.isString(_8c5)){
if(!_8c5){
return false;
}
_8c5=_8c5+"";
while(_8c5.length<11){
_8c5="0"+_8c5;
}
}
var _8c8={format:["###.###.###-##","#########-##","###########"]};
if(_8c3.isNumberFormat(_8c5,_8c8)){
_8c5=_8c5.replace("-","").replace(/\./g,"");
var cpf=[];
var dv=[];
var i,j,tmp;
for(i=0;i<10;i++){
tmp="";
for(j=0;j<_8c5.length;j++){
tmp+=""+i;
}
if(_8c5===tmp){
return false;
}
}
for(i=0;i<9;i++){
cpf.push(parseInt(_8c5.charAt(i),10));
}
for(i=9;i<12;i++){
dv.push(parseInt(_8c5.charAt(i),10));
}
var base=[10,9,8,7,6,5,4,3,2];
var sum=0;
for(i=0;i<cpf.length;i++){
sum+=cpf[i]*base[i];
}
var dv0=(sum%11)<2?0:11-(sum%11);
if(dv0==dv[0]){
sum=0;
base=[11,10,9,8,7,6,5,4,3,2];
cpf.push(dv0);
for(i=0;i<cpf.length;i++){
sum+=cpf[i]*base[i];
}
var dv1=(sum%11)<2?0:11-(sum%11);
if(dv1===dv[1]){
return true;
}
}
}
return false;
},isValidCnpj:function(_8c9,_8ca){
var _8cb=_8c4.byId(_8ca);
if(_8cb){
if(!_8cb.required&&(_8cb._isEmpty(_8c9)||(_8c9=="__.___.___/____-__"))){
return true;
}
}
if(!lang.isString(_8c9)){
if(!_8c9){
return false;
}
_8c9=_8c9+"";
while(_8c9.length<14){
_8c9="0"+_8c9;
}
}
var _8cc={format:["##.###.###/####-##","########/####-##","############-##","##############"]};
if(_8c3.isNumberFormat(_8c9,_8cc)){
_8c9=_8c9.replace("/","").replace(/\./g,"").replace("-","");
var cgc=[];
var dv=[];
var i,j,tmp;
for(i=0;i<10;i++){
tmp="";
for(j=0;j<_8c9.length;j++){
tmp+=""+i;
}
if(_8c9===tmp){
return false;
}
}
for(i=0;i<12;i++){
cgc.push(parseInt(_8c9.charAt(i),10));
}
for(i=12;i<14;i++){
dv.push(parseInt(_8c9.charAt(i),10));
}
var base=[5,4,3,2,9,8,7,6,5,4,3,2];
var sum=0;
for(i=0;i<cgc.length;i++){
sum+=cgc[i]*base[i];
}
var dv0=(sum%11)<2?0:11-(sum%11);
if(dv0==dv[0]){
sum=0;
base=[6,5,4,3,2,9,8,7,6,5,4,3,2];
cgc.push(dv0);
for(i=0;i<cgc.length;i++){
sum+=cgc[i]*base[i];
}
var dv1=(sum%11)<2?0:11-(sum%11);
if(dv1===dv[1]){
return true;
}
}
}
},isValidNIT:function(_8cd,_8ce){
var _8cf=_8c4.byId(_8ce);
if(_8cf){
if(!_8cf.required&&(_8cf._isEmpty(_8cd)||(_8cd=="___._____.__-_"))){
return true;
}
}
if(!lang.isString(_8cd)){
if(!_8cd){
return false;
}
_8cd=_8cd+"";
while(_8cd.length<14){
_8cd="0"+_8cd;
}
}
var _8d0={format:["###.#####.##-#","###########"]};
if(_8c3.isNumberFormat(_8cd,_8d0)){
_8cd=_8cd.replace(/\./g,"").replace("-","");
var nit=[];
var dv=[];
var i,j,tmp;
for(i=0;i<11;i++){
tmp="";
for(j=0;j<_8cd.length;j++){
tmp+=""+i;
}
if(_8cd===tmp){
return false;
}
}
for(i=0;i<10;i++){
nit.push(parseInt(_8cd.charAt(i),10));
}
for(i=10;i<11;i++){
dv.push(parseInt(_8cd.charAt(i),10));
}
var base=[3,2,9,8,7,6,5,4,3,2];
var sum=0;
for(i=0;i<nit.length;i++){
sum+=nit[i]*base[i];
}
var dv0=11-(sum%11);
if((dv0==10)||(dv0==11)){
dv0=0;
}
if(dv0==dv[0]){
return true;
}
}
return false;
}};
});
},"dojo/cldr/nls/gregorian":function(){
define({root:{"days-standAlone-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"months-format-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"y QQQ","dateFormatItem-yMEd":"y-MM-dd, E","dateFormatItem-GyMMMEd":"G y MMM d, E","dateFormatItem-MMMEd":"MMM d, E","eraNarrow":["BCE","CE"],"days-format-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"y MMMM d","months-format-wide":["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"],"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"y MMMM d, EEEE","dateFormatItem-Md":"MM-dd","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dateFormatItem-yMd":"y-MM-dd","field-era":"Era","dateFormatItem-yM":"y-MM","months-standAlone-wide":["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"],"timeFormat-short":"HH:mm","quarters-format-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"HH:mm:ss z","field-year":"Year","dateFormatItem-yMMM":"y MMM","dateTimeFormats-appendItem-Era":"{1} {0}","field-hour":"Hour","months-format-abbr":["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"],"timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow","dateFormatItem-GyMMMd":"G y MMM d","dateFormatItem-H":"HH","months-standAlone-abbr":["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"],"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-Gy":"G y","dateFormatItem-M":"L","days-standAlone-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"timeFormat-medium":"HH:mm:ss","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],"eraAbbr":["BCE","CE"],"field-minute":"Minute","field-dayperiod":"Dayperiod","days-standAlone-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Yesterday","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"AM","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"MM-dd, E","dateTimeFormat-full":"{1} {0}","field-day":"Day","days-format-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"field-zone":"Zone","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateFormatItem-y":"y","months-standAlone-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Year":"{1} {0}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"eraNames":["BCE","CE"],"dateFormatItem-yMMMd":"y MMM d","days-format-narrow":["S","M","T","W","T","F","S"],"days-standAlone-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-MMM":"LLL","field-month":"Month","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormat-short":"y-MM-dd","field-second":"Second","dateFormatItem-yMMMEd":"y MMM d, E","dateFormatItem-Ed":"d, E","dateTimeFormats-appendItem-Timezone":"{0} {1}","field-week":"Week","dateFormat-medium":"y MMM d","dayPeriods-format-narrow-pm":"PM","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"G y MMM"},"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"en":true,"en-au":true,"en-gb":true,"es":true,"fi":true,"fr":true,"fr-ch":true,"he":true,"hu":true,"it":true,"ja":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-hant":true,"zh-hk":true,"zh-tw":true});
},"dojo/cldr/nls/en/gregorian":function(){
define({"dateFormatItem-Ehm":"E h:mm a","days-standAlone-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"QQQ y","dateFormatItem-yMEd":"E, M/d/y","dateFormatItem-GyMMMEd":"E, MMM d, y G","dateFormatItem-MMMEd":"E, MMM d","eraNarrow":["B","A"],"days-format-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"MMMM d, y","months-format-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"dateTimeFormat-medium":"{1}, {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE, MMMM d, y","dateFormatItem-Md":"M/d","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dayPeriods-format-wide-noon":"noon","dateFormatItem-yMd":"M/d/y","field-era":"Era","dateFormatItem-yM":"M/y","months-standAlone-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"timeFormat-short":"h:mm a","quarters-format-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"dateFormatItem-yQQQQ":"QQQQ y","timeFormat-long":"h:mm:ss a z","field-year":"Year","dateFormatItem-yMMM":"MMM y","dateTimeFormats-appendItem-Era":"{0} {1}","field-hour":"Hour","months-format-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"timeFormat-full":"h:mm:ss a zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow","dateFormatItem-GyMMMd":"MMM d, y G","dateFormatItem-H":"HH","months-standAlone-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"dateFormatItem-Gy":"y G","dateFormatItem-M":"L","days-standAlone-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"timeFormat-medium":"h:mm:ss a","dateFormatItem-Hm":"HH:mm","eraAbbr":["BC","AD"],"field-minute":"Minute","field-dayperiod":"AM/PM","dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","field-day-relative+-1":"Yesterday","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} 'at' {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"E, M/d","dateTimeFormat-full":"{1} 'at' {0}","field-day":"Day","days-format-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"field-zone":"Time Zone","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateFormatItem-y":"y","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"Last year","field-month-relative+-1":"Last month","dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Year":"{0} {1}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-yMMMd":"MMM d, y","eraNames":["Before Christ","Anno Domini"],"days-standAlone-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-MMM":"LLL","field-month":"Month","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormatItem-EHm":"E HH:mm","dateFormat-short":"M/d/yy","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-second":"Second","dateFormatItem-yMMMEd":"E, MMM d, y","field-month-relative+0":"This month","field-month-relative+1":"Next month","dateFormatItem-Ed":"d E","dateTimeFormats-appendItem-Timezone":"{0} {1}","field-week":"Week","dateFormat-medium":"MMM d, y","field-year-relative+0":"This year","field-week-relative+-1":"Last week","field-year-relative+1":"Next year","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1}, {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"MMM y G","field-week-relative+0":"This week","field-week-relative+1":"Next week"});
},"dojo/cldr/nls/pt/gregorian":function(){
define({"days-standAlone-short":["dom","seg","ter","qua","qui","sex","sb"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Dia da semana","dateFormatItem-yQQQ":"y QQQ","dateFormatItem-yMEd":"E, dd/MM/y","dateFormatItem-GyMMMEd":"E, d 'de' MMM 'de' y G","dateFormatItem-MMMEd":"E, d 'de' MMM","eraNarrow":["a.C.","d.C."],"dateFormatItem-yMM":"MM/y","dayPeriods-format-wide-morning":"manh","days-format-short":["dom","seg","ter","qua","qui","sex","sb"],"dateFormat-long":"d 'de' MMMM 'de' y","months-format-wide":["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE, d 'de' MMMM 'de' y","dateFormatItem-Md":"d/M","dayPeriods-format-abbr-am":"AM","dayPeriods-format-wide-noon":"meio-dia","dateFormatItem-yMd":"dd/MM/y","field-era":"Era","dateFormatItem-yM":"MM/y","months-standAlone-wide":["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],"timeFormat-short":"HH:mm","quarters-format-wide":["1 trimestre","2 trimestre","3 trimestre","4 trimestre"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"HH:mm:ss z","field-year":"Ano","dateFormatItem-yMMM":"MMM 'de' y","field-hour":"Hora","dateFormatItem-MMdd":"dd/MM","months-format-abbr":["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],"timeFormat-full":"HH:mm:ss zzzz","field-day-relative+0":"Hoje","field-day-relative+1":"Amanh","dateFormatItem-GyMMMd":"d 'de' MMM 'de' y G","field-day-relative+2":"Depois de amanh","dateFormatItem-H":"HH","months-standAlone-abbr":["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],"quarters-format-abbr":["T1","T2","T3","T4"],"quarters-standAlone-wide":["1 trimestre","2 trimestre","3 trimestre","4 trimestre"],"dateFormatItem-Gy":"y G","dateFormatItem-HHmmss":"HH:mm:ss","dateFormatItem-M":"L","days-standAlone-wide":["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],"timeFormat-medium":"HH:mm:ss","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["T1","T2","T3","T4"],"eraAbbr":["a.C.","d.C."],"field-minute":"Minuto","field-dayperiod":"Perodo do dia","days-standAlone-abbr":["dom","seg","ter","qua","qui","sex","sb"],"dayPeriods-format-wide-night":"noite","dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Ontem","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"a","field-day-relative+-2":"Anteontem","dateFormatItem-MMMd":"d 'de' MMM","dateFormatItem-MEd":"E, dd/MM","dateTimeFormat-full":"{1} {0}","field-day":"Dia","days-format-wide":["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],"field-zone":"Fuso","dateFormatItem-y":"y","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"Ano passado","field-month-relative+-1":"Ms passado","dateFormatItem-hm":"h:mm a","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["dom","seg","ter","qua","qui","sex","sb"],"eraNames":["Antes de Cristo","Ano do Senhor"],"dateFormatItem-yMMMd":"d 'de' MMM 'de' y","days-format-narrow":["D","S","T","Q","Q","S","S"],"days-standAlone-narrow":["D","S","T","Q","Q","S","S"],"dateFormatItem-MMM":"LLL","field-month":"Ms","dateFormatItem-HHmm":"HH:mm","dayPeriods-format-wide-am":"AM","dateFormat-short":"dd/MM/yy","dayPeriods-format-wide-afternoon":"tarde","field-second":"Segundo","dateFormatItem-yMMMEd":"E, d 'de' MMM 'de' y","field-month-relative+0":"Este ms","field-month-relative+1":"Prximo ms","dateFormatItem-Ed":"E, d","field-week":"Semana","dateFormat-medium":"dd/MM/y","field-year-relative+0":"Este ano","field-week-relative+-1":"Semana passada","field-year-relative+1":"Prximo ano","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"MMM 'de' y G","field-week-relative+0":"Esta semana","field-week-relative+1":"Prxima semana"});
},"dojo/cldr/nls/pt/gregorian":function(){
define({"days-standAlone-short":["dom","seg","ter","qua","qui","sex","sb"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Dia da semana","dateFormatItem-yQQQ":"y QQQ","dateFormatItem-yMEd":"E, dd/MM/y","dateFormatItem-GyMMMEd":"E, d 'de' MMM 'de' y G","dateFormatItem-MMMEd":"E, d 'de' MMM","eraNarrow":["a.C.","d.C."],"dateFormatItem-yMM":"MM/y","dayPeriods-format-wide-morning":"manh","days-format-short":["dom","seg","ter","qua","qui","sex","sb"],"dateFormat-long":"d 'de' MMMM 'de' y","months-format-wide":["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE, d 'de' MMMM 'de' y","dateFormatItem-Md":"d/M","dayPeriods-format-abbr-am":"AM","dayPeriods-format-wide-noon":"meio-dia","dateFormatItem-yMd":"dd/MM/y","field-era":"Era","dateFormatItem-yM":"MM/y","months-standAlone-wide":["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],"timeFormat-short":"HH:mm","quarters-format-wide":["1 trimestre","2 trimestre","3 trimestre","4 trimestre"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"HH:mm:ss z","field-year":"Ano","dateFormatItem-yMMM":"MMM 'de' y","field-hour":"Hora","dateFormatItem-MMdd":"dd/MM","months-format-abbr":["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],"timeFormat-full":"HH:mm:ss zzzz","field-day-relative+0":"Hoje","field-day-relative+1":"Amanh","dateFormatItem-GyMMMd":"d 'de' MMM 'de' y G","field-day-relative+2":"Depois de amanh","dateFormatItem-H":"HH","months-standAlone-abbr":["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],"quarters-format-abbr":["T1","T2","T3","T4"],"quarters-standAlone-wide":["1 trimestre","2 trimestre","3 trimestre","4 trimestre"],"dateFormatItem-Gy":"y G","dateFormatItem-HHmmss":"HH:mm:ss","dateFormatItem-M":"L","days-standAlone-wide":["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],"timeFormat-medium":"HH:mm:ss","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["T1","T2","T3","T4"],"eraAbbr":["a.C.","d.C."],"field-minute":"Minuto","field-dayperiod":"Perodo do dia","days-standAlone-abbr":["dom","seg","ter","qua","qui","sex","sb"],"dayPeriods-format-wide-night":"noite","dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Ontem","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"a","field-day-relative+-2":"Anteontem","dateFormatItem-MMMd":"d 'de' MMM","dateFormatItem-MEd":"E, dd/MM","dateTimeFormat-full":"{1} {0}","field-day":"Dia","days-format-wide":["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],"field-zone":"Fuso","dateFormatItem-y":"y","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"Ano passado","field-month-relative+-1":"Ms passado","dateFormatItem-hm":"h:mm a","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["dom","seg","ter","qua","qui","sex","sb"],"eraNames":["Antes de Cristo","Ano do Senhor"],"dateFormatItem-yMMMd":"d 'de' MMM 'de' y","days-format-narrow":["D","S","T","Q","Q","S","S"],"days-standAlone-narrow":["D","S","T","Q","Q","S","S"],"dateFormatItem-MMM":"LLL","field-month":"Ms","dateFormatItem-HHmm":"HH:mm","dayPeriods-format-wide-am":"AM","dateFormat-short":"dd/MM/yy","dayPeriods-format-wide-afternoon":"tarde","field-second":"Segundo","dateFormatItem-yMMMEd":"E, d 'de' MMM 'de' y","field-month-relative+0":"Este ms","field-month-relative+1":"Prximo ms","dateFormatItem-Ed":"E, d","field-week":"Semana","dateFormat-medium":"dd/MM/y","field-year-relative+0":"Este ano","field-week-relative+-1":"Semana passada","field-year-relative+1":"Prximo ano","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"MMM 'de' y G","field-week-relative+0":"Esta semana","field-week-relative+1":"Prxima semana"});
},"dijit/form/_ToggleButtonMixin":function(){
define(["dojo/_base/declare","dojo/dom-attr"],function(_8d1,_8d2){
return _8d1("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){
var _8d3=this.checked;
this._set("checked",!_8d3);
var ret=this.inherited(arguments);
this.set("checked",ret?this.checked:_8d3);
return ret;
},_setCheckedAttr:function(_8d4,_8d5){
this._set("checked",_8d4);
var node=this.focusNode||this.domNode;
if(this._created){
if(_8d2.get(node,"checked")!=!!_8d4){
_8d2.set(node,"checked",!!_8d4);
}
}
node.setAttribute(this._aria_attr,String(_8d4));
this._handleOnChange(_8d4,_8d5);
},postCreate:function(){
this.inherited(arguments);
var node=this.focusNode||this.domNode;
if(this.checked){
node.setAttribute("checked","checked");
}
},reset:function(){
this._hasBeenBlurred=false;
this.set("checked",this.params.checked||false);
}});
});
},"xstyle/css":function(){
define(["require"],function(_8d6){
"use strict";
var _8d7=window.cssCache||(window.cssCache={});
return {load:function(_8d8,_8d9,_8da,_8db){
var url=_8d9.toUrl(_8d8);
if(_8d7[url]){
return createStyleSheet(_8d7[url]);
}
var _8dc=document.documentElement;
var _8dd=_8dc.insertBefore(document.createElement("div"),_8dc.firstChild);
_8dd.id=_8d9.toAbsMid(_8d8).replace(/\//g,"-").replace(/\..*/,"")+"-loaded";
var _8de=(_8dd.currentStyle||getComputedStyle(_8dd,null)).display;
_8dc.removeChild(_8dd);
if(_8de=="none"){
return _8da();
}
_8d6(["./load-css"],function(load){
load(url,_8da);
});
},pluginBuilder:"xstyle/css-builder"};
});
},"dojo/store/util/SimpleQueryEngine":function(){
define(["../../_base/array"],function(_8df){
return function(_8e0,_8e1){
switch(typeof _8e0){
default:
throw new Error("Can not query with a "+typeof _8e0);
case "object":
case "undefined":
var _8e2=_8e0;
_8e0=function(_8e3){
for(var key in _8e2){
var _8e4=_8e2[key];
if(_8e4&&_8e4.test){
if(!_8e4.test(_8e3[key],_8e3)){
return false;
}
}else{
if(_8e4!=_8e3[key]){
return false;
}
}
}
return true;
};
break;
case "string":
if(!this[_8e0]){
throw new Error("No filter function "+_8e0+" was found in store");
}
_8e0=this[_8e0];
case "function":
}
function _8e5(_8e6){
var _8e7=_8df.filter(_8e6,_8e0);
var _8e8=_8e1&&_8e1.sort;
if(_8e8){
_8e7.sort(typeof _8e8=="function"?_8e8:function(a,b){
for(var sort,i=0;sort=_8e8[i];i++){
var _8e9=a[sort.attribute];
var _8ea=b[sort.attribute];
_8e9=_8e9!=null?_8e9.valueOf():_8e9;
_8ea=_8ea!=null?_8ea.valueOf():_8ea;
if(_8e9!=_8ea){
return !!sort.descending==(_8e9==null||_8e9>_8ea)?-1:1;
}
}
return 0;
});
}
if(_8e1&&(_8e1.start||_8e1.count)){
var _8eb=_8e7.length;
_8e7=_8e7.slice(_8e1.start||0,(_8e1.start||0)+(_8e1.count||Infinity));
_8e7.total=_8eb;
}
return _8e7;
};
_8e5.matches=_8e0;
return _8e5;
};
});
},"dijit/_TemplatedMixin":function(){
define(["dojo/cache","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_AttachMixin"],function(_8ec,_8ed,_8ee,lang,on,has,_8ef,_8f0){
var _8f1=_8ed("dijit._TemplatedMixin",_8f0,{templateString:null,templatePath:null,_skipNodeCache:false,searchContainerNode:true,_stringRepl:function(tmpl){
var _8f2=this.declaredClass,_8f3=this;
return _8ef.substitute(tmpl,this,function(_8f4,key){
if(key.charAt(0)=="!"){
_8f4=lang.getObject(key.substr(1),false,_8f3);
}
if(typeof _8f4=="undefined"){
throw new Error(_8f2+" template:"+key);
}
if(_8f4==null){
return "";
}
return key.charAt(0)=="!"?_8f4:_8f4.toString().replace(/"/g,"&quot;");
},this);
},buildRendering:function(){
if(!this._rendered){
if(!this.templateString){
this.templateString=_8ec(this.templatePath,{sanitize:true});
}
var _8f5=_8f1.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);
var node;
if(lang.isString(_8f5)){
node=_8ee.toDom(this._stringRepl(_8f5),this.ownerDocument);
if(node.nodeType!=1){
throw new Error("Invalid template: "+_8f5);
}
}else{
node=_8f5.cloneNode(true);
}
this.domNode=node;
}
this.inherited(arguments);
if(!this._rendered){
this._fillContent(this.srcNodeRef);
}
this._rendered=true;
},_fillContent:function(_8f6){
var dest=this.containerNode;
if(_8f6&&dest){
while(_8f6.hasChildNodes()){
dest.appendChild(_8f6.firstChild);
}
}
}});
_8f1._templateCache={};
_8f1.getCachedTemplate=function(_8f7,_8f8,doc){
var _8f9=_8f1._templateCache;
var key=_8f7;
var _8fa=_8f9[key];
if(_8fa){
try{
if(!_8fa.ownerDocument||_8fa.ownerDocument==(doc||document)){
return _8fa;
}
}
catch(e){
}
_8ee.destroy(_8fa);
}
_8f7=_8ef.trim(_8f7);
if(_8f8||_8f7.match(/\$\{([^\}]+)\}/g)){
return (_8f9[key]=_8f7);
}else{
var node=_8ee.toDom(_8f7,doc);
if(node.nodeType!=1){
throw new Error("Invalid template: "+_8f7);
}
return (_8f9[key]=node);
}
};
if(has("ie")){
on(window,"unload",function(){
var _8fb=_8f1._templateCache;
for(var key in _8fb){
var _8fc=_8fb[key];
if(typeof _8fc=="object"){
_8ee.destroy(_8fc);
}
delete _8fb[key];
}
});
}
return _8f1;
});
},"dojo/store/JsonRest":function(){
define(["../_base/xhr","../_base/lang","../json","../_base/declare","./util/QueryResults"],function(xhr,lang,JSON,_8fd,_8fe){
var base=null;
return _8fd("dojo.store.JsonRest",base,{constructor:function(_8ff){
this.headers={};
_8fd.safeMixin(this,_8ff);
},headers:{},target:"",idProperty:"id",ascendingPrefix:"+",descendingPrefix:"-",get:function(id,_900){
_900=_900||{};
var _901=lang.mixin({Accept:this.accepts},this.headers,_900.headers||_900);
return xhr("GET",{url:this.target+id,handleAs:"json",headers:_901});
},accepts:"application/javascript, application/json",getIdentity:function(_902){
return _902[this.idProperty];
},put:function(_903,_904){
_904=_904||{};
var id=("id" in _904)?_904.id:this.getIdentity(_903);
var _905=typeof id!="undefined";
return xhr(_905&&!_904.incremental?"PUT":"POST",{url:_905?this.target+id:this.target,postData:JSON.stringify(_903),handleAs:"json",headers:lang.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":_904.overwrite===true?"*":null,"If-None-Match":_904.overwrite===false?"*":null},this.headers,_904.headers)});
},add:function(_906,_907){
_907=_907||{};
_907.overwrite=false;
return this.put(_906,_907);
},remove:function(id,_908){
_908=_908||{};
return xhr("DELETE",{url:this.target+id,headers:lang.mixin({},this.headers,_908.headers)});
},query:function(_909,_90a){
_90a=_90a||{};
var _90b=lang.mixin({Accept:this.accepts},this.headers,_90a.headers);
if(_90a.start>=0||_90a.count>=0){
_90b.Range=_90b["X-Range"]="items="+(_90a.start||"0")+"-"+(("count" in _90a&&_90a.count!=Infinity)?(_90a.count+(_90a.start||0)-1):"");
}
var _90c=this.target.indexOf("?")>-1;
if(_909&&typeof _909=="object"){
_909=xhr.objectToQuery(_909);
_909=_909?(_90c?"&":"?")+_909:"";
}
if(_90a&&_90a.sort){
var _90d=this.sortParam;
_909+=(_909||_90c?"&":"?")+(_90d?_90d+"=":"sort(");
for(var i=0;i<_90a.sort.length;i++){
var sort=_90a.sort[i];
_909+=(i>0?",":"")+(sort.descending?this.descendingPrefix:this.ascendingPrefix)+encodeURIComponent(sort.attribute);
}
if(!_90d){
_909+=")";
}
}
var _90e=xhr("GET",{url:this.target+(_909||""),handleAs:"json",headers:_90b});
_90e.total=_90e.then(function(){
var _90f=_90e.ioArgs.xhr.getResponseHeader("Content-Range");
return _90f&&(_90f=_90f.match(/\/(.*)/))&&+_90f[1];
});
return _8fe(_90e);
}});
});
},"manager/Base64":function(){
define("manager/Base64",["dojo/_base/declare"],function(_910){
return _910("Manager.Base64",[],{constructor:function(){
},_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(_911){
var _912="";
var chr1,chr2,chr3,enc1,enc2,enc3,enc4;
var i=0;
_911=this._utf8_encode(_911);
while(i<_911.length){
chr1=_911.charCodeAt(i++);
chr2=_911.charCodeAt(i++);
chr3=_911.charCodeAt(i++);
enc1=chr1>>2;
enc2=((chr1&3)<<4)|(chr2>>4);
enc3=((chr2&15)<<2)|(chr3>>6);
enc4=chr3&63;
if(isNaN(chr2)){
enc3=enc4=64;
}else{
if(isNaN(chr3)){
enc4=64;
}
}
_912=_912+this._keyStr.charAt(enc1)+this._keyStr.charAt(enc2)+this._keyStr.charAt(enc3)+this._keyStr.charAt(enc4);
}
return _912;
},decode:function(_913){
var _914="";
var chr1,chr2,chr3;
var enc1,enc2,enc3,enc4;
var i=0;
_913=_913.replace(/[^A-Za-z0-9\+\/\=]/g,"");
while(i<_913.length){
enc1=this._keyStr.indexOf(_913.charAt(i++));
enc2=this._keyStr.indexOf(_913.charAt(i++));
enc3=this._keyStr.indexOf(_913.charAt(i++));
enc4=this._keyStr.indexOf(_913.charAt(i++));
chr1=(enc1<<2)|(enc2>>4);
chr2=((enc2&15)<<4)|(enc3>>2);
chr3=((enc3&3)<<6)|enc4;
_914=_914+String.fromCharCode(chr1);
if(enc3!=64){
_914=_914+String.fromCharCode(chr2);
}
if(enc4!=64){
_914=_914+String.fromCharCode(chr3);
}
}
_914=this._utf8_decode(_914);
return _914;
},_utf8_encode:function(_915){
_915=_915.replace(/\r\n/g,"\n");
var _916="";
for(var n=0;n<_915.length;n++){
var c=_915.charCodeAt(n);
if(c<128){
_916+=String.fromCharCode(c);
}else{
if((c>127)&&(c<2048)){
_916+=String.fromCharCode((c>>6)|192);
_916+=String.fromCharCode((c&63)|128);
}else{
_916+=String.fromCharCode((c>>12)|224);
_916+=String.fromCharCode(((c>>6)&63)|128);
_916+=String.fromCharCode((c&63)|128);
}
}
}
return _916;
},_utf8_decode:function(_917){
var _918="";
var i=0;
var c=c1=c2=0;
while(i<_917.length){
c=_917.charCodeAt(i);
if(c<128){
_918+=String.fromCharCode(c);
i++;
}else{
if((c>191)&&(c<224)){
c2=_917.charCodeAt(i+1);
_918+=String.fromCharCode(((c&31)<<6)|(c2&63));
i+=2;
}else{
c2=_917.charCodeAt(i+1);
c3=_917.charCodeAt(i+2);
_918+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));
i+=3;
}
}
}
return _918;
}});
});
},"dojo/dnd/Manager":function(){
define(["../_base/array","../_base/declare","../_base/lang","../_base/window","../dom-class","../Evented","../has","../keys","../on","../topic","../touch","./common","./autoscroll","./Avatar"],function(_919,_91a,lang,win,_91b,_91c,has,keys,on,_91d,_91e,dnd,_91f,_920){
var _921=_91a("dojo.dnd.Manager",[_91c],{constructor:function(){
this.avatar=null;
this.source=null;
this.nodes=[];
this.copy=true;
this.target=null;
this.canDropFlag=false;
this.events=[];
},OFFSET_X:has("touch")?0:16,OFFSET_Y:has("touch")?-64:16,overSource:function(_922){
if(this.avatar){
this.target=(_922&&_922.targetState!="Disabled")?_922:null;
this.canDropFlag=Boolean(this.target);
this.avatar.update();
}
_91d.publish("/dnd/source/over",_922);
},outSource:function(_923){
if(this.avatar){
if(this.target==_923){
this.target=null;
this.canDropFlag=false;
this.avatar.update();
_91d.publish("/dnd/source/over",null);
}
}else{
_91d.publish("/dnd/source/over",null);
}
},startDrag:function(_924,_925,copy){
_91f.autoScrollStart(win.doc);
this.source=_924;
this.nodes=_925;
this.copy=Boolean(copy);
this.avatar=this.makeAvatar();
win.body().appendChild(this.avatar.node);
_91d.publish("/dnd/start",_924,_925,this.copy);
function _926(e){
e.preventDefault();
e.stopPropagation();
};
this.events=[on(win.doc,_91e.move,lang.hitch(this,"onMouseMove")),on(win.doc,_91e.release,lang.hitch(this,"onMouseUp")),on(win.doc,"keydown",lang.hitch(this,"onKeyDown")),on(win.doc,"keyup",lang.hitch(this,"onKeyUp")),on(win.doc,"dragstart",_926),on(win.body(),"selectstart",_926)];
var c="dojoDnd"+(copy?"Copy":"Move");
_91b.add(win.body(),c);
},canDrop:function(flag){
var _927=Boolean(this.target&&flag);
if(this.canDropFlag!=_927){
this.canDropFlag=_927;
this.avatar.update();
}
},stopDrag:function(){
_91b.remove(win.body(),["dojoDndCopy","dojoDndMove"]);
_919.forEach(this.events,function(_928){
_928.remove();
});
this.events=[];
this.avatar.destroy();
this.avatar=null;
this.source=this.target=null;
this.nodes=[];
},makeAvatar:function(){
return new _920(this);
},updateAvatar:function(){
this.avatar.update();
},onMouseMove:function(e){
var a=this.avatar;
if(a){
_91f.autoScrollNodes(e);
var s=a.node.style;
s.left=(e.pageX+this.OFFSET_X)+"px";
s.top=(e.pageY+this.OFFSET_Y)+"px";
var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));
if(this.copy!=copy){
this._setCopyStatus(copy);
}
}
if(has("touch")){
e.preventDefault();
}
},onMouseUp:function(e){
if(this.avatar){
if(this.target&&this.canDropFlag){
var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));
_91d.publish("/dnd/drop/before",this.source,this.nodes,copy,this.target,e);
_91d.publish("/dnd/drop",this.source,this.nodes,copy,this.target,e);
}else{
_91d.publish("/dnd/cancel");
}
this.stopDrag();
}
},onKeyDown:function(e){
if(this.avatar){
switch(e.keyCode){
case keys.CTRL:
var copy=Boolean(this.source.copyState(true));
if(this.copy!=copy){
this._setCopyStatus(copy);
}
break;
case keys.ESCAPE:
_91d.publish("/dnd/cancel");
this.stopDrag();
break;
}
}
},onKeyUp:function(e){
if(this.avatar&&e.keyCode==keys.CTRL){
var copy=Boolean(this.source.copyState(false));
if(this.copy!=copy){
this._setCopyStatus(copy);
}
}
},_setCopyStatus:function(copy){
this.copy=copy;
this.source._markDndStatus(this.copy);
this.updateAvatar();
_91b.replace(win.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"));
}});
dnd._manager=null;
_921.manager=dnd.manager=function(){
if(!dnd._manager){
dnd._manager=new _921();
}
return dnd._manager;
};
return _921;
});
},"dijit/_KeyNavMixin":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dijit/registry","dijit/_FocusMixin"],function(_929,_92a,_92b,keys,lang,on,_92c,_92d){
return _92a("dijit._KeyNavMixin",_92d,{tabIndex:"0",childSelector:null,postCreate:function(){
this.inherited(arguments);
_92b.set(this.domNode,"tabIndex",this.tabIndex);
if(!this._keyNavCodes){
var _92e=this._keyNavCodes={};
_92e[keys.HOME]=lang.hitch(this,"focusFirstChild");
_92e[keys.END]=lang.hitch(this,"focusLastChild");
_92e[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]=lang.hitch(this,"_onLeftArrow");
_92e[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]=lang.hitch(this,"_onRightArrow");
_92e[keys.UP_ARROW]=lang.hitch(this,"_onUpArrow");
_92e[keys.DOWN_ARROW]=lang.hitch(this,"_onDownArrow");
}
var self=this,_92f=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");
this.own(on(this.domNode,"keypress",lang.hitch(this,"_onContainerKeypress")),on(this.domNode,"keydown",lang.hitch(this,"_onContainerKeydown")),on(this.domNode,"focus",lang.hitch(this,"_onContainerFocus")),on(this.containerNode,on.selector(_92f,"focusin"),function(evt){
self._onChildFocus(_92c.getEnclosingWidget(this),evt);
}));
},_onLeftArrow:function(){
},_onRightArrow:function(){
},_onUpArrow:function(){
},_onDownArrow:function(){
},focus:function(){
this.focusFirstChild();
},_getFirstFocusableChild:function(){
return this._getNextFocusableChild(null,1);
},_getLastFocusableChild:function(){
return this._getNextFocusableChild(null,-1);
},focusFirstChild:function(){
this.focusChild(this._getFirstFocusableChild());
},focusLastChild:function(){
this.focusChild(this._getLastFocusableChild());
},focusChild:function(_930,last){
if(!_930){
return;
}
if(this.focusedChild&&_930!==this.focusedChild){
this._onChildBlur(this.focusedChild);
}
_930.set("tabIndex",this.tabIndex);
_930.focus(last?"end":"start");
},_onContainerFocus:function(evt){
if(evt.target!==this.domNode||this.focusedChild){
return;
}
this.focus();
},_onFocus:function(){
_92b.set(this.domNode,"tabIndex","-1");
this.inherited(arguments);
},_onBlur:function(evt){
_92b.set(this.domNode,"tabIndex",this.tabIndex);
if(this.focusedChild){
this.focusedChild.set("tabIndex","-1");
this.lastFocusedChild=this.focusedChild;
this._set("focusedChild",null);
}
this.inherited(arguments);
},_onChildFocus:function(_931){
if(_931&&_931!=this.focusedChild){
if(this.focusedChild&&!this.focusedChild._destroyed){
this.focusedChild.set("tabIndex","-1");
}
_931.set("tabIndex",this.tabIndex);
this.lastFocused=_931;
this._set("focusedChild",_931);
}
},_searchString:"",multiCharSearchDuration:1000,onKeyboardSearch:function(item,evt,_932,_933){
if(item){
this.focusChild(item);
}
},_keyboardSearchCompare:function(item,_934){
var _935=item.domNode,text=item.label||(_935.focusNode?_935.focusNode.label:"")||_935.innerText||_935.textContent||"",_936=text.replace(/^\s+/,"").substr(0,_934.length).toLowerCase();
return (!!_934.length&&_936==_934)?-1:0;
},_onContainerKeydown:function(evt){
var func=this._keyNavCodes[evt.keyCode];
if(func){
func(evt,this.focusedChild);
evt.stopPropagation();
evt.preventDefault();
this._searchString="";
}else{
if(evt.keyCode==keys.SPACE&&this._searchTimer&&!(evt.ctrlKey||evt.altKey||evt.metaKey)){
evt.stopImmediatePropagation();
evt.preventDefault();
this._keyboardSearch(evt," ");
}
}
},_onContainerKeypress:function(evt){
if(evt.charCode<keys.SPACE||evt.ctrlKey||evt.altKey||evt.metaKey||(evt.charCode==keys.SPACE&&this._searchTimer)){
return;
}
evt.preventDefault();
evt.stopPropagation();
this._keyboardSearch(evt,String.fromCharCode(evt.charCode).toLowerCase());
},_keyboardSearch:function(evt,_937){
var _938=null,_939,_93a=0,_93b=lang.hitch(this,function(){
if(this._searchTimer){
this._searchTimer.remove();
}
this._searchString+=_937;
var _93c=/^(.)\1*$/.test(this._searchString);
var _93d=_93c?1:this._searchString.length;
_939=this._searchString.substr(0,_93d);
this._searchTimer=this.defer(function(){
this._searchTimer=null;
this._searchString="";
},this.multiCharSearchDuration);
var _93e=this.focusedChild||null;
if(_93d==1||!_93e){
_93e=this._getNextFocusableChild(_93e,1);
if(!_93e){
return;
}
}
var stop=_93e;
do{
var rc=this._keyboardSearchCompare(_93e,_939);
if(!!rc&&_93a++==0){
_938=_93e;
}
if(rc==-1){
_93a=-1;
break;
}
_93e=this._getNextFocusableChild(_93e,1);
}while(_93e!=stop);
});
_93b();
this.onKeyboardSearch(_938,evt,_939,_93a);
},_onChildBlur:function(){
},_getNextFocusableChild:function(_93f,dir){
var _940=_93f;
do{
if(!_93f){
_93f=this[dir>0?"_getFirst":"_getLast"]();
if(!_93f){
break;
}
}else{
_93f=this._getNext(_93f,dir);
}
if(_93f!=null&&_93f!=_940&&_93f.isFocusable()){
return _93f;
}
}while(_93f!=_940);
return null;
},_getFirst:function(){
return null;
},_getLast:function(){
return null;
},_getNext:function(_941,dir){
if(_941){
_941=_941.domNode;
while(_941){
_941=_941[dir<0?"previousSibling":"nextSibling"];
if(_941&&"getAttribute" in _941){
var w=_92c.byNode(_941);
if(w){
return w;
}
}
}
}
return null;
}});
});
},"dojox/grid/DataSelection":function(){
define(["dojo/_base/declare","./_SelectionPreserver","./Selection"],function(_942,_943,_944){
return _942("dojox.grid.DataSelection",_944,{constructor:function(grid){
if(grid.keepSelection){
this.preserver=new _943(this);
}
},destroy:function(){
if(this.preserver){
this.preserver.destroy();
}
},getFirstSelected:function(){
var idx=_944.prototype.getFirstSelected.call(this);
if(idx==-1){
return null;
}
return this.grid.getItem(idx);
},getNextSelected:function(_945){
var _946=this.grid.getItemIndex(_945);
var idx=_944.prototype.getNextSelected.call(this,_946);
if(idx==-1){
return null;
}
return this.grid.getItem(idx);
},getSelected:function(){
var _947=[];
for(var i=0,l=this.selected.length;i<l;i++){
if(this.selected[i]){
_947.push(this.grid.getItem(i));
}
}
return _947;
},addToSelection:function(_948){
if(this.mode=="none"){
return;
}
var idx=null;
if(typeof _948=="number"||typeof _948=="string"){
idx=_948;
}else{
idx=this.grid.getItemIndex(_948);
}
_944.prototype.addToSelection.call(this,idx);
},deselect:function(_949){
if(this.mode=="none"){
return;
}
var idx=null;
if(typeof _949=="number"||typeof _949=="string"){
idx=_949;
}else{
idx=this.grid.getItemIndex(_949);
}
_944.prototype.deselect.call(this,idx);
},deselectAll:function(_94a){
var idx=null;
if(_94a||typeof _94a=="number"){
if(typeof _94a=="number"||typeof _94a=="string"){
idx=_94a;
}else{
idx=this.grid.getItemIndex(_94a);
}
_944.prototype.deselectAll.call(this,idx);
}else{
this.inherited(arguments);
}
}});
});
},"dijit/form/_TextBoxMixin":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(_94b,_94c,dom,has,keys,lang,on,_94d){
var _94e=_94c("dijit.form._TextBoxMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){
return this.parse(this.get("displayedValue"),this.constraints);
},_setValueAttr:function(_94f,_950,_951){
var _952;
if(_94f!==undefined){
_952=this.filter(_94f);
if(typeof _951!="string"){
if(_952!==null&&((typeof _952!="number")||!isNaN(_952))){
_951=this.filter(this.format(_952,this.constraints));
}else{
_951="";
}
}
}
if(_951!=null&&((typeof _951)!="number"||!isNaN(_951))&&this.textbox.value!=_951){
this.textbox.value=_951;
this._set("displayedValue",this.get("displayedValue"));
}
this.inherited(arguments,[_952,_950]);
},displayedValue:"",_getDisplayedValueAttr:function(){
return this.filter(this.textbox.value);
},_setDisplayedValueAttr:function(_953){
if(_953==null){
_953="";
}else{
if(typeof _953!="string"){
_953=String(_953);
}
}
this.textbox.value=_953;
this._setValueAttr(this.get("value"),undefined);
this._set("displayedValue",this.get("displayedValue"));
},format:function(_954){
return _954==null?"":(_954.toString?_954.toString():_954);
},parse:function(_955){
return _955;
},_refreshState:function(){
},onInput:function(){
},__skipInputEvent:false,_onInput:function(evt){
this._processInput(evt);
if(this.intermediateChanges){
this.defer(function(){
this._handleOnChange(this.get("value"),false);
});
}
},_processInput:function(evt){
this._refreshState();
this._set("displayedValue",this.get("displayedValue"));
},postCreate:function(){
this.textbox.setAttribute("value",this.textbox.value);
this.inherited(arguments);
var _956=function(e){
var _957;
if(e.type=="keydown"){
_957=e.keyCode;
switch(_957){
case keys.SHIFT:
case keys.ALT:
case keys.CTRL:
case keys.META:
case keys.CAPS_LOCK:
case keys.NUM_LOCK:
case keys.SCROLL_LOCK:
return;
}
if(!e.ctrlKey&&!e.metaKey&&!e.altKey){
switch(_957){
case keys.NUMPAD_0:
case keys.NUMPAD_1:
case keys.NUMPAD_2:
case keys.NUMPAD_3:
case keys.NUMPAD_4:
case keys.NUMPAD_5:
case keys.NUMPAD_6:
case keys.NUMPAD_7:
case keys.NUMPAD_8:
case keys.NUMPAD_9:
case keys.NUMPAD_MULTIPLY:
case keys.NUMPAD_PLUS:
case keys.NUMPAD_ENTER:
case keys.NUMPAD_MINUS:
case keys.NUMPAD_PERIOD:
case keys.NUMPAD_DIVIDE:
return;
}
if((_957>=65&&_957<=90)||(_957>=48&&_957<=57)||_957==keys.SPACE){
return;
}
var _958=false;
for(var i in keys){
if(keys[i]===e.keyCode){
_958=true;
break;
}
}
if(!_958){
return;
}
}
}
_957=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode;
if(!_957){
_957=(e.keyCode>=65&&e.keyCode<=90)||(e.keyCode>=48&&e.keyCode<=57)||e.keyCode==keys.SPACE?String.fromCharCode(e.keyCode):e.keyCode;
}
if(!_957){
_957=229;
}
if(e.type=="keypress"){
if(typeof _957!="string"){
return;
}
if((_957>="a"&&_957<="z")||(_957>="A"&&_957<="Z")||(_957>="0"&&_957<="9")||(_957===" ")){
if(e.ctrlKey||e.metaKey||e.altKey){
return;
}
}
}
if(e.type=="input"){
if(this.__skipInputEvent){
this.__skipInputEvent=false;
return;
}
}else{
this.__skipInputEvent=true;
}
var faux={faux:true},attr;
for(attr in e){
if(attr!="layerX"&&attr!="layerY"){
var v=e[attr];
if(typeof v!="function"&&typeof v!="undefined"){
faux[attr]=v;
}
}
}
lang.mixin(faux,{charOrCode:_957,_wasConsumed:false,preventDefault:function(){
faux._wasConsumed=true;
e.preventDefault();
},stopPropagation:function(){
e.stopPropagation();
}});
if(this.onInput(faux)===false){
faux.preventDefault();
faux.stopPropagation();
}
if(faux._wasConsumed){
return;
}
this.defer(function(){
this._onInput(faux);
});
if(e.type=="keypress"){
e.stopPropagation();
}
};
this.own(on(this.textbox,"keydown, keypress, paste, cut, input, compositionend",lang.hitch(this,_956)));
},_blankValue:"",filter:function(val){
if(val===null){
return this._blankValue;
}
if(typeof val!="string"){
return val;
}
if(this.trim){
val=lang.trim(val);
}
if(this.uppercase){
val=val.toUpperCase();
}
if(this.lowercase){
val=val.toLowerCase();
}
if(this.propercase){
val=val.replace(/[^\s]+/g,function(word){
return word.substring(0,1).toUpperCase()+word.substring(1);
});
}
return val;
},_setBlurValue:function(){
this._setValueAttr(this.get("value"),true);
},_onBlur:function(e){
if(this.disabled){
return;
}
this._setBlurValue();
this.inherited(arguments);
},_isTextSelected:function(){
return this.textbox.selectionStart!=this.textbox.selectionEnd;
},_onFocus:function(by){
if(this.disabled||this.readOnly){
return;
}
if(this.selectOnClick&&by=="mouse"){
this._selectOnClickHandle=on.once(this.domNode,"mouseup, touchend",lang.hitch(this,function(evt){
if(!this._isTextSelected()){
_94e.selectInputText(this.textbox);
}
}));
this.own(this._selectOnClickHandle);
this.defer(function(){
if(this._selectOnClickHandle){
this._selectOnClickHandle.remove();
this._selectOnClickHandle=null;
}
},500);
}
this.inherited(arguments);
this._refreshState();
},reset:function(){
this.textbox.value="";
this.inherited(arguments);
}});
if(has("dojo-bidi")){
_94e=_94c("dijit.form._TextBoxMixin",_94e,{_setValueAttr:function(){
this.inherited(arguments);
this.applyTextDir(this.focusNode);
},_setDisplayedValueAttr:function(){
this.inherited(arguments);
this.applyTextDir(this.focusNode);
},_onInput:function(){
this.applyTextDir(this.focusNode);
this.inherited(arguments);
}});
}
_94e._setSelectionRange=_94d._setSelectionRange=function(_959,_95a,stop){
if(_959.setSelectionRange){
_959.setSelectionRange(_95a,stop);
}
};
_94e.selectInputText=_94d.selectInputText=function(_95b,_95c,stop){
_95b=dom.byId(_95b);
if(isNaN(_95c)){
_95c=0;
}
if(isNaN(stop)){
stop=_95b.value?_95b.value.length:0;
}
try{
_95b.focus();
_94e._setSelectionRange(_95b,_95c,stop);
}
catch(e){
}
};
return _94e;
});
},"dijit/a11y":function(){
define(["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(_95d,dom,_95e,_95f,lang,has,_960){
var _961;
var a11y={_isElementShown:function(elem){
var s=_95f.get(elem);
return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_95e.get(elem,"type")!="hidden");
},hasDefaultTabStop:function(elem){
switch(elem.nodeName.toLowerCase()){
case "a":
return _95e.has(elem,"href");
case "area":
case "button":
case "input":
case "object":
case "select":
case "textarea":
return true;
case "iframe":
var body;
try{
var _962=elem.contentDocument;
if("designMode" in _962&&_962.designMode=="on"){
return true;
}
body=_962.body;
}
catch(e1){
try{
body=elem.contentWindow.document.body;
}
catch(e2){
return false;
}
}
return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));
default:
return elem.contentEditable=="true";
}
},effectiveTabIndex:function(elem){
if(_95e.get(elem,"disabled")){
return _961;
}else{
if(_95e.has(elem,"tabIndex")){
return +_95e.get(elem,"tabIndex");
}else{
return a11y.hasDefaultTabStop(elem)?0:_961;
}
}
},isTabNavigable:function(elem){
return a11y.effectiveTabIndex(elem)>=0;
},isFocusable:function(elem){
return a11y.effectiveTabIndex(elem)>=-1;
},_getTabNavigable:function(root){
var _963,last,_964,_965,_966,_967,_968={};
function _969(node){
return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();
};
var _96a=a11y._isElementShown,_96b=a11y.effectiveTabIndex;
var _96c=function(_96d){
for(var _96e=_96d.firstChild;_96e;_96e=_96e.nextSibling){
if(_96e.nodeType!=1||(has("ie")<=9&&_96e.scopeName!=="HTML")||!_96a(_96e)){
continue;
}
var _96f=_96b(_96e);
if(_96f>=0){
if(_96f==0){
if(!_963){
_963=_96e;
}
last=_96e;
}else{
if(_96f>0){
if(!_964||_96f<_965){
_965=_96f;
_964=_96e;
}
if(!_966||_96f>=_967){
_967=_96f;
_966=_96e;
}
}
}
var rn=_969(_96e);
if(_95e.get(_96e,"checked")&&rn){
_968[rn]=_96e;
}
}
if(_96e.nodeName.toUpperCase()!="SELECT"){
_96c(_96e);
}
}
};
if(_96a(root)){
_96c(root);
}
function rs(node){
return _968[_969(node)]||node;
};
return {first:rs(_963),last:rs(last),lowest:rs(_964),highest:rs(_966)};
},getFirstInTabbingOrder:function(root,doc){
var _970=a11y._getTabNavigable(dom.byId(root,doc));
return _970.lowest?_970.lowest:_970.first;
},getLastInTabbingOrder:function(root,doc){
var _971=a11y._getTabNavigable(dom.byId(root,doc));
return _971.last?_971.last:_971.highest;
}};
1&&lang.mixin(_960,a11y);
return a11y;
});
},"dgrid/Selection":function(){
define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/Deferred","dojo/on","dojo/has","dojo/aspect","./List","dojo/has!touch?./util/touch","put-selector/put","dojo/query","dojo/_base/sniff"],function(_972,_973,_974,on,has,_975,List,_976,put){
has.add("css-user-select",function(_977,doc,_978){
var _979=_978.style,_97a=["Khtml","O","ms","Moz","Webkit"],i=_97a.length,name="userSelect";
do{
if(typeof _979[name]!=="undefined"){
return name;
}
}while(i--&&(name=_97a[i]+"UserSelect"));
return false;
});
has.add("dom-selectstart",typeof document.onselectstart!=="undefined");
var _97b=has("mac")?"metaKey":"ctrlKey",_97c=has("css-user-select");
function _97d(node,_97e){
var _97f=node.unselectable=_97e?"on":"",_980=node.getElementsByTagName("*"),i=_980.length;
while(--i){
if(_980[i].tagName==="INPUT"||_980[i].tagName==="TEXTAREA"){
continue;
}
_980[i].unselectable=_97f;
}
};
function _981(grid,_982){
var node=grid.bodyNode,_983=_982?"text":has("ff")<21?"-moz-none":"none";
if(_97c){
node.style[_97c]=_983;
}else{
if(has("dom-selectstart")){
if(!_982&&!grid._selectstartHandle){
grid._selectstartHandle=on(node,"selectstart",function(evt){
var tag=evt.target&&evt.target.tagName;
if(tag!=="INPUT"&&tag!=="TEXTAREA"){
evt.preventDefault();
}
});
}else{
if(_982&&grid._selectstartHandle){
grid._selectstartHandle.remove();
delete grid._selectstartHandle;
}
}
}else{
_97d(node,!_982);
if(!_982&&!grid._unselectableHandle){
grid._unselectableHandle=_975.after(grid,"renderRow",function(row){
_97d(row,true);
return row;
});
}else{
if(_982&&grid._unselectableHandle){
grid._unselectableHandle.remove();
delete grid._unselectableHandle;
}
}
}
}
};
return _973(null,{selectionDelegate:".dgrid-row",selectionEvents:"mousedown,mouseup,dgrid-cellfocusin",deselectOnRefresh:true,allowSelectAll:false,selection:{},selectionMode:"extended",allowTextSelection:undefined,create:function(){
this.selection={};
return this.inherited(arguments);
},postCreate:function(){
this.inherited(arguments);
var _984=this.selectionMode;
this.selectionMode="";
this._setSelectionMode(_984);
this._initSelectionEvents();
},destroy:function(){
this.inherited(arguments);
if(this._selectstartHandle){
this._selectstartHandle.remove();
}
if(this._unselectableHandle){
this._unselectableHandle.remove();
}
},_setSelectionMode:function(mode){
if(mode==this.selectionMode){
return;
}
this.clearSelection();
this.selectionMode=mode;
this._selectionHandlerName="_"+mode+"SelectionHandler";
this._setAllowTextSelection(this.allowTextSelection);
},setSelectionMode:function(mode){
_972.deprecated("setSelectionMode(...)","use set(\"selectionMode\", ...) instead","dgrid 1.0");
this.set("selectionMode",mode);
},_setAllowTextSelection:function(_985){
if(typeof _985!=="undefined"){
_981(this,_985);
}else{
_981(this,this.selectionMode==="none");
}
this.allowTextSelection=_985;
},_handleSelect:function(_986,_987){
if(!this[this._selectionHandlerName]||(_986.type=="dgrid-cellfocusin"&&_986.parentType=="mousedown")||(_986.type=="mouseup"&&_987!=this._waitForMouseUp)){
return;
}
this._waitForMouseUp=null;
this._selectionTriggerEvent=_986;
if(!_986.keyCode||!_986.ctrlKey||_986.keyCode==32){
if(!_986.shiftKey&&_986.type=="mousedown"&&this.isSelected(_987)){
this._waitForMouseUp=_987;
}else{
this[this._selectionHandlerName](_986,_987);
}
}
this._selectionTriggerEvent=null;
},_singleSelectionHandler:function(_988,_989){
var _98a=_988.keyCode?_988.ctrlKey:_988[_97b];
if(this._lastSelected===_989){
this.select(_989,null,!_98a||!this.isSelected(_989));
}else{
this.clearSelection();
this.select(_989);
this._lastSelected=_989;
}
},_multipleSelectionHandler:function(_98b,_98c){
var _98d=this._lastSelected,_98e=_98b.keyCode?_98b.ctrlKey:_98b[_97b],_98f;
if(!_98b.shiftKey){
_98f=_98e?null:true;
_98d=null;
}
this.select(_98c,_98d,_98f);
if(!_98d){
this._lastSelected=_98c;
}
},_extendedSelectionHandler:function(_990,_991){
if(_990.button===2?!this.isSelected(_991):!(_990.keyCode?_990.ctrlKey:_990[_97b])){
this.clearSelection(null,true);
}
this._multipleSelectionHandler(_990,_991);
},_toggleSelectionHandler:function(_992,_993){
this.select(_993,null,null);
},_initSelectionEvents:function(){
var grid=this,_994=this.selectionDelegate;
if(has("touch")){
on(this.contentNode,_976.selector(_994,_976.tap),function(evt){
grid._handleSelect(evt,this);
});
}else{
on(this.contentNode,on.selector(_994,this.selectionEvents),function(_995){
grid._handleSelect(_995,this);
});
}
if(this.addKeyHandler){
this.addKeyHandler(32,function(_996){
grid._handleSelect(_996,_996.target);
});
}
if(this.allowSelectAll){
this.on("keydown",function(_997){
if(_997[_97b]&&_997.keyCode==65){
_997.preventDefault();
grid[grid.allSelected?"clearSelection":"selectAll"]();
}
});
}
_975.before(this,"removeRow",function(_998,_999){
var row;
if(!_999){
row=this.row(_998);
if(row&&(row.id in this.selection)){
this.deselect(_998);
}
}
});
},allowSelect:function(row){
return true;
},_selectionEventQueue:function(_99a,type){
var grid=this,_99b="dgrid-"+(_99a?"select":"deselect"),rows=this[_99b],_99c=this._selectionTriggerEvent;
if(_99c){
_99c=_99c.type;
}
if(rows){
return rows;
}
setTimeout(this._fireSelectionEvent=function(){
if(!rows){
return;
}
var _99d={bubbles:true,grid:grid};
if(_99c){
_99d.parentType=_99c;
}
_99d[type]=rows;
on.emit(grid.contentNode,_99b,_99d);
rows=null;
delete grid[_99b];
},0);
return (rows=this[_99b]=[]);
},select:function(row,_99e,_99f){
if(_99f===undefined){
_99f=true;
}
if(!row.element){
row=this.row(row);
}
if(!_99f||this.allowSelect(row)){
var _9a0=this.selection;
var _9a1=_9a0[row.id];
if(_99f===null){
_99f=!_9a1;
}
var _9a2=row.element;
if(!_99f&&!this.allSelected){
delete this.selection[row.id];
}else{
_9a0[row.id]=_99f;
}
if(_9a2){
if(_99f){
put(_9a2,".dgrid-selected.ui-state-active");
}else{
put(_9a2,"!dgrid-selected!ui-state-active");
}
}
if(_99f!=_9a1&&_9a2){
this._selectionEventQueue(_99f,"rows").push(row);
}
if(_99e){
if(!_99e.element){
_99e=this.row(_99e);
}
var _9a3=_99e.element;
var _9a4=row.element;
var _9a5=(_9a3&&(_9a3.compareDocumentPosition?_9a3.compareDocumentPosition(_9a4)==2:_9a3.sourceIndex>_9a4.sourceIndex))?"down":"up";
while(row.element!=_9a3&&(row=this[_9a5](row))){
this.select(row,null,_99f);
}
}
}
},deselect:function(row,_9a6){
this.select(row,_9a6,false);
},clearSelection:function(_9a7,_9a8){
this.allSelected=false;
for(var id in this.selection){
if(_9a7!==id){
this.deselect(id);
}
}
if(!_9a8){
this._lastSelected=null;
}
},selectAll:function(){
this.allSelected=true;
this.selection={};
for(var i in this._rowIdToObject){
var row=this.row(this._rowIdToObject[i]);
this.select(row.id);
}
},isSelected:function(_9a9){
if(typeof _9a9==="undefined"||_9a9===null){
return false;
}
if(!_9a9.element){
_9a9=this.row(_9a9);
}
return (_9a9.id in this.selection)?!!this.selection[_9a9.id]:this.allSelected&&(!_9a9.data||this.allowSelect(_9a9));
},refresh:function(){
if(this.deselectOnRefresh){
this.clearSelection();
this._fireSelectionEvent&&this._fireSelectionEvent();
}
this._lastSelected=null;
return this.inherited(arguments);
},renderArray:function(){
var grid=this,rows=this.inherited(arguments);
_974.when(rows,function(rows){
var _9aa=grid.selection,i,row,_9ab;
for(i=0;i<rows.length;i++){
row=grid.row(rows[i]);
_9ab=row.id in _9aa?_9aa[row.id]:grid.allSelected;
if(_9ab){
grid.select(row,null,_9ab);
}
}
});
return rows;
}});
});
},"dijit/form/TextBox":function(){
define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(_9ac,_9ad,_9ae,_9af,lang,on,has,_9b0,_9b1,_9b2,_9b3){
var _9b4=_9ac("dijit.form.TextBox"+(has("dojo-bidi")?"_NoBidi":""),[_9b0,_9b1],{templateString:_9b2,_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:has("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){
var type=this.type.toLowerCase();
if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==this.constructor.prototype.templateString)){
this.templateString=this._singleNodeTemplate;
}
this.inherited(arguments);
},postCreate:function(){
this.inherited(arguments);
if(has("ie")<9){
this.defer(function(){
try{
var s=_9ae.getComputedStyle(this.domNode);
if(s){
var ff=s.fontFamily;
if(ff){
var _9b5=this.domNode.getElementsByTagName("INPUT");
if(_9b5){
for(var i=0;i<_9b5.length;i++){
_9b5[i].style.fontFamily=ff;
}
}
}
}
}
catch(e){
}
});
}
},_setPlaceHolderAttr:function(v){
this._set("placeHolder",v);
if(!this._phspan){
this._attachPoints.push("_phspan");
this._phspan=_9ad.create("span",{onmousedown:function(e){
e.preventDefault();
},className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");
this.own(on(this._phspan,"touchend, pointerup, MSPointerUp",lang.hitch(this,function(){
this.focus();
})));
}
this._phspan.innerHTML="";
this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(v));
this._updatePlaceHolder();
},_onInput:function(evt){
this.inherited(arguments);
this._updatePlaceHolder();
},_updatePlaceHolder:function(){
if(this._phspan){
this._phspan.style.display=(this.placeHolder&&!this.textbox.value)?"":"none";
}
},_setValueAttr:function(_9b6,_9b7,_9b8){
this.inherited(arguments);
this._updatePlaceHolder();
},getDisplayedValue:function(){
_9af.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");
return this.get("displayedValue");
},setDisplayedValue:function(_9b9){
_9af.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");
this.set("displayedValue",_9b9);
},_onBlur:function(e){
if(this.disabled){
return;
}
this.inherited(arguments);
this._updatePlaceHolder();
if(has("mozilla")){
if(this.selectOnClick){
this.textbox.selectionStart=this.textbox.selectionEnd=undefined;
}
}
},_onFocus:function(by){
if(this.disabled||this.readOnly){
return;
}
this.inherited(arguments);
this._updatePlaceHolder();
}});
if(has("ie")<9){
_9b4.prototype._isTextSelected=function(){
var _9ba=this.ownerDocument.selection.createRange();
var _9bb=_9ba.parentElement();
return _9bb==this.textbox&&_9ba.text.length>0;
};
_9b3._setSelectionRange=_9b1._setSelectionRange=function(_9bc,_9bd,stop){
if(_9bc.createTextRange){
var r=_9bc.createTextRange();
r.collapse(true);
r.moveStart("character",-99999);
r.moveStart("character",_9bd);
r.moveEnd("character",stop-_9bd);
r.select();
}
};
}
if(has("dojo-bidi")){
_9b4=_9ac("dijit.form.TextBox",_9b4,{_setPlaceHolderAttr:function(v){
this.inherited(arguments);
this.applyTextDir(this._phspan);
}});
}
return _9b4;
});
},"dijit/form/_DateTimeTextBox":function(){
define(["dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/_base/lang","./RangeBoundTextBox","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(date,_9be,_9bf,_9c0,lang,_9c1,_9c2,_9c3){
new Date("X");
var _9c4=_9c0("dijit.form._DateTimeTextBox",[_9c1,_9c2],{templateString:_9c3,hasDownArrow:true,cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},pattern:_9be.regexp,datePackage:"",postMixInProperties:function(){
this.inherited(arguments);
this._set("type","text");
},compare:function(val1,val2){
var _9c5=this._isInvalidDate(val1);
var _9c6=this._isInvalidDate(val2);
return _9c5?(_9c6?0:-1):(_9c6?1:date.compare(val1,val2,this._selector));
},autoWidth:true,format:function(_9c7,_9c8){
if(!_9c7){
return "";
}
return this.dateLocaleModule.format(_9c7,_9c8);
},"parse":function(_9c9,_9ca){
return this.dateLocaleModule.parse(_9c9,_9ca)||(this._isEmpty(_9c9)?null:undefined);
},serialize:function(val,_9cb){
if(val.toGregorian){
val=val.toGregorian();
}
return _9bf.toISOString(val,_9cb);
},dropDownDefaultValue:new Date(),value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(_9cc){
this.dateModule=_9cc.datePackage?lang.getObject(_9cc.datePackage,false):date;
this.dateClassObj=this.dateModule.Date||Date;
this.dateLocaleModule=_9cc.datePackage?lang.getObject(_9cc.datePackage+".locale",false):_9be;
this._set("pattern",this.dateLocaleModule.regexp);
this._invalidDate=this.constructor.prototype.value.toString();
},buildRendering:function(){
this.inherited(arguments);
if(!this.hasDownArrow){
this._buttonNode.style.display="none";
}
if(!this.hasDownArrow){
this._buttonNode=this.domNode;
this.baseClass+=" dijitComboBoxOpenOnClick";
}
},_setConstraintsAttr:function(_9cd){
_9cd.selector=this._selector;
_9cd.fullYear=true;
var _9ce=_9bf.fromISOString;
if(typeof _9cd.min=="string"){
_9cd.min=_9ce(_9cd.min);
}
if(typeof _9cd.max=="string"){
_9cd.max=_9ce(_9cd.max);
}
this.inherited(arguments);
},_isInvalidDate:function(_9cf){
return !_9cf||isNaN(_9cf)||typeof _9cf!="object"||_9cf.toString()==this._invalidDate;
},_setValueAttr:function(_9d0,_9d1,_9d2){
if(_9d0!==undefined){
if(typeof _9d0=="string"){
_9d0=_9bf.fromISOString(_9d0);
}
if(this._isInvalidDate(_9d0)){
_9d0=null;
}
if(_9d0 instanceof Date&&!(this.dateClassObj instanceof Date)){
_9d0=new this.dateClassObj(_9d0);
}
}
this.inherited(arguments);
if(this.value instanceof Date){
this.filterString="";
}
if(this.dropDown){
this.dropDown.set("value",_9d0,false);
}
},_set:function(attr,_9d3){
var _9d4=this._get("value");
if(attr=="value"&&_9d4 instanceof Date&&this.compare(_9d3,_9d4)==0){
return;
}
this.inherited(arguments);
},_setDropDownDefaultValueAttr:function(val){
if(this._isInvalidDate(val)){
val=new this.dateClassObj();
}
this._set("dropDownDefaultValue",val);
},openDropDown:function(_9d5){
if(this.dropDown){
this.dropDown.destroy();
}
var _9d6=lang.isString(this.popupClass)?lang.getObject(this.popupClass,false):this.popupClass,_9d7=this,_9d8=this.get("value");
this.dropDown=new _9d6({onChange:function(_9d9){
_9d7.set("value",_9d9,true);
},id:this.id+"_popup",dir:_9d7.dir,lang:_9d7.lang,value:_9d8,textDir:_9d7.textDir,currentFocus:!this._isInvalidDate(_9d8)?_9d8:this.dropDownDefaultValue,constraints:_9d7.constraints,filterString:_9d7.filterString,datePackage:_9d7.params.datePackage,isDisabledDate:function(date){
return !_9d7.rangeCheck(date,_9d7.constraints);
}});
this.inherited(arguments);
},_getDisplayedValueAttr:function(){
return this.textbox.value;
},_setDisplayedValueAttr:function(_9da,_9db){
this._setValueAttr(this.parse(_9da,this.constraints),_9db,_9da);
}});
return _9c4;
});
},"dijit/layout/StackContainer":function(){
define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/ready","dojo/topic","dojo/when","../registry","../_WidgetBase","./_LayoutWidget","dojo/i18n!../nls/common"],function(_9dc,_9dd,_9de,_9df,_9e0,has,lang,on,_9e1,_9e2,when,_9e3,_9e4,_9e5){
if(has("dijit-legacy-requires")){
_9e1(0,function(){
var _9e6=["dijit/layout/StackController"];
require(_9e6);
});
}
var _9e7=_9de("dijit.layout.StackContainer",_9e5,{doLayout:true,persist:false,baseClass:"dijitStackContainer",buildRendering:function(){
this.inherited(arguments);
_9df.add(this.domNode,"dijitLayoutContainer");
},postCreate:function(){
this.inherited(arguments);
this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")));
},startup:function(){
if(this._started){
return;
}
var _9e8=this.getChildren();
_9dc.forEach(_9e8,this._setupChild,this);
if(this.persist){
this.selectedChildWidget=_9e3.byId(_9dd(this.id+"_selectedChild"));
}else{
_9dc.some(_9e8,function(_9e9){
if(_9e9.selected){
this.selectedChildWidget=_9e9;
}
return _9e9.selected;
},this);
}
var _9ea=this.selectedChildWidget;
if(!_9ea&&_9e8[0]){
_9ea=this.selectedChildWidget=_9e8[0];
_9ea.selected=true;
}
_9e2.publish(this.id+"-startup",{children:_9e8,selected:_9ea,textDir:this.textDir});
this.inherited(arguments);
},resize:function(){
if(!this._hasBeenShown){
this._hasBeenShown=true;
var _9eb=this.selectedChildWidget;
if(_9eb){
this._showChild(_9eb);
}
}
this.inherited(arguments);
},_setupChild:function(_9ec){
var _9ed=_9ec.domNode,_9ee=_9e0.place("<div role='tabpanel' class='"+this.baseClass+"ChildWrapper dijitHidden'>",_9ec.domNode,"replace"),_9ef=_9ec["aria-label"]||_9ec.title||_9ec.label;
if(_9ef){
_9ee.setAttribute("aria-label",_9ef);
}
_9e0.place(_9ed,_9ee);
_9ec._wrapper=_9ee;
this.inherited(arguments);
if(_9ed.style.display=="none"){
_9ed.style.display="block";
}
_9ec.domNode.title="";
},addChild:function(_9f0,_9f1){
this.inherited(arguments);
if(this._started){
_9e2.publish(this.id+"-addChild",_9f0,_9f1);
this.layout();
if(!this.selectedChildWidget){
this.selectChild(_9f0);
}
}
},removeChild:function(page){
var idx=_9dc.indexOf(this.getChildren(),page);
this.inherited(arguments);
_9e0.destroy(page._wrapper);
delete page._wrapper;
if(this._started){
_9e2.publish(this.id+"-removeChild",page);
}
if(this._descendantsBeingDestroyed){
return;
}
if(this.selectedChildWidget===page){
this.selectedChildWidget=undefined;
if(this._started){
var _9f2=this.getChildren();
if(_9f2.length){
this.selectChild(_9f2[Math.max(idx-1,0)]);
}
}
}
if(this._started){
this.layout();
}
},selectChild:function(page,_9f3){
var d;
page=_9e3.byId(page);
if(this.selectedChildWidget!=page){
d=this._transition(page,this.selectedChildWidget,_9f3);
this._set("selectedChildWidget",page);
_9e2.publish(this.id+"-selectChild",page);
if(this.persist){
_9dd(this.id+"_selectedChild",this.selectedChildWidget.id);
}
}
return when(d||true);
},_transition:function(_9f4,_9f5){
if(_9f5){
this._hideChild(_9f5);
}
var d=this._showChild(_9f4);
if(_9f4.resize){
if(this.doLayout){
_9f4.resize(this._containerContentBox||this._contentBox);
}else{
_9f4.resize();
}
}
return d;
},_adjacent:function(_9f6){
var _9f7=this.getChildren();
var _9f8=_9dc.indexOf(_9f7,this.selectedChildWidget);
_9f8+=_9f6?1:_9f7.length-1;
return _9f7[_9f8%_9f7.length];
},forward:function(){
return this.selectChild(this._adjacent(true),true);
},back:function(){
return this.selectChild(this._adjacent(false),true);
},_onKeyDown:function(e){
_9e2.publish(this.id+"-containerKeyDown",{e:e,page:this});
},layout:function(){
var _9f9=this.selectedChildWidget;
if(_9f9&&_9f9.resize){
if(this.doLayout){
_9f9.resize(this._containerContentBox||this._contentBox);
}else{
_9f9.resize();
}
}
},_showChild:function(page){
var _9fa=this.getChildren();
page.isFirstChild=(page==_9fa[0]);
page.isLastChild=(page==_9fa[_9fa.length-1]);
page._set("selected",true);
if(page._wrapper){
_9df.replace(page._wrapper,"dijitVisible","dijitHidden");
}
return (page._onShow&&page._onShow())||true;
},_hideChild:function(page){
page._set("selected",false);
if(page._wrapper){
_9df.replace(page._wrapper,"dijitHidden","dijitVisible");
}
page.onHide&&page.onHide();
},closeChild:function(page){
var _9fb=page.onClose&&page.onClose(this,page);
if(_9fb){
this.removeChild(page);
page.destroyRecursive();
}
},destroyDescendants:function(_9fc){
this._descendantsBeingDestroyed=true;
this.selectedChildWidget=undefined;
_9dc.forEach(this.getChildren(),function(_9fd){
if(!_9fc){
this.removeChild(_9fd);
}
_9fd.destroyRecursive(_9fc);
},this);
this._descendantsBeingDestroyed=false;
}});
_9e7.ChildWidgetProperties={selected:false,disabled:false,closable:false,iconClass:"dijitNoIcon",showTitle:true};
lang.extend(_9e4,_9e7.ChildWidgetProperties);
return _9e7;
});
},"dijit/form/_RadioButtonMixin":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/lang","dojo/query","../registry"],function(_9fe,_9ff,_a00,lang,_a01,_a02){
return _9ff("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){
var ary=[];
_a01("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(lang.hitch(this,function(_a03){
if(_a03.name==this.name&&_a03.form==this.focusNode.form){
var _a04=_a02.getEnclosingWidget(_a03);
if(_a04){
ary.push(_a04);
}
}
}));
return ary;
},_setCheckedAttr:function(_a05){
this.inherited(arguments);
if(!this._created){
return;
}
if(_a05){
_9fe.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_a06){
if(_a06!=this&&_a06.checked){
_a06.set("checked",false);
}
}));
}
},_getSubmitValue:function(_a07){
return _a07==null?"on":_a07;
},_onClick:function(e){
if(this.checked||this.disabled){
e.stopPropagation();
e.preventDefault();
return false;
}
if(this.readOnly){
e.stopPropagation();
e.preventDefault();
_9fe.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_a08){
_a00.set(this.focusNode||this.domNode,"checked",_a08.checked);
}));
return false;
}
return this.inherited(arguments);
}});
});
},"dojox/html/styles":function(){
define(["dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(lang,_a09,_a0a,has){
var dh=lang.getObject("dojox.html",true);
var _a0b={};
var _a0c={};
var _a0d=[];
dh.insertCssRule=function(_a0e,_a0f,_a10){
var ss=dh.getDynamicStyleSheet(_a10);
var _a11=_a0e+" {"+_a0f+"}";
if(has("ie")){
ss.cssText+=_a11;
}else{
if(ss.sheet){
ss.sheet.insertRule(_a11,ss._indicies.length);
}else{
ss.appendChild(_a0a.doc.createTextNode(_a11));
}
}
ss._indicies.push(_a0e+" "+_a0f);
return _a0e;
};
dh.removeCssRule=function(_a12,_a13,_a14){
var ss;
var _a15=-1;
var nm;
var i;
for(nm in _a0b){
if(_a14&&_a14!==nm){
continue;
}
ss=_a0b[nm];
for(i=0;i<ss._indicies.length;i++){
if(_a12+" "+_a13===ss._indicies[i]){
_a15=i;
break;
}
}
if(_a15>-1){
break;
}
}
if(!ss){
console.warn("No dynamic style sheet has been created from which to remove a rule.");
return false;
}
if(_a15===-1){
console.warn("The css rule was not found and could not be removed.");
return false;
}
ss._indicies.splice(_a15,1);
if(has("ie")){
ss.removeRule(_a15);
}else{
if(ss.sheet){
ss.sheet.deleteRule(_a15);
}
}
return true;
};
dh.modifyCssRule=function(_a16,_a17,_a18){
};
dh.getStyleSheet=function(_a19){
if(_a0b[_a19||"default"]){
return _a0b[_a19||"default"];
}
if(!_a19){
return false;
}
var _a1a=dh.getStyleSheets();
if(_a1a[_a19]){
return dh.getStyleSheets()[_a19];
}
var nm;
for(nm in _a1a){
if(_a1a[nm].href&&_a1a[nm].href.indexOf(_a19)>-1){
return _a1a[nm];
}
}
return false;
};
dh.getDynamicStyleSheet=function(_a1b){
if(!_a1b){
_a1b="default";
}
if(!_a0b[_a1b]){
if(_a0a.doc.createStyleSheet){
_a0b[_a1b]=_a0a.doc.createStyleSheet();
if(has("ie")<9){
_a0b[_a1b].title=_a1b;
}
}else{
_a0b[_a1b]=_a0a.doc.createElement("style");
_a0b[_a1b].setAttribute("type","text/css");
_a0a.doc.getElementsByTagName("head")[0].appendChild(_a0b[_a1b]);
}
_a0b[_a1b]._indicies=[];
}
return _a0b[_a1b];
};
dh.enableStyleSheet=function(_a1c){
var ss=dh.getStyleSheet(_a1c);
if(ss){
if(ss.sheet){
ss.sheet.disabled=false;
}else{
ss.disabled=false;
}
}
};
dh.disableStyleSheet=function(_a1d){
var ss=dh.getStyleSheet(_a1d);
if(ss){
if(ss.sheet){
ss.sheet.disabled=true;
}else{
ss.disabled=true;
}
}
};
dh.activeStyleSheet=function(_a1e){
var _a1f=dh.getToggledStyleSheets();
var i;
if(arguments.length===1){
_a09.forEach(_a1f,function(s){
s.disabled=(s.title===_a1e)?false:true;
});
}else{
for(i=0;i<_a1f.length;i++){
if(_a1f[i].disabled===false){
return _a1f[i];
}
}
}
return true;
};
dh.getPreferredStyleSheet=function(){
};
dh.getToggledStyleSheets=function(){
var nm;
if(!_a0d.length){
var _a20=dh.getStyleSheets();
for(nm in _a20){
if(_a20[nm].title){
_a0d.push(_a20[nm]);
}
}
}
return _a0d;
};
dh.getStyleSheets=function(){
if(_a0c.collected){
return _a0c;
}
var _a21=_a0a.doc.styleSheets;
_a09.forEach(_a21,function(n){
var s=(n.sheet)?n.sheet:n;
var name=s.title||s.href;
if(has("ie")){
if(s.cssText.indexOf("#default#VML")===-1){
if(s.href){
_a0c[name]=s;
}else{
if(s.imports.length){
_a09.forEach(s.imports,function(si){
_a0c[si.title||si.href]=si;
});
}else{
_a0c[name]=s;
}
}
}
}else{
_a0c[name]=s;
_a0c[name].id=s.ownerNode.id;
_a09.forEach(s.cssRules,function(r){
if(r.href){
_a0c[r.href]=r.styleSheet;
_a0c[r.href].id=s.ownerNode.id;
}
});
}
});
_a0c.collected=true;
return _a0c;
};
return dh;
});
},"dojox/validate/web":function(){
define(["./_base","./regexp"],function(_a22,_a23){
_a22.isIpAddress=function(_a24,_a25){
var re=new RegExp("^"+_a23.ipAddress(_a25)+"$","i");
return re.test(_a24);
};
_a22.isUrl=function(_a26,_a27){
var re=new RegExp("^"+_a23.url(_a27)+"$","i");
return re.test(_a26);
};
_a22.isEmailAddress=function(_a28,_a29){
var re=new RegExp("^"+_a23.emailAddress(_a29)+"$","i");
return re.test(_a28);
};
_a22.isEmailAddressList=function(_a2a,_a2b){
var re=new RegExp("^"+_a23.emailAddressList(_a2b)+"$","i");
return re.test(_a2a);
};
_a22.getEmailAddressList=function(_a2c,_a2d){
if(!_a2d){
_a2d={};
}
if(!_a2d.listSeparator){
_a2d.listSeparator="\\s;,";
}
if(_a22.isEmailAddressList(_a2c,_a2d)){
return _a2c.split(new RegExp("\\s*["+_a2d.listSeparator+"]\\s*"));
}
return [];
};
return _a22;
});
},"dojo/cldr/nls/number":function(){
define({root:{"scientificFormat":"#E0","currencySpacing-afterCurrency-currencyMatch":"[:^S:]","infinity":"","list":";","percentSign":"%","minusSign":"-","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]","decimalFormat-short":"000T","currencySpacing-afterCurrency-insertBetween":"","nan":"NaN","plusSign":"+","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-currencyMatch":"[:^S:]","currencyFormat":"#,##0.00","perMille":"","group":",","percentFormat":"#,##0%","decimalFormat-long":"000T","decimalFormat":"#,##0.###","decimal":".","currencySpacing-beforeCurrency-insertBetween":"","exponential":"E"},"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"en":true,"en-gb":true,"es":true,"fi":true,"fr":true,"fr-ch":true,"he":true,"hu":true,"it":true,"ja":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-hant":true,"zh-hk":true,"zh-tw":true});
},"dojo/cldr/nls/en/number":function(){
define({"group":",","percentSign":"%","exponential":"E","scientificFormat":"#E0","percentFormat":"#,##0%","list":";","infinity":"","minusSign":"-","decimal":".","nan":"NaN","perMille":"","decimalFormat":"#,##0.###","currencyFormat":"#,##0.00;(#,##0.00)","plusSign":"+","decimalFormat-long":"000 trillion","decimalFormat-short":"000T"});
},"dojo/cldr/nls/pt/number":function(){
define({"group":".","percentSign":"%","exponential":"E","scientificFormat":"#E0","percentFormat":"#,##0%","list":";","infinity":"","minusSign":"-","decimal":",","nan":"NaN","perMille":"","decimalFormat":"#,##0.###","currencyFormat":"#,##0.00;(#,##0.00)","plusSign":"+","decimalFormat-long":"000 trilhes","decimalFormat-short":"000tri"});
},"dojo/cldr/nls/pt/number":function(){
define({"group":".","percentSign":"%","exponential":"E","scientificFormat":"#E0","percentFormat":"#,##0%","list":";","infinity":"","minusSign":"-","decimal":",","nan":"NaN","perMille":"","decimalFormat":"#,##0.###","currencyFormat":"#,##0.00;(#,##0.00)","plusSign":"+","decimalFormat-long":"000 trilhes","decimalFormat-short":"000tri"});
},"dijit/form/Form":function(){
define(["dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/sniff","../_Widget","../_TemplatedMixin","./_FormMixin","../layout/_ContentPaneResizeMixin"],function(_a2e,_a2f,_a30,has,_a31,_a32,_a33,_a34){
return _a2e("dijit.form.Form",[_a31,_a32,_a33,_a34],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",postMixInProperties:function(){
this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";
this.inherited(arguments);
},execute:function(){
},onExecute:function(){
},_setEncTypeAttr:function(_a35){
_a2f.set(this.domNode,"encType",_a35);
if(has("ie")){
this.domNode.encoding=_a35;
}
this._set("encType",_a35);
},reset:function(e){
var faux={returnValue:true,preventDefault:function(){
this.returnValue=false;
},stopPropagation:function(){
},currentTarget:e?e.target:this.domNode,target:e?e.target:this.domNode};
if(!(this.onReset(faux)===false)&&faux.returnValue){
this.inherited(arguments,[]);
}
},onReset:function(){
return true;
},_onReset:function(e){
this.reset(e);
e.stopPropagation();
e.preventDefault();
return false;
},_onSubmit:function(e){
var fp=this.constructor.prototype;
if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){
_a30.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");
this.onExecute();
this.execute(this.getValues());
}
if(this.onSubmit(e)===false){
e.stopPropagation();
e.preventDefault();
}
},onSubmit:function(){
return this.isValid();
},submit:function(){
if(!(this.onSubmit()===false)){
this.containerNode.submit();
}
}});
});
},"dojox/html/format":function(){
define(["dojo/_base/kernel","./entities","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(lang,_a36,_a37,_a38,has){
var dhf=lang.getObject("dojox.html.format",true);
dhf.prettyPrint=function(html,_a39,_a3a,map,_a3b){
var _a3c=[];
var _a3d=0;
var _a3e=[];
var iTxt="\t";
var _a3f="";
var _a40=[];
var i;
var _a41=/[=]([^"']+?)(\s|>)/g;
var _a42=/style=("[^"]*"|'[^']*'|\S*)/gi;
var _a43=/[\w-]+=("[^"]*"|'[^']*'|\S*)/gi;
if(_a39&&_a39>0&&_a39<10){
iTxt="";
for(i=0;i<_a39;i++){
iTxt+=" ";
}
}
var _a44=_a38.doc.createElement("div");
_a44.innerHTML=html;
var _a45=_a36.encode;
var _a46=_a36.decode;
var _a47=function(tag){
switch(tag){
case "a":
case "b":
case "strong":
case "s":
case "strike":
case "i":
case "u":
case "em":
case "sup":
case "sub":
case "span":
case "font":
case "big":
case "cite":
case "q":
case "small":
return true;
default:
return false;
}
};
var div=_a44.ownerDocument.createElement("div");
var _a48=function(node){
var _a49=node.cloneNode(false);
div.appendChild(_a49);
var html=div.innerHTML;
div.innerHTML="";
return html;
};
var _a4a=function(){
var i,txt="";
for(i=0;i<_a3d;i++){
txt+=iTxt;
}
return txt.length;
};
var _a4b=function(){
var i;
for(i=0;i<_a3d;i++){
_a3c.push(iTxt);
}
};
var _a4c=function(){
_a3c.push("\n");
};
var _a4d=function(n){
_a3f+=_a45(n.nodeValue,map);
};
var _a4e=function(txt){
var i;
var _a4f;
var _a50=txt.split("\n");
for(i=0;i<_a50.length;i++){
_a50[i]=lang.trim(_a50[i]);
}
txt=_a50.join(" ");
txt=lang.trim(txt);
if(txt!==""){
var _a51=[];
if(_a3a&&_a3a>0){
var _a52=_a4a();
var _a53=_a3a;
if(_a3a>_a52){
_a53-=_a52;
}
while(txt){
if(txt.length>_a3a){
for(i=_a53;(i>0&&txt.charAt(i)!==" ");i--){
}
if(!i){
for(i=_a53;(i<txt.length&&txt.charAt(i)!==" ");i++){
}
}
var line=txt.substring(0,i);
line=lang.trim(line);
txt=lang.trim(txt.substring((i==txt.length)?txt.length:i+1,txt.length));
if(line){
_a4f="";
for(i=0;i<_a3d;i++){
_a4f+=iTxt;
}
line=_a4f+line+"\n";
}
_a51.push(line);
}else{
_a4f="";
for(i=0;i<_a3d;i++){
_a4f+=iTxt;
}
txt=_a4f+txt+"\n";
_a51.push(txt);
txt=null;
}
}
return _a51.join("");
}else{
_a4f="";
for(i=0;i<_a3d;i++){
_a4f+=iTxt;
}
txt=_a4f+txt+"\n";
return txt;
}
}else{
return "";
}
};
var _a54=function(txt){
if(txt){
txt=txt.replace(/&quot;/gi,"\"");
txt=txt.replace(/&gt;/gi,">");
txt=txt.replace(/&lt;/gi,"<");
txt=txt.replace(/&amp;/gi,"&");
}
return txt;
};
var _a55=function(txt){
if(txt){
txt=_a54(txt);
var i,t,c,_a56;
var _a57=0;
var _a58=txt.split("\n");
var _a59=[];
for(i=0;i<_a58.length;i++){
var line=_a58[i];
var _a5a=(line.indexOf("\n")>-1);
line=lang.trim(line);
if(line){
var _a5b=_a57;
for(c=0;c<line.length;c++){
var ch=line.charAt(c);
if(ch==="{"){
_a57++;
}else{
if(ch==="}"){
_a57--;
_a5b=_a57;
}
}
}
_a56="";
for(t=0;t<_a3d+_a5b;t++){
_a56+=iTxt;
}
_a59.push(_a56+line+"\n");
}else{
if(_a5a&&i===0){
_a59.push("\n");
}
}
}
txt=_a59.join("");
}
return txt;
};
var _a5c=function(node){
var name=node.nodeName.toLowerCase();
var _a5d=lang.trim(_a48(node));
var tag=_a5d.substring(0,_a5d.indexOf(">")+1);
tag=tag.replace(_a41,"=\"$1\"$2");
tag=tag.replace(_a42,function(_a5e){
var sL=_a5e.substring(0,6);
var _a5f=_a5e.substring(6,_a5e.length);
var _a60=_a5f.charAt(0);
_a5f=lang.trim(_a5f.substring(1,_a5f.length-1));
_a5f=_a5f.split(";");
var _a61=[];
_a37.forEach(_a5f,function(s){
s=lang.trim(s);
if(s){
s=s.substring(0,s.indexOf(":")).toLowerCase()+s.substring(s.indexOf(":"),s.length);
_a61.push(s);
}
});
_a61=_a61.sort();
_a5f=_a61.join("; ");
var ts=lang.trim(_a5f);
if(!ts||ts===";"){
return "";
}else{
_a5f+=";";
return sL+_a60+_a5f+_a60;
}
});
var _a62=[];
tag=tag.replace(_a43,function(attr){
_a62.push(lang.trim(attr));
return "";
});
_a62=_a62.sort();
tag="<"+name;
if(_a62.length){
tag+=" "+_a62.join(" ");
}
if(_a5d.indexOf("</")!=-1){
_a3e.push(name);
tag+=">";
}else{
if(_a3b){
tag+=" />";
}else{
tag+=">";
}
_a3e.push(false);
}
var _a63=_a47(name);
_a40.push(_a63);
if(_a3f&&!_a63){
_a3c.push(_a4e(_a3f));
_a3f="";
}
if(!_a63){
_a4b();
_a3c.push(tag);
_a4c();
_a3d++;
}else{
_a3f+=tag;
}
};
var _a64=function(){
var _a65=_a40.pop();
if(_a3f&&!_a65){
_a3c.push(_a4e(_a3f));
_a3f="";
}
var ct=_a3e.pop();
if(ct){
ct="</"+ct+">";
if(!_a65){
_a3d--;
_a4b();
_a3c.push(ct);
_a4c();
}else{
_a3f+=ct;
}
}else{
_a3d--;
}
};
var _a66=function(n){
var _a67=_a46(n.nodeValue,map);
_a4b();
_a3c.push("<!--");
_a4c();
_a3d++;
_a3c.push(_a4e(_a67));
_a3d--;
_a4b();
_a3c.push("-->");
_a4c();
};
var _a68=function(node){
var _a69=node.childNodes;
if(_a69){
var i;
for(i=0;i<_a69.length;i++){
var n=_a69[i];
if(n.nodeType===1){
var tg=lang.trim(n.tagName.toLowerCase());
if(has("ie")&&n.parentNode!=node){
continue;
}
if(tg&&tg.charAt(0)==="/"){
continue;
}else{
_a5c(n);
if(tg==="script"){
_a3c.push(_a55(n.innerHTML));
}else{
if(tg==="pre"){
var _a6a=n.innerHTML;
if(has("mozilla")){
_a6a=_a6a.replace("<br>","\n");
_a6a=_a6a.replace("<pre>","");
_a6a=_a6a.replace("</pre>","");
}
if(_a6a.charAt(_a6a.length-1)!=="\n"){
_a6a+="\n";
}
_a3c.push(_a6a);
}else{
_a68(n);
}
}
_a64();
}
}else{
if(n.nodeType===3||n.nodeType===4){
_a4d(n);
}else{
if(n.nodeType===8){
_a66(n);
}
}
}
}
}
};
_a68(_a44);
if(_a3f){
_a3c.push(_a4e(_a3f));
_a3f="";
}
return _a3c.join("");
};
return dhf;
});
},"manager/Hash":function(){
define("manager/Hash",["dojo/_base/declare"],function(_a6b){
return _a6b("Manager.Hash",[],{length:0,items:new Array(),constructor:function(){
this.length=0;
},remove:function(_a6c){
var _a6d;
if(typeof (this.items[_a6c])!="undefined"){
this.length--;
var _a6d=this.items[_a6c];
delete this.items[_a6c];
}
return _a6d;
},get:function(_a6e){
return this.items[_a6e];
},set:function(_a6f,_a70){
if(typeof (_a70)!="undefined"){
if(typeof (this.items[_a6f])=="undefined"){
this.length++;
}
this.items[_a6f]=_a70;
}
return _a70;
},has:function(_a71){
return typeof (this.items[_a71])!="undefined";
}});
});
},"dijit/form/_FormWidgetMixin":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(_a72,_a73,_a74,_a75,lang,_a76,on,has,_a77,a11y){
return _a73("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_a78){
this._set("disabled",_a78);
_a74.set(this.focusNode,"disabled",_a78);
if(this.valueNode){
_a74.set(this.valueNode,"disabled",_a78);
}
this.focusNode.setAttribute("aria-disabled",_a78?"true":"false");
if(_a78){
this._set("hovering",false);
this._set("active",false);
var _a79="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";
_a72.forEach(lang.isArray(_a79)?_a79:[_a79],function(_a7a){
var node=this[_a7a];
if(has("webkit")||a11y.hasDefaultTabStop(node)){
node.setAttribute("tabIndex","-1");
}else{
node.removeAttribute("tabIndex");
}
},this);
}else{
if(this.tabIndex!=""){
this.set("tabIndex",this.tabIndex);
}
}
},_onFocus:function(by){
if(by=="mouse"&&this.isFocusable()){
var _a7b=this.own(on(this.focusNode,"focus",function(){
_a7c.remove();
_a7b.remove();
}))[0];
var _a7c=this.own(on(this.ownerDocumentBody,"mouseup, touchend",lang.hitch(this,function(evt){
_a7c.remove();
_a7b.remove();
if(this.focused){
if(evt.type=="touchend"){
this.defer("focus");
}else{
this.focus();
}
}
})))[0];
}
if(this.scrollOnFocus){
this.defer(function(){
_a77.scrollIntoView(this.domNode);
});
}
this.inherited(arguments);
},isFocusable:function(){
return !this.disabled&&this.focusNode&&(_a75.get(this.domNode,"display")!="none");
},focus:function(){
if(!this.disabled&&this.focusNode.focus){
try{
this.focusNode.focus();
}
catch(e){
}
}
},compare:function(val1,val2){
if(typeof val1=="number"&&typeof val2=="number"){
return (isNaN(val1)&&isNaN(val2))?0:val1-val2;
}else{
if(val1>val2){
return 1;
}else{
if(val1<val2){
return -1;
}else{
return 0;
}
}
}
},onChange:function(){
},_onChangeActive:false,_handleOnChange:function(_a7d,_a7e){
if(this._lastValueReported==undefined&&(_a7e===null||!this._onChangeActive)){
this._resetValue=this._lastValueReported=_a7d;
}
this._pendingOnChange=this._pendingOnChange||(typeof _a7d!=typeof this._lastValueReported)||(this.compare(_a7d,this._lastValueReported)!=0);
if((this.intermediateChanges||_a7e||_a7e===undefined)&&this._pendingOnChange){
this._lastValueReported=_a7d;
this._pendingOnChange=false;
if(this._onChangeActive){
if(this._onChangeHandle){
this._onChangeHandle.remove();
}
this._onChangeHandle=this.defer(function(){
this._onChangeHandle=null;
this.onChange(_a7d);
});
}
}
},create:function(){
this.inherited(arguments);
this._onChangeActive=true;
},destroy:function(){
if(this._onChangeHandle){
this._onChangeHandle.remove();
this.onChange(this._lastValueReported);
}
this.inherited(arguments);
}});
});
},"dijit/_base/place":function(){
define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(_a7f,lang,_a80,_a81,_a82){
var _a83={};
_a83.getViewport=function(){
return _a80.getBox();
};
_a83.placeOnScreen=_a81.at;
_a83.placeOnScreenAroundElement=function(node,_a84,_a85,_a86){
var _a87;
if(lang.isArray(_a85)){
_a87=_a85;
}else{
_a87=[];
for(var key in _a85){
_a87.push({aroundCorner:key,corner:_a85[key]});
}
}
return _a81.around(node,_a84,_a87,true,_a86);
};
_a83.placeOnScreenAroundNode=_a83.placeOnScreenAroundElement;
_a83.placeOnScreenAroundRectangle=_a83.placeOnScreenAroundElement;
_a83.getPopupAroundAlignment=function(_a88,_a89){
var _a8a={};
_a7f.forEach(_a88,function(pos){
var ltr=_a89;
switch(pos){
case "after":
_a8a[_a89?"BR":"BL"]=_a89?"BL":"BR";
break;
case "before":
_a8a[_a89?"BL":"BR"]=_a89?"BR":"BL";
break;
case "below-alt":
ltr=!ltr;
case "below":
_a8a[ltr?"BL":"BR"]=ltr?"TL":"TR";
_a8a[ltr?"BR":"BL"]=ltr?"TR":"TL";
break;
case "above-alt":
ltr=!ltr;
case "above":
default:
_a8a[ltr?"TL":"TR"]=ltr?"BL":"BR";
_a8a[ltr?"TR":"TL"]=ltr?"BR":"BL";
break;
}
});
return _a8a;
};
lang.mixin(_a82,_a83);
return _a82;
});
},"dojox/editor/plugins/nls/PasteFromWord":function(){
define({root:({"pasteFromWord":"Paste From Word","instructions":"Paste the content from Word into the text box below.  Once you are satisfied with the content to insert, press the paste button.  To abort inserting text, press the cancel button."}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"ar":true});
},"dojox/editor/plugins/nls/pt/PasteFromWord":function(){
define(({"pasteFromWord":"Colar do Word","instructions":"Cole o contedo do Word na caixa de texto a seguir. Quando estiver satisfeito com o contedo a ser inserido, pressione o boto para colar. Para interromper a insero de texto, pressione o boto para cancelar."}));
},"dojox/editor/plugins/nls/pt/PasteFromWord":function(){
define(({"pasteFromWord":"Colar do Word","instructions":"Cole o contedo do Word na caixa de texto a seguir. Quando estiver satisfeito com o contedo a ser inserido, pressione o boto para colar. Para interromper a insero de texto, pressione o boto para cancelar."}));
},"dojox/main":function(){
define(["dojo/_base/kernel"],function(dojo){
return dojo.dojox;
});
},"dojo/dnd/Selector":function(){
define(["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../dom","../dom-construct","../mouse","../_base/NodeList","../on","../touch","./common","./Container"],function(_a8b,_a8c,_a8d,lang,dom,_a8e,_a8f,_a90,on,_a91,dnd,_a92){
var _a93=_a8c("dojo.dnd.Selector",_a92,{constructor:function(node,_a94){
if(!_a94){
_a94={};
}
this.singular=_a94.singular;
this.autoSync=_a94.autoSync;
this.selection={};
this.anchor=null;
this.simpleSelection=false;
this.events.push(on(this.node,_a91.press,lang.hitch(this,"onMouseDown")),on(this.node,_a91.release,lang.hitch(this,"onMouseUp")));
},singular:false,getSelectedNodes:function(){
var t=new _a90();
var e=dnd._empty;
for(var i in this.selection){
if(i in e){
continue;
}
t.push(dom.byId(i));
}
return t;
},selectNone:function(){
return this._removeSelection()._removeAnchor();
},selectAll:function(){
this.forInItems(function(data,id){
this._addItemClass(dom.byId(id),"Selected");
this.selection[id]=1;
},this);
return this._removeAnchor();
},deleteSelectedNodes:function(){
var e=dnd._empty;
for(var i in this.selection){
if(i in e){
continue;
}
var n=dom.byId(i);
this.delItem(i);
_a8e.destroy(n);
}
this.anchor=null;
this.selection={};
return this;
},forInSelectedItems:function(f,o){
o=o||_a8d.global;
var s=this.selection,e=dnd._empty;
for(var i in s){
if(i in e){
continue;
}
f.call(o,this.getItem(i),i,this);
}
},sync:function(){
_a93.superclass.sync.call(this);
if(this.anchor){
if(!this.getItem(this.anchor.id)){
this.anchor=null;
}
}
var t=[],e=dnd._empty;
for(var i in this.selection){
if(i in e){
continue;
}
if(!this.getItem(i)){
t.push(i);
}
}
_a8b.forEach(t,function(i){
delete this.selection[i];
},this);
return this;
},insertNodes:function(_a95,data,_a96,_a97){
var _a98=this._normalizedCreator;
this._normalizedCreator=function(item,hint){
var t=_a98.call(this,item,hint);
if(_a95){
if(!this.anchor){
this.anchor=t.node;
this._removeItemClass(t.node,"Selected");
this._addItemClass(this.anchor,"Anchor");
}else{
if(this.anchor!=t.node){
this._removeItemClass(t.node,"Anchor");
this._addItemClass(t.node,"Selected");
}
}
this.selection[t.node.id]=1;
}else{
this._removeItemClass(t.node,"Selected");
this._removeItemClass(t.node,"Anchor");
}
return t;
};
_a93.superclass.insertNodes.call(this,data,_a96,_a97);
this._normalizedCreator=_a98;
return this;
},destroy:function(){
_a93.superclass.destroy.call(this);
this.selection=this.anchor=null;
},onMouseDown:function(e){
if(this.autoSync){
this.sync();
}
if(!this.current){
return;
}
if(!this.singular&&!dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){
this.simpleSelection=true;
if(_a8f.isLeft(e)){
e.stopPropagation();
e.preventDefault();
}
return;
}
if(!this.singular&&e.shiftKey){
if(!dnd.getCopyKeyState(e)){
this._removeSelection();
}
var c=this.getAllNodes();
if(c.length){
if(!this.anchor){
this.anchor=c[0];
this._addItemClass(this.anchor,"Anchor");
}
this.selection[this.anchor.id]=1;
if(this.anchor!=this.current){
var i=0,node;
for(;i<c.length;++i){
node=c[i];
if(node==this.anchor||node==this.current){
break;
}
}
for(++i;i<c.length;++i){
node=c[i];
if(node==this.anchor||node==this.current){
break;
}
this._addItemClass(node,"Selected");
this.selection[node.id]=1;
}
this._addItemClass(this.current,"Selected");
this.selection[this.current.id]=1;
}
}
}else{
if(this.singular){
if(this.anchor==this.current){
if(dnd.getCopyKeyState(e)){
this.selectNone();
}
}else{
this.selectNone();
this.anchor=this.current;
this._addItemClass(this.anchor,"Anchor");
this.selection[this.current.id]=1;
}
}else{
if(dnd.getCopyKeyState(e)){
if(this.anchor==this.current){
delete this.selection[this.anchor.id];
this._removeAnchor();
}else{
if(this.current.id in this.selection){
this._removeItemClass(this.current,"Selected");
delete this.selection[this.current.id];
}else{
if(this.anchor){
this._removeItemClass(this.anchor,"Anchor");
this._addItemClass(this.anchor,"Selected");
}
this.anchor=this.current;
this._addItemClass(this.current,"Anchor");
this.selection[this.current.id]=1;
}
}
}else{
if(!(this.current.id in this.selection)){
this.selectNone();
this.anchor=this.current;
this._addItemClass(this.current,"Anchor");
this.selection[this.current.id]=1;
}
}
}
}
e.stopPropagation();
e.preventDefault();
},onMouseUp:function(){
if(!this.simpleSelection){
return;
}
this.simpleSelection=false;
this.selectNone();
if(this.current){
this.anchor=this.current;
this._addItemClass(this.anchor,"Anchor");
this.selection[this.current.id]=1;
}
},onMouseMove:function(){
this.simpleSelection=false;
},onOverEvent:function(){
this.onmousemoveEvent=on(this.node,_a91.move,lang.hitch(this,"onMouseMove"));
},onOutEvent:function(){
if(this.onmousemoveEvent){
this.onmousemoveEvent.remove();
delete this.onmousemoveEvent;
}
},_removeSelection:function(){
var e=dnd._empty;
for(var i in this.selection){
if(i in e){
continue;
}
var node=dom.byId(i);
if(node){
this._removeItemClass(node,"Selected");
}
}
this.selection={};
return this;
},_removeAnchor:function(){
if(this.anchor){
this._removeItemClass(this.anchor,"Anchor");
this.anchor=null;
}
return this;
}});
return _a93;
});
},"dojox/grid/_Scroller":function(){
define(["dijit/registry","dojo/_base/declare","dojo/_base/lang","./util","dojo/_base/html"],function(_a99,_a9a,lang,util,html){
var _a9b=function(_a9c){
var i=0,n,p=_a9c.parentNode;
while((n=p.childNodes[i++])){
if(n==_a9c){
return i-1;
}
}
return -1;
};
var _a9d=function(_a9e){
if(!_a9e){
return;
}
dojo.forEach(_a99.toArray(),function(w){
if(w.domNode&&html.isDescendant(w.domNode,_a9e,true)){
w.destroy();
}
});
};
var _a9f=function(_aa0){
var node=html.byId(_aa0);
return (node&&node.tagName?node.tagName.toLowerCase():"");
};
var _aa1=function(_aa2,_aa3){
var _aa4=[];
var i=0,n;
while((n=_aa2.childNodes[i])){
i++;
if(_a9f(n)==_aa3){
_aa4.push(n);
}
}
return _aa4;
};
var _aa5=function(_aa6){
return _aa1(_aa6,"div");
};
return _a9a("dojox.grid._Scroller",null,{constructor:function(_aa7){
this.setContentNodes(_aa7);
this.pageHeights=[];
this.pageNodes=[];
this.stack=[];
},rowCount:0,defaultRowHeight:32,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,lastVisibleRow:0,averageRowHeight:0,page:0,pageTop:0,init:function(_aa8,_aa9,_aaa){
switch(arguments.length){
case 3:
this.rowsPerPage=_aaa;
case 2:
this.keepRows=_aa9;
case 1:
this.rowCount=_aa8;
default:
break;
}
this.defaultPageHeight=(this.grid.rowHeight>0?this.grid.rowHeight:this.defaultRowHeight)*this.rowsPerPage;
this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);
this.setKeepInfo(this.keepRows);
this.invalidate();
if(this.scrollboxNode){
this.scrollboxNode.scrollTop=0;
this.scroll(0);
this.scrollboxNode.onscroll=lang.hitch(this,"onscroll");
}
},_getPageCount:function(_aab,_aac){
return _aab?(Math.ceil(_aab/_aac)||1):0;
},destroy:function(){
this.invalidateNodes();
delete this.contentNodes;
delete this.contentNode;
delete this.scrollboxNode;
},setKeepInfo:function(_aad){
this.keepRows=_aad;
this.keepPages=!this.keepRows?this.keepPages:Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2);
},setContentNodes:function(_aae){
this.contentNodes=_aae;
this.colCount=(this.contentNodes?this.contentNodes.length:0);
this.pageNodes=[];
for(var i=0;i<this.colCount;i++){
this.pageNodes[i]=[];
}
},getDefaultNodes:function(){
return this.pageNodes[0]||[];
},invalidate:function(){
this._invalidating=true;
this.invalidateNodes();
this.pageHeights=[];
this.height=(this.pageCount?(this.pageCount-1)*this.defaultPageHeight+this.calcLastPageHeight():0);
this.resize();
this._invalidating=false;
},updateRowCount:function(_aaf){
this.invalidateNodes();
this.rowCount=_aaf;
var _ab0=this.pageCount;
if(_ab0===0){
this.height=1;
}
this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);
if(this.pageCount<_ab0){
for(var i=_ab0-1;i>=this.pageCount;i--){
this.height-=this.getPageHeight(i);
delete this.pageHeights[i];
}
}else{
if(this.pageCount>_ab0){
this.height+=this.defaultPageHeight*(this.pageCount-_ab0-1)+this.calcLastPageHeight();
}
}
this.resize();
},pageExists:function(_ab1){
return Boolean(this.getDefaultPageNode(_ab1));
},measurePage:function(_ab2){
if(this.grid.rowHeight){
return ((_ab2+1)*this.rowsPerPage>this.rowCount?this.rowCount-_ab2*this.rowsPerPage:this.rowsPerPage)*this.grid.rowHeight;
}
var n=this.getDefaultPageNode(_ab2);
return (n&&n.innerHTML)?n.offsetHeight:undefined;
},positionPage:function(_ab3,_ab4){
for(var i=0;i<this.colCount;i++){
this.pageNodes[i][_ab3].style.top=_ab4+"px";
}
},repositionPages:function(_ab5){
var _ab6=this.getDefaultNodes();
var last=0;
for(var i=0;i<this.stack.length;i++){
last=Math.max(this.stack[i],last);
}
var n=_ab6[_ab5];
var y=(n?this.getPageNodePosition(n)+this.getPageHeight(_ab5):0);
for(var p=_ab5+1;p<=last;p++){
n=_ab6[p];
if(n){
if(this.getPageNodePosition(n)==y){
return;
}
this.positionPage(p,y);
}
y+=this.getPageHeight(p);
}
},installPage:function(_ab7){
for(var i=0;i<this.colCount;i++){
this.contentNodes[i].appendChild(this.pageNodes[i][_ab7]);
}
},preparePage:function(_ab8,_ab9){
var p=(_ab9?this.popPage():null);
for(var i=0;i<this.colCount;i++){
var _aba=this.pageNodes[i];
var _abb=(p===null?this.createPageNode():this.invalidatePageNode(p,_aba));
_abb.pageIndex=_ab8;
_aba[_ab8]=_abb;
}
},renderPage:function(_abc){
var _abd=[];
var i,j;
for(i=0;i<this.colCount;i++){
_abd[i]=this.pageNodes[i][_abc];
}
for(i=0,j=_abc*this.rowsPerPage;(i<this.rowsPerPage)&&(j<this.rowCount);i++,j++){
this.renderRow(j,_abd);
}
},removePage:function(_abe){
for(var i=0,j=_abe*this.rowsPerPage;i<this.rowsPerPage;i++,j++){
this.removeRow(j);
}
},destroyPage:function(_abf){
for(var i=0;i<this.colCount;i++){
var n=this.invalidatePageNode(_abf,this.pageNodes[i]);
if(n){
html.destroy(n);
}
}
},pacify:function(_ac0){
},pacifying:false,pacifyTicks:200,setPacifying:function(_ac1){
if(this.pacifying!=_ac1){
this.pacifying=_ac1;
this.pacify(this.pacifying);
}
},startPacify:function(){
this.startPacifyTicks=new Date().getTime();
},doPacify:function(){
var _ac2=(new Date().getTime()-this.startPacifyTicks)>this.pacifyTicks;
this.setPacifying(true);
this.startPacify();
return _ac2;
},endPacify:function(){
this.setPacifying(false);
},resize:function(){
if(this.scrollboxNode){
this.windowHeight=this.scrollboxNode.clientHeight;
}
for(var i=0;i<this.colCount;i++){
util.setStyleHeightPx(this.contentNodes[i],Math.max(1,this.height));
}
var _ac3=(!this._invalidating);
if(!_ac3){
var ah=this.grid.get("autoHeight");
if(typeof ah=="number"&&ah<=Math.min(this.rowsPerPage,this.rowCount)){
_ac3=true;
}
}
if(_ac3){
this.needPage(this.page,this.pageTop);
}
var _ac4=(this.page<this.pageCount-1)?this.rowsPerPage:((this.rowCount%this.rowsPerPage)||this.rowsPerPage);
var _ac5=this.getPageHeight(this.page);
this.averageRowHeight=(_ac5>0&&_ac4>0)?(_ac5/_ac4):0;
},calcLastPageHeight:function(){
if(!this.pageCount){
return 0;
}
var _ac6=this.pageCount-1;
var _ac7=((this.rowCount%this.rowsPerPage)||(this.rowsPerPage))*this.defaultRowHeight;
this.pageHeights[_ac6]=_ac7;
return _ac7;
},updateContentHeight:function(inDh){
this.height+=inDh;
this.resize();
},updatePageHeight:function(_ac8,_ac9,_aca){
if(this.pageExists(_ac8)){
var oh=this.getPageHeight(_ac8);
var h=(this.measurePage(_ac8));
if(h===undefined){
h=oh;
}
this.pageHeights[_ac8]=h;
if(oh!=h){
this.updateContentHeight(h-oh);
var ah=this.grid.get("autoHeight");
if((typeof ah=="number"&&ah>this.rowCount)||(ah===true&&!_ac9)){
if(!_aca){
this.grid.sizeChange();
}else{
var ns=this.grid.viewsNode.style;
ns.height=parseInt(ns.height)+h-oh+"px";
this.repositionPages(_ac8);
}
}else{
this.repositionPages(_ac8);
}
}
return h;
}
return 0;
},rowHeightChanged:function(_acb,_acc){
this.updatePageHeight(Math.floor(_acb/this.rowsPerPage),false,_acc);
},invalidateNodes:function(){
while(this.stack.length){
this.destroyPage(this.popPage());
}
},createPageNode:function(){
var p=document.createElement("div");
html.attr(p,"role","presentation");
p.style.position="absolute";
p.style[this.grid.isLeftToRight()?"left":"right"]="0";
return p;
},getPageHeight:function(_acd){
var ph=this.pageHeights[_acd];
return (ph!==undefined?ph:this.defaultPageHeight);
},pushPage:function(_ace){
return this.stack.push(_ace);
},popPage:function(){
return this.stack.shift();
},findPage:function(_acf){
var i=0,h=0;
for(var ph=0;i<this.pageCount;i++,h+=ph){
ph=this.getPageHeight(i);
if(h+ph>=_acf){
break;
}
}
this.page=i;
this.pageTop=h;
},buildPage:function(_ad0,_ad1,_ad2){
this.preparePage(_ad0,_ad1);
this.positionPage(_ad0,_ad2);
this.installPage(_ad0);
this.renderPage(_ad0);
this.pushPage(_ad0);
},needPage:function(_ad3,_ad4){
var h=this.getPageHeight(_ad3),oh=h;
if(!this.pageExists(_ad3)){
this.buildPage(_ad3,(!this.grid._autoHeight&&this.keepPages&&(this.stack.length>=this.keepPages)),_ad4);
h=this.updatePageHeight(_ad3,true);
}else{
this.positionPage(_ad3,_ad4);
}
return h;
},onscroll:function(){
this.scroll(this.scrollboxNode.scrollTop);
},scroll:function(_ad5){
this.grid.scrollTop=_ad5;
if(this.colCount){
this.startPacify();
this.findPage(_ad5);
var h=this.height;
var b=this.getScrollBottom(_ad5);
for(var p=this.page,y=this.pageTop;(p<this.pageCount)&&((b<0)||(y<b));p++){
y+=this.needPage(p,y);
}
this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,_ad5);
this.lastVisibleRow=this.getLastVisibleRow(p-1,y,b);
if(h!=this.height){
this.repositionPages(p-1);
}
this.endPacify();
}
},getScrollBottom:function(_ad6){
return (this.windowHeight>=0?_ad6+this.windowHeight:-1);
},processNodeEvent:function(e,_ad7){
var t=e.target;
while(t&&(t!=_ad7)&&t.parentNode&&(t.parentNode.parentNode!=_ad7)){
t=t.parentNode;
}
if(!t||!t.parentNode||(t.parentNode.parentNode!=_ad7)){
return false;
}
var page=t.parentNode;
e.topRowIndex=page.pageIndex*this.rowsPerPage;
e.rowIndex=e.topRowIndex+_a9b(t);
e.rowTarget=t;
return true;
},processEvent:function(e){
return this.processNodeEvent(e,this.contentNode);
},renderRow:function(_ad8,_ad9){
},removeRow:function(_ada){
},getDefaultPageNode:function(_adb){
return this.getDefaultNodes()[_adb];
},positionPageNode:function(_adc,_add){
},getPageNodePosition:function(_ade){
return _ade.offsetTop;
},invalidatePageNode:function(_adf,_ae0){
var p=_ae0[_adf];
if(p){
delete _ae0[_adf];
this.removePage(_adf,p);
_a9d(p);
p.innerHTML="";
}
return p;
},getPageRow:function(_ae1){
return _ae1*this.rowsPerPage;
},getLastPageRow:function(_ae2){
return Math.min(this.rowCount,this.getPageRow(_ae2+1))-1;
},getFirstVisibleRow:function(_ae3,_ae4,_ae5){
if(!this.pageExists(_ae3)){
return 0;
}
var row=this.getPageRow(_ae3);
var _ae6=this.getDefaultNodes();
var rows=_aa5(_ae6[_ae3]);
for(var i=0,l=rows.length;i<l&&_ae4<_ae5;i++,row++){
_ae4+=rows[i].offsetHeight;
}
return (row?row-1:row);
},getLastVisibleRow:function(_ae7,_ae8,_ae9){
if(!this.pageExists(_ae7)){
return 0;
}
var _aea=this.getDefaultNodes();
var row=this.getLastPageRow(_ae7);
var rows=_aa5(_aea[_ae7]);
for(var i=rows.length-1;i>=0&&_ae8>_ae9;i--,row--){
_ae8-=rows[i].offsetHeight;
}
return row+1;
},findTopRow:function(_aeb){
var _aec=this.getDefaultNodes();
var rows=_aa5(_aec[this.page]);
for(var i=0,l=rows.length,t=this.pageTop,h;i<l;i++){
h=rows[i].offsetHeight;
t+=h;
if(t>=_aeb){
this.offset=h-(t-_aeb);
return i+this.page*this.rowsPerPage;
}
}
return -1;
},findScrollTop:function(_aed){
var _aee=Math.floor(_aed/this.rowsPerPage);
var t=0;
var i,l;
for(i=0;i<_aee;i++){
t+=this.getPageHeight(i);
}
this.pageTop=t;
this.page=_aee;
this.needPage(_aee,this.pageTop);
var _aef=this.getDefaultNodes();
var rows=_aa5(_aef[_aee]);
var r=_aed-this.rowsPerPage*_aee;
for(i=0,l=rows.length;i<l&&i<r;i++){
t+=rows[i].offsetHeight;
}
return t;
},dummy:0});
});
},"dgrid/OnDemandGrid":function(){
define(["dojo/_base/declare","./Grid","./OnDemandList"],function(_af0,Grid,_af1){
return _af0([Grid,_af1],{});
});
},"dojo/fx":function(){
define(["./_base/lang","./Evented","./_base/kernel","./_base/array","./aspect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_af2,dojo,_af3,_af4,_af5,dom,_af6,geom,_af7,_af8){
if(!dojo.isAsync){
_af7(0,function(){
var _af9=["./fx/Toggler"];
_af8(_af9);
});
}
var _afa=dojo.fx={};
var _afb={_fire:function(evt,args){
if(this[evt]){
this[evt].apply(this,args||[]);
}
return this;
}};
var _afc=function(_afd){
this._index=-1;
this._animations=_afd||[];
this._current=this._onAnimateCtx=this._onEndCtx=null;
this.duration=0;
_af3.forEach(this._animations,function(a){
this.duration+=a.duration;
if(a.delay){
this.duration+=a.delay;
}
},this);
};
_afc.prototype=new _af2();
lang.extend(_afc,{_onAnimate:function(){
this._fire("onAnimate",arguments);
},_onEnd:function(){
this._onAnimateCtx.remove();
this._onEndCtx.remove();
this._onAnimateCtx=this._onEndCtx=null;
if(this._index+1==this._animations.length){
this._fire("onEnd");
}else{
this._current=this._animations[++this._index];
this._onAnimateCtx=_af4.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);
this._onEndCtx=_af4.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);
this._current.play(0,true);
}
},play:function(_afe,_aff){
if(!this._current){
this._current=this._animations[this._index=0];
}
if(!_aff&&this._current.status()=="playing"){
return this;
}
var _b00=_af4.after(this._current,"beforeBegin",lang.hitch(this,function(){
this._fire("beforeBegin");
}),true),_b01=_af4.after(this._current,"onBegin",lang.hitch(this,function(arg){
this._fire("onBegin",arguments);
}),true),_b02=_af4.after(this._current,"onPlay",lang.hitch(this,function(arg){
this._fire("onPlay",arguments);
_b00.remove();
_b01.remove();
_b02.remove();
}));
if(this._onAnimateCtx){
this._onAnimateCtx.remove();
}
this._onAnimateCtx=_af4.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);
if(this._onEndCtx){
this._onEndCtx.remove();
}
this._onEndCtx=_af4.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);
this._current.play.apply(this._current,arguments);
return this;
},pause:function(){
if(this._current){
var e=_af4.after(this._current,"onPause",lang.hitch(this,function(arg){
this._fire("onPause",arguments);
e.remove();
}),true);
this._current.pause();
}
return this;
},gotoPercent:function(_b03,_b04){
this.pause();
var _b05=this.duration*_b03;
this._current=null;
_af3.some(this._animations,function(a){
if(a.duration<=_b05){
this._current=a;
return true;
}
_b05-=a.duration;
return false;
});
if(this._current){
this._current.gotoPercent(_b05/this._current.duration,_b04);
}
return this;
},stop:function(_b06){
if(this._current){
if(_b06){
for(;this._index+1<this._animations.length;++this._index){
this._animations[this._index].stop(true);
}
this._current=this._animations[this._index];
}
var e=_af4.after(this._current,"onStop",lang.hitch(this,function(arg){
this._fire("onStop",arguments);
e.remove();
}),true);
this._current.stop();
}
return this;
},status:function(){
return this._current?this._current.status():"stopped";
},destroy:function(){
if(this._onAnimateCtx){
this._onAnimateCtx.remove();
}
if(this._onEndCtx){
this._onEndCtx.remove();
}
}});
lang.extend(_afc,_afb);
_afa.chain=function(_b07){
return new _afc(_b07);
};
var _b08=function(_b09){
this._animations=_b09||[];
this._connects=[];
this._finished=0;
this.duration=0;
_af3.forEach(_b09,function(a){
var _b0a=a.duration;
if(a.delay){
_b0a+=a.delay;
}
if(this.duration<_b0a){
this.duration=_b0a;
}
this._connects.push(_af4.after(a,"onEnd",lang.hitch(this,"_onEnd"),true));
},this);
this._pseudoAnimation=new _af5.Animation({curve:[0,1],duration:this.duration});
var self=this;
_af3.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){
self._connects.push(_af4.after(self._pseudoAnimation,evt,function(){
self._fire(evt,arguments);
},true));
});
};
lang.extend(_b08,{_doAction:function(_b0b,args){
_af3.forEach(this._animations,function(a){
a[_b0b].apply(a,args);
});
return this;
},_onEnd:function(){
if(++this._finished>this._animations.length){
this._fire("onEnd");
}
},_call:function(_b0c,args){
var t=this._pseudoAnimation;
t[_b0c].apply(t,args);
},play:function(_b0d,_b0e){
this._finished=0;
this._doAction("play",arguments);
this._call("play",arguments);
return this;
},pause:function(){
this._doAction("pause",arguments);
this._call("pause",arguments);
return this;
},gotoPercent:function(_b0f,_b10){
var ms=this.duration*_b0f;
_af3.forEach(this._animations,function(a){
a.gotoPercent(a.duration<ms?1:(ms/a.duration),_b10);
});
this._call("gotoPercent",arguments);
return this;
},stop:function(_b11){
this._doAction("stop",arguments);
this._call("stop",arguments);
return this;
},status:function(){
return this._pseudoAnimation.status();
},destroy:function(){
_af3.forEach(this._connects,function(_b12){
_b12.remove();
});
}});
lang.extend(_b08,_afb);
_afa.combine=function(_b13){
return new _b08(_b13);
};
_afa.wipeIn=function(args){
var node=args.node=dom.byId(args.node),s=node.style,o;
var anim=_af5.animateProperty(lang.mixin({properties:{height:{start:function(){
o=s.overflow;
s.overflow="hidden";
if(s.visibility=="hidden"||s.display=="none"){
s.height="1px";
s.display="";
s.visibility="";
return 1;
}else{
var _b14=_af6.get(node,"height");
return Math.max(_b14,1);
}
},end:function(){
return node.scrollHeight;
}}}},args));
var fini=function(){
s.height="auto";
s.overflow=o;
};
_af4.after(anim,"onStop",fini,true);
_af4.after(anim,"onEnd",fini,true);
return anim;
};
_afa.wipeOut=function(args){
var node=args.node=dom.byId(args.node),s=node.style,o;
var anim=_af5.animateProperty(lang.mixin({properties:{height:{end:1}}},args));
_af4.after(anim,"beforeBegin",function(){
o=s.overflow;
s.overflow="hidden";
s.display="";
},true);
var fini=function(){
s.overflow=o;
s.height="auto";
s.display="none";
};
_af4.after(anim,"onStop",fini,true);
_af4.after(anim,"onEnd",fini,true);
return anim;
};
_afa.slideTo=function(args){
var node=args.node=dom.byId(args.node),top=null,left=null;
var init=(function(n){
return function(){
var cs=_af6.getComputedStyle(n);
var pos=cs.position;
top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);
left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);
if(pos!="absolute"&&pos!="relative"){
var ret=geom.position(n,true);
top=ret.y;
left=ret.x;
n.style.position="absolute";
n.style.top=top+"px";
n.style.left=left+"px";
}
};
})(node);
init();
var anim=_af5.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));
_af4.after(anim,"beforeBegin",init,true);
return anim;
};
return _afa;
});
},"dijit/_base/sniff":function(){
define(["dojo/uacss"],function(){
});
},"manager/EditMask":function(){
define("manager/EditMask",["dojo/_base/declare"],function(_b15){
return _b15("Manager.EditMask",[],{version:"0.1",h1:null,h2:null,h3:null,h4:null,constructor:function(_b16,mask,_b17,_b18){
this.element=manager.getElementById(_b16);
if(this.element!=null){
this.mask=mask;
this.errMsg=_b18!=""?_b18:"Caracter invlido!";
this.optional=_b17;
var _b19=this.element.value?this.filterStrip(this.element.value):"";
this.element.value=this.fillMask(_b19);
this.fcolor=this.element.style.color==""?"black":_b16.style.color;
this.first=true;
this.element.editMask=this;
this.h1=dojo.connect(this.element,"keypress",this,this.process);
this.h2=dojo.connect(this.element,"focus",this,this.onEnter);
this.h3=dojo.connect(this.element,"submit",this,this.onSubmit);
}
},onEnter:function(_b1a){
element=_b1a.target;
element.editMask.color=element.style.color;
element.editMask.first=true;
var _b1b=element.value?element.editMask.filterStrip(element.value):"";
element.value=element.editMask.fillMask(_b1b);
},onExit:function(_b1c){
element=_b1c.target;
var ok=element.editMask.canBlur(element);
if(ok){
dojo.disconnect(element.editMask.h4);
element.editMask.first=true;
}else{
element.focus();
}
return ok;
},canBlur:function(_b1d){
var _b1e=_b1d.editMask.filterExit(_b1d.value);
var ok=true;
if(!_b1d.editMask.optional){
ok=(_b1e.length==_b1d.editMask.mask.length);
}
if(ok){
_b1d.value=_b1e;
_b1d.style.color=_b1d.editMask.fcolor;
}else{
_b1d.style.color="red";
_b1d.focus();
}
return ok;
},onError:function(_b1f){
alert(_b1f);
},onSubmit:function(){
this.element.value=this.filterExit(this.element.value);
return true;
},process:function(_b20){
element=_b20.target;
keyCode=_b20.charCode!=0?_b20.charCode:_b20.keyCode;
editMask=element.editMask;
if(element.editMask.first){
element.editMask.h4=dojo.connect(element,"blur",element.editMask,element.editMask.onExit);
element.editMask.first=false;
}
filter=editMask.filterStrip(element.value);
var _b21="";
if(keyCode==9){
return true;
}else{
if(keyCode==8&&filter.length!=0){
filter=filter.substring(0,filter.length-1);
}else{
if(((keyCode>47&&keyCode<122))&&filter.length<editMask.filterMax()){
_b21=filter+String.fromCharCode(keyCode);
}else{
_b21=filter;
}
}
}
var _b22="";
var _b23=editMask.validateMask(_b21);
if(_b23){
_b22=editMask.fillMask(_b23);
}else{
_b22=editMask.fillMask(filter);
}
element.value=_b22;
_b20.preventDefault();
return false;
},filterStrip:function(_b24){
mask=this.mask;
for(var _b25=0;_b25<mask.length++;_b25++){
var c=mask.charAt(_b25);
if(this.isEditChar(c)){
mask=this.filterReplace(mask,mask.substring(_b25,_b25+1),"");
}
}
filterMask=mask+"_";
for(var _b25=0;_b25<filterMask.length++;_b25++){
_b24=this.filterReplace(_b24,filterMask.substring(_b25,_b25+1),"");
}
return _b24;
},filterMask:function(_b26){
filterMask="_";
for(var _b27=0;_b27<filterMask.length++;_b27++){
_b26=this.filterReplace(_b26,filterMask.substring(_b27,_b27+1),"");
}
return _b26;
},filterMax:function(){
filterTemp=this.mask;
for(var _b28=0;_b28<(this.mask.length+1);_b28++){
var c=this.mask.charAt(_b28);
if(!this.isEditChar(c)){
filterTemp=this.filterReplace(filterTemp,c,"");
}
}
return filterTemp.length;
},filterExit:function(_b29){
mask=this.mask+"_";
var _b2a=true;
for(var i=0;i<_b29.length;i++){
_b2a=_b2a&&(_b29.charAt(i)!="_");
}
if(!_b2a){
while((_b29.length>0)&&(mask.indexOf(_b29.charAt(0))>-1)){
_b29=_b29.substr(1);
}
}
return _b29;
},filterReplace:function(_b2b,text,by){
var _b2c=_b2b.length,_b2d=text.length;
if((_b2c==0)||(_b2d==0)){
return _b2b;
}
var i=_b2b.indexOf(text);
if((!i)&&(text!=_b2b.substring(0,_b2d))){
return _b2b;
}
if(i==-1){
return _b2b;
}
var _b2e=_b2b.substring(0,i)+by;
if(i+_b2d<_b2c){
_b2e+=this.filterReplace(_b2b.substring(i+_b2d,_b2c),text,by);
}
return _b2e;
},isEditChar:function(c){
switch(c){
case "_":
case "#":
case "a":
case "A":
case "l":
case "L":
return true;
default:
return false;
}
return false;
},displayMaskChar:function(c){
if(this.isEditChar(c)){
return "_";
}else{
return c;
}
},displayMask:function(mask){
var d="";
for(var i=0;i<mask.length;i++){
d+=this.displayMaskChar(mask.substr(i,1));
}
return d;
},validateMask:function(_b2f){
var ok=true;
var _b30=this.mask.length-1;
var pos=posmask=0;
var n=_b2f.length-1;
var _b31="";
while((pos<=n)&&(posmask<=_b30)){
var m=this.mask.charAt(posmask);
var c=_b2f.charCodeAt(pos);
if(this.isEditChar(m)){
var code=this.isInsertOK(c,m);
if(ok=ok&&(code!=null)){
_b31=_b31+String.fromCharCode(code);
}else{
this.onError(this.errMsg);
}
pos+=1;
}
posmask+=1;
}
return ok?_b31:null;
},fillMask:function(_b32){
var _b33="";
var n=_b32.length-1;
var _b34=this.mask.length-1;
var pos=n;
var _b35=_b34;
while(_b35>=0){
var m=this.mask.charAt(_b35);
if(pos>=0){
var c=_b32.charAt(pos);
if(this.isEditChar(m)){
_b33=c+_b33;
pos-=1;
}else{
_b33=m+_b33;
}
}else{
if(this.isEditChar(m)){
_b33="_"+_b33;
}else{
_b33=m+_b33;
}
}
_b35-=1;
}
return _b33;
},isInsertOK:function(code,_b36){
switch(_b36){
case "_":
return true;
break;
case "#":
return this.checkDigit(code);
break;
case "a":
return this.checkAlphaNumeric(code);
break;
case "A":
return this.checkUpCaseAlphaNumeric(code);
break;
case "l":
return this.checkAlpha(code);
break;
case "L":
return this.checkUpCaseAlpha(code);
break;
}
return false;
},checkDigit:function(code){
if((code>=48)&&(code<=57)){
return code;
}else{
return null;
}
},checkAlpha:function(code){
if(((code>=65)&&(code<=90))||((code>=97)&&(code<=122))){
return code;
}else{
return null;
}
},checkUpCaseAlpha:function(code){
if((code>=65)&&(code<=90)){
return code;
}else{
if((code>=97)&&(code<=122)){
return code-32;
}else{
return null;
}
}
},checkAlphaNumeric:function(code){
if(((code>=65)&&(code<=90))||((code>=97)&&(code<=122))||((code>=48)&&(code<=57))){
return code;
}else{
return null;
}
},checkUpCaseAlphaNumeric:function(code){
if((code>=65)&&(code<=90)){
return code;
}else{
if((code>=97)&&(code<=122)){
return code-32;
}else{
if((code>=48)&&(code<=57)){
return code;
}else{
return null;
}
}
}
}});
});
},"manager/Grid":function(){
define("manager/Grid",["dojo/_base/declare","dojo/store/Memory"],function(_b37,_b38){
return _b37("Manager.Grid",[],{constructor:function(name,page){
this.name=name;
this.page=page;
this.idSelect=this.name+"_SELECT_CHECKED";
this.firstIndex=0;
this.data=null;
this.goPageStore=new _b38();
this.hover();
},hover:function(){
var arg="table#"+this.name+" tbody tr";
dojo.query(arg).forEach(function(node,_b39,arr){
manager.hover(node.id,function(_b3a){
_b3a.currentTarget.originalClassName="row"+(_b39%2);
_b3a.currentTarget.className=_b3a.currentTarget.className.replace(_b3a.currentTarget.originalClassName,"rowenter");
},function(_b3b){
_b3b.currentTarget.className=_b3b.currentTarget.className.replace("rowenter",_b3b.currentTarget.originalClassName);
});
});
},selectRow:function(_b3c){
var arg="table#"+this.name+" tbody tr";
dojo.query(arg).forEach(function(node,_b3d,arr){
node.index=_b3d;
dojo.connect(node,"ondblclick",function(_b3e){
_b3c(_b3e.currentTarget.index);
});
});
},setData:function(data){
this.data=data;
},addGoPage:function(data){
for(var i=0;i<data.length;i++){
this.goPageStore.add(data[i]);
}
},getGoPage:function(){
return this.goPageStore;
},changeRow:function(_b3f){
var div=manager.byId(this.name+"-row-"+_b3f);
if(!div){
div=manager.byId(this.name+"DGrid-row-"+_b3f);
}
var _b40=dijit.byId(this.name+"_SELECT"+"["+_b3f+"]");
var _b41=div.originalClassName?div.originalClassName:div.className;
if(_b40.get("checked")){
div.className=_b41+"Checked";
}else{
div.className=_b41.replace("Checked","");
}
},check:function(_b42,_b43){
var _b44=dijit.byId(this.name+"_SELECT"+"["+_b42+"]");
var _b45=manager.getElementById(this.idSelect);
if(_b44.get("checked")){
_b45.value=(_b45.value!=""?_b45.value+":":"")+_b43;
}else{
var _b46=new RegExp("^"+_b43+":?|"+_b43+":?|:?"+_b43+"$");
_b45.value=_b45.value.replace(_b46,"");
}
this.changeRow(_b42);
},checkAll:function(n){
var _b47=dijit.byId(this.name+"chkAll");
for(var i=0;i<n;i++){
var _b48=this.firstIndex+i;
var _b49=dijit.byId(this.name+"_SELECT"+"["+_b48+"]");
if(_b47.checked!=_b49.checked){
if(_b49.checked){
value=_b49.get("value");
_b49.set("checked",false);
}else{
_b49.set("checked",true);
value=_b49.get("value");
}
this.check(_b48,value);
}
}
},checkEachRow:function(n){
for(var i=0;i<n;i++){
var _b4a=this.firstIndex+i;
this.changeRow(_b4a);
}
},goPage:function(_b4b){
manager.setElementValueById(this.name+"_PAGING","yes");
manager.setElementValueById(this.name+"_PAGE",this.page);
manager.setElementValueById(this.name+"_GOPAGE",_b4b);
manager.doPostBack(this.name);
}});
});
},"dgrid/Grid":function(){
define(["dojo/_base/kernel","dojo/_base/declare","dojo/on","dojo/has","put-selector/put","./List","./util/misc","dojo/_base/sniff"],function(_b4c,_b4d,_b4e,has,put,List,_b4f){
var _b50=has("ie")<8&&!has("quirks");
var _b51=/[^\._a-zA-Z0-9-]/g;
function _b52(_b53,_b54){
if(_b54&&_b54.nodeType){
_b53.appendChild(_b54);
}
};
var Grid=_b4d(List,{columns:null,cellNavigation:true,tabableHeader:true,showHeader:true,column:function(_b55){
if(typeof _b55=="string"){
return this.columns[_b55];
}else{
return this.cell(_b55).column;
}
},listType:"grid",cell:function(_b56,_b57){
if(_b56.column&&_b56.element){
return _b56;
}
if(_b56.target&&_b56.target.nodeType){
_b56=_b56.target;
}
var _b58;
if(_b56.nodeType){
var _b59;
do{
if(this._rowIdToObject[_b56.id]){
break;
}
var _b5a=_b56.columnId;
if(_b5a){
_b57=_b5a;
_b58=_b56;
break;
}
_b56=_b56.parentNode;
}while(_b56&&_b56!=this.domNode);
}
if(!_b58&&typeof _b57!="undefined"){
var row=this.row(_b56),_b5b=row.element;
if(_b5b){
var _b5c=_b5b.getElementsByTagName("td");
for(var i=0;i<_b5c.length;i++){
if(_b5c[i].columnId==_b57){
_b58=_b5c[i];
break;
}
}
}
}
if(_b56!=null){
return {row:row||this.row(_b56),column:_b57&&this.column(_b57),element:_b58};
}
},createRowCells:function(tag,each,_b5d){
var row=put("table.dgrid-row-table[role=presentation]"),_b5e=this.cellNavigation,_b5f=(has("ie")<9||has("quirks"))?put(row,"tbody"):row,tr,si,sl,i,l,_b60,_b61,id,_b62,cell,_b63,_b64,_b65;
_b5d=_b5d||this.subRows;
for(si=0,sl=_b5d.length;si<sl;si++){
_b60=_b5d[si];
tr=put(_b5f,"tr");
if(_b60.className){
put(tr,"."+_b60.className);
}
for(i=0,l=_b60.length;i<l;i++){
_b61=_b60[i];
id=_b61.id;
_b62=_b61.className||(_b61.field&&"field-"+_b61.field);
cell=put(tag+(".dgrid-cell.dgrid-cell-padding"+(id?".dgrid-column-"+id:"")+(_b62?"."+_b62:"")).replace(_b51,"-")+"[role="+(tag==="th"?"columnheader":"gridcell")+"]");
cell.columnId=id;
if(_b50){
_b63=put(cell,"!dgrid-cell-padding div.dgrid-cell-padding");
cell.contents=_b63;
}else{
_b63=cell;
}
_b64=_b61.colSpan;
if(_b64){
cell.colSpan=_b64;
}
_b65=_b61.rowSpan;
if(_b65){
cell.rowSpan=_b65;
}
each(_b63,_b61);
tr.appendChild(cell);
}
}
return row;
},left:function(cell,_b66){
if(!cell.element){
cell=this.cell(cell);
}
return this.cell(this._move(cell,-(_b66||1),"dgrid-cell"));
},right:function(cell,_b67){
if(!cell.element){
cell=this.cell(cell);
}
return this.cell(this._move(cell,_b67||1,"dgrid-cell"));
},renderRow:function(_b68,_b69){
var self=this;
var row=this.createRowCells("td",function(td,_b6a){
var data=_b68;
if(_b6a.get){
data=_b6a.get(_b68);
}else{
if("field" in _b6a&&_b6a.field!="_item"){
data=data[_b6a.field];
}
}
if(_b6a.renderCell){
_b52(td,_b6a.renderCell(_b68,data,td,_b69));
}else{
_b6b.call(_b6a,_b68,data,td,_b69);
}
},_b69&&_b69.subRows);
return put("div[role=row]>",row);
},renderHeader:function(){
var grid=this,_b6c=this.columns,_b6d=this.headerNode,i=_b6d.childNodes.length;
_b6d.setAttribute("role","row");
while(i--){
put(_b6d.childNodes[i],"!");
}
var row=this.createRowCells("th",function(th,_b6e){
var _b6f=_b6e.headerNode=th;
if(_b50){
th=th.parentNode;
}
var _b70=_b6e.field;
if(_b70){
th.field=_b70;
}
if(_b6e.renderHeaderCell){
_b52(_b6f,_b6e.renderHeaderCell(_b6f));
}else{
if(_b6e.label||_b6e.field){
_b6f.appendChild(document.createTextNode(_b6e.label||_b6e.field));
}
}
if(_b6e.sortable!==false&&_b70&&_b70!="_item"){
th.sortable=true;
th.className+=" dgrid-sortable";
}
},this.subRows&&this.subRows.headerRows);
this._rowIdToObject[row.id=this.id+"-header"]=this.columns;
_b6d.appendChild(row);
if(this._sortListener){
this._sortListener.remove();
}
this._sortListener=_b4e(row,"click,keydown",function(_b71){
if(_b71.type=="click"||_b71.keyCode==32||(!has("opera")&&_b71.keyCode==13)){
var _b72=_b71.target,_b73,sort,_b74,_b75;
do{
if(_b72.sortable){
_b74=[{attribute:(_b73=_b72.field||_b72.columnId),descending:(sort=grid._sort[0])&&sort.attribute==_b73&&!sort.descending}];
_b75={bubbles:true,cancelable:true,grid:grid,parentType:_b71.type,sort:_b74};
if(_b4e.emit(_b71.target,"dgrid-sort",_b75)){
grid._sortNode=_b72;
grid.set("sort",_b74);
}
break;
}
}while((_b72=_b72.parentNode)&&_b72!=_b6d);
}
});
},resize:function(){
var _b76=this.headerNode.firstChild,_b77=this.contentNode,_b78;
this.inherited(arguments);
if(!has("ie")||(has("ie")>7&&!has("quirks"))){
_b77.style.width="";
if(_b77&&_b76){
if((_b78=_b76.offsetWidth)!=_b77.offsetWidth){
_b77.style.width=_b78+"px";
}
}
}
},destroy:function(){
this._destroyColumns();
if(this._sortListener){
this._sortListener.remove();
}
this.inherited(arguments);
},_setSort:function(_b79,_b7a){
this.inherited(arguments);
this.updateSortArrow(this._sort);
},updateSortArrow:function(sort,_b7b){
if(this._lastSortedArrow){
put(this._lastSortedArrow,"<!dgrid-sort-up!dgrid-sort-down");
put(this._lastSortedArrow,"!");
delete this._lastSortedArrow;
}
if(_b7b){
this._sort=sort;
}
if(!sort[0]){
return;
}
var prop=sort[0].attribute,desc=sort[0].descending,_b7c=this._sortNode,_b7d,_b7e,i;
delete this._sortNode;
if(!_b7c){
_b7d=this.columns;
for(i in _b7d){
_b7e=_b7d[i];
if(_b7e.field==prop){
_b7c=_b7e.headerNode;
break;
}
}
}
if(_b7c){
_b7c=_b7c.contents||_b7c;
this._lastSortedArrow=put(_b7c.firstChild,"-div.dgrid-sort-arrow.ui-icon[role=presentation]");
this._lastSortedArrow.innerHTML="&nbsp;";
put(_b7c,desc?".dgrid-sort-down":".dgrid-sort-up");
this.resize();
}
},styleColumn:function(_b7f,css){
return this.addCssRule("#"+_b4f.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+_b7f,css);
},_configColumns:function(_b80,_b81){
var _b82=[],_b83=_b81 instanceof Array,_b84,_b85;
for(_b84 in _b81){
_b85=_b81[_b84];
if(typeof _b85=="string"){
_b81[_b84]=_b85={label:_b85};
}
if(!_b83&&!_b85.field){
_b85.field=_b84;
}
_b84=_b85.id=_b85.id||(isNaN(_b84)?_b84:(_b80+_b84));
if(_b83){
this.columns[_b84]=_b85;
}
if(this._configColumn){
this._configColumn(_b85,_b84,_b81,_b80);
}
_b85.grid=this;
if(typeof _b85.init==="function"){
_b85.init();
}
_b82.push(_b85);
}
return _b83?_b81:_b82;
},_destroyColumns:function(){
var _b86=this.subRows,_b87=_b86&&_b86.length,i,j,_b88,len;
this.cleanup();
for(i=0;i<_b87;i++){
for(j=0,len=_b86[i].length;j<len;j++){
_b88=_b86[i][j];
if(typeof _b88.destroy==="function"){
_b88.destroy();
}
}
}
},configStructure:function(){
var _b89=this.subRows,_b8a=this._columns=this.columns;
this.columns=!_b8a||_b8a instanceof Array?{}:_b8a;
if(_b89){
for(var i=0;i<_b89.length;i++){
_b89[i]=this._configColumns(i+"-",_b89[i]);
}
}else{
this.subRows=[this._configColumns("",_b8a)];
}
},_getColumns:function(){
return this._columns||this.columns;
},_setColumns:function(_b8b){
this._destroyColumns();
this.subRows=null;
this.columns=_b8b;
this._updateColumns();
},_setSubRows:function(_b8c){
this._destroyColumns();
this.subRows=_b8c;
this._updateColumns();
},setColumns:function(_b8d){
_b4c.deprecated("setColumns(...)","use set(\"columns\", ...) instead","dgrid 1.0");
this.set("columns",_b8d);
},setSubRows:function(_b8e){
_b4c.deprecated("setSubRows(...)","use set(\"subRows\", ...) instead","dgrid 1.0");
this.set("subRows",_b8e);
},_updateColumns:function(){
this.configStructure();
this.renderHeader();
this.refresh();
this._lastCollection&&this.renderArray(this._lastCollection);
if(this._started){
if(this._sort&&this._sort.length){
this.updateSortArrow(this._sort);
}else{
this.resize();
}
}
}});
function _b6b(_b8f,data,td,_b90){
if(this.formatter){
var _b91=this.formatter,_b92=this.grid.formatterScope;
td.innerHTML=typeof _b91==="string"&&_b92?_b92[_b91](data,_b8f):_b91(data,_b8f);
}else{
if(data!=null){
td.appendChild(document.createTextNode(data));
}
}
};
Grid.appendIfNode=_b52;
Grid.defaultRenderCell=_b6b;
return Grid;
});
},"dojo/data/util/sorter":function(){
define(["../../_base/lang"],function(lang){
var _b93={};
lang.setObject("dojo.data.util.sorter",_b93);
_b93.basicComparator=function(a,b){
var r=-1;
if(a===null){
a=undefined;
}
if(b===null){
b=undefined;
}
if(a==b){
r=0;
}else{
if(a>b||a==null){
r=1;
}
}
return r;
};
_b93.createSortFunction=function(_b94,_b95){
var _b96=[];
function _b97(attr,dir,comp,s){
return function(_b98,_b99){
var a=s.getValue(_b98,attr);
var b=s.getValue(_b99,attr);
return dir*comp(a,b);
};
};
var _b9a;
var map=_b95.comparatorMap;
var bc=_b93.basicComparator;
for(var i=0;i<_b94.length;i++){
_b9a=_b94[i];
var attr=_b9a.attribute;
if(attr){
var dir=(_b9a.descending)?-1:1;
var comp=bc;
if(map){
if(typeof attr!=="string"&&("toString" in attr)){
attr=attr.toString();
}
comp=map[attr]||bc;
}
_b96.push(_b97(attr,dir,comp,_b95));
}
}
return function(rowA,rowB){
var i=0;
while(i<_b96.length){
var ret=_b96[i++](rowA,rowB);
if(ret!==0){
return ret;
}
}
return 0;
};
};
return _b93;
});
},"dgrid/util/misc":function(){
define(["put-selector/put"],function(put){
var _b9b=[],_b9c,_b9d,_b9e,_b9f=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g;
function _ba0(_ba1){
var _ba2=_b9b[_ba1],i,l;
if(_ba2===undefined){
return;
}
_b9c[_b9d](_ba2);
_b9b[_ba1]=undefined;
for(i=_ba1+1,l=_b9b.length;i<l;i++){
if(_b9b[i]>_ba2){
_b9b[i]--;
}
}
};
var util={defaultDelay:15,throttle:function(cb,_ba3,_ba4){
var ran=false;
_ba4=_ba4||util.defaultDelay;
return function(){
if(ran){
return;
}
ran=true;
cb.apply(_ba3,arguments);
setTimeout(function(){
ran=false;
},_ba4);
};
},throttleDelayed:function(cb,_ba5,_ba6){
var ran=false;
_ba6=_ba6||util.defaultDelay;
return function(){
if(ran){
return;
}
ran=true;
var a=arguments;
setTimeout(function(){
ran=false;
cb.apply(_ba5,a);
},_ba6);
};
},debounce:function(cb,_ba7,_ba8){
var _ba9;
_ba8=_ba8||util.defaultDelay;
return function(){
if(_ba9){
clearTimeout(_ba9);
_ba9=null;
}
var a=arguments;
_ba9=setTimeout(function(){
cb.apply(_ba7,a);
},_ba8);
};
},addCssRule:function(_baa,css){
if(!_b9c){
_b9c=put(document.getElementsByTagName("head")[0],"style");
_b9c=_b9c.sheet||_b9c.styleSheet;
_b9d=_b9c.deleteRule?"deleteRule":"removeRule";
_b9e=_b9c.cssRules?"cssRules":"rules";
}
var _bab=_b9b.length;
_b9b[_bab]=(_b9c.cssRules||_b9c.rules).length;
_b9c.addRule?_b9c.addRule(_baa,css):_b9c.insertRule(_baa+"{"+css+"}",_b9b[_bab]);
return {get:function(prop){
return _b9c[_b9e][_b9b[_bab]].style[prop];
},set:function(prop,_bac){
if(typeof _b9b[_bab]!=="undefined"){
_b9c[_b9e][_b9b[_bab]].style[prop]=_bac;
}
},remove:function(){
_ba0(_bab);
}};
},escapeCssIdentifier:function(id){
return id.replace(_b9f,"\\$1");
}};
return util;
});
},"dojo/window":function(){
define(["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(lang,has,_bad,dom,geom,_bae,_baf){
has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){
var body=_bad.body(doc),_bb0=_baf.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},body,"last"),div=_baf.create("div",{style:{overflow:"hidden",direction:"ltr"}},_bb0,"last"),ret=geom.position(div).x!=0;
_bb0.removeChild(div);
body.removeChild(_bb0);
return ret;
});
has.add("position-fixed-support",function(win,doc){
var body=_bad.body(doc),_bb1=_baf.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},body,"last"),_bb2=_baf.create("span",{style:{position:"fixed",left:"0",top:"0"}},_bb1,"last"),ret=geom.position(_bb2).x!=geom.position(_bb1).x;
_bb1.removeChild(_bb2);
body.removeChild(_bb1);
return ret;
});
var _bb3={getBox:function(doc){
doc=doc||_bad.doc;
var _bb4=(doc.compatMode=="BackCompat")?_bad.body(doc):doc.documentElement,_bb5=geom.docScroll(doc),w,h;
if(has("touch")){
var _bb6=_bb3.get(doc);
w=_bb6.innerWidth||_bb4.clientWidth;
h=_bb6.innerHeight||_bb4.clientHeight;
}else{
w=_bb4.clientWidth;
h=_bb4.clientHeight;
}
return {l:_bb5.x,t:_bb5.y,w:w,h:h};
},get:function(doc){
if(has("ie")&&_bb3!==document.parentWindow){
doc.parentWindow.execScript("document._parentWindow = window;","Javascript");
var win=doc._parentWindow;
doc._parentWindow=null;
return win;
}
return doc.parentWindow||doc.defaultView;
},scrollIntoView:function(node,pos){
try{
node=dom.byId(node);
var doc=node.ownerDocument||_bad.doc,body=_bad.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");
if(node==body||node==html){
return;
}
if(!(has("mozilla")||isIE||isWK||has("opera")||has("trident"))&&("scrollIntoView" in node)){
node.scrollIntoView(false);
return;
}
var _bb7=doc.compatMode=="BackCompat",_bb8=Math.min(body.clientWidth||html.clientWidth,html.clientWidth||body.clientWidth),_bb9=Math.min(body.clientHeight||html.clientHeight,html.clientHeight||body.clientHeight),_bba=(isWK||_bb7)?body:html,_bbb=pos||geom.position(node),el=node.parentNode,_bbc=function(el){
return (isIE<=6||(isIE==7&&_bb7))?false:(has("position-fixed-support")&&(_bae.get(el,"position").toLowerCase()=="fixed"));
};
if(_bbc(node)){
return;
}
while(el){
if(el==body){
el=_bba;
}
var _bbd=geom.position(el),_bbe=_bbc(el),rtl=_bae.getComputedStyle(el).direction.toLowerCase()=="rtl";
if(el==_bba){
_bbd.w=_bb8;
_bbd.h=_bb9;
if(_bba==html&&isIE&&rtl){
_bbd.x+=_bba.offsetWidth-_bbd.w;
}
if(_bbd.x<0||!isIE||isIE>=9){
_bbd.x=0;
}
if(_bbd.y<0||!isIE||isIE>=9){
_bbd.y=0;
}
}else{
var pb=geom.getPadBorderExtents(el);
_bbd.w-=pb.w;
_bbd.h-=pb.h;
_bbd.x+=pb.l;
_bbd.y+=pb.t;
var _bbf=el.clientWidth,_bc0=_bbd.w-_bbf;
if(_bbf>0&&_bc0>0){
if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){
_bbd.x+=_bc0;
}
_bbd.w=_bbf;
}
_bbf=el.clientHeight;
_bc0=_bbd.h-_bbf;
if(_bbf>0&&_bc0>0){
_bbd.h=_bbf;
}
}
if(_bbe){
if(_bbd.y<0){
_bbd.h+=_bbd.y;
_bbd.y=0;
}
if(_bbd.x<0){
_bbd.w+=_bbd.x;
_bbd.x=0;
}
if(_bbd.y+_bbd.h>_bb9){
_bbd.h=_bb9-_bbd.y;
}
if(_bbd.x+_bbd.w>_bb8){
_bbd.w=_bb8-_bbd.x;
}
}
var l=_bbb.x-_bbd.x,t=_bbb.y-_bbd.y,r=l+_bbb.w-_bbd.w,bot=t+_bbb.h-_bbd.h;
var s,old;
if(r*l>0&&(!!el.scrollLeft||el==_bba||el.scrollWidth>el.offsetHeight)){
s=Math[l<0?"max":"min"](l,r);
if(rtl&&((isIE==8&&!_bb7)||isIE>=9)){
s=-s;
}
old=el.scrollLeft;
el.scrollLeft+=s;
s=el.scrollLeft-old;
_bbb.x-=s;
}
if(bot*t>0&&(!!el.scrollTop||el==_bba||el.scrollHeight>el.offsetHeight)){
s=Math.ceil(Math[t<0?"max":"min"](t,bot));
old=el.scrollTop;
el.scrollTop+=s;
s=el.scrollTop-old;
_bbb.y-=s;
}
el=(el!=_bba)&&!_bbe&&el.parentNode;
}
}
catch(error){
console.error("scrollIntoView: "+error);
node.scrollIntoView(false);
}
}};
1&&lang.setObject("dojo.window",_bb3);
return _bb3;
});
},"dijit/_base/popup":function(){
define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(_bc1,win,_bc2){
var _bc3=_bc2._createWrapper;
_bc2._createWrapper=function(_bc4){
if(!_bc4.declaredClass){
_bc4={_popupWrapper:(_bc4.parentNode&&_bc1.contains(_bc4.parentNode,"dijitPopup"))?_bc4.parentNode:null,domNode:_bc4,destroy:function(){
},ownerDocument:_bc4.ownerDocument,ownerDocumentBody:win.body(_bc4.ownerDocument)};
}
return _bc3.call(this,_bc4);
};
var _bc5=_bc2.open;
_bc2.open=function(args){
if(args.orient&&typeof args.orient!="string"&&!("length" in args.orient)){
var ary=[];
for(var key in args.orient){
ary.push({aroundCorner:key,corner:args.orient[key]});
}
args.orient=ary;
}
return _bc5.call(this,args);
};
return _bc2;
});
},"dijit/registry":function(){
define(["dojo/_base/array","dojo/sniff","dojo/_base/window","./main"],function(_bc6,has,win,_bc7){
var _bc8={},hash={};
var _bc9={length:0,add:function(_bca){
if(hash[_bca.id]){
throw new Error("Tried to register widget with id=="+_bca.id+" but that id is already registered");
}
hash[_bca.id]=_bca;
this.length++;
},remove:function(id){
if(hash[id]){
delete hash[id];
this.length--;
}
},byId:function(id){
return typeof id=="string"?hash[id]:id;
},byNode:function(node){
return hash[node.getAttribute("widgetId")];
},toArray:function(){
var ar=[];
for(var id in hash){
ar.push(hash[id]);
}
return ar;
},getUniqueId:function(_bcb){
var id;
do{
id=_bcb+"_"+(_bcb in _bc8?++_bc8[_bcb]:_bc8[_bcb]=0);
}while(hash[id]);
return _bc7._scopeName=="dijit"?id:_bc7._scopeName+"_"+id;
},findWidgets:function(root,_bcc){
var _bcd=[];
function _bce(root){
for(var node=root.firstChild;node;node=node.nextSibling){
if(node.nodeType==1){
var _bcf=node.getAttribute("widgetId");
if(_bcf){
var _bd0=hash[_bcf];
if(_bd0){
_bcd.push(_bd0);
}
}else{
if(node!==_bcc){
_bce(node);
}
}
}
}
};
_bce(root);
return _bcd;
},_destroyAll:function(){
_bc7._curFocus=null;
_bc7._prevFocus=null;
_bc7._activeStack=[];
_bc6.forEach(_bc9.findWidgets(win.body()),function(_bd1){
if(!_bd1._destroyed){
if(_bd1.destroyRecursive){
_bd1.destroyRecursive();
}else{
if(_bd1.destroy){
_bd1.destroy();
}
}
}
});
},getEnclosingWidget:function(node){
while(node){
var id=node.nodeType==1&&node.getAttribute("widgetId");
if(id){
return hash[id];
}
node=node.parentNode;
}
return null;
},_hash:hash};
_bc7.registry=_bc9;
return _bc9;
});
},"dijit/_base/focus":function(){
define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../selection","../main"],function(_bd2,dom,lang,_bd3,win,_bd4,_bd5,_bd6){
var _bd7={_curFocus:null,_prevFocus:null,isCollapsed:function(){
return _bd6.getBookmark().isCollapsed;
},getBookmark:function(){
var sel=win.global==window?_bd5:new _bd5.SelectionManager(win.global);
return sel.getBookmark();
},moveToBookmark:function(_bd8){
var sel=win.global==window?_bd5:new _bd5.SelectionManager(win.global);
return sel.moveToBookmark(_bd8);
},getFocus:function(menu,_bd9){
var node=!_bd4.curNode||(menu&&dom.isDescendant(_bd4.curNode,menu.domNode))?_bd6._prevFocus:_bd4.curNode;
return {node:node,bookmark:node&&(node==_bd4.curNode)&&win.withGlobal(_bd9||win.global,_bd6.getBookmark),openedForWindow:_bd9};
},_activeStack:[],registerIframe:function(_bda){
return _bd4.registerIframe(_bda);
},unregisterIframe:function(_bdb){
_bdb&&_bdb.remove();
},registerWin:function(_bdc,_bdd){
return _bd4.registerWin(_bdc,_bdd);
},unregisterWin:function(_bde){
_bde&&_bde.remove();
}};
_bd4.focus=function(_bdf){
if(!_bdf){
return;
}
var node="node" in _bdf?_bdf.node:_bdf,_be0=_bdf.bookmark,_be1=_bdf.openedForWindow,_be2=_be0?_be0.isCollapsed:false;
if(node){
var _be3=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;
if(_be3&&_be3.focus){
try{
_be3.focus();
}
catch(e){
}
}
_bd4._onFocusNode(node);
}
if(_be0&&win.withGlobal(_be1||win.global,_bd6.isCollapsed)&&!_be2){
if(_be1){
_be1.focus();
}
try{
win.withGlobal(_be1||win.global,_bd6.moveToBookmark,null,[_be0]);
}
catch(e2){
}
}
};
_bd4.watch("curNode",function(name,_be4,_be5){
_bd6._curFocus=_be5;
_bd6._prevFocus=_be4;
if(_be5){
_bd3.publish("focusNode",_be5);
}
});
_bd4.watch("activeStack",function(name,_be6,_be7){
_bd6._activeStack=_be7;
});
_bd4.on("widget-blur",function(_be8,by){
_bd3.publish("widgetBlur",_be8,by);
});
_bd4.on("widget-focus",function(_be9,by){
_bd3.publish("widgetFocus",_be9,by);
});
lang.mixin(_bd6,_bd7);
return _bd6;
});
},"dijit/PopupMenuBarItem":function(){
define(["dojo/_base/declare","./PopupMenuItem","./MenuBarItem"],function(_bea,_beb,_bec){
var _bed=_bec._MenuBarItemMixin;
return _bea("dijit.PopupMenuBarItem",[_beb,_bed],{});
});
},"dijit/form/_FormMixin":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(_bee,_bef,_bf0,lang,on,_bf1){
return _bef("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(_bf2){
var res=[];
_bee.forEach(_bf2||this.getChildren(),function(_bf3){
if("value" in _bf3){
res.push(_bf3);
}else{
res=res.concat(this._getDescendantFormWidgets(_bf3.getChildren()));
}
},this);
return res;
},reset:function(){
_bee.forEach(this._getDescendantFormWidgets(),function(_bf4){
if(_bf4.reset){
_bf4.reset();
}
});
},validate:function(){
var _bf5=false;
return _bee.every(_bee.map(this._getDescendantFormWidgets(),function(_bf6){
_bf6._hasBeenBlurred=true;
var _bf7=_bf6.disabled||!_bf6.validate||_bf6.validate();
if(!_bf7&&!_bf5){
_bf1.scrollIntoView(_bf6.containerNode||_bf6.domNode);
_bf6.focus();
_bf5=true;
}
return _bf7;
}),function(item){
return item;
});
},setValues:function(val){
_bf0.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");
return this.set("value",val);
},_setValueAttr:function(obj){
var map={};
_bee.forEach(this._getDescendantFormWidgets(),function(_bf8){
if(!_bf8.name){
return;
}
var _bf9=map[_bf8.name]||(map[_bf8.name]=[]);
_bf9.push(_bf8);
});
for(var name in map){
if(!map.hasOwnProperty(name)){
continue;
}
var _bfa=map[name],_bfb=lang.getObject(name,false,obj);
if(_bfb===undefined){
continue;
}
_bfb=[].concat(_bfb);
if(typeof _bfa[0].checked=="boolean"){
_bee.forEach(_bfa,function(w){
w.set("value",_bee.indexOf(_bfb,w._get("value"))!=-1);
});
}else{
if(_bfa[0].multiple){
_bfa[0].set("value",_bfb);
}else{
_bee.forEach(_bfa,function(w,i){
w.set("value",_bfb[i]);
});
}
}
}
},getValues:function(){
_bf0.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");
return this.get("value");
},_getValueAttr:function(){
var obj={};
_bee.forEach(this._getDescendantFormWidgets(),function(_bfc){
var name=_bfc.name;
if(!name||_bfc.disabled){
return;
}
var _bfd=_bfc.get("value");
if(typeof _bfc.checked=="boolean"){
if(/Radio/.test(_bfc.declaredClass)){
if(_bfd!==false){
lang.setObject(name,_bfd,obj);
}else{
_bfd=lang.getObject(name,false,obj);
if(_bfd===undefined){
lang.setObject(name,null,obj);
}
}
}else{
var ary=lang.getObject(name,false,obj);
if(!ary){
ary=[];
lang.setObject(name,ary,obj);
}
if(_bfd!==false){
ary.push(_bfd);
}
}
}else{
var prev=lang.getObject(name,false,obj);
if(typeof prev!="undefined"){
if(lang.isArray(prev)){
prev.push(_bfd);
}else{
lang.setObject(name,[prev,_bfd],obj);
}
}else{
lang.setObject(name,_bfd,obj);
}
}
});
return obj;
},isValid:function(){
return this.state=="";
},onValidStateChange:function(){
},_getState:function(){
var _bfe=_bee.map(this._descendants,function(w){
return w.get("state")||"";
});
return _bee.indexOf(_bfe,"Error")>=0?"Error":_bee.indexOf(_bfe,"Incomplete")>=0?"Incomplete":"";
},disconnectChildren:function(){
},connectChildren:function(_bff){
this._descendants=this._getDescendantFormWidgets();
_bee.forEach(this._descendants,function(_c00){
if(!_c00._started){
_c00.startup();
}
});
if(!_bff){
this._onChildChange();
}
},_onChildChange:function(attr){
if(!attr||attr=="state"||attr=="disabled"){
this._set("state",this._getState());
}
if(!attr||attr=="value"||attr=="disabled"||attr=="checked"){
if(this._onChangeDelayTimer){
this._onChangeDelayTimer.remove();
}
this._onChangeDelayTimer=this.defer(function(){
delete this._onChangeDelayTimer;
this._set("value",this.get("value"));
},10);
}
},startup:function(){
this.inherited(arguments);
this._descendants=this._getDescendantFormWidgets();
this.value=this.get("value");
this.state=this._getState();
var self=this;
this.own(on(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(evt){
if(evt.target==self.domNode){
return;
}
self._onChildChange(evt.type.replace("attrmodified-",""));
}));
this.watch("state",function(attr,_c01,_c02){
this.onValidStateChange(_c02=="");
});
},destroy:function(){
this.inherited(arguments);
}});
});
},"dijit/BackgroundIframe":function(){
define(["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(_c03,_c04,_c05,_c06,_c07,lang,on,has){
has.add("config-bgIframe",!has("touch"));
var _c08=new function(){
var _c09=[];
this.pop=function(){
var _c0a;
if(_c09.length){
_c0a=_c09.pop();
_c0a.style.display="";
}else{
if(has("ie")<9){
var burl=_c05["dojoBlankHtmlUrl"]||_c03.toUrl("dojo/resources/blank.html")||"javascript:\"\"";
var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";
_c0a=document.createElement(html);
}else{
_c0a=_c06.create("iframe");
_c0a.src="javascript:\"\"";
_c0a.className="dijitBackgroundIframe";
_c0a.setAttribute("role","presentation");
_c07.set(_c0a,"opacity",0.1);
}
_c0a.tabIndex=-1;
}
return _c0a;
};
this.push=function(_c0b){
_c0b.style.display="none";
_c09.push(_c0b);
};
}();
_c04.BackgroundIframe=function(node){
if(!node.id){
throw new Error("no id");
}
if(has("config-bgIframe")){
var _c0c=(this.iframe=_c08.pop());
node.appendChild(_c0c);
if(has("ie")<7||has("quirks")){
this.resize(node);
this._conn=on(node,"resize",lang.hitch(this,"resize",node));
}else{
_c07.set(_c0c,{width:"100%",height:"100%"});
}
}
};
lang.extend(_c04.BackgroundIframe,{resize:function(node){
if(this.iframe){
_c07.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});
}
},destroy:function(){
if(this._conn){
this._conn.remove();
this._conn=null;
}
if(this.iframe){
_c08.push(this.iframe);
delete this.iframe;
}
}});
return _c04.BackgroundIframe;
});
},"dijit/layout/TabController":function(){
define(["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/has","dojo/i18n","dojo/_base/lang","./StackController","../registry","../Menu","../MenuItem","dojo/text!./templates/_TabButton.html","dojo/i18n!../nls/common"],function(_c0d,dom,_c0e,_c0f,has,i18n,lang,_c10,_c11,Menu,_c12,_c13){
var _c14=_c0d("dijit.layout._TabButton"+(has("dojo-bidi")?"_NoBidi":""),_c10.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:_c13,_setNameAttr:"focusNode",scrollOnFocus:false,buildRendering:function(){
this.inherited(arguments);
dom.setSelectable(this.containerNode,false);
},startup:function(){
this.inherited(arguments);
var n=this.domNode;
this.defer(function(){
n.className=n.className;
},1);
},_setCloseButtonAttr:function(disp){
this._set("closeButton",disp);
_c0f.toggle(this.domNode,"dijitClosable",disp);
this.closeNode.style.display=disp?"":"none";
if(disp){
var _c15=i18n.getLocalization("dijit","common");
if(this.closeNode){
_c0e.set(this.closeNode,"title",_c15.itemClose);
}
}
},_setDisabledAttr:function(_c16){
this.inherited(arguments);
if(this.closeNode){
if(_c16){
_c0e.remove(this.closeNode,"title");
}else{
var _c17=i18n.getLocalization("dijit","common");
_c0e.set(this.closeNode,"title",_c17.itemClose);
}
}
},_setLabelAttr:function(_c18){
this.inherited(arguments);
if(!this.showLabel&&!this.params.title){
this.iconNode.alt=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");
}
}});
if(has("dojo-bidi")){
_c14=_c0d("dijit.layout._TabButton",_c14,{_setLabelAttr:function(_c19){
this.inherited(arguments);
this.applyTextDir(this.iconNode,this.iconNode.alt);
}});
}
var _c1a=_c0d("dijit.layout.TabController",_c10,{baseClass:"dijitTabController",templateString:"<div role='tablist' data-dojo-attach-event='onkeydown:onkeydown'></div>",tabPosition:"top",buttonWidget:_c14,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){
this.inherited(arguments);
var _c1b=new Menu({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(node){
return _c0f.contains(node,"dijitClosable")&&!_c0f.contains(node,"dijitTabDisabled");
}});
this.own(_c1b);
var _c1c=i18n.getLocalization("dijit","common"),_c1d=this;
_c1b.addChild(new _c12({label:_c1c.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(evt){
var _c1e=_c11.byNode(this.getParent().currentTarget);
_c1d.onCloseButtonClick(_c1e.page);
}}));
}});
_c1a.TabButton=_c14;
return _c1a;
});
},"dijit/_MenuBase":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./registry","./_Widget","./_CssStateMixin","./_KeyNavContainer","./_TemplatedMixin"],function(_c1f,_c20,dom,_c21,_c22,lang,_c23,on,_c24,_c25,_c26,_c27,_c28,_c29,_c2a){
return _c20("dijit._MenuBase",[_c27,_c2a,_c29,_c28],{selected:null,_setSelectedAttr:function(item){
if(this.selected!=item){
if(this.selected){
this.selected._setSelected(false);
this._onChildDeselect(this.selected);
}
if(item){
item._setSelected(true);
}
this._set("selected",item);
}
},activated:false,_setActivatedAttr:function(val){
_c22.toggle(this.domNode,"dijitMenuActive",val);
_c22.toggle(this.domNode,"dijitMenuPassive",!val);
this._set("activated",val);
},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:false,childSelector:function(node){
var _c2b=_c26.byNode(node);
return node.parentNode==this.containerNode&&_c2b&&_c2b.focus;
},postCreate:function(){
var self=this,_c2c=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");
this.own(on(this.containerNode,on.selector(_c2c,_c23.enter),function(){
self.onItemHover(_c26.byNode(this));
}),on(this.containerNode,on.selector(_c2c,_c23.leave),function(){
self.onItemUnhover(_c26.byNode(this));
}),on(this.containerNode,on.selector(_c2c,_c25),function(evt){
self.onItemClick(_c26.byNode(this),evt);
evt.stopPropagation();
evt.preventDefault();
}));
this.inherited(arguments);
},onKeyboardSearch:function(item,evt,_c2d,_c2e){
this.inherited(arguments);
if(!!item&&(_c2e==-1||(!!item.popup&&_c2e==1))){
this.onItemClick(item,evt);
}
},_keyboardSearchCompare:function(item,_c2f){
if(!!item.shortcutKey){
return _c2f==item.shortcutKey.toLowerCase()?-1:0;
}
return this.inherited(arguments)?1:0;
},onExecute:function(){
},onCancel:function(){
},_moveToPopup:function(evt){
if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){
this.onItemClick(this.focusedChild,evt);
}else{
var _c30=this._getTopMenu();
if(_c30&&_c30._isMenuBar){
_c30.focusNext();
}
}
},_onPopupHover:function(){
this.set("selected",this.currentPopupItem);
this._stopPendingCloseTimer();
},onItemHover:function(item){
if(this.activated){
this.set("selected",item);
if(item.popup&&!item.disabled&&!this.hover_timer){
this.hover_timer=this.defer(function(){
this._openItemPopup(item);
},this.popupDelay);
}
}else{
if(this.passivePopupDelay<Infinity){
if(this.passive_hover_timer){
this.passive_hover_timer.remove();
}
this.passive_hover_timer=this.defer(function(){
this.onItemClick(item,{type:"click"});
},this.passivePopupDelay);
}
}
this._hoveredChild=item;
item._set("hovering",true);
},_onChildDeselect:function(item){
this._stopPopupTimer();
if(this.currentPopupItem==item){
this._stopPendingCloseTimer();
this._pendingClose_timer=this.defer(function(){
this._pendingClose_timer=null;
this.currentPopupItem=null;
item._closePopup();
},this.popupDelay);
}
},onItemUnhover:function(item){
if(this._hoveredChild==item){
this._hoveredChild=null;
}
if(this.passive_hover_timer){
this.passive_hover_timer.remove();
this.passive_hover_timer=null;
}
item._set("hovering",false);
},_stopPopupTimer:function(){
if(this.hover_timer){
this.hover_timer=this.hover_timer.remove();
}
},_stopPendingCloseTimer:function(){
if(this._pendingClose_timer){
this._pendingClose_timer=this._pendingClose_timer.remove();
}
},_getTopMenu:function(){
for(var top=this;top.parentMenu;top=top.parentMenu){
}
return top;
},onItemClick:function(item,evt){
if(this.passive_hover_timer){
this.passive_hover_timer.remove();
}
this.focusChild(item);
if(item.disabled){
return false;
}
if(item.popup){
this.set("selected",item);
this.set("activated",true);
var _c31=/^key/.test(evt._origType||evt.type)||(evt.clientX==0&&evt.clientY==0);
this._openItemPopup(item,_c31);
}else{
this.onExecute();
item._onClick?item._onClick(evt):item.onClick(evt);
}
},_openItemPopup:function(_c32,_c33){
if(_c32==this.currentPopupItem){
return;
}
if(this.currentPopupItem){
this._stopPendingCloseTimer();
this.currentPopupItem._closePopup();
}
this._stopPopupTimer();
var _c34=_c32.popup;
_c34.parentMenu=this;
this.own(this._mouseoverHandle=on.once(_c34.domNode,"mouseover",lang.hitch(this,"_onPopupHover")));
var self=this;
_c32._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){
if(_c33){
self.focusChild(_c32);
}
self._cleanUp();
},onExecute:lang.hitch(this,"_cleanUp",true),onClose:function(){
if(self._mouseoverHandle){
self._mouseoverHandle.remove();
delete self._mouseoverHandle;
}
}},_c33);
this.currentPopupItem=_c32;
},onOpen:function(){
this.isShowingNow=true;
this.set("activated",true);
},onClose:function(){
this.set("activated",false);
this.set("selected",null);
this.isShowingNow=false;
this.parentMenu=null;
},_closeChild:function(){
this._stopPopupTimer();
if(this.currentPopupItem){
if(this.focused){
_c21.set(this.selected.focusNode,"tabIndex",this.tabIndex);
this.selected.focusNode.focus();
}
this.currentPopupItem._closePopup();
this.currentPopupItem=null;
}
},_onItemFocus:function(item){
if(this._hoveredChild&&this._hoveredChild!=item){
this.onItemUnhover(this._hoveredChild);
}
this.set("selected",item);
},_onBlur:function(){
this._cleanUp(true);
this.inherited(arguments);
},_cleanUp:function(_c35){
this._closeChild();
if(typeof this.isShowingNow=="undefined"){
this.set("activated",false);
}
if(_c35){
this.set("selected",null);
}
}});
});
},"dijit/_editor/_Plugin":function(){
define(["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","../Destroyable","../form/Button"],function(_c36,_c37,lang,_c38,_c39){
var _c3a=_c37("dijit._editor._Plugin",_c38,{constructor:function(args){
this.params=args||{};
lang.mixin(this,this.params);
this._attrPairNames={};
},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,command:"",useDefaultCommand:true,buttonClass:_c39,disabled:false,getLabel:function(key){
return this.editor.commands[key];
},_initButton:function(){
if(this.command.length){
var _c3b=this.getLabel(this.command),_c3c=this.editor,_c3d=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);
if(!this.button){
var _c3e=lang.mixin({label:_c3b,ownerDocument:_c3c.ownerDocument,dir:_c3c.dir,lang:_c3c.lang,showLabel:false,iconClass:_c3d,dropDown:this.dropDown,tabIndex:"-1"},this.params||{});
this.button=new this.buttonClass(_c3e);
}
}
if(this.get("disabled")&&this.button){
this.button.set("disabled",this.get("disabled"));
}
},destroy:function(){
if(this.dropDown){
this.dropDown.destroyRecursive();
}
this.inherited(arguments);
},connect:function(o,f,tf){
this.own(_c36.connect(o,f,this,tf));
},updateState:function(){
var e=this.editor,c=this.command,_c3f,_c40;
if(!e||!e.isLoaded||!c.length){
return;
}
var _c41=this.get("disabled");
if(this.button){
try{
_c40=!_c41&&e.queryCommandEnabled(c);
if(this.enabled!==_c40){
this.enabled=_c40;
this.button.set("disabled",!_c40);
}
if(_c40){
if(typeof this.button.checked=="boolean"){
_c3f=e.queryCommandState(c);
if(this.checked!==_c3f){
this.checked=_c3f;
this.button.set("checked",e.queryCommandState(c));
}
}
}
}
catch(e){
}
}
},setEditor:function(_c42){
this.editor=_c42;
this._initButton();
if(this.button&&this.useDefaultCommand){
if(this.editor.queryCommandAvailable(this.command)){
this.own(this.button.on("click",lang.hitch(this.editor,"execCommand",this.command,this.commandArg)));
}else{
this.button.domNode.style.display="none";
}
}
this.own(this.editor.on("NormalizedDisplayChanged",lang.hitch(this,"updateState")));
},setToolbar:function(_c43){
if(this.button){
_c43.addChild(this.button);
}
},set:function(name,_c44){
if(typeof name==="object"){
for(var x in name){
this.set(x,name[x]);
}
return this;
}
var _c45=this._getAttrNames(name);
if(this[_c45.s]){
var _c46=this[_c45.s].apply(this,Array.prototype.slice.call(arguments,1));
}else{
this._set(name,_c44);
}
return _c46||this;
},get:function(name){
var _c47=this._getAttrNames(name);
return this[_c47.g]?this[_c47.g]():this[name];
},_setDisabledAttr:function(_c48){
this._set("disabled",_c48);
this.updateState();
},_getAttrNames:function(name){
var apn=this._attrPairNames;
if(apn[name]){
return apn[name];
}
var uc=name.charAt(0).toUpperCase()+name.substr(1);
return (apn[name]={s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});
},_set:function(name,_c49){
this[name]=_c49;
}});
_c3a.registry={};
return _c3a;
});
},"dijit/layout/ScrollingTabController":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/_base/lang","dojo/on","dojo/query","dojo/sniff","../registry","dojo/text!./templates/ScrollingTabController.html","dojo/text!./templates/_ScrollingTabControllerButton.html","./TabController","./utils","../_WidgetsInTemplateMixin","../Menu","../MenuItem","../form/Button","../_HasDropDown","dojo/NodeList-dom","../a11yclick"],function(_c4a,_c4b,_c4c,_c4d,_c4e,fx,lang,on,_c4f,has,_c50,_c51,_c52,_c53,_c54,_c55,Menu,_c56,_c57,_c58){
var _c59=_c4b("dijit.layout.ScrollingTabController",[_c53,_c55],{baseClass:"dijitTabController dijitScrollingTabController",templateString:_c51,useMenu:true,useSlider:true,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){
this.inherited(arguments);
var n=this.domNode;
this.scrollNode=this.tablistWrapper;
this._initButtons();
if(!this.tabStripClass){
this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None";
_c4c.add(n,"tabStrip-disabled");
}
_c4c.add(this.tablistWrapper,this.tabStripClass);
},onStartup:function(){
this.inherited(arguments);
_c4e.set(this.domNode,"visibility","");
this._postStartup=true;
this.own(on(this.containerNode,"attrmodified-label, attrmodified-iconclass",lang.hitch(this,function(evt){
if(this._dim){
this.resize(this._dim);
}
})));
},onAddChild:function(page,_c5a){
this.inherited(arguments);
_c4e.set(this.containerNode,"width",(_c4e.get(this.containerNode,"width")+200)+"px");
},onRemoveChild:function(page,_c5b){
var _c5c=this.pane2button(page.id);
if(this._selectedTab===_c5c.domNode){
this._selectedTab=null;
}
this.inherited(arguments);
},_initButtons:function(){
this._btnWidth=0;
this._buttons=_c4f("> .tabStripButton",this.domNode).filter(function(btn){
if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){
this._btnWidth+=_c4d.getMarginSize(btn).w;
return true;
}else{
_c4e.set(btn,"display","none");
return false;
}
},this);
},_getTabsWidth:function(){
var _c5d=this.getChildren();
if(_c5d.length){
var _c5e=_c5d[this.isLeftToRight()?0:_c5d.length-1].domNode,_c5f=_c5d[this.isLeftToRight()?_c5d.length-1:0].domNode;
return _c5f.offsetLeft+_c5f.offsetWidth-_c5e.offsetLeft;
}else{
return 0;
}
},_enableBtn:function(_c60){
var _c61=this._getTabsWidth();
_c60=_c60||_c4e.get(this.scrollNode,"width");
return _c61>0&&_c60<_c61;
},resize:function(dim){
this._dim=dim;
this.scrollNode.style.height="auto";
var cb=this._contentBox=_c54.marginBox2contentBox(this.domNode,{h:0,w:dim.w});
cb.h=this.scrollNode.offsetHeight;
_c4d.setContentSize(this.domNode,cb);
var _c62=this._enableBtn(this._contentBox.w);
this._buttons.style("display",_c62?"":"none");
this._leftBtn.region="left";
this._rightBtn.region="right";
this._menuBtn.region=this.isLeftToRight()?"right":"left";
_c54.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);
if(this._selectedTab){
if(this._anim&&this._anim.status()=="playing"){
this._anim.stop();
}
this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab());
}
this._setButtonClass(this._getScroll());
this._postResize=true;
return {h:this._contentBox.h,w:dim.w};
},_getScroll:function(){
return (this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit"))?this.scrollNode.scrollLeft:_c4e.get(this.containerNode,"width")-_c4e.get(this.scrollNode,"width")+(has("ie")>=8?-1:1)*this.scrollNode.scrollLeft;
},_convertToScrollLeft:function(val){
if(this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit")){
return val;
}else{
var _c63=_c4e.get(this.containerNode,"width")-_c4e.get(this.scrollNode,"width");
return (has("ie")>=8?-1:1)*(val-_c63);
}
},onSelectChild:function(page){
var tab=this.pane2button(page.id);
if(!tab){
return;
}
var node=tab.domNode;
if(node!=this._selectedTab){
this._selectedTab=node;
if(this._postResize){
var sl=this._getScroll();
if(sl>node.offsetLeft||sl+_c4e.get(this.scrollNode,"width")<node.offsetLeft+_c4e.get(node,"width")){
this.createSmoothScroll().play();
}
}
}
this.inherited(arguments);
},_getScrollBounds:function(){
var _c64=this.getChildren(),_c65=_c4e.get(this.scrollNode,"width"),_c66=_c4e.get(this.containerNode,"width"),_c67=_c66-_c65,_c68=this._getTabsWidth();
if(_c64.length&&_c68>_c65){
return {min:this.isLeftToRight()?0:_c64[_c64.length-1].domNode.offsetLeft,max:this.isLeftToRight()?(_c64[_c64.length-1].domNode.offsetLeft+_c64[_c64.length-1].domNode.offsetWidth)-_c65:_c67};
}else{
var _c69=this.isLeftToRight()?0:_c67;
return {min:_c69,max:_c69};
}
},_getScrollForSelectedTab:function(){
var w=this.scrollNode,n=this._selectedTab,_c6a=_c4e.get(this.scrollNode,"width"),_c6b=this._getScrollBounds();
var pos=(n.offsetLeft+_c4e.get(n,"width")/2)-_c6a/2;
pos=Math.min(Math.max(pos,_c6b.min),_c6b.max);
return pos;
},createSmoothScroll:function(x){
if(arguments.length>0){
var _c6c=this._getScrollBounds();
x=Math.min(Math.max(x,_c6c.min),_c6c.max);
}else{
x=this._getScrollForSelectedTab();
}
if(this._anim&&this._anim.status()=="playing"){
this._anim.stop();
}
var self=this,w=this.scrollNode,anim=new fx.Animation({beforeBegin:function(){
if(this.curve){
delete this.curve;
}
var oldS=w.scrollLeft,newS=self._convertToScrollLeft(x);
anim.curve=new fx._Line(oldS,newS);
},onAnimate:function(val){
w.scrollLeft=val;
}});
this._anim=anim;
this._setButtonClass(x);
return anim;
},_getBtnNode:function(e){
var n=e.target;
while(n&&!_c4c.contains(n,"tabStripButton")){
n=n.parentNode;
}
return n;
},doSlideRight:function(e){
this.doSlide(1,this._getBtnNode(e));
},doSlideLeft:function(e){
this.doSlide(-1,this._getBtnNode(e));
},doSlide:function(_c6d,node){
if(node&&_c4c.contains(node,"dijitTabDisabled")){
return;
}
var _c6e=_c4e.get(this.scrollNode,"width");
var d=(_c6e*0.75)*_c6d;
var to=this._getScroll()+d;
this._setButtonClass(to);
this.createSmoothScroll(to).play();
},_setButtonClass:function(_c6f){
var _c70=this._getScrollBounds();
this._leftBtn.set("disabled",_c6f<=_c70.min);
this._rightBtn.set("disabled",_c6f>=_c70.max);
}});
var _c71=_c4b("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:_c52,tabIndex:"",isFocusable:function(){
return false;
}});
_c4b("dijit.layout._ScrollingTabControllerButton",[_c57,_c71]);
_c4b("dijit.layout._ScrollingTabControllerMenuButton",[_c57,_c58,_c71],{containerId:"",tabIndex:"-1",isLoaded:function(){
return false;
},loadDropDown:function(_c72){
this.dropDown=new Menu({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});
var _c73=_c50.byId(this.containerId);
_c4a.forEach(_c73.getChildren(),function(page){
var _c74=new _c56({id:page.id+"_stcMi",label:page.title,iconClass:page.iconClass,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir||_c73.textDir,onClick:function(){
_c73.selectChild(page);
}});
this.dropDown.addChild(_c74);
},this);
_c72();
},closeDropDown:function(_c75){
this.inherited(arguments);
if(this.dropDown){
this._popupStateNode.removeAttribute("aria-owns");
this.dropDown.destroyRecursive();
delete this.dropDown;
}
}});
return _c59;
});
},"dojox/color":function(){
define(["./color/_base"],function(_c76){
return _c76;
});
},"dijit/form/_ListMouseMixin":function(){
define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(_c77,on,_c78,_c79){
return _c77("dijit.form._ListMouseMixin",_c79,{postCreate:function(){
this.inherited(arguments);
this.domNode.dojoClick=true;
this.own(on(this.domNode,"mousedown",function(evt){
evt.preventDefault();
}));
this._listConnect("click","_onClick");
this._listConnect("mousedown","_onMouseDown");
this._listConnect("mouseup","_onMouseUp");
this._listConnect("mouseover","_onMouseOver");
this._listConnect("mouseout","_onMouseOut");
},_onClick:function(evt,_c7a){
this._setSelectedAttr(_c7a);
if(this._deferredClick){
this._deferredClick.remove();
}
this._deferredClick=this.defer(function(){
this._deferredClick=null;
this.onClick(_c7a);
});
},_onMouseDown:function(evt,_c7b){
if(this._hoveredNode){
this.onUnhover(this._hoveredNode);
this._hoveredNode=null;
}
this._isDragging=true;
this._setSelectedAttr(_c7b);
},_onMouseUp:function(evt,_c7c){
this._isDragging=false;
var _c7d=this.selected;
var _c7e=this._hoveredNode;
if(_c7d&&_c7c==_c7d){
this.defer(function(){
this._onClick(evt,_c7d);
});
}else{
if(_c7e){
this.defer(function(){
this._onClick(evt,_c7e);
});
}
}
},_onMouseOut:function(evt,_c7f){
if(this._hoveredNode){
this.onUnhover(this._hoveredNode);
this._hoveredNode=null;
}
if(this._isDragging){
this._cancelDrag=(new Date()).getTime()+1000;
}
},_onMouseOver:function(evt,_c80){
if(this._cancelDrag){
var time=(new Date()).getTime();
if(time>this._cancelDrag){
this._isDragging=false;
}
this._cancelDrag=null;
}
this._hoveredNode=_c80;
this.onHover(_c80);
if(this._isDragging){
this._setSelectedAttr(_c80);
}
}});
});
},"dojox/validate/_base":function(){
define(["dojo/_base/lang","dojo/regexp","dojo/number","./regexp"],function(lang,_c81,_c82,_c83){
var _c84=lang.getObject("dojox.validate",true);
_c84.isText=function(_c85,_c86){
_c86=(typeof _c86=="object")?_c86:{};
if(/^\s*$/.test(_c85)){
return false;
}
if(typeof _c86.length=="number"&&_c86.length!=_c85.length){
return false;
}
if(typeof _c86.minlength=="number"&&_c86.minlength>_c85.length){
return false;
}
if(typeof _c86.maxlength=="number"&&_c86.maxlength<_c85.length){
return false;
}
return true;
};
_c84._isInRangeCache={};
_c84.isInRange=function(_c87,_c88){
_c87=_c82.parse(_c87,_c88);
if(isNaN(_c87)){
return false;
}
_c88=(typeof _c88=="object")?_c88:{};
var max=(typeof _c88.max=="number")?_c88.max:Infinity,min=(typeof _c88.min=="number")?_c88.min:-Infinity,dec=(typeof _c88.decimal=="string")?_c88.decimal:".",_c89=_c84._isInRangeCache,_c8a=_c87+"max"+max+"min"+min+"dec"+dec;
if(typeof _c89[_c8a]!="undefined"){
return _c89[_c8a];
}
_c89[_c8a]=!(_c87<min||_c87>max);
return _c89[_c8a];
};
_c84.isNumberFormat=function(_c8b,_c8c){
var re=new RegExp("^"+_c83.numberFormat(_c8c)+"$","i");
return re.test(_c8b);
};
_c84.isValidLuhn=function(_c8d){
var sum=0,_c8e,_c8f;
if(!lang.isString(_c8d)){
_c8d=String(_c8d);
}
_c8d=_c8d.replace(/[- ]/g,"");
_c8e=_c8d.length%2;
for(var i=0;i<_c8d.length;i++){
_c8f=parseInt(_c8d.charAt(i));
if(i%2==_c8e){
_c8f*=2;
}
if(_c8f>9){
_c8f-=9;
}
sum+=_c8f;
}
return !(sum%10);
};
return _c84;
});
},"manager/Window":function(){
define("manager/Window",["dojo/_base/declare","dojo/_base/lang","dojo/on","dojo/topic","manager/Dialog","manager/DialogSimple"],function(_c90,lang,on,_c91,_c92,_c93){
return _c90("Manager.Window",null,{id:"",title:"",href:"",parent:null,form:"",template:"",element:"",dialog:null,scripts:null,constructor:function(id){
this.obj=this;
this.id=id;
this.dialog=new _c92({id:id});
on(this.dialog,"load",lang.hitch(this.dialog,function(){
this.enableDrag();
this._position();
}));
},setTitle:function(_c94){
this.title=_c94;
},setHref:function(href){
this.href=href;
},push:function(){
this.obj.template=manager.page.template;
this.obj.element=manager.page.element;
manager.pushWindow(this.obj);
},open:function(){
this.obj.push();
manager.page.get(this.obj.href,this.obj.id);
this.dialog.show();
_c91.publish("windowActionOpen",this.obj.id);
},show:function(){
this.dialog.show();
},hide:function(){
this.dialog.hide();
},setContent:function(_c95){
this.dialog.set("content",_c95);
},showContent:function(_c96){
this.obj.push();
this.dialog.set("content",_c96);
this.dialog.show();
},close:function(){
this.dialog.hide();
_c91.publish("windowActionClose",this.obj.id);
this.dialog.destroyDescendants();
this.obj.pop();
},pop:function(){
manager.page.template=this.obj.template;
manager.page.element=this.obj.element;
manager.popWindow();
}});
});
},"dijit/tree/_dndSelector":function(){
define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/dom","dojo/mouse","dojo/on","dojo/touch","../a11yclick","./_dndContainer"],function(_c97,_c98,_c99,_c9a,lang,dom,_c9b,on,_c9c,_c9d,_c9e){
return _c99("dijit.tree._dndSelector",_c9e,{constructor:function(){
this.selection={};
this.anchor=null;
this.events.push(on(this.tree.domNode,_c9c.press,lang.hitch(this,"onMouseDown")),on(this.tree.domNode,_c9c.release,lang.hitch(this,"onMouseUp")),on(this.tree.domNode,_c9c.move,lang.hitch(this,"onMouseMove")),on(this.tree.domNode,_c9d.press,lang.hitch(this,"onClickPress")),on(this.tree.domNode,_c9d.release,lang.hitch(this,"onClickRelease")));
},singular:false,getSelectedTreeNodes:function(){
var _c9f=[],sel=this.selection;
for(var i in sel){
_c9f.push(sel[i]);
}
return _c9f;
},selectNone:function(){
this.setSelection([]);
return this;
},destroy:function(){
this.inherited(arguments);
this.selection=this.anchor=null;
},addTreeNode:function(node,_ca0){
this.setSelection(this.getSelectedTreeNodes().concat([node]));
if(_ca0){
this.anchor=node;
}
return node;
},removeTreeNode:function(node){
var _ca1=_c97.filter(this.getSelectedTreeNodes(),function(_ca2){
return !dom.isDescendant(_ca2.domNode,node.domNode);
});
this.setSelection(_ca1);
return node;
},isTreeNodeSelected:function(node){
return node.id&&!!this.selection[node.id];
},setSelection:function(_ca3){
var _ca4=this.getSelectedTreeNodes();
_c97.forEach(this._setDifference(_ca4,_ca3),lang.hitch(this,function(node){
node.setSelected(false);
if(this.anchor==node){
delete this.anchor;
}
delete this.selection[node.id];
}));
_c97.forEach(this._setDifference(_ca3,_ca4),lang.hitch(this,function(node){
node.setSelected(true);
this.selection[node.id]=node;
}));
this._updateSelectionProperties();
},_setDifference:function(xs,ys){
_c97.forEach(ys,function(y){
y.__exclude__=true;
});
var ret=_c97.filter(xs,function(x){
return !x.__exclude__;
});
_c97.forEach(ys,function(y){
delete y["__exclude__"];
});
return ret;
},_updateSelectionProperties:function(){
var _ca5=this.getSelectedTreeNodes();
var _ca6=[],_ca7=[],_ca8=[];
_c97.forEach(_ca5,function(node){
var ary=node.getTreePath(),_ca9=this.tree.model;
_ca7.push(node);
_ca6.push(ary);
ary=_c97.map(ary,function(item){
return _ca9.getIdentity(item);
},this);
_ca8.push(ary.join("/"));
},this);
var _caa=_c97.map(_ca7,function(node){
return node.item;
});
this.tree._set("paths",_ca6);
this.tree._set("path",_ca6[0]||[]);
this.tree._set("selectedNodes",_ca7);
this.tree._set("selectedNode",_ca7[0]||null);
this.tree._set("selectedItems",_caa);
this.tree._set("selectedItem",_caa[0]||null);
},onClickPress:function(e){
if(this.current&&this.current.isExpandable&&this.tree.isExpandoNode(e.target,this.current)){
return;
}
if(_c9b.isLeft(e)){
e.preventDefault();
}
var _cab=e.type=="keydown"?this.tree.focusedChild:this.current;
if(!_cab){
return;
}
var copy=_c98.isCopyKey(e),id=_cab.id;
if(!this.singular&&!e.shiftKey&&this.selection[id]){
this._doDeselect=true;
return;
}else{
this._doDeselect=false;
}
this.userSelect(_cab,copy,e.shiftKey);
},onClickRelease:function(e){
if(!this._doDeselect){
return;
}
this._doDeselect=false;
this.userSelect(e.type=="keyup"?this.tree.focusedChild:this.current,_c98.isCopyKey(e),e.shiftKey);
},onMouseMove:function(){
this._doDeselect=false;
},onMouseDown:function(){
},onMouseUp:function(){
},_compareNodes:function(n1,n2){
if(n1===n2){
return 0;
}
if("sourceIndex" in document.documentElement){
return n1.sourceIndex-n2.sourceIndex;
}else{
if("compareDocumentPosition" in document.documentElement){
return n1.compareDocumentPosition(n2)&2?1:-1;
}else{
if(document.createRange){
var r1=doc.createRange();
r1.setStartBefore(n1);
var r2=doc.createRange();
r2.setStartBefore(n2);
return r1.compareBoundaryPoints(r1.END_TO_END,r2);
}else{
throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");
}
}
}
},userSelect:function(node,_cac,_cad){
if(this.singular){
if(this.anchor==node&&_cac){
this.selectNone();
}else{
this.setSelection([node]);
this.anchor=node;
}
}else{
if(_cad&&this.anchor){
var cr=this._compareNodes(this.anchor.rowNode,node.rowNode),_cae,end,_caf=this.anchor;
if(cr<0){
_cae=_caf;
end=node;
}else{
_cae=node;
end=_caf;
}
var _cb0=[];
while(_cae!=end){
_cb0.push(_cae);
_cae=this.tree._getNext(_cae);
}
_cb0.push(end);
this.setSelection(_cb0);
}else{
if(this.selection[node.id]&&_cac){
this.removeTreeNode(node);
}else{
if(_cac){
this.addTreeNode(node,true);
}else{
this.setSelection([node]);
this.anchor=node;
}
}
}
}
},getItem:function(key){
var _cb1=this.selection[key];
return {data:_cb1,type:["treeNode"]};
},forInSelectedItems:function(f,o){
o=o||_c9a.global;
for(var id in this.selection){
f.call(o,this.getItem(id),id,this);
}
}});
});
},"dojo/cldr/monetary":function(){
define(["../_base/kernel","../_base/lang"],function(dojo,lang){
var _cb2={};
lang.setObject("dojo.cldr.monetary",_cb2);
_cb2.getData=function(code){
var _cb3={ADP:0,AFN:0,ALL:0,AMD:0,BHD:3,BIF:0,BYR:0,CLF:0,CLP:0,COP:0,CRC:0,DJF:0,ESP:0,GNF:0,GYD:0,HUF:0,IDR:0,IQD:0,IRR:3,ISK:0,ITL:0,JOD:3,JPY:0,KMF:0,KPW:0,KRW:0,KWD:3,LAK:0,LBP:0,LUF:0,LYD:3,MGA:0,MGF:0,MMK:0,MNT:0,MRO:0,MUR:0,OMR:3,PKR:0,PYG:0,RSD:0,RWF:0,SLL:0,SOS:0,STD:0,SYP:0,TMM:0,TND:3,TRL:0,TZS:0,UGX:0,UZS:0,VND:0,VUV:0,XAF:0,XOF:0,XPF:0,YER:0,ZMK:0,ZWD:0};
var _cb4={};
var _cb5=_cb3[code],_cb6=_cb4[code];
if(typeof _cb5=="undefined"){
_cb5=2;
}
if(typeof _cb6=="undefined"){
_cb6=0;
}
return {places:_cb5,round:_cb6};
};
return _cb2;
});
},"dijit/_OnDijitClickMixin":function(){
define(["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(on,_cb7,keys,_cb8,has,_cb9){
var ret=_cb8("dijit._OnDijitClickMixin",null,{connect:function(obj,_cba,_cbb){
return this.inherited(arguments,[obj,_cba=="ondijitclick"?_cb9:_cba,_cbb]);
}});
ret.a11yclick=_cb9;
return ret;
});
},"dijit/layout/StackController":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","../focus","../registry","../_Widget","../_TemplatedMixin","../_Container","../form/ToggleButton","dojo/touch","dojo/i18n!../nls/common"],function(_cbc,_cbd,_cbe,_cbf,keys,lang,on,_cc0,_cc1,_cc2,_cc3,_cc4,_cc5,_cc6){
var _cc7=_cbd("dijit.layout._StackButton",_cc6,{tabIndex:"-1",closeButton:false,_aria_attr:"aria-selected",buildRendering:function(evt){
this.inherited(arguments);
(this.focusNode||this.domNode).setAttribute("role","tab");
}});
var _cc8=_cbd("dijit.layout.StackController",[_cc3,_cc4,_cc5],{baseClass:"dijitStackController",templateString:"<span role='tablist' data-dojo-attach-event='onkeydown'></span>",containerId:"",buttonWidget:_cc7,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(id){
return _cc2.byId(this.id+"_"+id);
},postCreate:function(){
this.inherited(arguments);
this.own(_cc0.subscribe(this.containerId+"-startup",lang.hitch(this,"onStartup")),_cc0.subscribe(this.containerId+"-addChild",lang.hitch(this,"onAddChild")),_cc0.subscribe(this.containerId+"-removeChild",lang.hitch(this,"onRemoveChild")),_cc0.subscribe(this.containerId+"-selectChild",lang.hitch(this,"onSelectChild")),_cc0.subscribe(this.containerId+"-containerKeyDown",lang.hitch(this,"onContainerKeyDown")));
this.containerNode.dojoClick=true;
this.own(on(this.containerNode,"click",lang.hitch(this,function(evt){
var _cc9=_cc2.getEnclosingWidget(evt.target);
if(_cc9!=this.containerNode&&!_cc9.disabled&&_cc9.page){
for(var _cca=evt.target;_cca!==this.containerNode;_cca=_cca.parentNode){
if(_cbe.contains(_cca,this.buttonWidgetCloseClass)){
this.onCloseButtonClick(_cc9.page);
break;
}else{
if(_cca==_cc9.domNode){
this.onButtonClick(_cc9.page);
break;
}
}
}
}
})));
},onStartup:function(info){
this.textDir=info.textDir;
_cbc.forEach(info.children,this.onAddChild,this);
if(info.selected){
this.onSelectChild(info.selected);
}
var _ccb=_cc2.byId(this.containerId).containerNode,_ccc=lang.hitch(this,"pane2button"),_ccd={"title":"label","showtitle":"showLabel","iconclass":"iconClass","closable":"closeButton","tooltip":"title","disabled":"disabled","textdir":"textdir"},_cce=function(attr,_ccf){
return on(_ccb,"attrmodified-"+attr,function(evt){
var _cd0=_ccc(evt.detail&&evt.detail.widget&&evt.detail.widget.id);
if(_cd0){
_cd0.set(_ccf,evt.detail.newValue);
}
});
};
for(var attr in _ccd){
this.own(_cce(attr,_ccd[attr]));
}
},destroy:function(_cd1){
this.destroyDescendants(_cd1);
this.inherited(arguments);
},onAddChild:function(page,_cd2){
var Cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;
var _cd3=new Cls({id:this.id+"_"+page.id,name:this.id+"_"+page.id,label:page.title,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir||this.textDir,showLabel:page.showTitle,iconClass:page.iconClass,closeButton:page.closable,title:page.tooltip,page:page});
this.addChild(_cd3,_cd2);
page.controlButton=_cd3;
if(!this._currentChild){
this.onSelectChild(page);
}
var _cd4=page._wrapper.getAttribute("aria-labelledby")?page._wrapper.getAttribute("aria-labelledby")+" "+_cd3.id:_cd3.id;
page._wrapper.removeAttribute("aria-label");
page._wrapper.setAttribute("aria-labelledby",_cd4);
},onRemoveChild:function(page){
if(this._currentChild===page){
this._currentChild=null;
}
var _cd5=this.pane2button(page.id);
if(_cd5){
this.removeChild(_cd5);
_cd5.destroy();
}
delete page.controlButton;
},onSelectChild:function(page){
if(!page){
return;
}
if(this._currentChild){
var _cd6=this.pane2button(this._currentChild.id);
_cd6.set("checked",false);
_cd6.focusNode.setAttribute("tabIndex","-1");
}
var _cd7=this.pane2button(page.id);
_cd7.set("checked",true);
this._currentChild=page;
_cd7.focusNode.setAttribute("tabIndex","0");
var _cd8=_cc2.byId(this.containerId);
},onButtonClick:function(page){
var _cd9=this.pane2button(page.id);
_cc1.focus(_cd9.focusNode);
if(this._currentChild&&this._currentChild.id===page.id){
_cd9.set("checked",true);
}
var _cda=_cc2.byId(this.containerId);
_cda.selectChild(page);
},onCloseButtonClick:function(page){
var _cdb=_cc2.byId(this.containerId);
_cdb.closeChild(page);
if(this._currentChild){
var b=this.pane2button(this._currentChild.id);
if(b){
_cc1.focus(b.focusNode||b.domNode);
}
}
},adjacent:function(_cdc){
if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){
_cdc=!_cdc;
}
var _cdd=this.getChildren();
var idx=_cbc.indexOf(_cdd,this.pane2button(this._currentChild.id)),_cde=_cdd[idx];
var _cdf;
do{
idx=(idx+(_cdc?1:_cdd.length-1))%_cdd.length;
_cdf=_cdd[idx];
}while(_cdf.disabled&&_cdf!=_cde);
return _cdf;
},onkeydown:function(e,_ce0){
if(this.disabled||e.altKey){
return;
}
var _ce1=null;
if(e.ctrlKey||!e._djpage){
switch(e.keyCode){
case keys.LEFT_ARROW:
case keys.UP_ARROW:
if(!e._djpage){
_ce1=false;
}
break;
case keys.PAGE_UP:
if(e.ctrlKey){
_ce1=false;
}
break;
case keys.RIGHT_ARROW:
case keys.DOWN_ARROW:
if(!e._djpage){
_ce1=true;
}
break;
case keys.PAGE_DOWN:
if(e.ctrlKey){
_ce1=true;
}
break;
case keys.HOME:
var _ce2=this.getChildren();
for(var idx=0;idx<_ce2.length;idx++){
var _ce3=_ce2[idx];
if(!_ce3.disabled){
this.onButtonClick(_ce3.page);
break;
}
}
e.stopPropagation();
e.preventDefault();
break;
case keys.END:
var _ce2=this.getChildren();
for(var idx=_ce2.length-1;idx>=0;idx--){
var _ce3=_ce2[idx];
if(!_ce3.disabled){
this.onButtonClick(_ce3.page);
break;
}
}
e.stopPropagation();
e.preventDefault();
break;
case keys.DELETE:
case "W".charCodeAt(0):
if(this._currentChild.closable&&(e.keyCode==keys.DELETE||e.ctrlKey)){
this.onCloseButtonClick(this._currentChild);
e.stopPropagation();
e.preventDefault();
}
break;
case keys.TAB:
if(e.ctrlKey){
this.onButtonClick(this.adjacent(!e.shiftKey).page);
e.stopPropagation();
e.preventDefault();
}
break;
}
if(_ce1!==null){
this.onButtonClick(this.adjacent(_ce1).page);
e.stopPropagation();
e.preventDefault();
}
}
},onContainerKeyDown:function(info){
info.e._djpage=info.page;
this.onkeydown(info.e);
}});
_cc8.StackButton=_cc7;
return _cc8;
});
},"dojox/color/_base":function(){
define(["../main","dojo/_base/lang","dojo/_base/Color","dojo/colors"],function(_ce4,lang,_ce5,_ce6){
var cx=lang.getObject("color",true,_ce4);
cx.Color=_ce5;
cx.blend=_ce5.blendColors;
cx.fromRgb=_ce5.fromRgb;
cx.fromHex=_ce5.fromHex;
cx.fromArray=_ce5.fromArray;
cx.fromString=_ce5.fromString;
cx.greyscale=_ce6.makeGrey;
lang.mixin(cx,{fromCmy:function(cyan,_ce7,_ce8){
if(lang.isArray(cyan)){
_ce7=cyan[1],_ce8=cyan[2],cyan=cyan[0];
}else{
if(lang.isObject(cyan)){
_ce7=cyan.m,_ce8=cyan.y,cyan=cyan.c;
}
}
cyan/=100,_ce7/=100,_ce8/=100;
var r=1-cyan,g=1-_ce7,b=1-_ce8;
return new _ce5({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});
},fromCmyk:function(cyan,_ce9,_cea,_ceb){
if(lang.isArray(cyan)){
_ce9=cyan[1],_cea=cyan[2],_ceb=cyan[3],cyan=cyan[0];
}else{
if(lang.isObject(cyan)){
_ce9=cyan.m,_cea=cyan.y,_ceb=cyan.b,cyan=cyan.c;
}
}
cyan/=100,_ce9/=100,_cea/=100,_ceb/=100;
var r,g,b;
r=1-Math.min(1,cyan*(1-_ceb)+_ceb);
g=1-Math.min(1,_ce9*(1-_ceb)+_ceb);
b=1-Math.min(1,_cea*(1-_ceb)+_ceb);
return new _ce5({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});
},fromHsl:function(hue,_cec,_ced){
if(lang.isArray(hue)){
_cec=hue[1],_ced=hue[2],hue=hue[0];
}else{
if(lang.isObject(hue)){
_cec=hue.s,_ced=hue.l,hue=hue.h;
}
}
_cec/=100;
_ced/=100;
while(hue<0){
hue+=360;
}
while(hue>=360){
hue-=360;
}
var r,g,b;
if(hue<120){
r=(120-hue)/60,g=hue/60,b=0;
}else{
if(hue<240){
r=0,g=(240-hue)/60,b=(hue-120)/60;
}else{
r=(hue-240)/60,g=0,b=(360-hue)/60;
}
}
r=2*_cec*Math.min(r,1)+(1-_cec);
g=2*_cec*Math.min(g,1)+(1-_cec);
b=2*_cec*Math.min(b,1)+(1-_cec);
if(_ced<0.5){
r*=_ced,g*=_ced,b*=_ced;
}else{
r=(1-_ced)*r+2*_ced-1;
g=(1-_ced)*g+2*_ced-1;
b=(1-_ced)*b+2*_ced-1;
}
return new _ce5({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});
}});
cx.fromHsv=function(hue,_cee,_cef){
if(lang.isArray(hue)){
_cee=hue[1],_cef=hue[2],hue=hue[0];
}else{
if(lang.isObject(hue)){
_cee=hue.s,_cef=hue.v,hue=hue.h;
}
}
if(hue==360){
hue=0;
}
_cee/=100;
_cef/=100;
var r,g,b;
if(_cee==0){
r=_cef,b=_cef,g=_cef;
}else{
var _cf0=hue/60,i=Math.floor(_cf0),f=_cf0-i;
var p=_cef*(1-_cee);
var q=_cef*(1-(_cee*f));
var t=_cef*(1-(_cee*(1-f)));
switch(i){
case 0:
r=_cef,g=t,b=p;
break;
case 1:
r=q,g=_cef,b=p;
break;
case 2:
r=p,g=_cef,b=t;
break;
case 3:
r=p,g=q,b=_cef;
break;
case 4:
r=t,g=p,b=_cef;
break;
case 5:
r=_cef,g=p,b=q;
break;
}
}
return new _ce5({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});
};
lang.extend(_ce5,{toCmy:function(){
var cyan=1-(this.r/255),_cf1=1-(this.g/255),_cf2=1-(this.b/255);
return {c:Math.round(cyan*100),m:Math.round(_cf1*100),y:Math.round(_cf2*100)};
},toCmyk:function(){
var cyan,_cf3,_cf4,_cf5;
var r=this.r/255,g=this.g/255,b=this.b/255;
_cf5=Math.min(1-r,1-g,1-b);
cyan=(1-r-_cf5)/(1-_cf5);
_cf3=(1-g-_cf5)/(1-_cf5);
_cf4=(1-b-_cf5)/(1-_cf5);
return {c:Math.round(cyan*100),m:Math.round(_cf3*100),y:Math.round(_cf4*100),b:Math.round(_cf5*100)};
},toHsl:function(){
var r=this.r/255,g=this.g/255,b=this.b/255;
var min=Math.min(r,b,g),max=Math.max(r,g,b);
var _cf6=max-min;
var h=0,s=0,l=(min+max)/2;
if(l>0&&l<1){
s=_cf6/((l<0.5)?(2*l):(2-2*l));
}
if(_cf6>0){
if(max==r&&max!=g){
h+=(g-b)/_cf6;
}
if(max==g&&max!=b){
h+=(2+(b-r)/_cf6);
}
if(max==b&&max!=r){
h+=(4+(r-g)/_cf6);
}
h*=60;
}
return {h:h,s:Math.round(s*100),l:Math.round(l*100)};
},toHsv:function(){
var r=this.r/255,g=this.g/255,b=this.b/255;
var min=Math.min(r,b,g),max=Math.max(r,g,b);
var _cf7=max-min;
var h=null,s=(max==0)?0:(_cf7/max);
if(s==0){
h=0;
}else{
if(r==max){
h=60*(g-b)/_cf7;
}else{
if(g==max){
h=120+60*(b-r)/_cf7;
}else{
h=240+60*(r-g)/_cf7;
}
}
if(h<0){
h+=360;
}
}
return {h:h,s:Math.round(s*100),v:Math.round(max*100)};
}});
return cx;
});
},"dijit/form/DateTextBox":function(){
define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(_cf8,_cf9,_cfa){
return _cf8("dijit.form.DateTextBox",_cfa,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:_cf9,_selector:"date",maxHeight:Infinity,value:new Date("")});
});
},"dijit/form/_FormValueMixin":function(){
define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./_FormWidgetMixin"],function(_cfb,_cfc,keys,lang,on,has,_cfd){
return _cfb("dijit.form._FormValueMixin",_cfd,{readOnly:false,_setReadOnlyAttr:function(_cfe){
_cfc.set(this.focusNode,"readOnly",_cfe);
this._set("readOnly",_cfe);
},postCreate:function(){
this.inherited(arguments);
if(this._resetValue===undefined){
this._lastValueReported=this._resetValue=this.value;
}
},_setValueAttr:function(_cff,_d00){
this._handleOnChange(_cff,_d00);
},_handleOnChange:function(_d01,_d02){
this._set("value",_d01);
this.inherited(arguments);
},undo:function(){
this._setValueAttr(this._lastValueReported,false);
},reset:function(){
this._hasBeenBlurred=false;
this._setValueAttr(this._resetValue,true);
}});
});
},"manager/ValidationTextarea":function(){
require(["dojo/_base/declare","dojo/parser","dijit/form/Form","dijit/form/SimpleTextarea","dijit/form/ValidationTextBox"],function(_d03,_d04,form,_d05,_d06){
return _d03("Manager.ValidationTextarea",[_d06,_d05],{regExp:"(.|\\s)*",onBlur:function(){
if(!this.isValid()){
this.displayMessage(this.getErrorMessage());
}
}});
});
},"dojo/date/stamp":function(){
define(["../_base/lang","../_base/array"],function(lang,_d07){
var _d08={};
lang.setObject("dojo.date.stamp",_d08);
_d08.fromISOString=function(_d09,_d0a){
if(!_d08._isoRegExp){
_d08._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;
}
var _d0b=_d08._isoRegExp.exec(_d09),_d0c=null;
if(_d0b){
_d0b.shift();
if(_d0b[1]){
_d0b[1]--;
}
if(_d0b[6]){
_d0b[6]*=1000;
}
if(_d0a){
_d0a=new Date(_d0a);
_d07.forEach(_d07.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){
return _d0a["get"+prop]();
}),function(_d0d,_d0e){
_d0b[_d0e]=_d0b[_d0e]||_d0d;
});
}
_d0c=new Date(_d0b[0]||1970,_d0b[1]||0,_d0b[2]||1,_d0b[3]||0,_d0b[4]||0,_d0b[5]||0,_d0b[6]||0);
if(_d0b[0]<100){
_d0c.setFullYear(_d0b[0]||1970);
}
var _d0f=0,_d10=_d0b[7]&&_d0b[7].charAt(0);
if(_d10!="Z"){
_d0f=((_d0b[8]||0)*60)+(Number(_d0b[9])||0);
if(_d10!="-"){
_d0f*=-1;
}
}
if(_d10){
_d0f-=_d0c.getTimezoneOffset();
}
if(_d0f){
_d0c.setTime(_d0c.getTime()+_d0f*60000);
}
}
return _d0c;
};
_d08.toISOString=function(_d11,_d12){
var _d13=function(n){
return (n<10)?"0"+n:n;
};
_d12=_d12||{};
var _d14=[],_d15=_d12.zulu?"getUTC":"get",date="";
if(_d12.selector!="time"){
var year=_d11[_d15+"FullYear"]();
date=["0000".substr((year+"").length)+year,_d13(_d11[_d15+"Month"]()+1),_d13(_d11[_d15+"Date"]())].join("-");
}
_d14.push(date);
if(_d12.selector!="date"){
var time=[_d13(_d11[_d15+"Hours"]()),_d13(_d11[_d15+"Minutes"]()),_d13(_d11[_d15+"Seconds"]())].join(":");
var _d16=_d11[_d15+"Milliseconds"]();
if(_d12.milliseconds){
time+="."+(_d16<100?"0":"")+_d13(_d16);
}
if(_d12.zulu){
time+="Z";
}else{
if(_d12.selector!="time"){
var _d17=_d11.getTimezoneOffset();
var _d18=Math.abs(_d17);
time+=(_d17>0?"-":"+")+_d13(Math.floor(_d18/60))+":"+_d13(_d18%60);
}
}
_d14.push(time);
}
return _d14.join("T");
};
return _d08;
});
},"dijit/layout/AccordionPane":function(){
define(["dojo/_base/declare","dojo/_base/kernel","./ContentPane"],function(_d19,_d1a,_d1b){
return _d19("dijit.layout.AccordionPane",_d1b,{constructor:function(){
_d1a.deprecated("dijit.layout.AccordionPane deprecated, use ContentPane instead","","2.0");
},onSelected:function(){
}});
});
},"manager/DnD":function(){
define("manager/DnD",["dojo/_base/declare"],function(_d1c){
return _d1c("Manager.Dnd",[],{id:"",dropped:null,constructor:function(id){
this.id=id;
this.dropped=new Array();
},onDrop:function(_d1d,s,n,c){
var sid=s.node.id;
var obj=this;
dojo.forEach(n,function(e,i,a){
obj.dropped.push(e.id+"="+_d1d);
});
},onSubmit:function(){
var s="";
dojo.forEach(this.dropped,function(e,i,a){
s=s+((s=="")?"":"&")+e;
});
dojo.byId(this.id).value=s;
return true;
}});
});
},"dijit/form/_AutoCompleterMixin":function(){
define(["dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/sniff","./DataList","./_TextBoxMixin","./_SearchMixin"],function(_d1e,_d1f,_d20,keys,lang,_d21,_d22,has,_d23,_d24,_d25){
var _d26=_d1f("dijit.form._AutoCompleterMixin",_d25,{item:null,autoComplete:true,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_d27){
var pos=0;
if(typeof (_d27.selectionStart)=="number"){
pos=_d27.selectionStart;
}else{
if(has("ie")){
var tr=_d27.ownerDocument.selection.createRange().duplicate();
var ntr=_d27.createTextRange();
tr.move("character",0);
ntr.move("character",0);
try{
ntr.setEndPoint("EndToEnd",tr);
pos=String(ntr.text).replace(/\r/g,"").length;
}
catch(e){
}
}
}
return pos;
},_setCaretPos:function(_d28,_d29){
_d29=parseInt(_d29);
_d24.selectInputText(_d28,_d29,_d29);
},_setDisabledAttr:function(_d2a){
this.inherited(arguments);
this.domNode.setAttribute("aria-disabled",_d2a?"true":"false");
},_onKey:function(evt){
if(evt.charCode>=32){
return;
}
var key=evt.charCode||evt.keyCode;
if(key==keys.ALT||key==keys.CTRL||key==keys.META||key==keys.SHIFT){
return;
}
var pw=this.dropDown;
var _d2b=null;
this._abortQuery();
this.inherited(arguments);
if(evt.altKey||evt.ctrlKey||evt.metaKey){
return;
}
if(this._opened){
_d2b=pw.getHighlightedOption();
}
switch(key){
case keys.PAGE_DOWN:
case keys.DOWN_ARROW:
case keys.PAGE_UP:
case keys.UP_ARROW:
if(this._opened){
this._announceOption(_d2b);
}
evt.stopPropagation();
evt.preventDefault();
break;
case keys.ENTER:
if(_d2b){
if(_d2b==pw.nextButton){
this._nextSearch(1);
evt.stopPropagation();
evt.preventDefault();
break;
}else{
if(_d2b==pw.previousButton){
this._nextSearch(-1);
evt.stopPropagation();
evt.preventDefault();
break;
}
}
evt.stopPropagation();
evt.preventDefault();
}else{
this._setBlurValue();
this._setCaretPos(this.focusNode,this.focusNode.value.length);
}
case keys.TAB:
var _d2c=this.get("displayedValue");
if(pw&&(_d2c==pw._messages["previousMessage"]||_d2c==pw._messages["nextMessage"])){
break;
}
if(_d2b){
this._selectOption(_d2b);
}
case keys.ESCAPE:
if(this._opened){
this._lastQuery=null;
this.closeDropDown();
}
break;
}
},_autoCompleteText:function(text){
var fn=this.focusNode;
_d24.selectInputText(fn,fn.value.length);
var _d2d=this.ignoreCase?"toLowerCase":"substr";
if(text[_d2d](0).indexOf(this.focusNode.value[_d2d](0))==0){
var cpos=this.autoComplete?this._getCaretPos(fn):fn.value.length;
if((cpos+1)>fn.value.length){
fn.value=text;
_d24.selectInputText(fn,cpos);
}
}else{
fn.value=text;
_d24.selectInputText(fn);
}
},_openResultList:function(_d2e,_d2f,_d30){
var _d31=this.dropDown.getHighlightedOption();
this.dropDown.clearResultList();
if(!_d2e.length&&_d30.start==0){
this.closeDropDown();
return;
}
this._nextSearch=this.dropDown.onPage=lang.hitch(this,function(_d32){
_d2e.nextPage(_d32!==-1);
this.focus();
});
this.dropDown.createOptions(_d2e,_d30,lang.hitch(this,"_getMenuLabelFromItem"));
this._showResultList();
if("direction" in _d30){
if(_d30.direction){
this.dropDown.highlightFirstOption();
}else{
if(!_d30.direction){
this.dropDown.highlightLastOption();
}
}
if(_d31){
this._announceOption(this.dropDown.getHighlightedOption());
}
}else{
if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_d2f[this.searchAttr].toString())){
this._announceOption(this.dropDown.containerNode.firstChild.nextSibling);
}
}
},_showResultList:function(){
this.closeDropDown(true);
this.openDropDown();
this.domNode.setAttribute("aria-expanded","true");
},loadDropDown:function(){
this._startSearchAll();
},isLoaded:function(){
return false;
},closeDropDown:function(){
this._abortQuery();
if(this._opened){
this.inherited(arguments);
this.domNode.setAttribute("aria-expanded","false");
}
},_setBlurValue:function(){
var _d33=this.get("displayedValue");
var pw=this.dropDown;
if(pw&&(_d33==pw._messages["previousMessage"]||_d33==pw._messages["nextMessage"])){
this._setValueAttr(this._lastValueReported,true);
}else{
if(typeof this.item=="undefined"){
this.item=null;
this.set("displayedValue",_d33);
}else{
if(this.value!=this._lastValueReported){
this._handleOnChange(this.value,true);
}
this._refreshState();
}
}
this.focusNode.removeAttribute("aria-activedescendant");
},_setItemAttr:function(item,_d34,_d35){
var _d36="";
if(item){
if(!_d35){
_d35=this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr];
}
_d36=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_d35;
}
this.set("value",_d36,_d34,_d35,item);
},_announceOption:function(node){
if(!node){
return;
}
var _d37;
if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){
_d37=node.innerHTML;
this.item=undefined;
this.value="";
}else{
var item=this.dropDown.items[node.getAttribute("item")];
_d37=(this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr]).toString();
this.set("item",item,false,_d37);
}
this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);
this.focusNode.setAttribute("aria-activedescendant",_d20.get(node,"id"));
this._autoCompleteText(_d37);
},_selectOption:function(_d38){
this.closeDropDown();
if(_d38){
this._announceOption(_d38);
}
this._setCaretPos(this.focusNode,this.focusNode.value.length);
this._handleOnChange(this.value,true);
this.focusNode.removeAttribute("aria-activedescendant");
},_startSearchAll:function(){
this._startSearch("");
},_startSearchFromInput:function(){
this.item=undefined;
this.inherited(arguments);
},_startSearch:function(key){
if(!this.dropDown){
var _d39=this.id+"_popup",_d3a=lang.isString(this.dropDownClass)?lang.getObject(this.dropDownClass,false):this.dropDownClass;
this.dropDown=new _d3a({onChange:lang.hitch(this,this._selectOption),id:_d39,dir:this.dir,textDir:this.textDir});
}
this._lastInput=key;
this.inherited(arguments);
},_getValueField:function(){
return this.searchAttr;
},postMixInProperties:function(){
this.inherited(arguments);
if(!this.store){
var _d3b=this.srcNodeRef;
this.store=new _d23({},_d3b);
if(!("value" in this.params)){
var item=(this.item=this.store.fetchSelectedItem());
if(item){
var _d3c=this._getValueField();
this.value=this.store._oldAPI?this.store.getValue(item,_d3c):item[_d3c];
}
}
}
},postCreate:function(){
var _d3d=_d21("label[for=\""+this.id+"\"]");
if(_d3d.length){
if(!_d3d[0].id){
_d3d[0].id=this.id+"_label";
}
this.domNode.setAttribute("aria-labelledby",_d3d[0].id);
}
this.inherited(arguments);
_d1e.after(this,"onSearch",lang.hitch(this,"_openResultList"),true);
},_getMenuLabelFromItem:function(item){
var _d3e=this.labelFunc(item,this.store),_d3f=this.labelType;
if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){
_d3e=this.doHighlight(_d3e,this._lastInput);
_d3f="html";
}
return {html:_d3f=="html",label:_d3e};
},doHighlight:function(_d40,find){
var _d41=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");
find=_d22.escapeString(find);
return this._escapeHtml(_d40.replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_d41),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");
},_escapeHtml:function(str){
str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");
return str;
},reset:function(){
this.item=null;
this.inherited(arguments);
},labelFunc:function(item,_d42){
return (_d42._oldAPI?_d42.getValue(item,this.labelAttr||this.searchAttr):item[this.labelAttr||this.searchAttr]).toString();
},_setValueAttr:function(_d43,_d44,_d45,item){
this._set("item",item||null);
if(_d43==null){
_d43="";
}
this.inherited(arguments);
}});
if(has("dojo-bidi")){
_d26.extend({_setTextDirAttr:function(_d46){
this.inherited(arguments);
if(this.dropDown){
this.dropDown._set("textDir",_d46);
}
}});
}
return _d26;
});
},"dojo/dnd/Container":function(){
define(["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../_base/window","../dom","../dom-class","../dom-construct","../Evented","../has","../on","../query","../touch","./common"],function(_d47,_d48,_d49,lang,win,dom,_d4a,_d4b,_d4c,has,on,_d4d,_d4e,dnd){
var _d4f=_d48("dojo.dnd.Container",_d4c,{skipForm:false,allowNested:false,constructor:function(node,_d50){
this.node=dom.byId(node);
if(!_d50){
_d50={};
}
this.creator=_d50.creator||null;
this.skipForm=_d50.skipForm;
this.parent=_d50.dropParent&&dom.byId(_d50.dropParent);
this.map={};
this.current=null;
this.containerState="";
_d4a.add(this.node,"dojoDndContainer");
if(!(_d50&&_d50._skipStartup)){
this.startup();
}
this.events=[on(this.node,_d4e.over,lang.hitch(this,"onMouseOver")),on(this.node,_d4e.out,lang.hitch(this,"onMouseOut")),on(this.node,"dragstart",lang.hitch(this,"onSelectStart")),on(this.node,"selectstart",lang.hitch(this,"onSelectStart"))];
},creator:function(){
},getItem:function(key){
return this.map[key];
},setItem:function(key,data){
this.map[key]=data;
},delItem:function(key){
delete this.map[key];
},forInItems:function(f,o){
o=o||_d49.global;
var m=this.map,e=dnd._empty;
for(var i in m){
if(i in e){
continue;
}
f.call(o,m[i],i,this);
}
return o;
},clearItems:function(){
this.map={};
},getAllNodes:function(){
return _d4d((this.allowNested?"":"> ")+".dojoDndItem",this.parent);
},sync:function(){
var map={};
this.getAllNodes().forEach(function(node){
if(node.id){
var item=this.getItem(node.id);
if(item){
map[node.id]=item;
return;
}
}else{
node.id=dnd.getUniqueId();
}
var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");
map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};
},this);
this.map=map;
return this;
},insertNodes:function(data,_d51,_d52){
if(!this.parent.firstChild){
_d52=null;
}else{
if(_d51){
if(!_d52){
_d52=this.parent.firstChild;
}
}else{
if(_d52){
_d52=_d52.nextSibling;
}
}
}
var i,t;
if(_d52){
for(i=0;i<data.length;++i){
t=this._normalizedCreator(data[i]);
this.setItem(t.node.id,{data:t.data,type:t.type});
_d52.parentNode.insertBefore(t.node,_d52);
}
}else{
for(i=0;i<data.length;++i){
t=this._normalizedCreator(data[i]);
this.setItem(t.node.id,{data:t.data,type:t.type});
this.parent.appendChild(t.node);
}
}
return this;
},destroy:function(){
_d47.forEach(this.events,function(_d53){
_d53.remove();
});
this.clearItems();
this.node=this.parent=this.current=null;
},markupFactory:function(_d54,node,Ctor){
_d54._skipStartup=true;
return new Ctor(node,_d54);
},startup:function(){
if(!this.parent){
this.parent=this.node;
if(this.parent.tagName.toLowerCase()=="table"){
var c=this.parent.getElementsByTagName("tbody");
if(c&&c.length){
this.parent=c[0];
}
}
}
this.defaultCreator=dnd._defaultCreator(this.parent);
this.sync();
},onMouseOver:function(e){
var n=e.relatedTarget;
while(n){
if(n==this.node){
break;
}
try{
n=n.parentNode;
}
catch(x){
n=null;
}
}
if(!n){
this._changeState("Container","Over");
this.onOverEvent();
}
n=this._getChildByEvent(e);
if(this.current==n){
return;
}
if(this.current){
this._removeItemClass(this.current,"Over");
}
if(n){
this._addItemClass(n,"Over");
}
this.current=n;
},onMouseOut:function(e){
for(var n=e.relatedTarget;n;){
if(n==this.node){
return;
}
try{
n=n.parentNode;
}
catch(x){
n=null;
}
}
if(this.current){
this._removeItemClass(this.current,"Over");
this.current=null;
}
this._changeState("Container","");
this.onOutEvent();
},onSelectStart:function(e){
if(!this.skipForm||!dnd.isFormElement(e)){
e.stopPropagation();
e.preventDefault();
}
},onOverEvent:function(){
},onOutEvent:function(){
},_changeState:function(type,_d55){
var _d56="dojoDnd"+type;
var _d57=type.toLowerCase()+"State";
_d4a.replace(this.node,_d56+_d55,_d56+this[_d57]);
this[_d57]=_d55;
},_addItemClass:function(node,type){
_d4a.add(node,"dojoDndItem"+type);
},_removeItemClass:function(node,type){
_d4a.remove(node,"dojoDndItem"+type);
},_getChildByEvent:function(e){
var node=e.target;
if(node){
for(var _d58=node.parentNode;_d58;node=_d58,_d58=node.parentNode){
if((_d58==this.parent||this.allowNested)&&_d4a.contains(node,"dojoDndItem")){
return node;
}
}
}
return null;
},_normalizedCreator:function(item,hint){
var t=(this.creator||this.defaultCreator).call(this,item,hint);
if(!lang.isArray(t.type)){
t.type=["text"];
}
if(!t.node.id){
t.node.id=dnd.getUniqueId();
}
_d4a.add(t.node,"dojoDndItem");
return t;
}});
dnd._createNode=function(tag){
if(!tag){
return dnd._createSpan;
}
return function(text){
return _d4b.create(tag,{innerHTML:text});
};
};
dnd._createTrTd=function(text){
var tr=_d4b.create("tr");
_d4b.create("td",{innerHTML:text},tr);
return tr;
};
dnd._createSpan=function(text){
return _d4b.create("span",{innerHTML:text});
};
dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};
dnd._defaultCreator=function(node){
var tag=node.tagName.toLowerCase();
var c=tag=="tbody"||tag=="thead"?dnd._createTrTd:dnd._createNode(dnd._defaultCreatorNodes[tag]);
return function(item,hint){
var _d59=item&&lang.isObject(item),data,type,n;
if(_d59&&item.tagName&&item.nodeType&&item.getAttribute){
data=item.getAttribute("dndData")||item.innerHTML;
type=item.getAttribute("dndType");
type=type?type.split(/\s*,\s*/):["text"];
n=item;
}else{
data=(_d59&&item.data)?item.data:item;
type=(_d59&&item.type)?item.type:["text"];
n=(hint=="avatar"?dnd._createSpan:c)(String(data));
}
if(!n.id){
n.id=dnd.getUniqueId();
}
return {node:n,data:data,type:type};
};
};
return _d4f;
});
},"dijit/form/CurrencyTextBox":function(){
define(["dojo/currency","dojo/_base/declare","dojo/_base/lang","./NumberTextBox"],function(_d5a,_d5b,lang,_d5c){
return _d5b("dijit.form.CurrencyTextBox",_d5c,{currency:"",baseClass:"dijitTextBox dijitCurrencyTextBox",_formatter:_d5a.format,_parser:_d5a.parse,_regExpGenerator:_d5a.regexp,parse:function(_d5d,_d5e){
var v=this.inherited(arguments);
if(isNaN(v)&&/\d+/.test(_d5d)){
v=lang.hitch(lang.delegate(this,{_parser:_d5c.prototype._parser}),"inherited")(arguments);
}
return v;
},_setConstraintsAttr:function(_d5f){
if(!_d5f.currency&&this.currency){
_d5f.currency=this.currency;
}
this.inherited(arguments,[_d5a._mixInDefaults(lang.mixin(_d5f,{exponent:false}))]);
}});
});
},"dijit/place":function(){
define(["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(_d60,_d61,_d62,_d63,win,_d64,_d65){
function _d66(node,_d67,_d68,_d69){
var view=_d64.getEffectiveBox(node.ownerDocument);
if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){
win.body(node.ownerDocument).appendChild(node);
}
var best=null;
_d60.some(_d67,function(_d6a){
var _d6b=_d6a.corner;
var pos=_d6a.pos;
var _d6c=0;
var _d6d={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_d6b.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_d6b.charAt(0)]};
var s=node.style;
s.left=s.right="auto";
if(_d68){
var res=_d68(node,_d6a.aroundCorner,_d6b,_d6d,_d69);
_d6c=typeof res=="undefined"?0:res;
}
var _d6e=node.style;
var _d6f=_d6e.display;
var _d70=_d6e.visibility;
if(_d6e.display=="none"){
_d6e.visibility="hidden";
_d6e.display="";
}
var bb=_d61.position(node);
_d6e.display=_d6f;
_d6e.visibility=_d70;
var _d71={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_d6b.charAt(1)],_d72={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_d6b.charAt(0)],_d73=Math.max(view.l,_d71),_d74=Math.max(view.t,_d72),endX=Math.min(view.l+view.w,_d71+bb.w),endY=Math.min(view.t+view.h,_d72+bb.h),_d75=endX-_d73,_d76=endY-_d74;
_d6c+=(bb.w-_d75)+(bb.h-_d76);
if(best==null||_d6c<best.overflow){
best={corner:_d6b,aroundCorner:_d6a.aroundCorner,x:_d73,y:_d74,w:_d75,h:_d76,overflow:_d6c,spaceAvailable:_d6d};
}
return !_d6c;
});
if(best.overflow&&_d68){
_d68(node,best.aroundCorner,best.corner,best.spaceAvailable,_d69);
}
var l=_d61.isBodyLtr(node.ownerDocument),top=best.y,side=l?best.x:view.w-best.x-best.w;
if(/relative|absolute/.test(_d62.get(win.body(node.ownerDocument),"position"))){
top-=_d62.get(win.body(node.ownerDocument),"marginTop");
side-=(l?1:-1)*_d62.get(win.body(node.ownerDocument),l?"marginLeft":"marginRight");
}
var s=node.style;
s.top=top+"px";
s[l?"left":"right"]=side+"px";
s[l?"right":"left"]="auto";
return best;
};
var _d77={"TL":"BR","TR":"BL","BL":"TR","BR":"TL"};
var _d78={at:function(node,pos,_d79,_d7a,_d7b){
var _d7c=_d60.map(_d79,function(_d7d){
var c={corner:_d7d,aroundCorner:_d77[_d7d],pos:{x:pos.x,y:pos.y}};
if(_d7a){
c.pos.x+=_d7d.charAt(1)=="L"?_d7a.x:-_d7a.x;
c.pos.y+=_d7d.charAt(0)=="T"?_d7a.y:-_d7a.y;
}
return c;
});
return _d66(node,_d7c,_d7b);
},around:function(node,_d7e,_d7f,_d80,_d81){
var _d82;
if(typeof _d7e=="string"||"offsetWidth" in _d7e){
_d82=_d61.position(_d7e,true);
if(/^(above|below)/.test(_d7f[0])){
var _d83=_d61.getBorderExtents(_d7e),_d84=_d7e.firstChild?_d61.getBorderExtents(_d7e.firstChild):{t:0,l:0,b:0,r:0},_d85=_d61.getBorderExtents(node),_d86=node.firstChild?_d61.getBorderExtents(node.firstChild):{t:0,l:0,b:0,r:0};
_d82.y+=Math.min(_d83.t+_d84.t,_d85.t+_d86.t);
_d82.h-=Math.min(_d83.t+_d84.t,_d85.t+_d86.t)+Math.min(_d83.b+_d84.b,_d85.b+_d86.b);
}
}else{
_d82=_d7e;
}
if(_d7e.parentNode){
var _d87=_d62.getComputedStyle(_d7e).position=="absolute";
var _d88=_d7e.parentNode;
while(_d88&&_d88.nodeType==1&&_d88.nodeName!="BODY"){
var _d89=_d61.position(_d88,true),pcs=_d62.getComputedStyle(_d88);
if(/relative|absolute/.test(pcs.position)){
_d87=false;
}
if(!_d87&&/hidden|auto|scroll/.test(pcs.overflow)){
var _d8a=Math.min(_d82.y+_d82.h,_d89.y+_d89.h);
var _d8b=Math.min(_d82.x+_d82.w,_d89.x+_d89.w);
_d82.x=Math.max(_d82.x,_d89.x);
_d82.y=Math.max(_d82.y,_d89.y);
_d82.h=_d8a-_d82.y;
_d82.w=_d8b-_d82.x;
}
if(pcs.position=="absolute"){
_d87=true;
}
_d88=_d88.parentNode;
}
}
var x=_d82.x,y=_d82.y,_d8c="w" in _d82?_d82.w:(_d82.w=_d82.width),_d8d="h" in _d82?_d82.h:(_d63.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_d82.height+", width:"+_d8c+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_d82.height+", w:"+_d8c+" }","","2.0"),_d82.h=_d82.height);
var _d8e=[];
function push(_d8f,_d90){
_d8e.push({aroundCorner:_d8f,corner:_d90,pos:{x:{"L":x,"R":x+_d8c,"M":x+(_d8c>>1)}[_d8f.charAt(1)],y:{"T":y,"B":y+_d8d,"M":y+(_d8d>>1)}[_d8f.charAt(0)]}});
};
_d60.forEach(_d7f,function(pos){
var ltr=_d80;
switch(pos){
case "above-centered":
push("TM","BM");
break;
case "below-centered":
push("BM","TM");
break;
case "after-centered":
ltr=!ltr;
case "before-centered":
push(ltr?"ML":"MR",ltr?"MR":"ML");
break;
case "after":
ltr=!ltr;
case "before":
push(ltr?"TL":"TR",ltr?"TR":"TL");
push(ltr?"BL":"BR",ltr?"BR":"BL");
break;
case "below-alt":
ltr=!ltr;
case "below":
push(ltr?"BL":"BR",ltr?"TL":"TR");
push(ltr?"BR":"BL",ltr?"TR":"TL");
break;
case "above-alt":
ltr=!ltr;
case "above":
push(ltr?"TL":"TR",ltr?"BL":"BR");
push(ltr?"TR":"TL",ltr?"BR":"BL");
break;
default:
push(pos.aroundCorner,pos.corner);
}
});
var _d91=_d66(node,_d8e,_d81,{w:_d8c,h:_d8d});
_d91.aroundNodePos=_d82;
return _d91;
}};
return _d65.place=_d78;
});
},"dojox/widget/ColorPicker":function(){
define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/html","dojo/_base/connect","dojo/_base/sniff","dojo/_base/window","dojo/_base/event","dojo/dom","dojo/dom-class","dojo/keys","dojo/fx","dojo/dnd/move","dijit/registry","dijit/_base/focus","dijit/form/_FormWidget","dijit/typematic","dojox/color","dojo/i18n","dojo/i18n!./nls/ColorPicker","dojo/i18n!dojo/cldr/nls/number","dojo/text!./ColorPicker/ColorPicker.html"],function(_d92,_d93,lang,_d94,html,Hub,has,win,_d95,DOM,_d96,Keys,fx,move,_d97,_d98,_d99,_d9a,_d9b,i18n,_d9c,_d9d,_d9e){
_d92.experimental("dojox.widget.ColorPicker");
var _d9f=function(hex){
return hex;
};
return _d93("dojox.widget.ColorPicker",_d99,{showRgb:true,showHsv:true,showHex:true,webSafe:true,animatePoint:true,slideDuration:250,liveUpdate:false,PICKER_HUE_H:150,PICKER_SAT_VAL_H:150,PICKER_SAT_VAL_W:150,PICKER_HUE_SELECTOR_H:8,PICKER_SAT_SELECTOR_H:10,PICKER_SAT_SELECTOR_W:10,value:"#ffffff",_underlay:_d92.moduleUrl("dojox.widget","ColorPicker/images/underlay.png"),_hueUnderlay:_d92.moduleUrl("dojox.widget","ColorPicker/images/hue.png"),_pickerPointer:_d92.moduleUrl("dojox.widget","ColorPicker/images/pickerPointer.png"),_huePickerPointer:_d92.moduleUrl("dojox.widget","ColorPicker/images/hueHandle.png"),_huePickerPointerAlly:_d92.moduleUrl("dojox.widget","ColorPicker/images/hueHandleA11y.png"),templateString:_d9e,postMixInProperties:function(){
if(_d96.contains(win.body(),"dijit_a11y")){
this._huePickerPointer=this._huePickerPointerAlly;
}
this._uId=_d97.getUniqueId(this.id);
lang.mixin(this,i18n.getLocalization("dojox.widget","ColorPicker"));
lang.mixin(this,i18n.getLocalization("dojo.cldr","number"));
this.inherited(arguments);
},postCreate:function(){
this.inherited(arguments);
if(has("ie")<7){
this.colorUnderlay.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+this._underlay+"', sizingMethod='scale')";
this.colorUnderlay.src=this._blankGif.toString();
}
if(!this.showRgb){
this.rgbNode.style.visibility="hidden";
}
if(!this.showHsv){
this.hsvNode.style.visibility="hidden";
}
if(!this.showHex){
this.hexNode.style.visibility="hidden";
}
if(!this.webSafe){
this.safePreviewNode.style.visibility="hidden";
}
},startup:function(){
if(this._started){
return;
}
this._started=true;
this.set("value",this.value);
this._mover=new move.boxConstrainedMoveable(this.cursorNode,{box:{t:-(this.PICKER_SAT_SELECTOR_H/2),l:-(this.PICKER_SAT_SELECTOR_W/2),w:this.PICKER_SAT_VAL_W,h:this.PICKER_SAT_VAL_H}});
this._hueMover=new move.boxConstrainedMoveable(this.hueCursorNode,{box:{t:-(this.PICKER_HUE_SELECTOR_H/2),l:0,w:0,h:this.PICKER_HUE_H}});
this._subs=[];
this._subs.push(Hub.subscribe("/dnd/move/stop",lang.hitch(this,"_clearTimer")));
this._subs.push(Hub.subscribe("/dnd/move/start",lang.hitch(this,"_setTimer")));
this._keyListeners=[];
this._connects.push(_d9a.addKeyListener(this.hueCursorNode,{charOrCode:Keys.UP_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateHueCursorNode),25,25));
this._connects.push(_d9a.addKeyListener(this.hueCursorNode,{charOrCode:Keys.DOWN_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateHueCursorNode),25,25));
this._connects.push(_d9a.addKeyListener(this.cursorNode,{charOrCode:Keys.UP_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateCursorNode),25,25));
this._connects.push(_d9a.addKeyListener(this.cursorNode,{charOrCode:Keys.DOWN_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateCursorNode),25,25));
this._connects.push(_d9a.addKeyListener(this.cursorNode,{charOrCode:Keys.LEFT_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateCursorNode),25,25));
this._connects.push(_d9a.addKeyListener(this.cursorNode,{charOrCode:Keys.RIGHT_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateCursorNode),25,25));
},_setValueAttr:function(_da0){
if(!this._started){
return;
}
this.setColor(_da0,true);
},setColor:function(col,_da1){
col=_d9b.fromString(col);
this._updatePickerLocations(col);
this._updateColorInputs(col);
this._updateValue(col,_da1);
},_setTimer:function(_da2){
if(_da2.node!=this.cursorNode){
return;
}
_d98.focus(_da2.node);
DOM.setSelectable(this.domNode,false);
this._timer=setInterval(lang.hitch(this,"_updateColor"),45);
},_clearTimer:function(_da3){
if(!this._timer){
return;
}
clearInterval(this._timer);
this._timer=null;
this.onChange(this.value);
DOM.setSelectable(this.domNode,true);
},_setHue:function(h){
html.style(this.colorUnderlay,"backgroundColor",_d9b.fromHsv(h,100,100).toHex());
},_updateHueCursorNode:function(_da4,node,e){
if(_da4!==-1){
var y=html.style(this.hueCursorNode,"top");
var _da5=this.PICKER_HUE_SELECTOR_H/2;
y+=_da5;
var _da6=false;
if(e.charOrCode==Keys.UP_ARROW){
if(y>0){
y-=1;
_da6=true;
}
}else{
if(e.charOrCode==Keys.DOWN_ARROW){
if(y<this.PICKER_HUE_H){
y+=1;
_da6=true;
}
}
}
y-=_da5;
if(_da6){
html.style(this.hueCursorNode,"top",y+"px");
}
}else{
this._updateColor(true);
}
},_updateCursorNode:function(_da7,node,e){
var _da8=this.PICKER_SAT_SELECTOR_H/2;
var _da9=this.PICKER_SAT_SELECTOR_W/2;
if(_da7!==-1){
var y=html.style(this.cursorNode,"top");
var x=html.style(this.cursorNode,"left");
y+=_da8;
x+=_da9;
var _daa=false;
if(e.charOrCode==Keys.UP_ARROW){
if(y>0){
y-=1;
_daa=true;
}
}else{
if(e.charOrCode==Keys.DOWN_ARROW){
if(y<this.PICKER_SAT_VAL_H){
y+=1;
_daa=true;
}
}else{
if(e.charOrCode==Keys.LEFT_ARROW){
if(x>0){
x-=1;
_daa=true;
}
}else{
if(e.charOrCode==Keys.RIGHT_ARROW){
if(x<this.PICKER_SAT_VAL_W){
x+=1;
_daa=true;
}
}
}
}
}
if(_daa){
y-=_da8;
x-=_da9;
html.style(this.cursorNode,"top",y+"px");
html.style(this.cursorNode,"left",x+"px");
}
}else{
this._updateColor(true);
}
},_updateColor:function(_dab){
var _dac=this.PICKER_HUE_SELECTOR_H/2,_dad=this.PICKER_SAT_SELECTOR_H/2,_dae=this.PICKER_SAT_SELECTOR_W/2;
var _daf=html.style(this.hueCursorNode,"top")+_dac,_db0=html.style(this.cursorNode,"top")+_dad,_db1=html.style(this.cursorNode,"left")+_dae,h=Math.round(360-(_daf/this.PICKER_HUE_H*360)),col=_d9b.fromHsv(h,_db1/this.PICKER_SAT_VAL_W*100,100-(_db0/this.PICKER_SAT_VAL_H*100));
this._updateColorInputs(col);
this._updateValue(col,_dab);
if(h!=this._hue){
this._setHue(h);
}
},_colorInputChange:function(e){
var col,_db2=false;
switch(e.target){
case this.hexCode:
col=_d9b.fromString(e.target.value);
_db2=true;
break;
case this.Rval:
case this.Gval:
case this.Bval:
col=_d9b.fromArray([this.Rval.value,this.Gval.value,this.Bval.value]);
_db2=true;
break;
case this.Hval:
case this.Sval:
case this.Vval:
col=_d9b.fromHsv(this.Hval.value,this.Sval.value,this.Vval.value);
_db2=true;
break;
}
if(_db2){
this._updatePickerLocations(col);
this._updateColorInputs(col);
this._updateValue(col,true);
}
},_updateValue:function(col,_db3){
var hex=col.toHex();
this.value=this.valueNode.value=hex;
if(_db3&&(!this._timer||this.liveUpdate)){
this.onChange(hex);
}
},_updatePickerLocations:function(col){
var _db4=this.PICKER_HUE_SELECTOR_H/2,_db5=this.PICKER_SAT_SELECTOR_H/2,_db6=this.PICKER_SAT_SELECTOR_W/2;
var hsv=col.toHsv(),ypos=Math.round(this.PICKER_HUE_H-hsv.h/360*this.PICKER_HUE_H)-_db4,_db7=Math.round(hsv.s/100*this.PICKER_SAT_VAL_W)-_db6,_db8=Math.round(this.PICKER_SAT_VAL_H-hsv.v/100*this.PICKER_SAT_VAL_H)-_db5;
if(this.animatePoint){
fx.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:ypos,left:0}).play();
fx.slideTo({node:this.cursorNode,duration:this.slideDuration,top:_db8,left:_db7}).play();
}else{
html.style(this.hueCursorNode,"top",ypos+"px");
html.style(this.cursorNode,{left:_db7+"px",top:_db8+"px"});
}
if(hsv.h!=this._hue){
this._setHue(hsv.h);
}
},_updateColorInputs:function(col){
var hex=col.toHex();
if(this.showRgb){
this.Rval.value=col.r;
this.Gval.value=col.g;
this.Bval.value=col.b;
}
if(this.showHsv){
var hsv=col.toHsv();
this.Hval.value=Math.round((hsv.h));
this.Sval.value=Math.round(hsv.s);
this.Vval.value=Math.round(hsv.v);
}
if(this.showHex){
this.hexCode.value=hex;
}
this.previewNode.style.backgroundColor=hex;
if(this.webSafe){
this.safePreviewNode.style.backgroundColor=_d9f(hex);
}
},_setHuePoint:function(evt){
var _db9=this.PICKER_HUE_SELECTOR_H/2;
var ypos=evt.layerY-_db9;
if(this.animatePoint){
fx.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:ypos,left:0,onEnd:lang.hitch(this,function(){
this._updateColor(false);
_d98.focus(this.hueCursorNode);
})}).play();
}else{
html.style(this.hueCursorNode,"top",ypos+"px");
this._updateColor(false);
}
},_setPoint:function(evt){
var _dba=this.PICKER_SAT_SELECTOR_H/2;
var _dbb=this.PICKER_SAT_SELECTOR_W/2;
var _dbc=evt.layerY-_dba;
var _dbd=evt.layerX-_dbb;
if(evt){
_d98.focus(evt.target);
}
if(this.animatePoint){
fx.slideTo({node:this.cursorNode,duration:this.slideDuration,top:_dbc,left:_dbd,onEnd:lang.hitch(this,function(){
this._updateColor(true);
_d98.focus(this.cursorNode);
})}).play();
}else{
html.style(this.cursorNode,{left:_dbd+"px",top:_dbc+"px"});
this._updateColor(false);
}
},_handleKey:function(e){
},focus:function(){
if(!this.focused){
_d98.focus(this.focusNode);
}
},_stopDrag:function(e){
_d95.stop(e);
},destroy:function(){
this.inherited(arguments);
_d94.forEach(this._subs,function(sub){
Hub.unsubscribe(sub);
});
delete this._subs;
}});
});
},"dijit/form/ComboBox":function(){
define(["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(_dbe,_dbf,_dc0){
return _dbe("dijit.form.ComboBox",[_dbf,_dc0],{});
});
},"dijit/layout/_LayoutWidget":function(){
define(["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_dc1,_dc2,_dc3,_dc4,_dc5,_dc6,_dc7,_dc8){
return _dc5("dijit.layout._LayoutWidget",[_dc1,_dc2,_dc3],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){
this.inherited(arguments);
_dc6.add(this.domNode,"dijitContainer");
},startup:function(){
if(this._started){
return;
}
this.inherited(arguments);
var _dc9=this.getParent&&this.getParent();
if(!(_dc9&&_dc9.isLayoutContainer)){
this.resize();
this.own(_dc4.on("resize",lang.hitch(this,"resize")));
}
},resize:function(_dca,_dcb){
var node=this.domNode;
if(_dca){
_dc7.setMarginBox(node,_dca);
}
var mb=_dcb||{};
lang.mixin(mb,_dca||{});
if(!("h" in mb)||!("w" in mb)){
mb=lang.mixin(_dc7.getMarginBox(node),mb);
}
var cs=_dc8.getComputedStyle(node);
var me=_dc7.getMarginExtents(node,cs);
var be=_dc7.getBorderExtents(node,cs);
var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});
var pe=_dc7.getPadExtents(node,cs);
this._contentBox={l:_dc8.toPixelValue(node,cs.paddingLeft),t:_dc8.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};
this.layout();
},layout:function(){
},_setupChild:function(_dcc){
var cls=this.baseClass+"-child "+(_dcc.baseClass?this.baseClass+"-"+_dcc.baseClass:"");
_dc6.add(_dcc.domNode,cls);
},addChild:function(_dcd,_dce){
this.inherited(arguments);
if(this._started){
this._setupChild(_dcd);
}
},removeChild:function(_dcf){
var cls=this.baseClass+"-child"+(_dcf.baseClass?" "+this.baseClass+"-"+_dcf.baseClass:"");
_dc6.remove(_dcf.domNode,cls);
this.inherited(arguments);
}});
});
},"dgrid/util/touch":function(){
define(["dojo/on","dojo/query"],function(on,_dd0){
var util={tapRadius:10,dbltapTime:250,selector:function(_dd1,_dd2,_dd3){
return function(_dd4,_dd5){
var _dd6=_dd2.bubble;
if(_dd6){
_dd2=_dd6;
}else{
if(_dd3!==false){
_dd3=true;
}
}
return on(_dd4,_dd2,function(_dd7){
var _dd8=_dd7.target;
if(_dd8.nodeType==3){
_dd8=_dd8.parentNode;
}
while(!_dd0.matches(_dd8,_dd1,_dd4)){
if(_dd8==_dd4||!_dd3||!(_dd8=_dd8.parentNode)){
return;
}
}
return _dd5.call(_dd8,_dd7);
});
};
},countCurrentTouches:function(evt,node){
var i,_dd9,_dda;
for(i=0,_dd9=0;(_dda=evt.touches[i]);++i){
if(node.contains(_dda.target)){
++_dd9;
}
}
return _dd9;
}};
function _ddb(_ddc,_ddd,evt,_dde){
if(evt.targetTouches.length>1){
return;
}
var _ddf=evt.changedTouches[0],_de0=_ddf.screenX,_de1=_ddf.screenY;
_dde&&evt.preventDefault();
var _de2=on(_ddc,"touchend",function(evt){
var end=evt.changedTouches[0];
if(!evt.targetTouches.length){
if(Math.abs(end.screenX-_de0)<util.tapRadius&&Math.abs(end.screenY-_de1)<util.tapRadius){
_dde&&evt.preventDefault();
_ddd.call(this,evt);
}
_de2.remove();
}
});
};
function tap(_de3,_de4){
return on(_de3,"touchstart",function(evt){
_ddb(_de3,_de4,evt);
});
};
function _de5(_de6,_de7){
var _de8,_de9;
return on(_de6,"touchstart",function(evt){
if(!_de8){
_ddb(_de6,function(evt){
_de8=evt.changedTouches[0];
_de9=setTimeout(function(){
_de8=_de9=null;
},util.dbltapTime);
},evt);
}else{
_ddb(_de6,function(evt){
if(!_de8){
return;
}
var _dea=evt.changedTouches[0];
if(Math.abs(_dea.screenX-_de8.screenX)<util.tapRadius&&Math.abs(_dea.screenY-_de8.screenY)<util.tapRadius){
_de9&&clearTimeout(_de9);
_de8=_de9=null;
_de7.call(this,evt);
}
},evt,true);
}
});
};
util.tap=tap;
util.dbltap=_de5;
return util;
});
},"dojox/widget/nls/ColorPicker":function(){
define({root:({redLabel:"r",greenLabel:"g",blueLabel:"b",hueLabel:"h",saturationLabel:"s",valueLabel:"v",degLabel:"",hexLabel:"hex",huePickerTitle:"Hue Selector",saturationPickerTitle:"Saturation Selector"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});
},"dojox/widget/nls/pt/ColorPicker":function(){
define(({redLabel:"r",greenLabel:"g",blueLabel:"b",hueLabel:"h",saturationLabel:"s",valueLabel:"v",degLabel:"",hexLabel:"hex",huePickerTitle:"Seletor de Matiz",saturationPickerTitle:"Seletor de Saturao"}));
},"dojox/widget/nls/pt/ColorPicker":function(){
define(({redLabel:"r",greenLabel:"g",blueLabel:"b",hueLabel:"h",saturationLabel:"s",valueLabel:"v",degLabel:"",hexLabel:"hex",huePickerTitle:"Seletor de Matiz",saturationPickerTitle:"Seletor de Saturao"}));
},"dojo/colors":function(){
define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(dojo,lang,_deb,_dec){
var _ded={};
lang.setObject("dojo.colors",_ded);
var _dee=function(m1,m2,h){
if(h<0){
++h;
}
if(h>1){
--h;
}
var h6=6*h;
if(h6<1){
return m1+(m2-m1)*h6;
}
if(2*h<1){
return m2;
}
if(3*h<2){
return m1+(m2-m1)*(2/3-h)*6;
}
return m1;
};
dojo.colorFromRgb=_deb.fromRgb=function(_def,obj){
var m=_def.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);
if(m){
var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1],a;
if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){
var r=c[0];
if(r.charAt(r.length-1)=="%"){
a=_dec.map(c,function(x){
return parseFloat(x)*2.56;
});
if(l==4){
a[3]=c[3];
}
return _deb.fromArray(a,obj);
}
return _deb.fromArray(c,obj);
}
if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){
var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2;
a=[_dee(m1,m2,H+1/3)*256,_dee(m1,m2,H)*256,_dee(m1,m2,H-1/3)*256,1];
if(l==4){
a[3]=c[3];
}
return _deb.fromArray(a,obj);
}
}
return null;
};
var _df0=function(c,low,high){
c=Number(c);
return isNaN(c)?high:c<low?low:c>high?high:c;
};
_deb.prototype.sanitize=function(){
var t=this;
t.r=Math.round(_df0(t.r,0,255));
t.g=Math.round(_df0(t.g,0,255));
t.b=Math.round(_df0(t.b,0,255));
t.a=_df0(t.a,0,1);
return this;
};
_ded.makeGrey=_deb.makeGrey=function(g,a){
return _deb.fromArray([g,g,g,a]);
};
lang.mixin(_deb.named,{"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"blanchedalmond":[255,235,205],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"oldlace":[253,245,230],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"whitesmoke":[245,245,245],"yellowgreen":[154,205,50]});
return _deb;
});
},"dojox/grid/cells/_base":function(){
define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/event","dojo/_base/connect","dojo/_base/array","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dijit/_Widget","../util"],function(dojo,_df1,lang,_df2,_df3,_df4,has,dom,_df5,_df6,_df7,util){
var _df8=_df1("dojox.grid._DeferredTextWidget",_df7,{deferred:null,_destroyOnRemove:true,postCreate:function(){
if(this.deferred){
this.deferred.addBoth(lang.hitch(this,function(text){
if(this.domNode){
this.domNode.innerHTML=text;
}
}));
}
}});
var _df9=function(_dfa){
try{
util.fire(_dfa,"focus");
util.fire(_dfa,"select");
}
catch(e){
}
};
var _dfb=function(){
setTimeout(lang.hitch.apply(dojo,arguments),0);
};
var _dfc=_df1("dojox.grid.cells._Base",null,{styles:"",classes:"",editable:false,alwaysEditing:false,formatter:null,defaultValue:"...",value:null,hidden:false,noresize:false,draggable:true,_valueProp:"value",_formatPending:false,constructor:function(_dfd){
this._props=_dfd||{};
lang.mixin(this,_dfd);
if(this.draggable===undefined){
this.draggable=true;
}
},_defaultFormat:function(_dfe,_dff){
var s=this.grid.formatterScope||this;
var f=this.formatter;
if(f&&s&&typeof f=="string"){
f=this.formatter=s[f];
}
var v=(_dfe!=this.defaultValue&&f)?f.apply(s,_dff):_dfe;
if(typeof v=="undefined"){
return this.defaultValue;
}
if(v&&v.addBoth){
v=new _df8({deferred:v},_df6.create("span",{innerHTML:this.defaultValue}));
}
if(v&&v.declaredClass&&v.startup){
return "<div class='dojoxGridStubNode' linkWidget='"+v.id+"' cellIdx='"+this.index+"'>"+this.defaultValue+"</div>";
}
return v;
},format:function(_e00,_e01){
var f,i=this.grid.edit.info,d=this.get?this.get(_e00,_e01):(this.value||this.defaultValue);
d=(d&&d.replace&&this.grid.escapeHTMLInData)?d.replace(/&/g,"&amp;").replace(/</g,"&lt;"):d;
if(this.editable&&(this.alwaysEditing||(i.rowIndex==_e00&&i.cell==this))){
return this.formatEditing(i.value?i.value:d,_e00);
}else{
return this._defaultFormat(d,[d,_e00,this]);
}
},formatEditing:function(_e02,_e03){
},getNode:function(_e04){
return this.view.getCellNode(_e04,this.index);
},getHeaderNode:function(){
return this.view.getHeaderCellNode(this.index);
},getEditNode:function(_e05){
return (this.getNode(_e05)||0).firstChild||0;
},canResize:function(){
var uw=this.unitWidth;
return uw&&(uw!=="auto");
},isFlex:function(){
var uw=this.unitWidth;
return uw&&lang.isString(uw)&&(uw=="auto"||uw.slice(-1)=="%");
},applyEdit:function(_e06,_e07){
if(this.getNode(_e07)){
this.grid.edit.applyCellEdit(_e06,this,_e07);
}
},cancelEdit:function(_e08){
this.grid.doCancelEdit(_e08);
},_onEditBlur:function(_e09){
if(this.grid.edit.isEditCell(_e09,this.index)){
this.grid.edit.apply();
}
},registerOnBlur:function(_e0a,_e0b){
if(this.commitOnBlur){
_df3.connect(_e0a,"onblur",function(e){
setTimeout(lang.hitch(this,"_onEditBlur",_e0b),250);
});
}
},needFormatNode:function(_e0c,_e0d){
this._formatPending=true;
_dfb(this,"_formatNode",_e0c,_e0d);
},cancelFormatNode:function(){
this._formatPending=false;
},_formatNode:function(_e0e,_e0f){
if(this._formatPending){
this._formatPending=false;
if(!has("ie")){
dom.setSelectable(this.grid.domNode,true);
}
this.formatNode(this.getEditNode(_e0f),_e0e,_e0f);
}
},formatNode:function(_e10,_e11,_e12){
if(has("ie")){
_dfb(this,"focus",_e12,_e10);
}else{
this.focus(_e12,_e10);
}
},dispatchEvent:function(m,e){
if(m in this){
return this[m](e);
}
},getValue:function(_e13){
return this.getEditNode(_e13)[this._valueProp];
},setValue:function(_e14,_e15){
var n=this.getEditNode(_e14);
if(n){
n[this._valueProp]=_e15;
}
},focus:function(_e16,_e17){
_df9(_e17||this.getEditNode(_e16));
},save:function(_e18){
this.value=this.value||this.getValue(_e18);
},restore:function(_e19){
this.setValue(_e19,this.value);
},_finish:function(_e1a){
dom.setSelectable(this.grid.domNode,false);
this.cancelFormatNode();
},apply:function(_e1b){
this.applyEdit(this.getValue(_e1b),_e1b);
this._finish(_e1b);
},cancel:function(_e1c){
this.cancelEdit(_e1c);
this._finish(_e1c);
}});
_dfc.markupFactory=function(node,_e1d){
var _e1e=lang.trim(_df5.get(node,"formatter")||"");
if(_e1e){
_e1d.formatter=lang.getObject(_e1e)||_e1e;
}
var get=lang.trim(_df5.get(node,"get")||"");
if(get){
_e1d.get=lang.getObject(get);
}
var _e1f=function(attr,cell,_e20){
var _e21=lang.trim(_df5.get(node,attr)||"");
if(_e21){
cell[_e20||attr]=!(_e21.toLowerCase()=="false");
}
};
_e1f("sortDesc",_e1d);
_e1f("editable",_e1d);
_e1f("alwaysEditing",_e1d);
_e1f("noresize",_e1d);
_e1f("draggable",_e1d);
var _e22=lang.trim(_df5.get(node,"loadingText")||_df5.get(node,"defaultValue")||"");
if(_e22){
_e1d.defaultValue=_e22;
}
var _e23=function(attr,cell,_e24){
var _e25=lang.trim(_df5.get(node,attr)||"")||undefined;
if(_e25){
cell[_e24||attr]=_e25;
}
};
_e23("styles",_e1d);
_e23("headerStyles",_e1d);
_e23("cellStyles",_e1d);
_e23("classes",_e1d);
_e23("headerClasses",_e1d);
_e23("cellClasses",_e1d);
};
var Cell=_dfc.Cell=_df1("dojox.grid.cells.Cell",_dfc,{constructor:function(){
this.keyFilter=this.keyFilter;
},keyFilter:null,formatEditing:function(_e26,_e27){
this.needFormatNode(_e26,_e27);
return "<input class=\"dojoxGridInput\" type=\"text\" value=\""+_e26+"\">";
},formatNode:function(_e28,_e29,_e2a){
this.inherited(arguments);
this.registerOnBlur(_e28,_e2a);
},doKey:function(e){
if(this.keyFilter){
var key=String.fromCharCode(e.charCode);
if(key.search(this.keyFilter)==-1){
_df2.stop(e);
}
}
},_finish:function(_e2b){
this.inherited(arguments);
var n=this.getEditNode(_e2b);
try{
util.fire(n,"blur");
}
catch(e){
}
}});
Cell.markupFactory=function(node,_e2c){
_dfc.markupFactory(node,_e2c);
var _e2d=lang.trim(_df5.get(node,"keyFilter")||"");
if(_e2d){
_e2c.keyFilter=new RegExp(_e2d);
}
};
var _e2e=_dfc.RowIndex=_df1("dojox.grid.cells.RowIndex",Cell,{name:"Row",postscript:function(){
this.editable=false;
},get:function(_e2f){
return _e2f+1;
}});
_e2e.markupFactory=function(node,_e30){
Cell.markupFactory(node,_e30);
};
var _e31=_dfc.Select=_df1("dojox.grid.cells.Select",Cell,{options:null,values:null,returnIndex:-1,constructor:function(_e32){
this.values=this.values||this.options;
},formatEditing:function(_e33,_e34){
this.needFormatNode(_e33,_e34);
var h=["<select class=\"dojoxGridSelect\">"];
for(var i=0,o,v;((o=this.options[i])!==undefined)&&((v=this.values[i])!==undefined);i++){
v=v.replace?v.replace(/&/g,"&amp;").replace(/</g,"&lt;"):v;
o=o.replace?o.replace(/&/g,"&amp;").replace(/</g,"&lt;"):o;
h.push("<option",(_e33==v?" selected":"")," value=\""+v+"\"",">",o,"</option>");
}
h.push("</select>");
return h.join("");
},_defaultFormat:function(_e35,_e36){
var v=this.inherited(arguments);
if(!this.formatter&&this.values&&this.options){
var i=_df4.indexOf(this.values,v);
if(i>=0){
v=this.options[i];
}
}
return v;
},getValue:function(_e37){
var n=this.getEditNode(_e37);
if(n){
var i=n.selectedIndex,o=n.options[i];
return this.returnIndex>-1?i:o.value||o.innerHTML;
}
}});
_e31.markupFactory=function(node,cell){
Cell.markupFactory(node,cell);
var _e38=lang.trim(_df5.get(node,"options")||"");
if(_e38){
var o=_e38.split(",");
if(o[0]!=_e38){
cell.options=o;
}
}
var _e39=lang.trim(_df5.get(node,"values")||"");
if(_e39){
var v=_e39.split(",");
if(v[0]!=_e39){
cell.values=v;
}
}
};
var _e3a=_dfc.AlwaysEdit=_df1("dojox.grid.cells.AlwaysEdit",Cell,{alwaysEditing:true,_formatNode:function(_e3b,_e3c){
this.formatNode(this.getEditNode(_e3c),_e3b,_e3c);
},applyStaticValue:function(_e3d){
var e=this.grid.edit;
e.applyCellEdit(this.getValue(_e3d),this,_e3d);
e.start(this,_e3d,true);
}});
_e3a.markupFactory=function(node,cell){
Cell.markupFactory(node,cell);
};
var Bool=_dfc.Bool=_df1("dojox.grid.cells.Bool",_e3a,{_valueProp:"checked",formatEditing:function(_e3e,_e3f){
return "<input class=\"dojoxGridInput\" type=\"checkbox\""+(_e3e?" checked=\"checked\"":"")+" style=\"width: auto\" />";
},doclick:function(e){
if(e.target.tagName=="INPUT"){
this.applyStaticValue(e.rowIndex);
}
}});
Bool.markupFactory=function(node,cell){
_e3a.markupFactory(node,cell);
};
return _dfc;
});
},"dojo/cldr/supplemental":function(){
define(["../_base/lang","../i18n"],function(lang,i18n){
var _e40={};
lang.setObject("dojo.cldr.supplemental",_e40);
_e40.getFirstDayOfWeek=function(_e41){
var _e42={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0};
var _e43=_e40._region(_e41);
var dow=_e42[_e43];
return (dow===undefined)?1:dow;
};
_e40._region=function(_e44){
_e44=i18n.normalizeLocale(_e44);
var tags=_e44.split("-");
var _e45=tags[1];
if(!_e45){
_e45={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[tags[0]];
}else{
if(_e45.length==4){
_e45=tags[2];
}
}
return _e45;
};
_e40.getWeekend=function(_e46){
var _e47={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5},_e48={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6},_e49=_e40._region(_e46),_e4a=_e47[_e49],end=_e48[_e49];
if(_e4a===undefined){
_e4a=6;
}
if(end===undefined){
end=0;
}
return {start:_e4a,end:end};
};
return _e40;
});
},"dijit/_editor/nls/commands":function(){
define({root:({"bold":"Bold","copy":"Copy","cut":"Cut","delete":"Delete","indent":"Indent","insertHorizontalRule":"Horizontal Rule","insertOrderedList":"Numbered List","insertUnorderedList":"Bullet List","italic":"Italic","justifyCenter":"Align Center","justifyFull":"Justify","justifyLeft":"Align Left","justifyRight":"Align Right","outdent":"Outdent","paste":"Paste","redo":"Redo","removeFormat":"Remove Format","selectAll":"Select All","strikethrough":"Strikethrough","subscript":"Subscript","superscript":"Superscript","underline":"Underline","undo":"Undo","unlink":"Remove Link","createLink":"Create Link","toggleDir":"Toggle Direction","insertImage":"Insert Image","insertTable":"Insert/Edit Table","toggleTableBorder":"Toggle Table Border","deleteTable":"Delete Table","tableProp":"Table Property","htmlToggle":"HTML Source","foreColor":"Foreground Color","hiliteColor":"Background Color","plainFormatBlock":"Paragraph Style","formatBlock":"Paragraph Style","fontSize":"Font Size","fontName":"Font Name","tabIndent":"Tab Indent","fullScreen":"Toggle Full Screen","viewSource":"View HTML Source","print":"Print","newPage":"New Page","systemShortcut":"The \"${0}\" action is only available in your browser using a keyboard shortcut. Use ${1}.","ctrlKey":"ctrl+${0}","appleKey":"${0}"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});
},"dijit/_editor/nls/pt/commands":function(){
define(({"bold":"Negrito","copy":"Copiar","cut":"Recortar","delete":"Excluir","indent":"Recuar","insertHorizontalRule":"Rgua Horizontal","insertOrderedList":"Lista Numerada","insertUnorderedList":"Lista com Marcadores","italic":"Itlico","justifyCenter":"Alinhar pelo Centro","justifyFull":"Justificar","justifyLeft":"Alinhar pela Esquerda","justifyRight":"Alinhar pela Direita","outdent":"No-chanfrado","paste":"Colar","redo":"Refazer","removeFormat":"Remover Formato","selectAll":"Selecionar Todos","strikethrough":"Tachado","subscript":"Subscrito","superscript":"Sobrescrito","underline":"Sublinhado","undo":"Desfazer","unlink":"Remover Link","createLink":"Criar Link","toggleDir":"Comutar Direo","insertImage":"Inserir Imagem","insertTable":"Inserir/Editar Tabela","toggleTableBorder":"Alternar Moldura da Tabela","deleteTable":"Excluir Tabela","tableProp":"Propriedade da Tabela","htmlToggle":"Origem HTML","foreColor":"Cor do Primeiro Plano","hiliteColor":"Cor de segundo plano","plainFormatBlock":"Estilo de Pargrafo","formatBlock":"Estilo de Pargrafo","fontSize":"Tamanho da Fonte","fontName":"Nome da Fonte","tabIndent":"Recuo de Guia","fullScreen":"Comutar Tela Cheia","viewSource":"Visualizar Origem HTML","print":"Impresso","newPage":"Nova Pgina","systemShortcut":"A ao \"${0}\" est disponvel em seu navegador apenas usando um atalho do teclado. Use ${1}.","ctrlKey":"ctrl+${0}","appleKey":"${0}"}));
},"dijit/_editor/nls/pt/commands":function(){
define(({"bold":"Negrito","copy":"Copiar","cut":"Recortar","delete":"Excluir","indent":"Recuar","insertHorizontalRule":"Rgua Horizontal","insertOrderedList":"Lista Numerada","insertUnorderedList":"Lista com Marcadores","italic":"Itlico","justifyCenter":"Alinhar pelo Centro","justifyFull":"Justificar","justifyLeft":"Alinhar pela Esquerda","justifyRight":"Alinhar pela Direita","outdent":"No-chanfrado","paste":"Colar","redo":"Refazer","removeFormat":"Remover Formato","selectAll":"Selecionar Todos","strikethrough":"Tachado","subscript":"Subscrito","superscript":"Sobrescrito","underline":"Sublinhado","undo":"Desfazer","unlink":"Remover Link","createLink":"Criar Link","toggleDir":"Comutar Direo","insertImage":"Inserir Imagem","insertTable":"Inserir/Editar Tabela","toggleTableBorder":"Alternar Moldura da Tabela","deleteTable":"Excluir Tabela","tableProp":"Propriedade da Tabela","htmlToggle":"Origem HTML","foreColor":"Cor do Primeiro Plano","hiliteColor":"Cor de segundo plano","plainFormatBlock":"Estilo de Pargrafo","formatBlock":"Estilo de Pargrafo","fontSize":"Tamanho da Fonte","fontName":"Nome da Fonte","tabIndent":"Recuo de Guia","fullScreen":"Comutar Tela Cheia","viewSource":"Visualizar Origem HTML","print":"Impresso","newPage":"Nova Pgina","systemShortcut":"A ao \"${0}\" est disponvel em seu navegador apenas usando um atalho do teclado. Use ${1}.","ctrlKey":"ctrl+${0}","appleKey":"${0}"}));
},"dojo/number":function(){
define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(lang,i18n,_e4b,_e4c,_e4d){
var _e4e={};
lang.setObject("dojo.number",_e4e);
_e4e.format=function(_e4f,_e50){
_e50=lang.mixin({},_e50||{});
var _e51=i18n.normalizeLocale(_e50.locale),_e52=i18n.getLocalization("dojo.cldr","number",_e51);
_e50.customs=_e52;
var _e53=_e50.pattern||_e52[(_e50.type||"decimal")+"Format"];
if(isNaN(_e4f)||Math.abs(_e4f)==Infinity){
return null;
}
return _e4e._applyPattern(_e4f,_e53,_e50);
};
_e4e._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;
_e4e._applyPattern=function(_e54,_e55,_e56){
_e56=_e56||{};
var _e57=_e56.customs.group,_e58=_e56.customs.decimal,_e59=_e55.split(";"),_e5a=_e59[0];
_e55=_e59[(_e54<0)?1:0]||("-"+_e5a);
if(_e55.indexOf("%")!=-1){
_e54*=100;
}else{
if(_e55.indexOf("")!=-1){
_e54*=1000;
}else{
if(_e55.indexOf("")!=-1){
_e57=_e56.customs.currencyGroup||_e57;
_e58=_e56.customs.currencyDecimal||_e58;
_e55=_e55.replace(/\u00a4{1,3}/,function(_e5b){
var prop=["symbol","currency","displayName"][_e5b.length-1];
return _e56[prop]||_e56.currency||"";
});
}else{
if(_e55.indexOf("E")!=-1){
throw new Error("exponential notation not supported");
}
}
}
}
var _e5c=_e4e._numberPatternRE;
var _e5d=_e5a.match(_e5c);
if(!_e5d){
throw new Error("unable to find a number expression in pattern: "+_e55);
}
if(_e56.fractional===false){
_e56.places=0;
}
return _e55.replace(_e5c,_e4e._formatAbsolute(_e54,_e5d[0],{decimal:_e58,group:_e57,places:_e56.places,round:_e56.round}));
};
_e4e.round=function(_e5e,_e5f,_e60){
var _e61=10/(_e60||10);
return (_e61*+_e5e).toFixed(_e5f)/_e61;
};
if((0.9).toFixed()==0){
var _e62=_e4e.round;
_e4e.round=function(v,p,m){
var d=Math.pow(10,-p||0),a=Math.abs(v);
if(!v||a>=d){
d=0;
}else{
a/=d;
if(a<0.5||a>=0.95){
d=0;
}
}
return _e62(v,p,m)+(v>0?d:-d);
};
}
_e4e._formatAbsolute=function(_e63,_e64,_e65){
_e65=_e65||{};
if(_e65.places===true){
_e65.places=0;
}
if(_e65.places===Infinity){
_e65.places=6;
}
var _e66=_e64.split("."),_e67=typeof _e65.places=="string"&&_e65.places.indexOf(","),_e68=_e65.places;
if(_e67){
_e68=_e65.places.substring(_e67+1);
}else{
if(!(_e68>=0)){
_e68=(_e66[1]||[]).length;
}
}
if(!(_e65.round<0)){
_e63=_e4e.round(_e63,_e68,_e65.round);
}
var _e69=String(Math.abs(_e63)).split("."),_e6a=_e69[1]||"";
if(_e66[1]||_e65.places){
if(_e67){
_e65.places=_e65.places.substring(0,_e67);
}
var pad=_e65.places!==undefined?_e65.places:(_e66[1]&&_e66[1].lastIndexOf("0")+1);
if(pad>_e6a.length){
_e69[1]=_e4c.pad(_e6a,pad,"0",true);
}
if(_e68<_e6a.length){
_e69[1]=_e6a.substr(0,_e68);
}
}else{
if(_e69[1]){
_e69.pop();
}
}
var _e6b=_e66[0].replace(",","");
pad=_e6b.indexOf("0");
if(pad!=-1){
pad=_e6b.length-pad;
if(pad>_e69[0].length){
_e69[0]=_e4c.pad(_e69[0],pad);
}
if(_e6b.indexOf("#")==-1){
_e69[0]=_e69[0].substr(_e69[0].length-pad);
}
}
var _e6c=_e66[0].lastIndexOf(","),_e6d,_e6e;
if(_e6c!=-1){
_e6d=_e66[0].length-_e6c-1;
var _e6f=_e66[0].substr(0,_e6c);
_e6c=_e6f.lastIndexOf(",");
if(_e6c!=-1){
_e6e=_e6f.length-_e6c-1;
}
}
var _e70=[];
for(var _e71=_e69[0];_e71;){
var off=_e71.length-_e6d;
_e70.push((off>0)?_e71.substr(off):_e71);
_e71=(off>0)?_e71.slice(0,off):"";
if(_e6e){
_e6d=_e6e;
delete _e6e;
}
}
_e69[0]=_e70.reverse().join(_e65.group||",");
return _e69.join(_e65.decimal||".");
};
_e4e.regexp=function(_e72){
return _e4e._parseInfo(_e72).regexp;
};
_e4e._parseInfo=function(_e73){
_e73=_e73||{};
var _e74=i18n.normalizeLocale(_e73.locale),_e75=i18n.getLocalization("dojo.cldr","number",_e74),_e76=_e73.pattern||_e75[(_e73.type||"decimal")+"Format"],_e77=_e75.group,_e78=_e75.decimal,_e79=1;
if(_e76.indexOf("%")!=-1){
_e79/=100;
}else{
if(_e76.indexOf("")!=-1){
_e79/=1000;
}else{
var _e7a=_e76.indexOf("")!=-1;
if(_e7a){
_e77=_e75.currencyGroup||_e77;
_e78=_e75.currencyDecimal||_e78;
}
}
}
var _e7b=_e76.split(";");
if(_e7b.length==1){
_e7b.push("-"+_e7b[0]);
}
var re=_e4d.buildGroupRE(_e7b,function(_e7c){
_e7c="(?:"+_e4d.escapeString(_e7c,".")+")";
return _e7c.replace(_e4e._numberPatternRE,function(_e7d){
var _e7e={signed:false,separator:_e73.strict?_e77:[_e77,""],fractional:_e73.fractional,decimal:_e78,exponent:false},_e7f=_e7d.split("."),_e80=_e73.places;
if(_e7f.length==1&&_e79!=1){
_e7f[1]="###";
}
if(_e7f.length==1||_e80===0){
_e7e.fractional=false;
}else{
if(_e80===undefined){
_e80=_e73.pattern?_e7f[1].lastIndexOf("0")+1:Infinity;
}
if(_e80&&_e73.fractional==undefined){
_e7e.fractional=true;
}
if(!_e73.places&&(_e80<_e7f[1].length)){
_e80+=","+_e7f[1].length;
}
_e7e.places=_e80;
}
var _e81=_e7f[0].split(",");
if(_e81.length>1){
_e7e.groupSize=_e81.pop().length;
if(_e81.length>1){
_e7e.groupSize2=_e81.pop().length;
}
}
return "("+_e4e._realNumberRegexp(_e7e)+")";
});
},true);
if(_e7a){
re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_e82,_e83,_e84,_e85){
var prop=["symbol","currency","displayName"][_e84.length-1],_e86=_e4d.escapeString(_e73[prop]||_e73.currency||"");
_e83=_e83?"[\\s\\xa0]":"";
_e85=_e85?"[\\s\\xa0]":"";
if(!_e73.strict){
if(_e83){
_e83+="*";
}
if(_e85){
_e85+="*";
}
return "(?:"+_e83+_e86+_e85+")?";
}
return _e83+_e86+_e85;
});
}
return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_e77,decimal:_e78,factor:_e79};
};
_e4e.parse=function(_e87,_e88){
var info=_e4e._parseInfo(_e88),_e89=(new RegExp("^"+info.regexp+"$")).exec(_e87);
if(!_e89){
return NaN;
}
var _e8a=_e89[1];
if(!_e89[1]){
if(!_e89[2]){
return NaN;
}
_e8a=_e89[2];
info.factor*=-1;
}
_e8a=_e8a.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");
return _e8a*info.factor;
};
_e4e._realNumberRegexp=function(_e8b){
_e8b=_e8b||{};
if(!("places" in _e8b)){
_e8b.places=Infinity;
}
if(typeof _e8b.decimal!="string"){
_e8b.decimal=".";
}
if(!("fractional" in _e8b)||/^0/.test(_e8b.places)){
_e8b.fractional=[true,false];
}
if(!("exponent" in _e8b)){
_e8b.exponent=[true,false];
}
if(!("eSigned" in _e8b)){
_e8b.eSigned=[true,false];
}
var _e8c=_e4e._integerRegexp(_e8b),_e8d=_e4d.buildGroupRE(_e8b.fractional,function(q){
var re="";
if(q&&(_e8b.places!==0)){
re="\\"+_e8b.decimal;
if(_e8b.places==Infinity){
re="(?:"+re+"\\d+)?";
}else{
re+="\\d{"+_e8b.places+"}";
}
}
return re;
},true);
var _e8e=_e4d.buildGroupRE(_e8b.exponent,function(q){
if(q){
return "([eE]"+_e4e._integerRegexp({signed:_e8b.eSigned})+")";
}
return "";
});
var _e8f=_e8c+_e8d;
if(_e8d){
_e8f="(?:(?:"+_e8f+")|(?:"+_e8d+"))";
}
return _e8f+_e8e;
};
_e4e._integerRegexp=function(_e90){
_e90=_e90||{};
if(!("signed" in _e90)){
_e90.signed=[true,false];
}
if(!("separator" in _e90)){
_e90.separator="";
}else{
if(!("groupSize" in _e90)){
_e90.groupSize=3;
}
}
var _e91=_e4d.buildGroupRE(_e90.signed,function(q){
return q?"[-+]":"";
},true);
var _e92=_e4d.buildGroupRE(_e90.separator,function(sep){
if(!sep){
return "(?:\\d+)";
}
sep=_e4d.escapeString(sep);
if(sep==" "){
sep="\\s";
}else{
if(sep==""){
sep="\\s\\xa0";
}
}
var grp=_e90.groupSize,grp2=_e90.groupSize2;
if(grp2){
var _e93="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";
return ((grp-grp2)>0)?"(?:"+_e93+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_e93;
}
return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";
},true);
return _e91+_e92;
};
return _e4e;
});
},"dijit/layout/_ContentPaneResizeMixin":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","dojo/sniff","../registry","../Viewport","./utils"],function(_e94,_e95,_e96,_e97,_e98,lang,_e99,has,_e9a,_e9b,_e9c){
return _e95("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){
if(this._started){
return;
}
var _e9d=this.getParent();
this._childOfLayoutWidget=_e9d&&_e9d.isLayoutContainer;
this._needLayout=!this._childOfLayoutWidget;
this.inherited(arguments);
if(this._isShown()){
this._onShow();
}
if(!this._childOfLayoutWidget){
this.own(_e9b.on("resize",lang.hitch(this,"resize")));
}
},_checkIfSingleChild:function(){
var _e9e=[],_e9f=false;
_e99("> *",this.containerNode).some(function(node){
var _ea0=_e9a.byNode(node);
if(_ea0&&_ea0.resize){
_e9e.push(_ea0);
}else{
if(!/script|link|style/i.test(node.nodeName)&&node.offsetHeight){
_e9f=true;
}
}
});
this._singleChild=_e9e.length==1&&!_e9f?_e9e[0]:null;
_e96.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);
},resize:function(_ea1,_ea2){
this._resizeCalled=true;
this._scheduleLayout(_ea1,_ea2);
},_scheduleLayout:function(_ea3,_ea4){
if(this._isShown()){
this._layout(_ea3,_ea4);
}else{
this._needLayout=true;
this._changeSize=_ea3;
this._resultSize=_ea4;
}
},_layout:function(_ea5,_ea6){
delete this._needLayout;
if(!this._wasShown&&this.open!==false){
this._onShow();
}
if(_ea5){
_e97.setMarginBox(this.domNode,_ea5);
}
var cn=this.containerNode;
if(cn===this.domNode){
var mb=_ea6||{};
lang.mixin(mb,_ea5||{});
if(!("h" in mb)||!("w" in mb)){
mb=lang.mixin(_e97.getMarginBox(cn),mb);
}
this._contentBox=_e9c.marginBox2contentBox(cn,mb);
}else{
this._contentBox=_e97.getContentBox(cn);
}
this._layoutChildren();
},_layoutChildren:function(){
if(this.doLayout){
this._checkIfSingleChild();
}
if(this._singleChild&&this._singleChild.resize){
var cb=this._contentBox||_e97.getContentBox(this.containerNode);
this._singleChild.resize({w:cb.w,h:cb.h});
}else{
var _ea7=this.getChildren(),_ea8,i=0;
while(_ea8=_ea7[i++]){
if(_ea8.resize){
_ea8.resize();
}
}
}
},_isShown:function(){
if(this._childOfLayoutWidget){
if(this._resizeCalled&&"open" in this){
return this.open;
}
return this._resizeCalled;
}else{
if("open" in this){
return this.open;
}else{
var node=this.domNode,_ea9=this.domNode.parentNode;
return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_e96.contains(node,"dijitHidden")&&_ea9&&_ea9.style&&(_ea9.style.display!="none");
}
}
},_onShow:function(){
this._wasShown=true;
if(this._needLayout){
this._layout(this._changeSize,this._resultSize);
}
this.inherited(arguments);
}});
});
},"dijit/form/_ButtonMixin":function(){
define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(_eaa,dom,has,_eab){
var _eac=_eaa("dijit.form._ButtonMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){
e.stopPropagation();
e.preventDefault();
if(!this.disabled){
this.valueNode.click(e);
}
return false;
},_onClick:function(e){
if(this.disabled){
e.stopPropagation();
e.preventDefault();
return false;
}
if(this.onClick(e)===false){
e.preventDefault();
}
var _ead=e.defaultPrevented;
if(!_ead&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){
for(var node=this.domNode;node.parentNode;node=node.parentNode){
var _eae=_eab.byNode(node);
if(_eae&&typeof _eae._onSubmit=="function"){
_eae._onSubmit(e);
e.preventDefault();
_ead=true;
break;
}
}
}
return !_ead;
},postCreate:function(){
this.inherited(arguments);
dom.setSelectable(this.focusNode,false);
},onClick:function(){
return true;
},_setLabelAttr:function(_eaf){
this._set("label",_eaf);
var _eb0=this.containerNode||this.focusNode;
_eb0.innerHTML=_eaf;
}});
if(has("dojo-bidi")){
_eac=_eaa("dijit.form._ButtonMixin",_eac,{_setLabelAttr:function(){
this.inherited(arguments);
var _eb1=this.containerNode||this.focusNode;
this.applyTextDir(_eb1);
}});
}
return _eac;
});
},"dijit/tree/TreeStoreModel":function(){
define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(_eb2,_eb3,_eb4,lang){
return _eb4("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(args){
lang.mixin(this,args);
this.connects=[];
var _eb5=this.store;
if(!_eb5.getFeatures()["dojo.data.api.Identity"]){
throw new Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");
}
if(_eb5.getFeatures()["dojo.data.api.Notification"]){
this.connects=this.connects.concat([_eb3.after(_eb5,"onNew",lang.hitch(this,"onNewItem"),true),_eb3.after(_eb5,"onDelete",lang.hitch(this,"onDeleteItem"),true),_eb3.after(_eb5,"onSet",lang.hitch(this,"onSetItem"),true)]);
}
},destroy:function(){
var h;
while(h=this.connects.pop()){
h.remove();
}
},getRoot:function(_eb6,_eb7){
if(this.root){
_eb6(this.root);
}else{
this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_eb8){
if(_eb8.length!=1){
throw new Error("dijit.tree.TreeStoreModel: root query returned "+_eb8.length+" items, but must return exactly one");
}
this.root=_eb8[0];
_eb6(this.root);
}),onError:_eb7});
}
},mayHaveChildren:function(item){
return _eb2.some(this.childrenAttrs,function(attr){
return this.store.hasAttribute(item,attr);
},this);
},getChildren:function(_eb9,_eba,_ebb){
var _ebc=this.store;
if(!_ebc.isItemLoaded(_eb9)){
var _ebd=lang.hitch(this,arguments.callee);
_ebc.loadItem({item:_eb9,onItem:function(_ebe){
_ebd(_ebe,_eba,_ebb);
},onError:_ebb});
return;
}
var _ebf=[];
for(var i=0;i<this.childrenAttrs.length;i++){
var vals=_ebc.getValues(_eb9,this.childrenAttrs[i]);
_ebf=_ebf.concat(vals);
}
var _ec0=0;
if(!this.deferItemLoadingUntilExpand){
_eb2.forEach(_ebf,function(item){
if(!_ebc.isItemLoaded(item)){
_ec0++;
}
});
}
if(_ec0==0){
_eba(_ebf);
}else{
_eb2.forEach(_ebf,function(item,idx){
if(!_ebc.isItemLoaded(item)){
_ebc.loadItem({item:item,onItem:function(item){
_ebf[idx]=item;
if(--_ec0==0){
_eba(_ebf);
}
},onError:_ebb});
}
});
}
},isItem:function(_ec1){
return this.store.isItem(_ec1);
},fetchItemByIdentity:function(_ec2){
this.store.fetchItemByIdentity(_ec2);
},getIdentity:function(item){
return this.store.getIdentity(item);
},getLabel:function(item){
if(this.labelAttr){
return this.store.getValue(item,this.labelAttr);
}else{
return this.store.getLabel(item);
}
},newItem:function(args,_ec3,_ec4){
var _ec5={parent:_ec3,attribute:this.childrenAttrs[0]},_ec6;
if(this.newItemIdAttr&&args[this.newItemIdAttr]){
this.fetchItemByIdentity({identity:args[this.newItemIdAttr],scope:this,onItem:function(item){
if(item){
this.pasteItem(item,null,_ec3,true,_ec4);
}else{
_ec6=this.store.newItem(args,_ec5);
if(_ec6&&(_ec4!=undefined)){
this.pasteItem(_ec6,_ec3,_ec3,false,_ec4);
}
}
}});
}else{
_ec6=this.store.newItem(args,_ec5);
if(_ec6&&(_ec4!=undefined)){
this.pasteItem(_ec6,_ec3,_ec3,false,_ec4);
}
}
},pasteItem:function(_ec7,_ec8,_ec9,_eca,_ecb){
var _ecc=this.store,_ecd=this.childrenAttrs[0];
if(_ec8){
_eb2.forEach(this.childrenAttrs,function(attr){
if(_ecc.containsValue(_ec8,attr,_ec7)){
if(!_eca){
var _ece=_eb2.filter(_ecc.getValues(_ec8,attr),function(x){
return x!=_ec7;
});
_ecc.setValues(_ec8,attr,_ece);
}
_ecd=attr;
}
});
}
if(_ec9){
if(typeof _ecb=="number"){
var _ecf=_ecc.getValues(_ec9,_ecd).slice();
_ecf.splice(_ecb,0,_ec7);
_ecc.setValues(_ec9,_ecd,_ecf);
}else{
_ecc.setValues(_ec9,_ecd,_ecc.getValues(_ec9,_ecd).concat(_ec7));
}
}
},onChange:function(){
},onChildrenChange:function(){
},onDelete:function(){
},onNewItem:function(item,_ed0){
if(!_ed0){
return;
}
this.getChildren(_ed0.item,lang.hitch(this,function(_ed1){
this.onChildrenChange(_ed0.item,_ed1);
}));
},onDeleteItem:function(item){
this.onDelete(item);
},onSetItem:function(item,_ed2){
if(_eb2.indexOf(this.childrenAttrs,_ed2)!=-1){
this.getChildren(item,lang.hitch(this,function(_ed3){
this.onChildrenChange(item,_ed3);
}));
}else{
this.onChange(item);
}
}});
});
},"dojo/dnd/TimedMoveable":function(){
define(["../_base/declare","./Moveable"],function(_ed4,_ed5){
var _ed6=_ed5.prototype.onMove;
return _ed4("dojo.dnd.TimedMoveable",_ed5,{timeout:40,constructor:function(node,_ed7){
if(!_ed7){
_ed7={};
}
if(_ed7.timeout&&typeof _ed7.timeout=="number"&&_ed7.timeout>=0){
this.timeout=_ed7.timeout;
}
},onMoveStop:function(_ed8){
if(_ed8._timer){
clearTimeout(_ed8._timer);
_ed6.call(this,_ed8,_ed8._leftTop);
}
_ed5.prototype.onMoveStop.apply(this,arguments);
},onMove:function(_ed9,_eda){
_ed9._leftTop=_eda;
if(!_ed9._timer){
var _edb=this;
_ed9._timer=setTimeout(function(){
_ed9._timer=null;
_ed6.call(_edb,_ed9,_ed9._leftTop);
},this.timeout);
}
}});
});
},"dijit/a11yclick":function(){
define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(keys,_edc,on,_edd){
function _ede(e){
if((e.keyCode===keys.ENTER||e.keyCode===keys.SPACE)&&!/input|button|textarea/i.test(e.target.nodeName)){
for(var node=e.target;node;node=node.parentNode){
if(node.dojoClick){
return true;
}
}
}
};
var _edf;
on(document,"keydown",function(e){
if(_ede(e)){
_edf=e.target;
e.preventDefault();
}else{
_edf=null;
}
});
on(document,"keyup",function(e){
if(_ede(e)&&e.target==_edf){
_edf=null;
on.emit(e.target,"click",{cancelable:true,bubbles:true,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type});
}
});
var _ee0=function(node,_ee1){
node.dojoClick=true;
return on(node,"click",_ee1);
};
_ee0.click=_ee0;
_ee0.press=function(node,_ee2){
var _ee3=on(node,_edd.press,function(evt){
if(evt.type=="mousedown"&&!_edc.isLeft(evt)){
return;
}
_ee2(evt);
}),_ee4=on(node,"keydown",function(evt){
if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){
_ee2(evt);
}
});
return {remove:function(){
_ee3.remove();
_ee4.remove();
}};
};
_ee0.release=function(node,_ee5){
var _ee6=on(node,_edd.release,function(evt){
if(evt.type=="mouseup"&&!_edc.isLeft(evt)){
return;
}
_ee5(evt);
}),_ee7=on(node,"keyup",function(evt){
if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){
_ee5(evt);
}
});
return {remove:function(){
_ee6.remove();
_ee7.remove();
}};
};
_ee0.move=_edd.move;
return _ee0;
});
},"dijit/hccss":function(){
define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(_ee8,has,_ee9,win){
_ee9(function(){
if(has("highcontrast")){
_ee8.add(win.body(),"dijit_a11y");
}
});
return has;
});
},"dijit/Editor":function(){
define(["require","dojo/_base/array","dojo/_base/declare","dojo/Deferred","dojo/i18n","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/string","dojo/topic","./_Container","./Toolbar","./ToolbarSeparator","./layout/_LayoutWidget","./form/ToggleButton","./_editor/_Plugin","./_editor/plugins/EnterKeyHandling","./_editor/html","./_editor/range","./_editor/RichText","./main","dojo/i18n!./_editor/nls/commands"],function(_eea,_eeb,_eec,_eed,i18n,_eee,_eef,_ef0,_ef1,keys,lang,has,_ef2,_ef3,_ef4,_ef5,_ef6,_ef7,_ef8,_ef9,_efa,html,_efb,_efc,_efd){
var _efe=_eec("dijit.Editor",_efc,{plugins:null,extraPlugins:null,constructor:function(){
if(!lang.isArray(this.plugins)){
this.plugins=["undo","redo","|","cut","copy","paste","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull",_efa];
}
this._plugins=[];
this._editInterval=this.editActionInterval*1000;
if(has("ie")||has("trident")){
this.events.push("onBeforeDeactivate");
this.events.push("onBeforeActivate");
}
},postMixInProperties:function(){
this.setValueDeferred=new _eed();
this.inherited(arguments);
},postCreate:function(){
this.inherited(arguments);
this._steps=this._steps.slice(0);
this._undoedSteps=this._undoedSteps.slice(0);
if(lang.isArray(this.extraPlugins)){
this.plugins=this.plugins.concat(this.extraPlugins);
}
this.commands=i18n.getLocalization("dijit._editor","commands",this.lang);
if(has("webkit")){
_ef1.set(this.domNode,"KhtmlUserSelect","none");
}
},startup:function(){
this.inherited(arguments);
if(!this.toolbar){
this.toolbar=new _ef5({ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,"aria-label":this.id});
this.header.appendChild(this.toolbar.domNode);
}
_eeb.forEach(this.plugins,this.addPlugin,this);
this.setValueDeferred.resolve(true);
_eef.add(this.iframe.parentNode,"dijitEditorIFrameContainer");
_eef.add(this.iframe,"dijitEditorIFrame");
_eee.set(this.iframe,"allowTransparency",true);
this.toolbar.startup();
this.onNormalizedDisplayChanged();
},destroy:function(){
_eeb.forEach(this._plugins,function(p){
if(p&&p.destroy){
p.destroy();
}
});
this._plugins=[];
this.toolbar.destroyRecursive();
delete this.toolbar;
this.inherited(arguments);
},addPlugin:function(_eff,_f00){
var args=lang.isString(_eff)?{name:_eff}:lang.isFunction(_eff)?{ctor:_eff}:_eff;
if(!args.setEditor){
var o={"args":args,"plugin":null,"editor":this};
if(args.name){
if(_ef9.registry[args.name]){
o.plugin=_ef9.registry[args.name](args);
}else{
_ef3.publish(_efd._scopeName+".Editor.getPlugin",o);
}
}
if(!o.plugin){
try{
var pc=args.ctor||lang.getObject(args.name)||_eea(args.name);
if(pc){
o.plugin=new pc(args);
}
}
catch(e){
throw new Error(this.id+": cannot find plugin ["+args.name+"]");
}
}
if(!o.plugin){
throw new Error(this.id+": cannot find plugin ["+args.name+"]");
}
_eff=o.plugin;
}
if(arguments.length>1){
this._plugins[_f00]=_eff;
}else{
this._plugins.push(_eff);
}
_eff.setEditor(this);
if(lang.isFunction(_eff.setToolbar)){
_eff.setToolbar(this.toolbar);
}
},resize:function(size){
if(size){
_ef7.prototype.resize.apply(this,arguments);
}
},layout:function(){
var _f01=(this._contentBox.h-(this.getHeaderHeight()+this.getFooterHeight()+_ef0.getPadBorderExtents(this.iframe.parentNode).h+_ef0.getMarginExtents(this.iframe.parentNode).h));
this.editingArea.style.height=_f01+"px";
if(this.iframe){
this.iframe.style.height="100%";
}
this._layoutMode=true;
},_onIEMouseDown:function(e){
var _f02;
var b=this.document.body;
var _f03=b.clientWidth;
var _f04=b.clientHeight;
var _f05=b.clientLeft;
var _f06=b.offsetWidth;
var _f07=b.offsetHeight;
var _f08=b.offsetLeft;
if(/^rtl$/i.test(b.dir||"")){
if(_f03<_f06&&e.x>_f03&&e.x<_f06){
_f02=true;
}
}else{
if(e.x<_f05&&e.x>_f08){
_f02=true;
}
}
if(!_f02){
if(_f04<_f07&&e.y>_f04&&e.y<_f07){
_f02=true;
}
}
if(!_f02){
delete this._cursorToStart;
delete this._savedSelection;
if(e.target.tagName=="BODY"){
this.defer("placeCursorAtEnd");
}
this.inherited(arguments);
}
},onBeforeActivate:function(){
this._restoreSelection();
},onBeforeDeactivate:function(e){
if(this.customUndo){
this.endEditing(true);
}
if(e.target.tagName!="BODY"){
this._saveSelection();
}
},customUndo:true,editActionInterval:3,beginEditing:function(cmd){
if(!this._inEditing){
this._inEditing=true;
this._beginEditing(cmd);
}
if(this.editActionInterval>0){
if(this._editTimer){
this._editTimer.remove();
}
this._editTimer=this.defer("endEditing",this._editInterval);
}
},_steps:[],_undoedSteps:[],execCommand:function(cmd){
if(this.customUndo&&(cmd=="undo"||cmd=="redo")){
return this[cmd]();
}else{
if(this.customUndo){
this.endEditing();
this._beginEditing();
}
var r=this.inherited(arguments);
if(this.customUndo){
this._endEditing();
}
return r;
}
},_pasteImpl:function(){
return this._clipboardCommand("paste");
},_cutImpl:function(){
return this._clipboardCommand("cut");
},_copyImpl:function(){
return this._clipboardCommand("copy");
},_clipboardCommand:function(cmd){
var r;
try{
r=this.document.execCommand(cmd,false,null);
if(has("webkit")&&!r){
throw {code:1011};
}
}
catch(e){
if(e.code==1011||(e.code==9&&has("opera"))){
var sub=_ef2.substitute,_f09={cut:"X",copy:"C",paste:"V"};
alert(sub(this.commands.systemShortcut,[this.commands[cmd],sub(this.commands[has("mac")?"appleKey":"ctrlKey"],[_f09[cmd]])]));
}
r=false;
}
return r;
},queryCommandEnabled:function(cmd){
if(this.customUndo&&(cmd=="undo"||cmd=="redo")){
return cmd=="undo"?(this._steps.length>1):(this._undoedSteps.length>0);
}else{
return this.inherited(arguments);
}
},_moveToBookmark:function(b){
var _f0a=b.mark;
var mark=b.mark;
var col=b.isCollapsed;
var r,_f0b,_f0c,sel;
if(mark){
if(has("ie")<9||(has("ie")===9&&has("quirks"))){
if(lang.isArray(mark)){
_f0a=[];
_eeb.forEach(mark,function(n){
_f0a.push(_efb.getNode(n,this.editNode));
},this);
this.selection.moveToBookmark({mark:_f0a,isCollapsed:col});
}else{
if(mark.startContainer&&mark.endContainer){
sel=_efb.getSelection(this.window);
if(sel&&sel.removeAllRanges){
sel.removeAllRanges();
r=_efb.create(this.window);
_f0b=_efb.getNode(mark.startContainer,this.editNode);
_f0c=_efb.getNode(mark.endContainer,this.editNode);
if(_f0b&&_f0c){
r.setStart(_f0b,mark.startOffset);
r.setEnd(_f0c,mark.endOffset);
sel.addRange(r);
}
}
}
}
}else{
sel=_efb.getSelection(this.window);
if(sel&&sel.removeAllRanges){
sel.removeAllRanges();
r=_efb.create(this.window);
_f0b=_efb.getNode(mark.startContainer,this.editNode);
_f0c=_efb.getNode(mark.endContainer,this.editNode);
if(_f0b&&_f0c){
r.setStart(_f0b,mark.startOffset);
r.setEnd(_f0c,mark.endOffset);
sel.addRange(r);
}
}
}
}
},_changeToStep:function(from,to){
this.setValue(to.text);
var b=to.bookmark;
if(!b){
return;
}
this._moveToBookmark(b);
},undo:function(){
var ret=false;
if(!this._undoRedoActive){
this._undoRedoActive=true;
this.endEditing(true);
var s=this._steps.pop();
if(s&&this._steps.length>0){
this.focus();
this._changeToStep(s,this._steps[this._steps.length-1]);
this._undoedSteps.push(s);
this.onDisplayChanged();
delete this._undoRedoActive;
ret=true;
}
delete this._undoRedoActive;
}
return ret;
},redo:function(){
var ret=false;
if(!this._undoRedoActive){
this._undoRedoActive=true;
this.endEditing(true);
var s=this._undoedSteps.pop();
if(s&&this._steps.length>0){
this.focus();
this._changeToStep(this._steps[this._steps.length-1],s);
this._steps.push(s);
this.onDisplayChanged();
ret=true;
}
delete this._undoRedoActive;
}
return ret;
},endEditing:function(_f0d){
if(this._editTimer){
this._editTimer=this._editTimer.remove();
}
if(this._inEditing){
this._endEditing(_f0d);
this._inEditing=false;
}
},_getBookmark:function(){
var b=this.selection.getBookmark();
var tmp=[];
if(b&&b.mark){
var mark=b.mark;
if(has("ie")<9||(has("ie")===9&&has("quirks"))){
var sel=_efb.getSelection(this.window);
if(!lang.isArray(mark)){
if(sel){
var _f0e;
if(sel.rangeCount){
_f0e=sel.getRangeAt(0);
}
if(_f0e){
b.mark=_f0e.cloneRange();
}else{
b.mark=this.selection.getBookmark();
}
}
}else{
_eeb.forEach(b.mark,function(n){
tmp.push(_efb.getIndex(n,this.editNode).o);
},this);
b.mark=tmp;
}
}
try{
if(b.mark&&b.mark.startContainer){
tmp=_efb.getIndex(b.mark.startContainer,this.editNode).o;
b.mark={startContainer:tmp,startOffset:b.mark.startOffset,endContainer:b.mark.endContainer===b.mark.startContainer?tmp:_efb.getIndex(b.mark.endContainer,this.editNode).o,endOffset:b.mark.endOffset};
}
}
catch(e){
b.mark=null;
}
}
return b;
},_beginEditing:function(){
if(this._steps.length===0){
this._steps.push({"text":html.getChildrenHtml(this.editNode),"bookmark":this._getBookmark()});
}
},_endEditing:function(){
var v=html.getChildrenHtml(this.editNode);
this._undoedSteps=[];
this._steps.push({text:v,bookmark:this._getBookmark()});
},onKeyDown:function(e){
if(!has("ie")&&!this.iframe&&e.keyCode==keys.TAB&&!this.tabIndent){
this._saveSelection();
}
if(!this.customUndo){
this.inherited(arguments);
return;
}
var k=e.keyCode;
if(e.ctrlKey&&!e.shiftKey&&!e.altKey){
if(k==90||k==122){
e.stopPropagation();
e.preventDefault();
this.undo();
return;
}else{
if(k==89||k==121){
e.stopPropagation();
e.preventDefault();
this.redo();
return;
}
}
}
this.inherited(arguments);
switch(k){
case keys.ENTER:
case keys.BACKSPACE:
case keys.DELETE:
this.beginEditing();
break;
case 88:
case 86:
if(e.ctrlKey&&!e.altKey&&!e.metaKey){
this.endEditing();
if(e.keyCode==88){
this.beginEditing("cut");
}else{
this.beginEditing("paste");
}
this.defer("endEditing",1);
break;
}
default:
if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.keyCode<keys.F1||e.keyCode>keys.F15)){
this.beginEditing();
break;
}
case keys.ALT:
this.endEditing();
break;
case keys.UP_ARROW:
case keys.DOWN_ARROW:
case keys.LEFT_ARROW:
case keys.RIGHT_ARROW:
case keys.HOME:
case keys.END:
case keys.PAGE_UP:
case keys.PAGE_DOWN:
this.endEditing(true);
break;
case keys.CTRL:
case keys.SHIFT:
case keys.TAB:
break;
}
},_onBlur:function(){
this.inherited(arguments);
this.endEditing(true);
},_saveSelection:function(){
try{
this._savedSelection=this._getBookmark();
}
catch(e){
}
},_restoreSelection:function(){
if(this._savedSelection){
delete this._cursorToStart;
if(this.selection.isCollapsed()){
this._moveToBookmark(this._savedSelection);
}
delete this._savedSelection;
}
},onClick:function(){
this.endEditing(true);
this.inherited(arguments);
},replaceValue:function(html){
if(!this.customUndo){
this.inherited(arguments);
}else{
if(this.isClosed){
this.setValue(html);
}else{
this.beginEditing();
if(!html){
html="&#160;";
}
this.setValue(html);
this.endEditing();
}
}
},_setDisabledAttr:function(_f0f){
this.setValueDeferred.then(lang.hitch(this,function(){
if((!this.disabled&&_f0f)||(!this._buttonEnabledPlugins&&_f0f)){
_eeb.forEach(this._plugins,function(p){
p.set("disabled",true);
});
}else{
if(this.disabled&&!_f0f){
_eeb.forEach(this._plugins,function(p){
p.set("disabled",false);
});
}
}
}));
this.inherited(arguments);
},_setStateClass:function(){
try{
this.inherited(arguments);
if(this.document&&this.document.body){
_ef1.set(this.document.body,"color",_ef1.get(this.iframe,"color"));
}
}
catch(e){
}
}});
function _f10(args){
return new _ef9({command:args.name});
};
function _f11(args){
return new _ef9({buttonClass:_ef8,command:args.name});
};
lang.mixin(_ef9.registry,{"undo":_f10,"redo":_f10,"cut":_f10,"copy":_f10,"paste":_f10,"insertOrderedList":_f10,"insertUnorderedList":_f10,"indent":_f10,"outdent":_f10,"justifyCenter":_f10,"justifyFull":_f10,"justifyLeft":_f10,"justifyRight":_f10,"delete":_f10,"selectAll":_f10,"removeFormat":_f10,"unlink":_f10,"insertHorizontalRule":_f10,"bold":_f11,"italic":_f11,"underline":_f11,"strikethrough":_f11,"subscript":_f11,"superscript":_f11,"|":function(){
return new _ef9({setEditor:function(_f12){
this.editor=_f12;
this.button=new _ef6({ownerDocument:_f12.ownerDocument});
}});
}});
return _efe;
});
},"dojox/grid/Selection":function(){
define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-attr"],function(_f13,_f14,lang,_f15){
return _f13("dojox.grid.Selection",null,{constructor:function(_f16){
this.grid=_f16;
this.selected=[];
this.setMode(_f16.selectionMode);
},mode:"extended",selected:null,updating:0,selectedIndex:-1,rangeStartIndex:-1,setMode:function(mode){
if(this.selected.length){
this.deselectAll();
}
if(mode!="extended"&&mode!="multiple"&&mode!="single"&&mode!="none"){
this.mode="extended";
}else{
this.mode=mode;
}
},onCanSelect:function(_f17){
return this.grid.onCanSelect(_f17);
},onCanDeselect:function(_f18){
return this.grid.onCanDeselect(_f18);
},onSelected:function(_f19){
},onDeselected:function(_f1a){
},onChanging:function(){
},onChanged:function(){
},isSelected:function(_f1b){
if(this.mode=="none"){
return false;
}
return this.selected[_f1b];
},getFirstSelected:function(){
if(!this.selected.length||this.mode=="none"){
return -1;
}
for(var i=0,l=this.selected.length;i<l;i++){
if(this.selected[i]){
return i;
}
}
return -1;
},getNextSelected:function(_f1c){
if(this.mode=="none"){
return -1;
}
for(var i=_f1c+1,l=this.selected.length;i<l;i++){
if(this.selected[i]){
return i;
}
}
return -1;
},getSelected:function(){
var _f1d=[];
for(var i=0,l=this.selected.length;i<l;i++){
if(this.selected[i]){
_f1d.push(i);
}
}
return _f1d;
},getSelectedCount:function(){
var c=0;
for(var i=0;i<this.selected.length;i++){
if(this.selected[i]){
c++;
}
}
return c;
},_beginUpdate:function(){
if(this.updating===0){
this.onChanging();
}
this.updating++;
},_endUpdate:function(){
this.updating--;
if(this.updating===0){
this.onChanged();
}
},select:function(_f1e){
if(this.mode=="none"){
return;
}
if(this.mode!="multiple"){
this.deselectAll(_f1e);
this.addToSelection(_f1e);
}else{
this.toggleSelect(_f1e);
}
},addToSelection:function(_f1f){
if(this.mode=="none"){
return;
}
if(lang.isArray(_f1f)){
_f14.forEach(_f1f,this.addToSelection,this);
return;
}
_f1f=Number(_f1f);
if(this.selected[_f1f]){
this.selectedIndex=_f1f;
}else{
if(this.onCanSelect(_f1f)!==false){
this.selectedIndex=_f1f;
var _f20=this.grid.getRowNode(_f1f);
if(_f20){
_f15.set(_f20,"aria-selected","true");
}
this._beginUpdate();
this.selected[_f1f]=true;
this.onSelected(_f1f);
this._endUpdate();
}
}
},deselect:function(_f21){
if(this.mode=="none"){
return;
}
if(lang.isArray(_f21)){
_f14.forEach(_f21,this.deselect,this);
return;
}
_f21=Number(_f21);
if(this.selectedIndex==_f21){
this.selectedIndex=-1;
}
if(this.selected[_f21]){
if(this.onCanDeselect(_f21)===false){
return;
}
var _f22=this.grid.getRowNode(_f21);
if(_f22){
_f15.set(_f22,"aria-selected","false");
}
this._beginUpdate();
delete this.selected[_f21];
this.onDeselected(_f21);
this._endUpdate();
}
},setSelected:function(_f23,_f24){
this[(_f24?"addToSelection":"deselect")](_f23);
},toggleSelect:function(_f25){
if(lang.isArray(_f25)){
_f14.forEach(_f25,this.toggleSelect,this);
return;
}
this.setSelected(_f25,!this.selected[_f25]);
},_range:function(_f26,inTo,func){
var s=(_f26>=0?_f26:inTo),e=inTo;
if(s>e){
e=s;
s=inTo;
}
for(var i=s;i<=e;i++){
func(i);
}
},selectRange:function(_f27,inTo){
this._range(_f27,inTo,lang.hitch(this,"addToSelection"));
},deselectRange:function(_f28,inTo){
this._range(_f28,inTo,lang.hitch(this,"deselect"));
},insert:function(_f29){
this.selected.splice(_f29,0,false);
if(this.selectedIndex>=_f29){
this.selectedIndex++;
}
},remove:function(_f2a){
this.selected.splice(_f2a,1);
if(this.selectedIndex>=_f2a){
this.selectedIndex--;
}
},deselectAll:function(_f2b){
for(var i in this.selected){
if((i!=_f2b)&&(this.selected[i]===true)){
this.deselect(i);
}
}
},clickSelect:function(_f2c,_f2d,_f2e){
if(this.mode=="none"){
return;
}
this._beginUpdate();
if(this.mode!="extended"){
this.select(_f2c);
}else{
if(!_f2e||this.rangeStartIndex<0){
this.rangeStartIndex=_f2c;
}
if(!_f2d){
this.deselectAll(_f2c);
}
if(_f2e){
this.selectRange(this.rangeStartIndex,_f2c);
}else{
if(_f2d){
this.toggleSelect(_f2c);
}else{
this.addToSelection(_f2c);
}
}
}
this._endUpdate();
},clickSelectEvent:function(e){
this.clickSelect(e.rowIndex,dojo.isCopyKey(e),e.shiftKey);
},clear:function(){
this._beginUpdate();
this.deselectAll();
this._endUpdate();
}});
});
},"manager/MultiTextField":function(){
define("manager/MultiTextField",["dojo/_base/declare"],function(_f2f){
return _f2f("Manager.MultiTextField",[],{mtfName:"",constructor:function(_f30){
this.mtfName=_f30;
this.leftSeparator="[";
this.rightSeparator="]";
this.separator=this.rightSeparator+" "+this.leftSeparator;
this.emptyField=this.leftSeparator+this.rightSeparator;
},getTable:function(){
return eval(this.mtfName+"_table");
},split:function(_f31){
return _f31.substring(1,_f31.length-1).split(this.separator);
},join:function(_f32){
var _f33=this.leftSeparator;
for(var i=0;i<_f32.length;i++){
if(i>0){
_f33+=this.separator;
}
_f33+=_f32[i];
}
_f33+=this.rightSeparator;
return _f33;
},onSubmit:function(_f34){
var name=this.mtfName;
var form=dojo.byId(manager.getParentForm(name));
while(manager.getElementById(name+"[]")){
dojo._destroyElement(name+"[]");
}
var tbl=this.getTable();
data=tbl.getdata();
var _f35="";
var _f36=_f34.split(",");
for(var i=0;i<data.length;i++){
for(var j=0;j<data[i].length;j++){
var list=document.createElement("INPUT");
list.id=name+"["+i+"]"+"["+j+"]";
list.name=name+"["+i+"]"+"["+j+"]";
list.type="hidden";
var _f37=dijit.byId(_f36[j]);
if(_f37.store){
_f37.store.query({name:data[i][j]}).forEach(function(_f38){
_f35=_f38.id;
});
}else{
_f35=data[i][j];
}
list.value=_f35;
form.appendChild(list);
}
}
return true;
},onSelect:function(_f39){
var tbl=this.getTable();
tbl.onmouse=false;
tbl.customSelect=function(){
var _f3a=_f39.split(",");
var _f3b=new Array(_f3a.length);
var text=this.get(tbl.rowSelected);
for(var i=0;i<text.length;i++){
var _f3c=dijit.byId(_f3a[i]);
if(_f3c.store){
_f3c.store.query({name:text[i]}).forEach(function(_f3d){
_f3c.setValue(_f3d.id);
});
}else{
if(_f3c.options!=null){
for(var n=0;n<_f3c.options.length;n++){
if(_f3c.options[n].text==text[i]){
_f3c.selectedIndex=n;
break;
}
}
}else{
if(text[i]!==""){
_f3c.textbox.value=text[i];
}
}
}
}
};
},getInput:function(_f3e){
var _f3f=_f3e.split(",");
var _f40=new Array(_f3f.length);
for(var i=0;i<_f3f.length;i++){
var _f41=manager.getElementById(_f3f[i]);
if(_f41.options!=null){
_f40[i]=_f41.options[_f41.selectedIndex].text;
}else{
_f40[i]=_f41.value;
}
}
return _f40;
},add:function(_f42){
var tbl=this.getTable();
tbl.add(this.getInput(_f42));
},remove:function(_f43){
var tbl=this.getTable();
if(this.isSelected()){
tbl.drop(tbl.rowSelected);
}
},modify:function(_f44){
var tbl=this.getTable();
if(this.isSelected()){
tbl.modify(tbl.rowSelected,this.getInput(_f44));
}
},isSelected:function(){
var tbl=this.getTable();
if(tbl.rowSelected==""){
alert("Nenhum item selecionado!");
return false;
}else{
return true;
}
}});
});
},"dojo/fx/Toggler":function(){
define(["../_base/lang","../_base/declare","../_base/fx","../aspect"],function(lang,_f45,_f46,_f47){
return _f45("dojo.fx.Toggler",null,{node:null,showFunc:_f46.fadeIn,hideFunc:_f46.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){
var _f48=this;
lang.mixin(_f48,args);
_f48.node=args.node;
_f48._showArgs=lang.mixin({},args);
_f48._showArgs.node=_f48.node;
_f48._showArgs.duration=_f48.showDuration;
_f48.showAnim=_f48.showFunc(_f48._showArgs);
_f48._hideArgs=lang.mixin({},args);
_f48._hideArgs.node=_f48.node;
_f48._hideArgs.duration=_f48.hideDuration;
_f48.hideAnim=_f48.hideFunc(_f48._hideArgs);
_f47.after(_f48.showAnim,"beforeBegin",lang.hitch(_f48.hideAnim,"stop",true),true);
_f47.after(_f48.hideAnim,"beforeBegin",lang.hitch(_f48.showAnim,"stop",true),true);
},show:function(_f49){
return this.showAnim.play(_f49||0);
},hide:function(_f4a){
return this.hideAnim.play(_f4a||0);
}});
});
},"dijit/popup":function(){
define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main"],function(_f4b,_f4c,_f4d,dom,_f4e,_f4f,_f50,_f51,has,keys,lang,on,_f52,_f53,_f54,_f55){
function _f56(){
if(this._popupWrapper){
_f4f.destroy(this._popupWrapper);
delete this._popupWrapper;
}
};
var _f57=_f4d(null,{_stack:[],_beginZIndex:1000,_idGen:1,_repositionAll:function(){
if(this._firstAroundNode){
var _f58=this._firstAroundPosition,_f59=_f50.position(this._firstAroundNode,true),dx=_f59.x-_f58.x,dy=_f59.y-_f58.y;
if(dx||dy){
this._firstAroundPosition=_f59;
for(var i=0;i<this._stack.length;i++){
var _f5a=this._stack[i].wrapper.style;
_f5a.top=(parseInt(_f5a.top,10)+dy)+"px";
if(_f5a.right=="auto"){
_f5a.left=(parseInt(_f5a.left,10)+dx)+"px";
}else{
_f5a.right=(parseInt(_f5a.right,10)-dx)+"px";
}
}
}
this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),dx||dy?10:50);
}
},_createWrapper:function(_f5b){
var _f5c=_f5b._popupWrapper,node=_f5b.domNode;
if(!_f5c){
_f5c=_f4f.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":_f5b["aria-label"]||_f5b.label||_f5b.name||_f5b.id},_f5b.ownerDocumentBody);
_f5c.appendChild(node);
var s=node.style;
s.display="";
s.visibility="";
s.position="";
s.top="0px";
_f5b._popupWrapper=_f5c;
_f4c.after(_f5b,"destroy",_f56,true);
}
return _f5c;
},moveOffScreen:function(_f5d){
var _f5e=this._createWrapper(_f5d);
var ltr=_f50.isBodyLtr(_f5d.ownerDocument),_f5f={visibility:"hidden",top:"-9999px",display:""};
_f5f[ltr?"left":"right"]="-9999px";
_f5f[ltr?"right":"left"]="auto";
_f51.set(_f5e,_f5f);
return _f5e;
},hide:function(_f60){
var _f61=this._createWrapper(_f60);
_f51.set(_f61,{display:"none",height:"auto",overflow:"visible",border:""});
var node=_f60.domNode;
if("_originalStyle" in node){
node.style.cssText=node._originalStyle;
}
},getTopPopup:function(){
var _f62=this._stack;
for(var pi=_f62.length-1;pi>0&&_f62[pi].parent===_f62[pi-1].widget;pi--){
}
return _f62[pi];
},open:function(args){
var _f63=this._stack,_f64=args.popup,node=_f64.domNode,_f65=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_f50.isBodyLtr(_f64.ownerDocument),_f66=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);
while(_f63.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_f63[_f63.length-1].widget.domNode))){
this.close(_f63[_f63.length-1].widget);
}
var _f67=this.moveOffScreen(_f64);
if(_f64.startup&&!_f64._started){
_f64.startup();
}
var _f68,_f69=_f50.position(node);
if("maxHeight" in args&&args.maxHeight!=-1){
_f68=args.maxHeight||Infinity;
}else{
var _f6a=_f54.getEffectiveBox(this.ownerDocument),_f6b=_f66?_f50.position(_f66,false):{y:args.y-(args.padding||0),h:(args.padding||0)*2};
_f68=Math.floor(Math.max(_f6b.y,_f6a.h-(_f6b.y+_f6b.h)));
}
if(_f69.h>_f68){
var cs=_f51.getComputedStyle(node),_f6c=cs.borderLeftWidth+" "+cs.borderLeftStyle+" "+cs.borderLeftColor;
_f51.set(_f67,{overflowY:"scroll",height:_f68+"px",border:_f6c});
node._originalStyle=node.style.cssText;
node.style.border="none";
}
_f4e.set(_f67,{id:id,style:{zIndex:this._beginZIndex+_f63.length},"class":"dijitPopup "+(_f64.baseClass||_f64["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});
if(_f63.length==0&&_f66){
this._firstAroundNode=_f66;
this._firstAroundPosition=_f50.position(_f66,true);
this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),50);
}
if(has("config-bgIframe")&&!_f64.bgIframe){
_f64.bgIframe=new _f53(_f67);
}
var _f6d=_f64.orient?lang.hitch(_f64,"orient"):null,best=_f66?_f52.around(_f67,_f66,_f65,ltr,_f6d):_f52.at(_f67,args,_f65=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding,_f6d);
_f67.style.visibility="visible";
node.style.visibility="visible";
var _f6e=[];
_f6e.push(on(_f67,"keydown",lang.hitch(this,function(evt){
if(evt.keyCode==keys.ESCAPE&&args.onCancel){
evt.stopPropagation();
evt.preventDefault();
args.onCancel();
}else{
if(evt.keyCode==keys.TAB){
evt.stopPropagation();
evt.preventDefault();
var _f6f=this.getTopPopup();
if(_f6f&&_f6f.onCancel){
_f6f.onCancel();
}
}
}
})));
if(_f64.onCancel&&args.onCancel){
_f6e.push(_f64.on("cancel",args.onCancel));
}
_f6e.push(_f64.on(_f64.onExecute?"execute":"change",lang.hitch(this,function(){
var _f70=this.getTopPopup();
if(_f70&&_f70.onExecute){
_f70.onExecute();
}
})));
_f63.push({widget:_f64,wrapper:_f67,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_f6e});
if(_f64.onOpen){
_f64.onOpen(best);
}
return best;
},close:function(_f71){
var _f72=this._stack;
while((_f71&&_f4b.some(_f72,function(elem){
return elem.widget==_f71;
}))||(!_f71&&_f72.length)){
var top=_f72.pop(),_f73=top.widget,_f74=top.onClose;
if(_f73.onClose){
_f73.onClose();
}
var h;
while(h=top.handlers.pop()){
h.remove();
}
if(_f73&&_f73.domNode){
this.hide(_f73);
}
if(_f74){
_f74();
}
}
if(_f72.length==0&&this._aroundMoveListener){
clearTimeout(this._aroundMoveListener);
this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null;
}
}});
return (_f55.popup=new _f57());
});
},"dojo/data/ItemFileWriteStore":function(){
define(["../_base/lang","../_base/declare","../_base/array","../_base/json","../_base/kernel","./ItemFileReadStore","../date/stamp"],function(lang,_f75,_f76,_f77,_f78,_f79,_f7a){
return _f75("dojo.data.ItemFileWriteStore",_f79,{constructor:function(_f7b){
this._features["dojo.data.api.Write"]=true;
this._features["dojo.data.api.Notification"]=true;
this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};
if(!this._datatypeMap["Date"].serialize){
this._datatypeMap["Date"].serialize=function(obj){
return _f7a.toISOString(obj,{zulu:true});
};
}
if(_f7b&&(_f7b.referenceIntegrity===false)){
this.referenceIntegrity=false;
}
this._saveInProgress=false;
},referenceIntegrity:true,_assert:function(_f7c){
if(!_f7c){
throw new Error("assertion failed in ItemFileWriteStore");
}
},_getIdentifierAttribute:function(){
return this.getFeatures()["dojo.data.api.Identity"];
},newItem:function(_f7d,_f7e){
this._assert(!this._saveInProgress);
if(!this._loadFinished){
this._forceLoad();
}
if(typeof _f7d!="object"&&typeof _f7d!="undefined"){
throw new Error("newItem() was passed something other than an object");
}
var _f7f=null;
var _f80=this._getIdentifierAttribute();
if(_f80===Number){
_f7f=this._arrayOfAllItems.length;
}else{
_f7f=_f7d[_f80];
if(typeof _f7f==="undefined"){
throw new Error("newItem() was not passed an identity for the new item");
}
if(lang.isArray(_f7f)){
throw new Error("newItem() was not passed an single-valued identity");
}
}
if(this._itemsByIdentity){
this._assert(typeof this._itemsByIdentity[_f7f]==="undefined");
}
this._assert(typeof this._pending._newItems[_f7f]==="undefined");
this._assert(typeof this._pending._deletedItems[_f7f]==="undefined");
var _f81={};
_f81[this._storeRefPropName]=this;
_f81[this._itemNumPropName]=this._arrayOfAllItems.length;
if(this._itemsByIdentity){
this._itemsByIdentity[_f7f]=_f81;
_f81[_f80]=[_f7f];
}
this._arrayOfAllItems.push(_f81);
var _f82=null;
if(_f7e&&_f7e.parent&&_f7e.attribute){
_f82={item:_f7e.parent,attribute:_f7e.attribute,oldValue:undefined};
var _f83=this.getValues(_f7e.parent,_f7e.attribute);
if(_f83&&_f83.length>0){
var _f84=_f83.slice(0,_f83.length);
if(_f83.length===1){
_f82.oldValue=_f83[0];
}else{
_f82.oldValue=_f83.slice(0,_f83.length);
}
_f84.push(_f81);
this._setValueOrValues(_f7e.parent,_f7e.attribute,_f84,false);
_f82.newValue=this.getValues(_f7e.parent,_f7e.attribute);
}else{
this._setValueOrValues(_f7e.parent,_f7e.attribute,_f81,false);
_f82.newValue=_f81;
}
}else{
_f81[this._rootItemPropName]=true;
this._arrayOfTopLevelItems.push(_f81);
}
this._pending._newItems[_f7f]=_f81;
for(var key in _f7d){
if(key===this._storeRefPropName||key===this._itemNumPropName){
throw new Error("encountered bug in ItemFileWriteStore.newItem");
}
var _f85=_f7d[key];
if(!lang.isArray(_f85)){
_f85=[_f85];
}
_f81[key]=_f85;
if(this.referenceIntegrity){
for(var i=0;i<_f85.length;i++){
var val=_f85[i];
if(this.isItem(val)){
this._addReferenceToMap(val,_f81,key);
}
}
}
}
this.onNew(_f81,_f82);
return _f81;
},_removeArrayElement:function(_f86,_f87){
var _f88=_f76.indexOf(_f86,_f87);
if(_f88!=-1){
_f86.splice(_f88,1);
return true;
}
return false;
},deleteItem:function(item){
this._assert(!this._saveInProgress);
this._assertIsItem(item);
var _f89=item[this._itemNumPropName];
var _f8a=this.getIdentity(item);
if(this.referenceIntegrity){
var _f8b=this.getAttributes(item);
if(item[this._reverseRefMap]){
item["backup_"+this._reverseRefMap]=lang.clone(item[this._reverseRefMap]);
}
_f76.forEach(_f8b,function(_f8c){
_f76.forEach(this.getValues(item,_f8c),function(_f8d){
if(this.isItem(_f8d)){
if(!item["backupRefs_"+this._reverseRefMap]){
item["backupRefs_"+this._reverseRefMap]=[];
}
item["backupRefs_"+this._reverseRefMap].push({id:this.getIdentity(_f8d),attr:_f8c});
this._removeReferenceFromMap(_f8d,item,_f8c);
}
},this);
},this);
var _f8e=item[this._reverseRefMap];
if(_f8e){
for(var _f8f in _f8e){
var _f90=null;
if(this._itemsByIdentity){
_f90=this._itemsByIdentity[_f8f];
}else{
_f90=this._arrayOfAllItems[_f8f];
}
if(_f90){
for(var _f91 in _f8e[_f8f]){
var _f92=this.getValues(_f90,_f91)||[];
var _f93=_f76.filter(_f92,function(_f94){
return !(this.isItem(_f94)&&this.getIdentity(_f94)==_f8a);
},this);
this._removeReferenceFromMap(item,_f90,_f91);
if(_f93.length<_f92.length){
this._setValueOrValues(_f90,_f91,_f93,true);
}
}
}
}
}
}
this._arrayOfAllItems[_f89]=null;
item[this._storeRefPropName]=null;
if(this._itemsByIdentity){
delete this._itemsByIdentity[_f8a];
}
this._pending._deletedItems[_f8a]=item;
if(item[this._rootItemPropName]){
this._removeArrayElement(this._arrayOfTopLevelItems,item);
}
this.onDelete(item);
return true;
},setValue:function(item,_f95,_f96){
return this._setValueOrValues(item,_f95,_f96,true);
},setValues:function(item,_f97,_f98){
return this._setValueOrValues(item,_f97,_f98,true);
},unsetAttribute:function(item,_f99){
return this._setValueOrValues(item,_f99,[],true);
},_setValueOrValues:function(item,_f9a,_f9b,_f9c){
this._assert(!this._saveInProgress);
this._assertIsItem(item);
this._assert(lang.isString(_f9a));
this._assert(typeof _f9b!=="undefined");
var _f9d=this._getIdentifierAttribute();
if(_f9a==_f9d){
throw new Error("ItemFileWriteStore does not have support for changing the value of an item's identifier.");
}
var _f9e=this._getValueOrValues(item,_f9a);
var _f9f=this.getIdentity(item);
if(!this._pending._modifiedItems[_f9f]){
var _fa0={};
for(var key in item){
if((key===this._storeRefPropName)||(key===this._itemNumPropName)||(key===this._rootItemPropName)){
_fa0[key]=item[key];
}else{
if(key===this._reverseRefMap){
_fa0[key]=lang.clone(item[key]);
}else{
_fa0[key]=item[key].slice(0,item[key].length);
}
}
}
this._pending._modifiedItems[_f9f]=_fa0;
}
var _fa1=false;
if(lang.isArray(_f9b)&&_f9b.length===0){
_fa1=delete item[_f9a];
_f9b=undefined;
if(this.referenceIntegrity&&_f9e){
var _fa2=_f9e;
if(!lang.isArray(_fa2)){
_fa2=[_fa2];
}
for(var i=0;i<_fa2.length;i++){
var _fa3=_fa2[i];
if(this.isItem(_fa3)){
this._removeReferenceFromMap(_fa3,item,_f9a);
}
}
}
}else{
var _fa4;
if(lang.isArray(_f9b)){
_fa4=_f9b.slice(0,_f9b.length);
}else{
_fa4=[_f9b];
}
if(this.referenceIntegrity){
if(_f9e){
var _fa2=_f9e;
if(!lang.isArray(_fa2)){
_fa2=[_fa2];
}
var map={};
_f76.forEach(_fa2,function(_fa5){
if(this.isItem(_fa5)){
var id=this.getIdentity(_fa5);
map[id.toString()]=true;
}
},this);
_f76.forEach(_fa4,function(_fa6){
if(this.isItem(_fa6)){
var id=this.getIdentity(_fa6);
if(map[id.toString()]){
delete map[id.toString()];
}else{
this._addReferenceToMap(_fa6,item,_f9a);
}
}
},this);
for(var rId in map){
var _fa7;
if(this._itemsByIdentity){
_fa7=this._itemsByIdentity[rId];
}else{
_fa7=this._arrayOfAllItems[rId];
}
this._removeReferenceFromMap(_fa7,item,_f9a);
}
}else{
for(var i=0;i<_fa4.length;i++){
var _fa3=_fa4[i];
if(this.isItem(_fa3)){
this._addReferenceToMap(_fa3,item,_f9a);
}
}
}
}
item[_f9a]=_fa4;
_fa1=true;
}
if(_f9c){
this.onSet(item,_f9a,_f9e,_f9b);
}
return _fa1;
},_addReferenceToMap:function(_fa8,_fa9,_faa){
var _fab=this.getIdentity(_fa9);
var _fac=_fa8[this._reverseRefMap];
if(!_fac){
_fac=_fa8[this._reverseRefMap]={};
}
var _fad=_fac[_fab];
if(!_fad){
_fad=_fac[_fab]={};
}
_fad[_faa]=true;
},_removeReferenceFromMap:function(_fae,_faf,_fb0){
var _fb1=this.getIdentity(_faf);
var _fb2=_fae[this._reverseRefMap];
var _fb3;
if(_fb2){
for(_fb3 in _fb2){
if(_fb3==_fb1){
delete _fb2[_fb3][_fb0];
if(this._isEmpty(_fb2[_fb3])){
delete _fb2[_fb3];
}
}
}
if(this._isEmpty(_fb2)){
delete _fae[this._reverseRefMap];
}
}
},_dumpReferenceMap:function(){
var i;
for(i=0;i<this._arrayOfAllItems.length;i++){
var item=this._arrayOfAllItems[i];
if(item&&item[this._reverseRefMap]){
}
}
},_getValueOrValues:function(item,_fb4){
var _fb5=undefined;
if(this.hasAttribute(item,_fb4)){
var _fb6=this.getValues(item,_fb4);
if(_fb6.length==1){
_fb5=_fb6[0];
}else{
_fb5=_fb6;
}
}
return _fb5;
},_flatten:function(_fb7){
if(this.isItem(_fb7)){
return {_reference:this.getIdentity(_fb7)};
}else{
if(typeof _fb7==="object"){
for(var type in this._datatypeMap){
var _fb8=this._datatypeMap[type];
if(lang.isObject(_fb8)&&!lang.isFunction(_fb8)){
if(_fb7 instanceof _fb8.type){
if(!_fb8.serialize){
throw new Error("ItemFileWriteStore:  No serializer defined for type mapping: ["+type+"]");
}
return {_type:type,_value:_fb8.serialize(_fb7)};
}
}else{
if(_fb7 instanceof _fb8){
return {_type:type,_value:_fb7.toString()};
}
}
}
}
return _fb7;
}
},_getNewFileContentString:function(){
var _fb9={};
var _fba=this._getIdentifierAttribute();
if(_fba!==Number){
_fb9.identifier=_fba;
}
if(this._labelAttr){
_fb9.label=this._labelAttr;
}
_fb9.items=[];
for(var i=0;i<this._arrayOfAllItems.length;++i){
var item=this._arrayOfAllItems[i];
if(item!==null){
var _fbb={};
for(var key in item){
if(key!==this._storeRefPropName&&key!==this._itemNumPropName&&key!==this._reverseRefMap&&key!==this._rootItemPropName){
var _fbc=this.getValues(item,key);
if(_fbc.length==1){
_fbb[key]=this._flatten(_fbc[0]);
}else{
var _fbd=[];
for(var j=0;j<_fbc.length;++j){
_fbd.push(this._flatten(_fbc[j]));
_fbb[key]=_fbd;
}
}
}
}
_fb9.items.push(_fbb);
}
}
var _fbe=true;
return _f77.toJson(_fb9,_fbe);
},_isEmpty:function(_fbf){
var _fc0=true;
if(lang.isObject(_fbf)){
var i;
for(i in _fbf){
_fc0=false;
break;
}
}else{
if(lang.isArray(_fbf)){
if(_fbf.length>0){
_fc0=false;
}
}
}
return _fc0;
},save:function(_fc1){
this._assert(!this._saveInProgress);
this._saveInProgress=true;
var self=this;
var _fc2=function(){
self._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};
self._saveInProgress=false;
if(_fc1&&_fc1.onComplete){
var _fc3=_fc1.scope||_f78.global;
_fc1.onComplete.call(_fc3);
}
};
var _fc4=function(err){
self._saveInProgress=false;
if(_fc1&&_fc1.onError){
var _fc5=_fc1.scope||_f78.global;
_fc1.onError.call(_fc5,err);
}
};
if(this._saveEverything){
var _fc6=this._getNewFileContentString();
this._saveEverything(_fc2,_fc4,_fc6);
}
if(this._saveCustom){
this._saveCustom(_fc2,_fc4);
}
if(!this._saveEverything&&!this._saveCustom){
_fc2();
}
},revert:function(){
this._assert(!this._saveInProgress);
var _fc7;
for(_fc7 in this._pending._modifiedItems){
var _fc8=this._pending._modifiedItems[_fc7];
var _fc9=null;
if(this._itemsByIdentity){
_fc9=this._itemsByIdentity[_fc7];
}else{
_fc9=this._arrayOfAllItems[_fc7];
}
_fc8[this._storeRefPropName]=this;
for(var key in _fc9){
delete _fc9[key];
}
lang.mixin(_fc9,_fc8);
}
var _fca;
for(_fc7 in this._pending._deletedItems){
_fca=this._pending._deletedItems[_fc7];
_fca[this._storeRefPropName]=this;
var _fcb=_fca[this._itemNumPropName];
if(_fca["backup_"+this._reverseRefMap]){
_fca[this._reverseRefMap]=_fca["backup_"+this._reverseRefMap];
delete _fca["backup_"+this._reverseRefMap];
}
this._arrayOfAllItems[_fcb]=_fca;
if(this._itemsByIdentity){
this._itemsByIdentity[_fc7]=_fca;
}
if(_fca[this._rootItemPropName]){
this._arrayOfTopLevelItems.push(_fca);
}
}
for(_fc7 in this._pending._deletedItems){
_fca=this._pending._deletedItems[_fc7];
if(_fca["backupRefs_"+this._reverseRefMap]){
_f76.forEach(_fca["backupRefs_"+this._reverseRefMap],function(_fcc){
var _fcd;
if(this._itemsByIdentity){
_fcd=this._itemsByIdentity[_fcc.id];
}else{
_fcd=this._arrayOfAllItems[_fcc.id];
}
this._addReferenceToMap(_fcd,_fca,_fcc.attr);
},this);
delete _fca["backupRefs_"+this._reverseRefMap];
}
}
for(_fc7 in this._pending._newItems){
var _fce=this._pending._newItems[_fc7];
_fce[this._storeRefPropName]=null;
this._arrayOfAllItems[_fce[this._itemNumPropName]]=null;
if(_fce[this._rootItemPropName]){
this._removeArrayElement(this._arrayOfTopLevelItems,_fce);
}
if(this._itemsByIdentity){
delete this._itemsByIdentity[_fc7];
}
}
this._pending={_newItems:{},_modifiedItems:{},_deletedItems:{}};
return true;
},isDirty:function(item){
if(item){
var _fcf=this.getIdentity(item);
return new Boolean(this._pending._newItems[_fcf]||this._pending._modifiedItems[_fcf]||this._pending._deletedItems[_fcf]).valueOf();
}else{
return !this._isEmpty(this._pending._newItems)||!this._isEmpty(this._pending._modifiedItems)||!this._isEmpty(this._pending._deletedItems);
}
},onSet:function(item,_fd0,_fd1,_fd2){
},onNew:function(_fd3,_fd4){
},onDelete:function(_fd5){
},close:function(_fd6){
if(this.clearOnClose){
if(!this.isDirty()){
this.inherited(arguments);
}else{
throw new Error("dojo.data.ItemFileWriteStore: There are unsaved changes present in the store.  Please save or revert the changes before invoking close.");
}
}
}});
});
},"dijit/layout/TabContainer":function(){
define(["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(lang,_fd7,_fd8,_fd9,_fda){
return _fd7("dijit.layout.TabContainer",_fd8,{useMenu:true,useSlider:true,controllerWidget:"",_makeController:function(_fdb){
var cls=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout"),_fd9=typeof this.controllerWidget=="string"?lang.getObject(this.controllerWidget):this.controllerWidget;
return new _fd9({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":cls,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},_fdb);
},postMixInProperties:function(){
this.inherited(arguments);
if(!this.controllerWidget){
this.controllerWidget=(this.tabPosition=="top"||this.tabPosition=="bottom")&&!this.nested?_fda:_fd9;
}
}});
});
},"dijit/_base":function(){
define(["./main","./a11y","./WidgetSet","./_base/focus","./_base/manager","./_base/place","./_base/popup","./_base/scroll","./_base/sniff","./_base/typematic","./_base/wai","./_base/window"],function(_fdc){
return _fdc._base;
});
},"dijit/_editor/plugins/EnterKeyHandling":function(){
define(["dojo/_base/declare","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","../_Plugin","../RichText","../range","../../_base/focus"],function(_fdd,_fde,keys,lang,on,has,win,_fdf,_fe0,_fe1,_fe2,_fe3){
return _fdd("dijit._editor.plugins.EnterKeyHandling",_fe0,{blockNodeForEnter:"BR",constructor:function(args){
if(args){
if("blockNodeForEnter" in args){
args.blockNodeForEnter=args.blockNodeForEnter.toUpperCase();
}
lang.mixin(this,args);
}
},setEditor:function(_fe4){
if(this.editor===_fe4){
return;
}
this.editor=_fe4;
if(this.blockNodeForEnter=="BR"){
this.editor.customUndo=true;
_fe4.onLoadDeferred.then(lang.hitch(this,function(d){
this.own(on(_fe4.document,"keydown",lang.hitch(this,function(e){
if(e.keyCode==keys.ENTER){
var ne=lang.mixin({},e);
ne.shiftKey=true;
if(!this.handleEnterKey(ne)){
e.stopPropagation();
e.preventDefault();
}
}
})));
if(has("ie")>=9&&has("ie")<=10){
this.own(on(_fe4.document,"paste",lang.hitch(this,function(e){
setTimeout(lang.hitch(this,function(){
var r=this.editor.document.selection.createRange();
r.move("character",-1);
r.select();
r.move("character",1);
r.select();
}),0);
})));
}
return d;
}));
}else{
if(this.blockNodeForEnter){
var h=lang.hitch(this,"handleEnterKey");
_fe4.addKeyHandler(13,0,0,h);
_fe4.addKeyHandler(13,0,1,h);
this.own(this.editor.on("KeyPressed",lang.hitch(this,"onKeyPressed")));
}
}
},onKeyPressed:function(){
if(this._checkListLater){
if(win.withGlobal(this.editor.window,"isCollapsed",_fe3)){
var _fe5=this.editor.selection.getAncestorElement("LI");
if(!_fe5){
_fe1.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);
var _fe6=this.editor.selection.getAncestorElement(this.blockNodeForEnter);
if(_fe6){
_fe6.innerHTML=this.bogusHtmlContent;
if(has("ie")<=9){
var r=this.editor.document.selection.createRange();
r.move("character",-1);
r.select();
}
}else{
console.error("onKeyPressed: Cannot find the new block node");
}
}else{
if(has("mozilla")){
if(_fe5.parentNode.parentNode.nodeName=="LI"){
_fe5=_fe5.parentNode.parentNode;
}
}
var fc=_fe5.firstChild;
if(fc&&fc.nodeType==1&&(fc.nodeName=="UL"||fc.nodeName=="OL")){
_fe5.insertBefore(fc.ownerDocument.createTextNode(""),fc);
var _fe7=_fe2.create(this.editor.window);
_fe7.setStart(_fe5.firstChild,0);
var _fe8=_fe2.getSelection(this.editor.window,true);
_fe8.removeAllRanges();
_fe8.addRange(_fe7);
}
}
}
this._checkListLater=false;
}
if(this._pressedEnterInBlock){
if(this._pressedEnterInBlock.previousSibling){
this.removeTrailingBr(this._pressedEnterInBlock.previousSibling);
}
delete this._pressedEnterInBlock;
}
},bogusHtmlContent:"&#160;",blockNodes:/^(?:P|H1|H2|H3|H4|H5|H6|LI)$/,handleEnterKey:function(e){
var _fe9,_fea,_feb,_fec,_fed,_fee,doc=this.editor.document,br,rs,txt;
if(e.shiftKey){
var _fef=this.editor.selection.getParentElement();
var _ff0=_fe2.getAncestor(_fef,this.blockNodes);
if(_ff0){
if(_ff0.tagName=="LI"){
return true;
}
_fe9=_fe2.getSelection(this.editor.window);
_fea=_fe9.getRangeAt(0);
if(!_fea.collapsed){
_fea.deleteContents();
_fe9=_fe2.getSelection(this.editor.window);
_fea=_fe9.getRangeAt(0);
}
if(_fe2.atBeginningOfContainer(_ff0,_fea.startContainer,_fea.startOffset)){
br=doc.createElement("br");
_feb=_fe2.create(this.editor.window);
_ff0.insertBefore(br,_ff0.firstChild);
_feb.setStartAfter(br);
_fe9.removeAllRanges();
_fe9.addRange(_feb);
}else{
if(_fe2.atEndOfContainer(_ff0,_fea.startContainer,_fea.startOffset)){
_feb=_fe2.create(this.editor.window);
br=doc.createElement("br");
_ff0.appendChild(br);
_ff0.appendChild(doc.createTextNode(""));
_feb.setStart(_ff0.lastChild,0);
_fe9.removeAllRanges();
_fe9.addRange(_feb);
}else{
rs=_fea.startContainer;
if(rs&&rs.nodeType==3){
txt=rs.nodeValue;
_fec=doc.createTextNode(txt.substring(0,_fea.startOffset));
_fed=doc.createTextNode(txt.substring(_fea.startOffset));
_fee=doc.createElement("br");
if(_fed.nodeValue==""&&has("webkit")){
_fed=doc.createTextNode("");
}
_fde.place(_fec,rs,"after");
_fde.place(_fee,_fec,"after");
_fde.place(_fed,_fee,"after");
_fde.destroy(rs);
_feb=_fe2.create(this.editor.window);
_feb.setStart(_fed,0);
_fe9.removeAllRanges();
_fe9.addRange(_feb);
return false;
}
return true;
}
}
}else{
_fe9=_fe2.getSelection(this.editor.window);
if(_fe9.rangeCount){
_fea=_fe9.getRangeAt(0);
if(_fea&&_fea.startContainer){
if(!_fea.collapsed){
_fea.deleteContents();
_fe9=_fe2.getSelection(this.editor.window);
_fea=_fe9.getRangeAt(0);
}
rs=_fea.startContainer;
if(rs&&rs.nodeType==3){
var _ff1=false;
var _ff2=_fea.startOffset;
if(rs.length<_ff2){
ret=this._adjustNodeAndOffset(rs,_ff2);
rs=ret.node;
_ff2=ret.offset;
}
txt=rs.nodeValue;
_fec=doc.createTextNode(txt.substring(0,_ff2));
_fed=doc.createTextNode(txt.substring(_ff2));
_fee=doc.createElement("br");
if(!_fed.length){
_fed=doc.createTextNode("");
_ff1=true;
}
if(_fec.length){
_fde.place(_fec,rs,"after");
}else{
_fec=rs;
}
_fde.place(_fee,_fec,"after");
_fde.place(_fed,_fee,"after");
_fde.destroy(rs);
_feb=_fe2.create(this.editor.window);
_feb.setStart(_fed,0);
_feb.setEnd(_fed,_fed.length);
_fe9.removeAllRanges();
_fe9.addRange(_feb);
if(_ff1&&!has("webkit")){
this.editor.selection.remove();
}else{
this.editor.selection.collapse(true);
}
}else{
var _ff3;
if(_fea.startOffset>=0){
_ff3=rs.childNodes[_fea.startOffset];
}
var _fee=doc.createElement("br");
var _fed=doc.createTextNode("");
if(!_ff3){
rs.appendChild(_fee);
rs.appendChild(_fed);
}else{
_fde.place(_fee,_ff3,"before");
_fde.place(_fed,_fee,"after");
}
_feb=_fe2.create(this.editor.window);
_feb.setStart(_fed,0);
_feb.setEnd(_fed,_fed.length);
_fe9.removeAllRanges();
_fe9.addRange(_feb);
this.editor.selection.collapse(true);
}
}
}else{
_fe1.prototype.execCommand.call(this.editor,"inserthtml","<br>");
}
}
return false;
}
var _ff4=true;
_fe9=_fe2.getSelection(this.editor.window);
_fea=_fe9.getRangeAt(0);
if(!_fea.collapsed){
_fea.deleteContents();
_fe9=_fe2.getSelection(this.editor.window);
_fea=_fe9.getRangeAt(0);
}
var _ff5=_fe2.getBlockAncestor(_fea.endContainer,null,this.editor.editNode);
var _ff6=_ff5.blockNode;
if((this._checkListLater=(_ff6&&(_ff6.nodeName=="LI"||_ff6.parentNode.nodeName=="LI")))){
if(has("mozilla")){
this._pressedEnterInBlock=_ff6;
}
if(/^(\s|&nbsp;|&#160;|\xA0|<span\b[^>]*\bclass=['"]Apple-style-span['"][^>]*>(\s|&nbsp;|&#160;|\xA0)<\/span>)?(<br>)?$/.test(_ff6.innerHTML)){
_ff6.innerHTML="";
if(has("webkit")){
_feb=_fe2.create(this.editor.window);
_feb.setStart(_ff6,0);
_fe9.removeAllRanges();
_fe9.addRange(_feb);
}
this._checkListLater=false;
}
return true;
}
if(!_ff5.blockNode||_ff5.blockNode===this.editor.editNode){
try{
_fe1.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);
}
catch(e2){
}
_ff5={blockNode:this.editor.selection.getAncestorElement(this.blockNodeForEnter),blockContainer:this.editor.editNode};
if(_ff5.blockNode){
if(_ff5.blockNode!=this.editor.editNode&&(!(_ff5.blockNode.textContent||_ff5.blockNode.innerHTML).replace(/^\s+|\s+$/g,"").length)){
this.removeTrailingBr(_ff5.blockNode);
return false;
}
}else{
_ff5.blockNode=this.editor.editNode;
}
_fe9=_fe2.getSelection(this.editor.window);
_fea=_fe9.getRangeAt(0);
}
var _ff7=doc.createElement(this.blockNodeForEnter);
_ff7.innerHTML=this.bogusHtmlContent;
this.removeTrailingBr(_ff5.blockNode);
var _ff8=_fea.endOffset;
var node=_fea.endContainer;
if(node.length<_ff8){
var ret=this._adjustNodeAndOffset(node,_ff8);
node=ret.node;
_ff8=ret.offset;
}
if(_fe2.atEndOfContainer(_ff5.blockNode,node,_ff8)){
if(_ff5.blockNode===_ff5.blockContainer){
_ff5.blockNode.appendChild(_ff7);
}else{
_fde.place(_ff7,_ff5.blockNode,"after");
}
_ff4=false;
_feb=_fe2.create(this.editor.window);
_feb.setStart(_ff7,0);
_fe9.removeAllRanges();
_fe9.addRange(_feb);
if(this.editor.height){
_fdf.scrollIntoView(_ff7);
}
}else{
if(_fe2.atBeginningOfContainer(_ff5.blockNode,_fea.startContainer,_fea.startOffset)){
_fde.place(_ff7,_ff5.blockNode,_ff5.blockNode===_ff5.blockContainer?"first":"before");
if(_ff7.nextSibling&&this.editor.height){
_feb=_fe2.create(this.editor.window);
_feb.setStart(_ff7.nextSibling,0);
_fe9.removeAllRanges();
_fe9.addRange(_feb);
_fdf.scrollIntoView(_ff7.nextSibling);
}
_ff4=false;
}else{
if(_ff5.blockNode===_ff5.blockContainer){
_ff5.blockNode.appendChild(_ff7);
}else{
_fde.place(_ff7,_ff5.blockNode,"after");
}
_ff4=false;
if(_ff5.blockNode.style){
if(_ff7.style){
if(_ff5.blockNode.style.cssText){
_ff7.style.cssText=_ff5.blockNode.style.cssText;
}
}
}
rs=_fea.startContainer;
var _ff9;
if(rs&&rs.nodeType==3){
var _ffa,_ffb;
_ff8=_fea.endOffset;
if(rs.length<_ff8){
ret=this._adjustNodeAndOffset(rs,_ff8);
rs=ret.node;
_ff8=ret.offset;
}
txt=rs.nodeValue;
_fec=doc.createTextNode(txt.substring(0,_ff8));
_fed=doc.createTextNode(txt.substring(_ff8,txt.length));
_fde.place(_fec,rs,"before");
_fde.place(_fed,rs,"after");
_fde.destroy(rs);
var _ffc=_fec.parentNode;
while(_ffc!==_ff5.blockNode){
var tg=_ffc.tagName;
var _ffd=doc.createElement(tg);
if(_ffc.style){
if(_ffd.style){
if(_ffc.style.cssText){
_ffd.style.cssText=_ffc.style.cssText;
}
}
}
if(_ffc.tagName==="FONT"){
if(_ffc.color){
_ffd.color=_ffc.color;
}
if(_ffc.face){
_ffd.face=_ffc.face;
}
if(_ffc.size){
_ffd.size=_ffc.size;
}
}
_ffa=_fed;
while(_ffa){
_ffb=_ffa.nextSibling;
_ffd.appendChild(_ffa);
_ffa=_ffb;
}
_fde.place(_ffd,_ffc,"after");
_fec=_ffc;
_fed=_ffd;
_ffc=_ffc.parentNode;
}
_ffa=_fed;
if(_ffa.nodeType==1||(_ffa.nodeType==3&&_ffa.nodeValue)){
_ff7.innerHTML="";
}
_ff9=_ffa;
while(_ffa){
_ffb=_ffa.nextSibling;
_ff7.appendChild(_ffa);
_ffa=_ffb;
}
}
_feb=_fe2.create(this.editor.window);
var _ffe;
var _fff=_ff9;
if(this.blockNodeForEnter!=="BR"){
while(_fff){
_ffe=_fff;
_ffb=_fff.firstChild;
_fff=_ffb;
}
if(_ffe&&_ffe.parentNode){
_ff7=_ffe.parentNode;
_feb.setStart(_ff7,0);
_fe9.removeAllRanges();
_fe9.addRange(_feb);
if(this.editor.height){
_fdf.scrollIntoView(_ff7);
}
if(has("mozilla")){
this._pressedEnterInBlock=_ff5.blockNode;
}
}else{
_ff4=true;
}
}else{
_feb.setStart(_ff7,0);
_fe9.removeAllRanges();
_fe9.addRange(_feb);
if(this.editor.height){
_fdf.scrollIntoView(_ff7);
}
if(has("mozilla")){
this._pressedEnterInBlock=_ff5.blockNode;
}
}
}
}
return _ff4;
},_adjustNodeAndOffset:function(node,_1000){
while(node.length<_1000&&node.nextSibling&&node.nextSibling.nodeType==3){
_1000=_1000-node.length;
node=node.nextSibling;
}
return {"node":node,"offset":_1000};
},removeTrailingBr:function(_1001){
var para=/P|DIV|LI/i.test(_1001.tagName)?_1001:this.editor.selection.getParentOfType(_1001,["P","DIV","LI"]);
if(!para){
return;
}
if(para.lastChild){
if((para.childNodes.length>1&&para.lastChild.nodeType==3&&/^[\s\xAD]*$/.test(para.lastChild.nodeValue))||para.lastChild.tagName=="BR"){
_fde.destroy(para.lastChild);
}
}
if(!para.childNodes.length){
para.innerHTML=this.bogusHtmlContent;
}
}});
});
},"manager/Currency":function(){
define("manager/Currency",["dojo/_base/declare"],function(_1002){
return _1002("Manager.Currency",[],{constructor:function(){
},format:function(field){
var value=field.value;
var v="";
for(var i=0;i<value.length;i++){
var c=value.charAt(i);
if((c>="0")&&(c<="9")){
v+=c;
}
}
var l=v.length;
if(l==0){
return true;
}
if(l<3){
alert("Dgitos insuficientes para valor monetrio!");
field.focus();
return true;
}
v=v.slice(0,l-2)+","+v.slice(l-2,l);
v=this.add(v);
field.value=v;
},remove:function(_1003){
var _1004=/\(/;
var _1005="";
if(_1004.test(_1003)){
_1005="-";
}
_1004=/\)|\(|[\.]/g;
_1003=_1003.replace(_1004,"");
if(_1003.indexOf("$")>=0){
_1003=_1003.substring(1,_1003.length);
}
return _1005+_1003;
},add:function(_1006){
var _1007=/-?[0-9]+\,[0-9]{2}$/;
if(_1007.test(_1006)){
_1007.compile("^-");
_1006=addDecimalPoints(_1006);
if(_1007.test(_1006)){
_1006="("+_1006.replace(_1007,"")+")";
}
}
return _1006;
}});
});
},"dijit/form/_FormValueWidget":function(){
define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_1008,has,_1009,_100a){
return _1008("dijit.form._FormValueWidget",[_1009,_100a],{_layoutHackIE7:function(){
if(has("ie")==7){
var _100b=this.domNode;
var _100c=_100b.parentNode;
var _100d=_100b.firstChild||_100b;
var _100e=_100d.style.filter;
var _100f=this;
while(_100c&&_100c.clientHeight==0){
(function ping(){
var _1010=_100f.connect(_100c,"onscroll",function(){
_100f.disconnect(_1010);
_100d.style.filter=(new Date()).getMilliseconds();
_100f.defer(function(){
_100d.style.filter=_100e;
});
});
})();
_100c=_100c.parentNode;
}
}
}});
});
},"dijit/tree/_dndContainer":function(){
define(["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/touch"],function(_1011,_1012,_1013,lang,on,touch){
return _1012("dijit.tree._dndContainer",null,{constructor:function(tree,_1014){
this.tree=tree;
this.node=tree.domNode;
lang.mixin(this,_1014);
this.containerState="";
_1013.add(this.node,"dojoDndContainer");
this.events=[on(this.node,touch.enter,lang.hitch(this,"onOverEvent")),on(this.node,touch.leave,lang.hitch(this,"onOutEvent")),_1011.after(this.tree,"_onNodeMouseEnter",lang.hitch(this,"onMouseOver"),true),_1011.after(this.tree,"_onNodeMouseLeave",lang.hitch(this,"onMouseOut"),true),on(this.node,"dragstart, selectstart",function(evt){
evt.preventDefault();
})];
},destroy:function(){
var h;
while(h=this.events.pop()){
h.remove();
}
this.node=this.parent=null;
},onMouseOver:function(_1015){
this.current=_1015;
},onMouseOut:function(){
this.current=null;
},_changeState:function(type,_1016){
var _1017="dojoDnd"+type;
var state=type.toLowerCase()+"State";
_1013.replace(this.node,_1017+_1016,_1017+this[state]);
this[state]=_1016;
},_addItemClass:function(node,type){
_1013.add(node,"dojoDndItem"+type);
},_removeItemClass:function(node,type){
_1013.remove(node,"dojoDndItem"+type);
},onOverEvent:function(){
this._changeState("Container","Over");
},onOutEvent:function(){
this._changeState("Container","");
}});
});
},"dijit/focus":function(){
define(["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_1018,_1019,dom,_101a,_101b,_101c,_101d,lang,on,_101e,has,_101f,win,_1020,a11y,_1021,dijit){
var _1022;
var _1023=_1019([_101f,_101d],{curNode:null,activeStack:[],constructor:function(){
var check=lang.hitch(this,function(node){
if(dom.isDescendant(this.curNode,node)){
this.set("curNode",null);
}
if(dom.isDescendant(this.prevNode,node)){
this.set("prevNode",null);
}
});
_1018.before(_101c,"empty",check);
_1018.before(_101c,"destroy",check);
},registerIframe:function(_1024){
return this.registerWin(_1024.contentWindow,_1024);
},registerWin:function(_1025,_1026){
var _1027=this,body=_1025.document&&_1025.document.body;
if(body){
var mdh=on(_1025.document,"mousedown, touchstart",function(evt){
_1027._justMouseDowned=true;
setTimeout(function(){
_1027._justMouseDowned=false;
},0);
if(evt&&evt.target&&evt.target.parentNode==null){
return;
}
_1027._onTouchNode(_1026||evt.target,"mouse");
});
var fih=on(body,"focusin",function(evt){
_1022=(new Date()).getTime();
if(!evt.target.tagName){
return;
}
var tag=evt.target.tagName.toLowerCase();
if(tag=="#document"||tag=="body"){
return;
}
if(a11y.isFocusable(evt.target)){
_1027._onFocusNode(_1026||evt.target);
}else{
_1027._onTouchNode(_1026||evt.target);
}
});
var foh=on(body,"focusout",function(evt){
if((new Date()).getTime()<_1022+100){
return;
}
_1027._onBlurNode(_1026||evt.target);
});
return {remove:function(){
mdh.remove();
fih.remove();
foh.remove();
mdh=fih=foh=null;
body=null;
}};
}
},_onBlurNode:function(node){
if(this._clearFocusTimer){
clearTimeout(this._clearFocusTimer);
}
this._clearFocusTimer=setTimeout(lang.hitch(this,function(){
this.set("prevNode",this.curNode);
this.set("curNode",null);
}),0);
if(this._justMouseDowned){
return;
}
if(this._clearActiveWidgetsTimer){
clearTimeout(this._clearActiveWidgetsTimer);
}
this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){
delete this._clearActiveWidgetsTimer;
this._setStack([]);
}),0);
},_onTouchNode:function(node,by){
if(this._clearActiveWidgetsTimer){
clearTimeout(this._clearActiveWidgetsTimer);
delete this._clearActiveWidgetsTimer;
}
if(_101b.contains(node,"dijitPopup")){
node=node.firstChild;
}
var _1028=[];
try{
while(node){
var _1029=_101a.get(node,"dijitPopupParent");
if(_1029){
node=_1021.byId(_1029).domNode;
}else{
if(node.tagName&&node.tagName.toLowerCase()=="body"){
if(node===win.body()){
break;
}
node=_1020.get(node.ownerDocument).frameElement;
}else{
var id=node.getAttribute&&node.getAttribute("widgetId"),_102a=id&&_1021.byId(id);
if(_102a&&!(by=="mouse"&&_102a.get("disabled"))){
_1028.unshift(id);
}
node=node.parentNode;
}
}
}
}
catch(e){
}
this._setStack(_1028,by);
},_onFocusNode:function(node){
if(!node){
return;
}
if(node.nodeType==9){
return;
}
if(this._clearFocusTimer){
clearTimeout(this._clearFocusTimer);
delete this._clearFocusTimer;
}
this._onTouchNode(node);
if(node==this.curNode){
return;
}
this.set("prevNode",this.curNode);
this.set("curNode",node);
},_setStack:function(_102b,by){
var _102c=this.activeStack,_102d=_102c.length-1,_102e=_102b.length-1;
if(_102b[_102e]==_102c[_102d]){
return;
}
this.set("activeStack",_102b);
var _102f,i;
for(i=_102d;i>=0&&_102c[i]!=_102b[i];i--){
_102f=_1021.byId(_102c[i]);
if(_102f){
_102f._hasBeenBlurred=true;
_102f.set("focused",false);
if(_102f._focusManager==this){
_102f._onBlur(by);
}
this.emit("widget-blur",_102f,by);
}
}
for(i++;i<=_102e;i++){
_102f=_1021.byId(_102b[i]);
if(_102f){
_102f.set("focused",true);
if(_102f._focusManager==this){
_102f._onFocus(by);
}
this.emit("widget-focus",_102f,by);
}
}
},focus:function(node){
if(node){
try{
node.focus();
}
catch(e){
}
}
}});
var _1030=new _1023();
_101e(function(){
var _1031=_1030.registerWin(_1020.get(document));
if(has("ie")){
on(window,"unload",function(){
if(_1031){
_1031.remove();
_1031=null;
}
});
}
});
dijit.focus=function(node){
_1030.focus(node);
};
for(var attr in _1030){
if(!/^_/.test(attr)){
dijit.focus[attr]=typeof _1030[attr]=="function"?lang.hitch(_1030,attr):_1030[attr];
}
}
_1030.watch(function(attr,_1032,_1033){
dijit.focus[attr]=_1033;
});
return _1030;
});
},"manager/Page":function(){
define("manager/Page",["dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/_base/array","dijit/registry","dojo/dom-construct","dojo/dom-form","dojo/i18n!./nls/messages","manager/Base64","dojox/widget/Standby"],function(_1034,lang,_1035,array,_1036,_1037,_1038,i18n,_1039,_103a){
return _1034("Manager.Page",[],{version:"1.1",ajaxEvent:"no",fileUpload:"no",layout:"default",element:"",mainElement:"centerPane",template:"base",eventTarget:"",i18n:i18n,standby:"",callbackFunction:"",constructor:function(){
this.obj=this;
},getContent:function(_103b){
var _103c={__LAYOUT:manager.page.layout,__ELEMENT:manager.page.element,__TEMPLATE:manager.page.template,__ISFILEUPLOAD:manager.page.fileUpload,__ISAJAXEVENT:manager.page.ajaxEvent,__EVENTTARGET:manager.page.eventTarget};
var _103d={};
if(_103b){
_103d=_1038.toObject(_103b);
}
return lang.mixin(_103c,_103d);
},get:function(url,_103e){
if(_103e==""){
_103e=this.mainElement;
}
_1036.byId(_103e).set("href",url);
},page:function(url){
manager.disconnect();
_1035.location=url;
},ajax:function(url,_103f,_1040){
var _1041=this.fileUpload;
this.setBusy(_1040);
this.ajaxEvent="yes";
this.template="ajax";
this.fileUpload="no";
this.callbackFunction=_103f;
var _1042=new Manager.Ajax({url:url,form:_1040,content:manager.page.getContent(_1040),response_type:"JSON",callback_function:manager.page.callbackFunction});
_1042.call();
this.fileUpload=_1041;
},ajaxText:function(url,_1043,_1044){
var _1045=this.fileUpload;
this.setBusy(_1044);
this.ajaxEvent="yes";
this.template="ajax";
this.fileUpload="no";
var _1046=this.element;
this.element=_1043;
var _1047=new Manager.Ajax({url:url,form:_1044,content:manager.page.getContent(_1044),response_type:"JSON",callback_function:manager.page.callback});
_1047.call();
this.element=_1046;
this.fileUpload=_1045;
},postback:function(_1048){
if(_1048){
this.setBusy(_1048);
this.element=manager.getLayoutElement(_1048);
var _1049=manager.getElementById("__ISFILEUPLOADPOST");
this.fileUpload=(_1049!=null)?_1049.value:this.fileUpload;
}
var url=_1036.byId(_1048).get("action");
var _104a=new Manager.Ajax({url:url,form:_1048,content:manager.page.getContent(_1048),response_type:"JSON",callback_function:manager.page.callback});
_104a.call();
},callback:function(_104b,_104c){
var _104d=_104c.args.content.__ELEMENT;
manager.page.updateElement(_104d,_104b);
manager.page.clearBusy();
},updateElement:function(_104e,_104f){
if(_104f.base64){
var _1050=new _1039();
var _1051=_1050.decode(_104f.base64);
_104f=eval("("+_1051+")");
}
if(_104f.data){
var html=_104f.data;
var id=_104f.id;
if(_104f.type=="page"){
if(_104e==""){
_104e="__updateElement";
}
var _1052=_1036.byId(_104e);
if(!_1052){
var div=_1037.create("div");
div.id=_104e;
_1037.place(div,_1035.body(),"last");
_1052=new Manager.ElementPane({content:html},_104e);
}
try{
array.forEach(_1052.getDescendants(),function(_1053){
if(_1036.byId(_1053.id)){
_1053.destroyRecursive();
}
});
_1052.setContent(html);
}
catch(err){
}
}
if(_104f.type=="prompt"){
manager.doPrompt(id,html);
}
if(_104f.type=="window"){
manager.doWindow(_104f.data);
}
if(_104f.type=="file"){
manager.doFile(_104f.data,id);
}
if(manager.onLoad[id]){
manager.onLoad[id].apply();
}
}
},setBusy:function(id){
var use=manager.getElementById("useSetBusy");
if(use&&(use.value=="no")){
return;
}
if(_1036.byId("page_standby")){
this.clearBusy(id);
}
this.standby=new _103a({target:id,id:"page_standby",text:this.i18n.PLEASE_WAIT});
document.body.appendChild(this.standby.domNode);
this.standby.startup();
this.standby.show();
},clearBusy:function(){
if(_1036.byId("page_standby")){
_1036.byId("page_standby").hide();
_1036.byId("page_standby").destroy();
}
}});
});
},"dojo/text":function(){
define(["./_base/kernel","require","./has","./request"],function(dojo,_1054,has,_1055){
var _1056;
if(1){
_1056=function(url,sync,load){
_1055(url,{sync:!!sync}).then(load);
};
}else{
if(_1054.getText){
_1056=_1054.getText;
}else{
console.error("dojo/text plugin failed to load because loader does not support getText");
}
}
var _1057={},strip=function(text){
if(text){
text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");
var _1058=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
if(_1058){
text=_1058[1];
}
}else{
text="";
}
return text;
},_1059={},_105a={};
dojo.cache=function(_105b,url,value){
var key;
if(typeof _105b=="string"){
if(/\//.test(_105b)){
key=_105b;
value=url;
}else{
key=_1054.toUrl(_105b.replace(/\./g,"/")+(url?("/"+url):""));
}
}else{
key=_105b+"";
value=url;
}
var val=(value!=undefined&&typeof value!="string")?value.value:value,_105c=value&&value.sanitize;
if(typeof val=="string"){
_1057[key]=val;
return _105c?strip(val):val;
}else{
if(val===null){
delete _1057[key];
return null;
}else{
if(!(key in _1057)){
_1056(key,true,function(text){
_1057[key]=text;
});
}
return _105c?strip(_1057[key]):_1057[key];
}
}
};
return {dynamic:true,normalize:function(id,_105d){
var parts=id.split("!"),url=parts[0];
return (/^\./.test(url)?_105d(url):url)+(parts[1]?"!"+parts[1]:"");
},load:function(id,_105e,load){
var parts=id.split("!"),_105f=parts.length>1,_1060=parts[0],url=_105e.toUrl(parts[0]),_1061="url:"+url,text=_1059,_1062=function(text){
load(_105f?strip(text):text);
};
if(_1060 in _1057){
text=_1057[_1060];
}else{
if(_105e.cache&&_1061 in _105e.cache){
text=_105e.cache[_1061];
}else{
if(url in _1057){
text=_1057[url];
}
}
}
if(text===_1059){
if(_105a[url]){
_105a[url].push(_1062);
}else{
var _1063=_105a[url]=[_1062];
_1056(url,!_105e.async,function(text){
_1057[_1060]=_1057[url]=text;
for(var i=0;i<_1063.length;){
_1063[i++](text);
}
delete _105a[url];
});
}
}else{
_1062(text);
}
}};
});
},"manager/ElementPane":function(){
define("manager/ElementPane",["dojo/_base/declare","dojo/query","dojox/layout/ContentPane"],function(_1064,query,_1065){
return _1064("Manager.ElementPane",[_1065],{executeScripts:true,baseClass:"mElement",onLoad:function(){
var node=query("#"+this.id+" div.mScripts");
if(node.length){
manager.onLoad[node[0].id].apply();
manager.onLoad[node[0].id]=null;
}
},cleanContent:true});
});
},"dojo/i18n":function(){
define(["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json","module"],function(dojo,_1066,has,array,_1067,lang,xhr,json,_1068){
has.add("dojo-preload-i18n-Api",1);
1||has.add("dojo-v1x-i18n-Api",1);
var _1069=dojo.i18n={},nlsRe=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,_106a=function(root,_106b,_106c,_106d){
for(var _106e=[_106c+_106d],_106f=_106b.split("-"),_1070="",i=0;i<_106f.length;i++){
_1070+=(_1070?"-":"")+_106f[i];
if(!root||root[_1070]){
_106e.push(_106c+_1070+"/"+_106d);
_106e.specificity=_1070;
}
}
return _106e;
},cache={},_1071=function(_1072,_1073,_1074){
_1074=_1074?_1074.toLowerCase():dojo.locale;
_1072=_1072.replace(/\./g,"/");
_1073=_1073.replace(/\./g,"/");
return (/root/i.test(_1074))?(_1072+"/nls/"+_1073):(_1072+"/nls/"+_1074+"/"+_1073);
},_1075=dojo.getL10nName=function(_1076,_1077,_1078){
return _1076=_1068.id+"!"+_1071(_1076,_1077,_1078);
},_1079=function(_107a,_107b,_107c,_107d,_107e,load){
_107a([_107b],function(root){
var _107f=lang.clone(root.root||root.ROOT),_1080=_106a(!root._v1x&&root,_107e,_107c,_107d);
_107a(_1080,function(){
for(var i=1;i<_1080.length;i++){
_107f=lang.mixin(lang.clone(_107f),arguments[i]);
}
var _1081=_107b+"/"+_107e;
cache[_1081]=_107f;
_107f.$locale=_1080.specificity;
load();
});
});
},_1082=function(id,_1083){
return /^\./.test(id)?_1083(id):id;
},_1084=function(_1085){
var list=_1067.extraLocale||[];
list=lang.isArray(list)?list:[list];
list.push(_1085);
return list;
},load=function(id,_1086,load){
if(has("dojo-preload-i18n-Api")){
var split=id.split("*"),_1087=split[1]=="preload";
if(_1087){
if(!cache[id]){
cache[id]=1;
_1088(split[2],json.parse(split[3]),1,_1086);
}
load(1);
}
if(_1087||_1089(id,_1086,load)){
return;
}
}
var match=nlsRe.exec(id),_108a=match[1]+"/",_108b=match[5]||match[4],_108c=_108a+_108b,_108d=(match[5]&&match[4]),_108e=_108d||dojo.locale||"",_108f=_108c+"/"+_108e,_1090=_108d?[_108e]:_1084(_108e),_1091=_1090.length,_1092=function(){
if(!--_1091){
load(lang.delegate(cache[_108f]));
}
};
array.forEach(_1090,function(_1093){
var _1094=_108c+"/"+_1093;
if(has("dojo-preload-i18n-Api")){
_1095(_1094);
}
if(!cache[_1094]){
_1079(_1086,_108c,_108a,_108b,_1093,_1092);
}else{
_1092();
}
});
};
if(has("dojo-unit-tests")){
var _1096=_1069.unitTests=[];
}
if(has("dojo-preload-i18n-Api")||1){
var _1097=_1069.normalizeLocale=function(_1098){
var _1099=_1098?_1098.toLowerCase():dojo.locale;
return _1099=="root"?"ROOT":_1099;
},isXd=function(mid,_109a){
return (1&&1)?_109a.isXdUrl(_1066.toUrl(mid+".js")):true;
},_109b=0,_109c=[],_1088=_1069._preloadLocalizations=function(_109d,_109e,_109f,_10a0){
_10a0=_10a0||_1066;
function _10a1(mid,_10a2){
if(isXd(mid,_10a0)||_109f){
_10a0([mid],_10a2);
}else{
_10ab([mid],_10a2,_10a0);
}
};
function _10a3(_10a4,func){
var parts=_10a4.split("-");
while(parts.length){
if(func(parts.join("-"))){
return;
}
parts.pop();
}
func("ROOT");
};
function _10a5(_10a6){
_10a6=_1097(_10a6);
_10a3(_10a6,function(loc){
if(array.indexOf(_109e,loc)>=0){
var mid=_109d.replace(/\./g,"/")+"_"+loc;
_109b++;
_10a1(mid,function(_10a7){
for(var p in _10a7){
cache[_1066.toAbsMid(p)+"/"+loc]=_10a7[p];
}
--_109b;
while(!_109b&&_109c.length){
load.apply(null,_109c.shift());
}
});
return true;
}
return false;
});
};
_10a5();
array.forEach(dojo.config.extraLocale,_10a5);
},_1089=function(id,_10a8,load){
if(_109b){
_109c.push([id,_10a8,load]);
}
return _109b;
},_1095=function(){
};
}
if(1){
var _10a9={},_10aa=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},"+"\t   require = function(){define.called = 1;};"+"try{"+"define.called = 0;"+"eval(__bundle);"+"if(define.called==1)"+"return __amdValue;"+"if((__checkForLegacyModules = __checkForLegacyModules(__mid)))"+"return __checkForLegacyModules;"+"}catch(e){}"+"try{"+"return eval('('+__bundle+')');"+"}catch(e){"+"return e;"+"}"),_10ab=function(deps,_10ac,_10ad){
var _10ae=[];
array.forEach(deps,function(mid){
var url=_10ad.toUrl(mid+".js");
function load(text){
var _10af=_10aa(text,_1095,mid,_10a9);
if(_10af===_10a9){
_10ae.push(cache[url]=_10a9.result);
}else{
if(_10af instanceof Error){
console.error("failed to evaluate i18n bundle; url="+url,_10af);
_10af={};
}
_10ae.push(cache[url]=(/nls\/[^\/]+\/[^\/]+$/.test(url)?_10af:{root:_10af,_v1x:1}));
}
};
if(cache[url]){
_10ae.push(cache[url]);
}else{
var _10b0=_10ad.syncLoadNls(mid);
if(_10b0){
_10ae.push(_10b0);
}else{
if(!xhr){
try{
_10ad.getText(url,true,load);
}
catch(e){
_10ae.push(cache[url]={});
}
}else{
xhr.get({url:url,sync:true,load:load,error:function(){
_10ae.push(cache[url]={});
}});
}
}
}
});
_10ac&&_10ac.apply(null,_10ae);
};
_1095=function(_10b1){
for(var _10b2,names=_10b1.split("/"),_10b3=dojo.global[names[0]],i=1;_10b3&&i<names.length-1;_10b3=_10b3[names[i++]]){
}
if(_10b3){
_10b2=_10b3[names[i]];
if(!_10b2){
_10b2=_10b3[names[i].replace(/-/g,"_")];
}
if(_10b2){
cache[_10b1]=_10b2;
}
}
return _10b2;
};
_1069.getLocalization=function(_10b4,_10b5,_10b6){
var _10b7,_10b8=_1071(_10b4,_10b5,_10b6);
load(_10b8,(!isXd(_10b8,_1066)?function(deps,_10b9){
_10ab(deps,_10b9,_1066);
}:_1066),function(_10ba){
_10b7=_10ba;
});
return _10b7;
};
if(has("dojo-unit-tests")){
_1096.push(function(doh){
doh.register("tests.i18n.unit",function(t){
var check;
check=_10aa("{prop:1}",_1095,"nonsense",_10a9);
t.is({prop:1},check);
t.is(undefined,check[1]);
check=_10aa("({prop:1})",_1095,"nonsense",_10a9);
t.is({prop:1},check);
t.is(undefined,check[1]);
check=_10aa("{'prop-x':1}",_1095,"nonsense",_10a9);
t.is({"prop-x":1},check);
t.is(undefined,check[1]);
check=_10aa("({'prop-x':1})",_1095,"nonsense",_10a9);
t.is({"prop-x":1},check);
t.is(undefined,check[1]);
check=_10aa("define({'prop-x':1})",_1095,"nonsense",_10a9);
t.is(_10a9,check);
t.is({"prop-x":1},_10a9.result);
check=_10aa("define('some/module', {'prop-x':1})",_1095,"nonsense",_10a9);
t.is(_10a9,check);
t.is({"prop-x":1},_10a9.result);
check=_10aa("this is total nonsense and should throw an error",_1095,"nonsense",_10a9);
t.is(check instanceof Error,true);
});
});
}
}
return lang.mixin(_1069,{dynamic:true,normalize:_1082,load:load,cache:cache,getL10nName:_1075});
});
},"manager/DateTextBox":function(){
define("manager/DateTextBox",["dojo/_base/declare","dijit/form/DateTextBox"],function(_10bb,_10bc){
return _10bb("Manager.DateTextBox",[_10bc],{managerFormat:{selector:"date",datePattern:"dd/MM/yyyy"},value:"",postMixInProperties:function(){
this.inherited(arguments);
this.value=dojo.date.locale.parse(this.value,this.managerFormat);
},serialize:function(_10bd,_10be){
return dojo.date.locale.format(_10bd,this.managerFormat).toUpperCase();
}});
});
},"dijit/ColorPalette":function(){
define(["require","dojo/text!./templates/ColorPalette.html","./_Widget","./_TemplatedMixin","./_PaletteMixin","./hccss","dojo/i18n","dojo/_base/Color","dojo/_base/declare","dojo/dom-construct","dojo/string","dojo/i18n!dojo/nls/colors","dojo/colors"],function(_10bf,_10c0,_10c1,_10c2,_10c3,has,i18n,Color,_10c4,_10c5,_10c6){
var _10c7=_10c4("dijit.ColorPalette",[_10c1,_10c2,_10c3],{palette:"7x10",_palettes:{"7x10":[["white","seashell","cornsilk","lemonchiffon","lightyellow","palegreen","paleturquoise","lightcyan","lavender","plum"],["lightgray","pink","bisque","moccasin","khaki","lightgreen","lightseagreen","lightskyblue","cornflowerblue","violet"],["silver","lightcoral","sandybrown","orange","palegoldenrod","chartreuse","mediumturquoise","skyblue","mediumslateblue","orchid"],["gray","red","orangered","darkorange","yellow","limegreen","darkseagreen","royalblue","slateblue","mediumorchid"],["dimgray","crimson","chocolate","coral","gold","forestgreen","seagreen","blue","blueviolet","darkorchid"],["darkslategray","firebrick","saddlebrown","sienna","olive","green","darkcyan","mediumblue","darkslateblue","darkmagenta"],["black","darkred","maroon","brown","darkolivegreen","darkgreen","midnightblue","navy","indigo","purple"]],"3x4":[["white","lime","green","blue"],["silver","yellow","fuchsia","navy"],["gray","red","purple","black"]]},templateString:_10c0,baseClass:"dijitColorPalette",_dyeFactory:function(value,row,col,title){
return new this._dyeClass(value,row,col,title);
},buildRendering:function(){
this.inherited(arguments);
this._dyeClass=_10c4(_10c7._Color,{palette:this.palette});
this._preparePalette(this._palettes[this.palette],i18n.getLocalization("dojo","colors",this.lang));
}});
_10c7._Color=_10c4("dijit._Color",Color,{template:"<span class='dijitInline dijitPaletteImg'>"+"<img src='${blankGif}' alt='${alt}' title='${title}' class='dijitColorPaletteSwatch' style='background-color: ${color}'/>"+"</span>",hcTemplate:"<span class='dijitInline dijitPaletteImg' style='position: relative; overflow: hidden; height: 12px; width: 14px;'>"+"<img src='${image}' alt='${alt}' title='${title}' style='position: absolute; left: ${left}px; top: ${top}px; ${size}'/>"+"</span>",_imagePaths:{"7x10":_10bf.toUrl("./themes/a11y/colors7x10.png"),"3x4":_10bf.toUrl("./themes/a11y/colors3x4.png")},constructor:function(alias,row,col,title){
this._title=title;
this._row=row;
this._col=col;
this.setColor(Color.named[alias]);
},getValue:function(){
return this.toHex();
},fillCell:function(cell,_10c8){
var html=_10c6.substitute(has("highcontrast")?this.hcTemplate:this.template,{color:this.toHex(),blankGif:_10c8,alt:this._title,title:this._title,image:this._imagePaths[this.palette].toString(),left:this._col*-20-5,top:this._row*-20-5,size:this.palette=="7x10"?"height: 145px; width: 206px":"height: 64px; width: 86px"});
_10c5.place(html,cell);
}});
return _10c7;
});
},"dojo/store/Cache":function(){
define(["../_base/lang","../when"],function(lang,when){
var Cache=function(_10c9,_10ca,_10cb){
_10cb=_10cb||{};
return lang.delegate(_10c9,{query:function(query,_10cc){
var _10cd=_10c9.query(query,_10cc);
_10cd.forEach(function(_10ce){
if(!_10cb.isLoaded||_10cb.isLoaded(_10ce)){
_10ca.put(_10ce);
}
});
return _10cd;
},queryEngine:_10c9.queryEngine||_10ca.queryEngine,get:function(id,_10cf){
return when(_10ca.get(id),function(_10d0){
return _10d0||when(_10c9.get(id,_10cf),function(_10d1){
if(_10d1){
_10ca.put(_10d1,{id:id});
}
return _10d1;
});
});
},add:function(_10d2,_10d3){
return when(_10c9.add(_10d2,_10d3),function(_10d4){
_10ca.add(_10d2&&typeof _10d4=="object"?_10d4:_10d2,_10d3);
return _10d4;
});
},put:function(_10d5,_10d6){
_10ca.remove((_10d6&&_10d6.id)||this.getIdentity(_10d5));
return when(_10c9.put(_10d5,_10d6),function(_10d7){
_10ca.put(_10d5&&typeof _10d7=="object"?_10d7:_10d5,_10d6);
return _10d7;
});
},remove:function(id,_10d8){
return when(_10c9.remove(id,_10d8),function(_10d9){
return _10ca.remove(id,_10d8);
});
},evict:function(id){
return _10ca.remove(id);
}});
};
lang.setObject("dojo.store.Cache",Cache);
return Cache;
});
},"dojo/data/util/simpleFetch":function(){
define(["../../_base/lang","../../_base/kernel","./sorter"],function(lang,_10da,_10db){
var _10dc={};
lang.setObject("dojo.data.util.simpleFetch",_10dc);
_10dc.errorHandler=function(_10dd,_10de){
if(_10de.onError){
var scope=_10de.scope||_10da.global;
_10de.onError.call(scope,_10dd,_10de);
}
};
_10dc.fetchHandler=function(items,_10df){
var _10e0=_10df.abort||null,_10e1=false,_10e2=_10df.start?_10df.start:0,_10e3=(_10df.count&&(_10df.count!==Infinity))?(_10e2+_10df.count):items.length;
_10df.abort=function(){
_10e1=true;
if(_10e0){
_10e0.call(_10df);
}
};
var scope=_10df.scope||_10da.global;
if(!_10df.store){
_10df.store=this;
}
if(_10df.onBegin){
_10df.onBegin.call(scope,items.length,_10df);
}
if(_10df.sort){
items.sort(_10db.createSortFunction(_10df.sort,this));
}
if(_10df.onItem){
for(var i=_10e2;(i<items.length)&&(i<_10e3);++i){
var item=items[i];
if(!_10e1){
_10df.onItem.call(scope,item,_10df);
}
}
}
if(_10df.onComplete&&!_10e1){
var _10e4=null;
if(!_10df.onItem){
_10e4=items.slice(_10e2,_10e3);
}
_10df.onComplete.call(scope,_10e4,_10df);
}
};
_10dc.fetch=function(_10e5){
_10e5=_10e5||{};
if(!_10e5.store){
_10e5.store=this;
}
this._fetchItems(_10e5,lang.hitch(this,"fetchHandler"),lang.hitch(this,"errorHandler"));
return _10e5;
};
return _10dc;
});
},"dojox/editor/plugins/PasteFromWord":function(){
define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/_base/manager","dijit/_editor/RichText","dijit/form/Button","dijit/Dialog","dojox/html/format","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/string","dojo/i18n!dojox/editor/plugins/nls/PasteFromWord","dojo/i18n!dijit/nls/common","dojo/i18n!dijit/_editor/nls/commands"],function(dojo,dijit,dojox,_10e6){
var _10e7=dojo.declare("dojox.editor.plugins.PasteFromWord",_10e6,{iconClassPrefix:"dijitAdditionalEditorIcon",width:"400px",height:"300px",_template:["<div class='dijitPasteFromWordEmbeddedRTE'>","<div style='width: ${width}; padding-top: 5px; padding-bottom: 5px;'>${instructions}</div>","<div id='${uId}_rte' style='width: ${width}; height: ${height}'></div>","<table style='width: ${width}' tabindex='-1'>","<tbody>","<tr>","<td align='center'>","<button type='button' dojoType='dijit.form.Button' id='${uId}_paste'>${paste}</button>","&nbsp;","<button type='button' dojoType='dijit.form.Button' id='${uId}_cancel'>${buttonCancel}</button>","</td>","</tr>","</tbody>","</table>","</div>"].join(""),_filters:[{regexp:/(<meta\s*[^>]*\s*>)|(<\s*link\s* href="file:[^>]*\s*>)|(<\/?\s*\w+:[^>]*\s*>)/gi,handler:""},{regexp:/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,handler:""},{regexp:/(class="Mso[^"]*")|(<!--(.|\s){1,}?-->)/gi,handler:""},{regexp:/(<p[^>]*>\s*(\&nbsp;|\u00A0)*\s*<\/p[^>]*>)|(<p[^>]*>\s*<font[^>]*>\s*(\&nbsp;|\u00A0)*\s*<\/\s*font\s*>\s<\/p[^>]*>)/ig,handler:""},{regexp:/(style="[^"]*mso-[^;][^"]*")|(style="margin:\s*[^;"]*;")/gi,handler:""},{regexp:/(<\s*script[^>]*>((.|\s)*?)<\\?\/\s*script\s*>)|(<\s*script\b([^<>]|\s)*>?)|(<[^>]*=(\s|)*[("|')]javascript:[^$1][(\s|.)]*[$1][^>]*>)/ig,handler:""},{regexp:/<(\/?)o\:p[^>]*>/gi,handler:""}],_initButton:function(){
this._filters=this._filters.slice(0);
var _10e8=dojo.i18n.getLocalization("dojox.editor.plugins","PasteFromWord");
dojo.mixin(_10e8,dojo.i18n.getLocalization("dijit","common"));
dojo.mixin(_10e8,dojo.i18n.getLocalization("dijit._editor","commands"));
this.button=new dijit.form.Button({label:_10e8["pasteFromWord"],showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"PasteFromWord",tabIndex:"-1",onClick:dojo.hitch(this,"_openDialog")});
this._uId=dijit.getUniqueId(this.editor.id);
_10e8.uId=this._uId;
_10e8.width=this.width||"400px";
_10e8.height=this.height||"300px";
this._dialog=new dijit.Dialog({title:_10e8["pasteFromWord"]}).placeAt(dojo.body());
this._dialog.set("content",dojo.string.substitute(this._template,_10e8));
dojo.style(dojo.byId(this._uId+"_rte"),"opacity",0.001);
this.connect(dijit.byId(this._uId+"_paste"),"onClick","_paste");
this.connect(dijit.byId(this._uId+"_cancel"),"onClick","_cancel");
this.connect(this._dialog,"onHide","_clearDialog");
},updateState:function(){
this.button.set("disabled",this.get("disabled"));
},setEditor:function(_10e9){
this.editor=_10e9;
this._initButton();
},_openDialog:function(){
this._dialog.show();
if(!this._rte){
setTimeout(dojo.hitch(this,function(){
this._rte=new dijit._editor.RichText({height:this.height||"300px"},this._uId+"_rte");
this._rte.startup();
this._rte.onLoadDeferred.addCallback(dojo.hitch(this,function(){
dojo.animateProperty({node:this._rte.domNode,properties:{opacity:{start:0.001,end:1}}}).play();
}));
}),100);
}
},_paste:function(){
var _10ea=dojox.html.format.prettyPrint(this._rte.get("value"));
this._dialog.hide();
var i;
for(i=0;i<this._filters.length;i++){
var _10eb=this._filters[i];
_10ea=_10ea.replace(_10eb.regexp,_10eb.handler);
}
_10ea=dojox.html.format.prettyPrint(_10ea);
this.editor.focus();
this.editor.execCommand("inserthtml",_10ea);
},_cancel:function(){
this._dialog.hide();
},_clearDialog:function(){
this._rte.set("value","");
},destroy:function(){
if(this._rte){
this._rte.destroy();
}
if(this._dialog){
this._dialog.destroyRecursive();
}
delete this._dialog;
delete this._rte;
this.inherited(arguments);
}});
dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){
if(o.plugin){
return;
}
var name=o.args.name.toLowerCase();
if(name==="pastefromword"){
o.plugin=new _10e7({width:("width" in o.args)?o.args.width:"400px",height:("height" in o.args)?o.args.width:"300px"});
}
});
return _10e7;
});
},"dojo/cldr/nls/pt/currency":function(){
define({"HKD_displayName":"Dlar de Hong Kong","CHF_displayName":"Franco suo","JPY_symbol":"JP","CAD_displayName":"Dlar canadense","HKD_symbol":"HK$","CNY_displayName":"Yuan chins","USD_symbol":"US$","AUD_displayName":"Dlar australiano","JPY_displayName":"Iene japons","CAD_symbol":"CA$","USD_displayName":"Dlar norte-americano","EUR_symbol":"","CNY_symbol":"CN","GBP_displayName":"Libra esterlina britnica","GBP_symbol":"","AUD_symbol":"AU$","EUR_displayName":"Euro"});
},"dijit/_CssStateMixin":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(array,_10ec,dom,_10ed,has,lang,on,_10ee,touch,win,_10ef,_10f0){
var _10f1=_10ec("dijit._CssStateMixin",[],{hovering:false,active:false,_applyAttributes:function(){
this.inherited(arguments);
array.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){
this.watch(attr,lang.hitch(this,"_setStateClass"));
},this);
for(var ap in this.cssStateNodes||{}){
this._trackMouseState(this[ap],this.cssStateNodes[ap]);
}
this._trackMouseState(this.domNode,this.baseClass);
this._setStateClass();
},_cssMouseEvent:function(event){
if(!this.disabled){
switch(event.type){
case "mouseover":
case "MSPointerOver":
case "pointerover":
this._set("hovering",true);
this._set("active",this._mouseDown);
break;
case "mouseout":
case "MSPointerOut":
case "pointerout":
this._set("hovering",false);
this._set("active",false);
break;
case "mousedown":
case "touchstart":
case "MSPointerDown":
case "pointerdown":
case "keydown":
this._set("active",true);
break;
case "mouseup":
case "dojotouchend":
case "MSPointerUp":
case "pointerup":
case "keyup":
this._set("active",false);
break;
}
}
},_setStateClass:function(){
var _10f2=this.baseClass.split(" ");
function _10f3(_10f4){
_10f2=_10f2.concat(array.map(_10f2,function(c){
return c+_10f4;
}),"dijit"+_10f4);
};
if(!this.isLeftToRight()){
_10f3("Rtl");
}
var _10f5=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");
if(this.checked){
_10f3(_10f5);
}
if(this.state){
_10f3(this.state);
}
if(this.selected){
_10f3("Selected");
}
if(this._opened){
_10f3("Opened");
}
if(this.disabled){
_10f3("Disabled");
}else{
if(this.readOnly){
_10f3("ReadOnly");
}else{
if(this.active){
_10f3("Active");
}else{
if(this.hovering){
_10f3("Hover");
}
}
}
}
if(this.focused){
_10f3("Focused");
}
var tn=this.stateNode||this.domNode,_10f6={};
array.forEach(tn.className.split(" "),function(c){
_10f6[c]=true;
});
if("_stateClasses" in this){
array.forEach(this._stateClasses,function(c){
delete _10f6[c];
});
}
array.forEach(_10f2,function(c){
_10f6[c]=true;
});
var _10f7=[];
for(var c in _10f6){
_10f7.push(c);
}
tn.className=_10f7.join(" ");
this._stateClasses=_10f2;
},_subnodeCssMouseEvent:function(node,clazz,evt){
if(this.disabled||this.readOnly){
return;
}
function hover(_10f8){
_10ed.toggle(node,clazz+"Hover",_10f8);
};
function _10f9(_10fa){
_10ed.toggle(node,clazz+"Active",_10fa);
};
function _10fb(_10fc){
_10ed.toggle(node,clazz+"Focused",_10fc);
};
switch(evt.type){
case "mouseover":
case "MSPointerOver":
case "pointerover":
hover(true);
break;
case "mouseout":
case "MSPointerOut":
case "pointerout":
hover(false);
_10f9(false);
break;
case "mousedown":
case "touchstart":
case "MSPointerDown":
case "pointerdown":
case "keydown":
_10f9(true);
break;
case "mouseup":
case "MSPointerUp":
case "pointerup":
case "dojotouchend":
case "keyup":
_10f9(false);
break;
case "focus":
case "focusin":
_10fb(true);
break;
case "blur":
case "focusout":
_10fb(false);
break;
}
},_trackMouseState:function(node,clazz){
node._cssState=clazz;
}});
_10ee(function(){
function _10fd(evt,_10fe,_10ff){
if(_10ff&&dom.isDescendant(_10ff,_10fe)){
return;
}
for(var node=_10fe;node&&node!=_10ff;node=node.parentNode){
if(node._cssState){
var _1100=_10f0.getEnclosingWidget(node);
if(_1100){
if(node==_1100.domNode){
_1100._cssMouseEvent(evt);
}else{
_1100._subnodeCssMouseEvent(node,node._cssState,evt);
}
}
}
}
};
var body=win.body(),_1101;
on(body,touch.over,function(evt){
_10fd(evt,evt.target,evt.relatedTarget);
});
on(body,touch.out,function(evt){
_10fd(evt,evt.target,evt.relatedTarget);
});
on(body,_10ef.press,function(evt){
_1101=evt.target;
_10fd(evt,_1101);
});
on(body,_10ef.release,function(evt){
_10fd(evt,_1101);
_1101=null;
});
on(body,"focusin, focusout",function(evt){
var node=evt.target;
if(node._cssState&&!node.getAttribute("widgetId")){
var _1102=_10f0.getEnclosingWidget(node);
if(_1102){
_1102._subnodeCssMouseEvent(node,node._cssState,evt);
}
}
});
});
return _10f1;
});
},"dojo/dnd/Source":function(){
define(["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../dom-class","../dom-geometry","../mouse","../ready","../topic","./common","./Selector","./Manager"],function(array,_1103,_1104,lang,_1105,_1106,mouse,ready,topic,dnd,_1107,_1108){
if(!_1104.isAsync){
ready(0,function(){
var _1109=["dojo/dnd/AutoSource","dojo/dnd/Target"];
require(_1109);
});
}
var _110a=_1103("dojo.dnd.Source",_1107,{isSource:true,horizontal:false,copyOnly:false,selfCopy:false,selfAccept:true,skipForm:false,withHandles:false,autoSync:false,delay:0,accept:["text"],generateText:true,constructor:function(node,_110b){
lang.mixin(this,lang.mixin({},_110b));
var type=this.accept;
if(type.length){
this.accept={};
for(var i=0;i<type.length;++i){
this.accept[type[i]]=1;
}
}
this.isDragging=false;
this.mouseDown=false;
this.targetAnchor=null;
this.targetBox=null;
this.before=true;
this._lastX=0;
this._lastY=0;
this.sourceState="";
if(this.isSource){
_1105.add(this.node,"dojoDndSource");
}
this.targetState="";
if(this.accept){
_1105.add(this.node,"dojoDndTarget");
}
if(this.horizontal){
_1105.add(this.node,"dojoDndHorizontal");
}
this.topics=[topic.subscribe("/dnd/source/over",lang.hitch(this,"onDndSourceOver")),topic.subscribe("/dnd/start",lang.hitch(this,"onDndStart")),topic.subscribe("/dnd/drop",lang.hitch(this,"onDndDrop")),topic.subscribe("/dnd/cancel",lang.hitch(this,"onDndCancel"))];
},checkAcceptance:function(_110c,nodes){
if(this==_110c){
return !this.copyOnly||this.selfAccept;
}
for(var i=0;i<nodes.length;++i){
var type=_110c.getItem(nodes[i].id).type;
var flag=false;
for(var j=0;j<type.length;++j){
if(type[j] in this.accept){
flag=true;
break;
}
}
if(!flag){
return false;
}
}
return true;
},copyState:function(_110d,self){
if(_110d){
return true;
}
if(arguments.length<2){
self=this==_1108.manager().target;
}
if(self){
if(this.copyOnly){
return this.selfCopy;
}
}else{
return this.copyOnly;
}
return false;
},destroy:function(){
_110a.superclass.destroy.call(this);
array.forEach(this.topics,function(t){
t.remove();
});
this.targetAnchor=null;
},onMouseMove:function(e){
if(this.isDragging&&this.targetState=="Disabled"){
return;
}
_110a.superclass.onMouseMove.call(this,e);
var m=_1108.manager();
if(!this.isDragging){
if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){
var nodes=this.getSelectedNodes();
if(nodes.length){
m.startDrag(this,nodes,this.copyState(dnd.getCopyKeyState(e),true));
}
}
}
if(this.isDragging){
var _110e=false;
if(this.current){
if(!this.targetBox||this.targetAnchor!=this.current){
this.targetBox=_1106.position(this.current,true);
}
if(this.horizontal){
_110e=(e.pageX-this.targetBox.x<this.targetBox.w/2)==_1106.isBodyLtr(this.current.ownerDocument);
}else{
_110e=(e.pageY-this.targetBox.y)<(this.targetBox.h/2);
}
}
if(this.current!=this.targetAnchor||_110e!=this.before){
this._markTargetAnchor(_110e);
m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));
}
}
},onMouseDown:function(e){
if(!this.mouseDown&&this._legalMouseDown(e)&&(!this.skipForm||!dnd.isFormElement(e))){
this.mouseDown=true;
this._lastX=e.pageX;
this._lastY=e.pageY;
_110a.superclass.onMouseDown.call(this,e);
}
},onMouseUp:function(e){
if(this.mouseDown){
this.mouseDown=false;
_110a.superclass.onMouseUp.call(this,e);
}
},onDndSourceOver:function(_110f){
if(this!==_110f){
this.mouseDown=false;
if(this.targetAnchor){
this._unmarkTargetAnchor();
}
}else{
if(this.isDragging){
var m=_1108.manager();
m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(this.current.id in this.selection)));
}
}
},onDndStart:function(_1110,nodes,copy){
if(this.autoSync){
this.sync();
}
if(this.isSource){
this._changeState("Source",this==_1110?(copy?"Copied":"Moved"):"");
}
var _1111=this.accept&&this.checkAcceptance(_1110,nodes);
this._changeState("Target",_1111?"":"Disabled");
if(this==_1110){
_1108.manager().overSource(this);
}
this.isDragging=true;
},onDndDrop:function(_1112,nodes,copy,_1113){
if(this==_1113){
this.onDrop(_1112,nodes,copy);
}
this.onDndCancel();
},onDndCancel:function(){
if(this.targetAnchor){
this._unmarkTargetAnchor();
this.targetAnchor=null;
}
this.before=true;
this.isDragging=false;
this.mouseDown=false;
this._changeState("Source","");
this._changeState("Target","");
},onDrop:function(_1114,nodes,copy){
if(this!=_1114){
this.onDropExternal(_1114,nodes,copy);
}else{
this.onDropInternal(nodes,copy);
}
},onDropExternal:function(_1115,nodes,copy){
var _1116=this._normalizedCreator;
if(this.creator){
this._normalizedCreator=function(node,hint){
return _1116.call(this,_1115.getItem(node.id).data,hint);
};
}else{
if(copy){
this._normalizedCreator=function(node){
var t=_1115.getItem(node.id);
var n=node.cloneNode(true);
n.id=dnd.getUniqueId();
return {node:n,data:t.data,type:t.type};
};
}else{
this._normalizedCreator=function(node){
var t=_1115.getItem(node.id);
_1115.delItem(node.id);
return {node:node,data:t.data,type:t.type};
};
}
}
this.selectNone();
if(!copy&&!this.creator){
_1115.selectNone();
}
this.insertNodes(true,nodes,this.before,this.current);
if(!copy&&this.creator){
_1115.deleteSelectedNodes();
}
this._normalizedCreator=_1116;
},onDropInternal:function(nodes,copy){
var _1117=this._normalizedCreator;
if(this.current&&this.current.id in this.selection){
return;
}
if(copy){
if(this.creator){
this._normalizedCreator=function(node,hint){
return _1117.call(this,this.getItem(node.id).data,hint);
};
}else{
this._normalizedCreator=function(node){
var t=this.getItem(node.id);
var n=node.cloneNode(true);
n.id=dnd.getUniqueId();
return {node:n,data:t.data,type:t.type};
};
}
}else{
if(!this.current){
return;
}
this._normalizedCreator=function(node){
var t=this.getItem(node.id);
return {node:node,data:t.data,type:t.type};
};
}
this._removeSelection();
this.insertNodes(true,nodes,this.before,this.current);
this._normalizedCreator=_1117;
},onDraggingOver:function(){
},onDraggingOut:function(){
},onOverEvent:function(){
_110a.superclass.onOverEvent.call(this);
_1108.manager().overSource(this);
if(this.isDragging&&this.targetState!="Disabled"){
this.onDraggingOver();
}
},onOutEvent:function(){
_110a.superclass.onOutEvent.call(this);
_1108.manager().outSource(this);
if(this.isDragging&&this.targetState!="Disabled"){
this.onDraggingOut();
}
},_markTargetAnchor:function(_1118){
if(this.current==this.targetAnchor&&this.before==_1118){
return;
}
if(this.targetAnchor){
this._removeItemClass(this.targetAnchor,this.before?"Before":"After");
}
this.targetAnchor=this.current;
this.targetBox=null;
this.before=_1118;
if(this.targetAnchor){
this._addItemClass(this.targetAnchor,this.before?"Before":"After");
}
},_unmarkTargetAnchor:function(){
if(!this.targetAnchor){
return;
}
this._removeItemClass(this.targetAnchor,this.before?"Before":"After");
this.targetAnchor=null;
this.targetBox=null;
this.before=true;
},_markDndStatus:function(copy){
this._changeState("Source",copy?"Copied":"Moved");
},_legalMouseDown:function(e){
if(e.type!="touchstart"&&!mouse.isLeft(e)){
return false;
}
if(!this.withHandles){
return true;
}
for(var node=e.target;node&&node!==this.node;node=node.parentNode){
if(_1105.contains(node,"dojoDndHandle")){
return true;
}
if(_1105.contains(node,"dojoDndItem")||_1105.contains(node,"dojoDndIgnore")){
break;
}
}
return false;
}});
return _110a;
});
},"dojox/embed/Flash":function(){
define(["dojo"],function(dojo){
var _1119,_111a;
var _111b=9;
var _111c="dojox-embed-flash-",_111d=0;
var _111e={expressInstall:false,width:320,height:240,swLiveConnect:"true",allowScriptAccess:"sameDomain",allowNetworking:"all",style:null,redirect:null};
function prep(_111f){
_111f=dojo.delegate(_111e,_111f);
if(!("path" in _111f)){
console.error("dojox.embed.Flash(ctor):: no path reference to a Flash movie was provided.");
return null;
}
if(!("id" in _111f)){
_111f.id=(_111c+_111d++);
}
return _111f;
};
if(dojo.isIE){
_1119=function(_1120){
_1120=prep(_1120);
if(!_1120){
return null;
}
var p;
var path=_1120.path;
if(_1120.vars){
var a=[];
for(p in _1120.vars){
a.push(p+"="+_1120.vars[p]);
}
_1120.params.FlashVars=a.join("&");
delete _1120.vars;
}
var s="<object id=\""+_1120.id+"\" "+"classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" "+"width=\""+_1120.width+"\" "+"height=\""+_1120.height+"\""+((_1120.style)?" style=\""+_1120.style+"\"":"")+">"+"<param name=\"movie\" value=\""+path+"\" />";
if(_1120.params){
for(p in _1120.params){
s+="<param name=\""+p+"\" value=\""+_1120.params[p]+"\" />";
}
}
s+="</object>";
return {id:_1120.id,markup:s};
};
_111a=(function(){
var _1121=10,_1122=null;
while(!_1122&&_1121>7){
try{
_1122=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+_1121--);
}
catch(e){
}
}
if(_1122){
var v=_1122.GetVariable("$version").split(" ")[1].split(",");
return {major:(v[0]!=null)?parseInt(v[0]):0,minor:(v[1]!=null)?parseInt(v[1]):0,rev:(v[2]!=null)?parseInt(v[2]):0};
}
return {major:0,minor:0,rev:0};
})();
dojo.addOnWindowUnload(function(){
console.warn("***************UNLOAD");
var dummy=function(){
};
var objs=dojo.query("object").reverse().style("display","none").forEach(function(i){
for(var p in i){
if((p!="FlashVars")&&dojo.isFunction(i[p])){
try{
i[p]=dummy;
}
catch(e){
}
}
}
});
});
}else{
_1119=function(_1123){
_1123=prep(_1123);
if(!_1123){
return null;
}
var p;
var path=_1123.path;
if(_1123.vars){
var a=[];
for(p in _1123.vars){
a.push(p+"="+_1123.vars[p]);
}
_1123.params.flashVars=a.join("&");
delete _1123.vars;
}
var s="<embed type=\"application/x-shockwave-flash\" "+"src=\""+path+"\" "+"id=\""+_1123.id+"\" "+"width=\""+_1123.width+"\" "+"height=\""+_1123.height+"\""+((_1123.style)?" style=\""+_1123.style+"\" ":"")+"pluginspage=\""+window.location.protocol+"//www.adobe.com/go/getflashplayer\" ";
if(_1123.params){
for(p in _1123.params){
s+=" "+p+"=\""+_1123.params[p]+"\"";
}
}
s+=" />";
return {id:_1123.id,markup:s};
};
_111a=(function(){
var _1124=navigator.plugins["Shockwave Flash"];
if(_1124&&_1124.description){
var v=_1124.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".");
return {major:(v[0]!=null)?parseInt(v[0]):0,minor:(v[1]!=null)?parseInt(v[1]):0,rev:(v[2]!=null)?parseInt(v[2]):0};
}
return {major:0,minor:0,rev:0};
})();
}
var Flash=function(_1125,node){
if(location.href.toLowerCase().indexOf("file://")>-1){
throw new Error("dojox.embed.Flash can't be run directly from a file. To instatiate the required SWF correctly it must be run from a server, like localHost.");
}
this.available=dojox.embed.Flash.available;
this.minimumVersion=_1125.minimumVersion||_111b;
this.id=null;
this.movie=null;
this.domNode=null;
if(node){
node=dojo.byId(node);
}
setTimeout(dojo.hitch(this,function(){
if(_1125.expressInstall||this.available&&this.available>=this.minimumVersion){
if(_1125&&node){
this.init(_1125,node);
}else{
this.onError("embed.Flash was not provided with the proper arguments.");
}
}else{
if(!this.available){
this.onError("Flash is not installed.");
}else{
this.onError("Flash version detected: "+this.available+" is out of date. Minimum required: "+this.minimumVersion);
}
}
}),100);
};
dojo.extend(Flash,{onReady:function(movie){
},onLoad:function(movie){
},onError:function(msg){
},_onload:function(){
clearInterval(this._poller);
delete this._poller;
delete this._pollCount;
delete this._pollMax;
this.onLoad(this.movie);
},init:function(_1126,node){
this.destroy();
node=dojo.byId(node||this.domNode);
if(!node){
throw new Error("dojox.embed.Flash: no domNode reference has been passed.");
}
var p=0,_1127=false;
this._poller=null;
this._pollCount=0;
this._pollMax=15;
this.pollTime=100;
if(dojox.embed.Flash.initialized){
this.id=dojox.embed.Flash.place(_1126,node);
this.domNode=node;
setTimeout(dojo.hitch(this,function(){
this.movie=this.byId(this.id,_1126.doc);
this.onReady(this.movie);
this._poller=setInterval(dojo.hitch(this,function(){
try{
p=this.movie.PercentLoaded();
}
catch(e){
console.warn("this.movie.PercentLoaded() failed",e,this.movie);
}
if(p==100){
this._onload();
}else{
if(p==0&&this._pollCount++>this._pollMax){
clearInterval(this._poller);
throw new Error("Building SWF failed.");
}
}
}),this.pollTime);
}),1);
}
},_destroy:function(){
try{
this.domNode.removeChild(this.movie);
}
catch(e){
}
this.id=this.movie=this.domNode=null;
},destroy:function(){
if(!this.movie){
return;
}
var test=dojo.delegate({id:true,movie:true,domNode:true,onReady:true,onLoad:true});
for(var p in this){
if(!test[p]){
delete this[p];
}
}
if(this._poller){
dojo.connect(this,"onLoad",this,"_destroy");
}else{
this._destroy();
}
},byId:function(_1128,doc){
doc=doc||document;
if(doc.embeds[_1128]){
return doc.embeds[_1128];
}
if(doc[_1128]){
return doc[_1128];
}
if(window[_1128]){
return window[_1128];
}
if(document[_1128]){
return document[_1128];
}
return null;
}});
dojo.mixin(Flash,{minSupported:8,available:_111a.major,supported:(_111a.major>=_111a.required),minimumRequired:_111a.required,version:_111a,initialized:false,onInitialize:function(){
Flash.initialized=true;
},__ie_markup__:function(_1129){
return _1119(_1129);
},proxy:function(obj,_112a){
dojo.forEach((dojo.isArray(_112a)?_112a:[_112a]),function(item){
this[item]=dojo.hitch(this,function(){
return (function(){
return eval(this.movie.CallFunction("<invoke name=\""+item+"\" returntype=\"javascript\">"+"<arguments>"+dojo.map(arguments,function(item){
return __flash__toXML(item);
}).join("")+"</arguments>"+"</invoke>"));
}).apply(this,arguments||[]);
});
},obj);
}});
Flash.place=function(_112b,node){
var o=_1119(_112b);
node=dojo.byId(node);
if(!node){
node=dojo.doc.createElement("div");
node.id=o.id+"-container";
dojo.body().appendChild(node);
}
if(o){
node.innerHTML=o.markup;
return o.id;
}
return null;
};
Flash.onInitialize();
dojo.setObject("dojox.embed.Flash",Flash);
return Flash;
});
},"dijit/form/FilteringSelect":function(){
define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(_112c,lang,when,_112d,_112e){
return _112c("dijit.form.FilteringSelect",[_112d,_112e],{required:true,_lastDisplayedValue:"",_isValidSubset:function(){
return this._opened;
},isValid:function(){
return !!this.item||(!this.required&&this.get("displayedValue")=="");
},_refreshState:function(){
if(!this.searchTimer){
this.inherited(arguments);
}
},_callbackSetLabel:function(_112f,query,_1130,_1131){
if((query&&query[this.searchAttr]!==this._lastQuery)||(!query&&_112f.length&&this.store.getIdentity(_112f[0])!=this._lastQuery)){
return;
}
if(!_112f.length){
this.set("value","",_1131||(_1131===undefined&&!this.focused),this.textbox.value,null);
}else{
this.set("item",_112f[0],_1131);
}
},_openResultList:function(_1132,query,_1133){
if(query[this.searchAttr]!==this._lastQuery){
return;
}
this.inherited(arguments);
if(this.item===undefined){
this.validate(true);
}
},_getValueAttr:function(){
return this.valueNode.value;
},_getValueField:function(){
return "value";
},_setValueAttr:function(value,_1134,_1135,item){
if(!this._onChangeActive){
_1134=null;
}
if(item===undefined){
if(value===null||value===""){
value="";
if(!lang.isString(_1135)){
this._setDisplayedValueAttr(_1135||"",_1134);
return;
}
}
var self=this;
this._lastQuery=value;
when(this.store.get(value),function(item){
self._callbackSetLabel(item?[item]:[],undefined,undefined,_1134);
});
}else{
this.valueNode.value=value;
this.inherited(arguments);
}
},_setItemAttr:function(item,_1136,_1137){
this.inherited(arguments);
this._lastDisplayedValue=this.textbox.value;
},_getDisplayQueryString:function(text){
return text.replace(/([\\\*\?])/g,"\\$1");
},_setDisplayedValueAttr:function(label,_1138){
if(label==null){
label="";
}
if(!this._created){
if(!("displayedValue" in this.params)){
return;
}
_1138=false;
}
if(this.store){
this.closeDropDown();
var query=lang.clone(this.query);
var qs=this._getDisplayQueryString(label),q;
if(this.store._oldAPI){
q=qs;
}else{
q=this._patternToRegExp(qs);
q.toString=function(){
return qs;
};
}
this._lastQuery=query[this.searchAttr]=q;
this.textbox.value=label;
this._lastDisplayedValue=label;
this._set("displayedValue",label);
var _1139=this;
var _113a={queryOptions:{ignoreCase:this.ignoreCase,deep:true}};
lang.mixin(_113a,this.fetchProperties);
this._fetchHandle=this.store.query(query,_113a);
when(this._fetchHandle,function(_113b){
_1139._fetchHandle=null;
_1139._callbackSetLabel(_113b||[],query,_113a,_1138);
},function(err){
_1139._fetchHandle=null;
if(!_1139._cancelingQuery){
console.error("dijit.form.FilteringSelect: "+err.toString());
}
});
}
},undo:function(){
this.set("displayedValue",this._lastDisplayedValue);
}});
});
},"dijit/_WidgetBase":function(){
define(["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(_113c,array,_113d,_113e,_113f,_1140,dom,_1141,_1142,_1143,_1144,_1145,has,_1146,lang,on,ready,_1147,topic,win,_1148,_1149,_114a){
has.add("dijit-legacy-requires",!_1146.isAsync);
has.add("dojo-bidi",false);
if(has("dijit-legacy-requires")){
ready(0,function(){
var _114b=["dijit/_base/manager"];
_113c(_114b);
});
}
var _114c={};
function _114d(obj){
var ret={};
for(var attr in obj){
ret[attr.toLowerCase()]=true;
}
return ret;
};
function _114e(attr){
return function(val){
_1141[val?"set":"remove"](this.domNode,attr,val);
this._set(attr,val);
};
};
function _114f(a,b){
return a===b||(a!==a&&b!==b);
};
var _1150=_1140("dijit._WidgetBase",[_1147,_1148],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_114e("lang"),dir:"",_setDirAttr:_114e("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){
this._set("ownerDocument",val);
},attributeMap:{},_blankGif:_113e.blankGif||_113c.toUrl("dojo/resources/blank.gif"),_introspect:function(){
var ctor=this.constructor;
if(!ctor._setterAttrs){
var proto=ctor.prototype,attrs=ctor._setterAttrs=[],onMap=(ctor._onMap={});
for(var name in proto.attributeMap){
attrs.push(name);
}
for(name in proto){
if(/^on/.test(name)){
onMap[name.substring(2).toLowerCase()]=name;
}
if(/^_set[A-Z](.*)Attr$/.test(name)){
name=name.charAt(4).toLowerCase()+name.substr(5,name.length-9);
if(!proto.attributeMap||!(name in proto.attributeMap)){
attrs.push(name);
}
}
}
}
},postscript:function(_1151,_1152){
this.create(_1151,_1152);
},create:function(_1153,_1154){
this._introspect();
this.srcNodeRef=dom.byId(_1154);
this._connects=[];
this._supportingWidgets=[];
if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){
this.id=this.srcNodeRef.id;
}
if(_1153){
this.params=_1153;
lang.mixin(this,_1153);
}
this.postMixInProperties();
if(!this.id){
this.id=_114a.getUniqueId(this.declaredClass.replace(/\./g,"_"));
if(this.params){
delete this.params.id;
}
}
this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);
this.ownerDocumentBody=win.body(this.ownerDocument);
_114a.add(this);
this.buildRendering();
var _1155;
if(this.domNode){
this._applyAttributes();
var _1156=this.srcNodeRef;
if(_1156&&_1156.parentNode&&this.domNode!==_1156){
_1156.parentNode.replaceChild(this.domNode,_1156);
_1155=true;
}
this.domNode.setAttribute("widgetId",this.id);
}
this.postCreate();
if(_1155){
delete this.srcNodeRef;
}
this._created=true;
},_applyAttributes:function(){
var _1157={};
for(var key in this.params||{}){
_1157[key]=this._get(key);
}
array.forEach(this.constructor._setterAttrs,function(key){
if(!(key in _1157)){
var val=this._get(key);
if(val){
this.set(key,val);
}
}
},this);
for(key in _1157){
this.set(key,_1157[key]);
}
},postMixInProperties:function(){
},buildRendering:function(){
if(!this.domNode){
this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");
}
if(this.baseClass){
var _1158=this.baseClass.split(" ");
if(!this.isLeftToRight()){
_1158=_1158.concat(array.map(_1158,function(name){
return name+"Rtl";
}));
}
_1142.add(this.domNode,_1158);
}
},postCreate:function(){
},startup:function(){
if(this._started){
return;
}
this._started=true;
array.forEach(this.getChildren(),function(obj){
if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){
obj.startup();
obj._started=true;
}
});
},destroyRecursive:function(_1159){
this._beingDestroyed=true;
this.destroyDescendants(_1159);
this.destroy(_1159);
},destroy:function(_115a){
this._beingDestroyed=true;
this.uninitialize();
function _115b(w){
if(w.destroyRecursive){
w.destroyRecursive(_115a);
}else{
if(w.destroy){
w.destroy(_115a);
}
}
};
array.forEach(this._connects,lang.hitch(this,"disconnect"));
array.forEach(this._supportingWidgets,_115b);
if(this.domNode){
array.forEach(_114a.findWidgets(this.domNode,this.containerNode),_115b);
}
this.destroyRendering(_115a);
_114a.remove(this.id);
this._destroyed=true;
},destroyRendering:function(_115c){
if(this.bgIframe){
this.bgIframe.destroy(_115c);
delete this.bgIframe;
}
if(this.domNode){
if(_115c){
_1141.remove(this.domNode,"widgetId");
}else{
_1143.destroy(this.domNode);
}
delete this.domNode;
}
if(this.srcNodeRef){
if(!_115c){
_1143.destroy(this.srcNodeRef);
}
delete this.srcNodeRef;
}
},destroyDescendants:function(_115d){
array.forEach(this.getChildren(),function(_115e){
if(_115e.destroyRecursive){
_115e.destroyRecursive(_115d);
}
});
},uninitialize:function(){
return false;
},_setStyleAttr:function(value){
var _115f=this.domNode;
if(lang.isObject(value)){
_1145.set(_115f,value);
}else{
if(_115f.style.cssText){
_115f.style.cssText+="; "+value;
}else{
_115f.style.cssText=value;
}
}
this._set("style",value);
},_attrToDom:function(attr,value,_1160){
_1160=arguments.length>=3?_1160:this.attributeMap[attr];
array.forEach(lang.isArray(_1160)?_1160:[_1160],function(_1161){
var _1162=this[_1161.node||_1161||"domNode"];
var type=_1161.type||"attribute";
switch(type){
case "attribute":
if(lang.isFunction(value)){
value=lang.hitch(this,value);
}
var _1163=_1161.attribute?_1161.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);
if(_1162.tagName){
_1141.set(_1162,_1163,value);
}else{
_1162.set(_1163,value);
}
break;
case "innerText":
_1162.innerHTML="";
_1162.appendChild(this.ownerDocument.createTextNode(value));
break;
case "innerHTML":
_1162.innerHTML=value;
break;
case "class":
_1142.replace(_1162,value,this[attr]);
break;
}
},this);
},get:function(name){
var names=this._getAttrNames(name);
return this[names.g]?this[names.g]():this._get(name);
},set:function(name,value){
if(typeof name==="object"){
for(var x in name){
this.set(x,name[x]);
}
return this;
}
var names=this._getAttrNames(name),_1164=this[names.s];
if(lang.isFunction(_1164)){
var _1165=_1164.apply(this,Array.prototype.slice.call(arguments,1));
}else{
var _1166=this.focusNode&&!lang.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_1166]&&this[_1166].tagName,_1167=tag&&(_114c[tag]||(_114c[tag]=_114d(this[_1166]))),map=name in this.attributeMap?this.attributeMap[name]:names.s in this?this[names.s]:((_1167&&names.l in _1167&&typeof value!="function")||/^aria-|^data-|^role$/.test(name))?_1166:null;
if(map!=null){
this._attrToDom(name,value,map);
}
this._set(name,value);
}
return _1165||this;
},_attrPairNames:{},_getAttrNames:function(name){
var apn=this._attrPairNames;
if(apn[name]){
return apn[name];
}
var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){
return c.charAt(c.length-1).toUpperCase();
});
return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});
},_set:function(name,value){
var _1168=this[name];
this[name]=value;
if(this._created&&!_114f(_1168,value)){
if(this._watchCallbacks){
this._watchCallbacks(name,_1168,value);
}
this.emit("attrmodified-"+name,{detail:{prevValue:_1168,newValue:value}});
}
},_get:function(name){
return this[name];
},emit:function(type,_1169,_116a){
_1169=_1169||{};
if(_1169.bubbles===undefined){
_1169.bubbles=true;
}
if(_1169.cancelable===undefined){
_1169.cancelable=true;
}
if(!_1169.detail){
_1169.detail={};
}
_1169.detail.widget=this;
var ret,_116b=this["on"+type];
if(_116b){
ret=_116b.apply(this,_116a?_116a:[_1169]);
}
if(this._started&&!this._beingDestroyed){
on.emit(this.domNode,type.toLowerCase(),_1169);
}
return ret;
},on:function(type,func){
var _116c=this._onMap(type);
if(_116c){
return _113d.after(this,_116c,func,true);
}
return this.own(on(this.domNode,type,func))[0];
},_onMap:function(type){
var ctor=this.constructor,map=ctor._onMap;
if(!map){
map=(ctor._onMap={});
for(var attr in ctor.prototype){
if(/^on/.test(attr)){
map[attr.replace(/^on/,"").toLowerCase()]=attr;
}
}
}
return map[typeof type=="string"&&type.toLowerCase()];
},toString:function(){
return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";
},getChildren:function(){
return this.containerNode?_114a.findWidgets(this.containerNode):[];
},getParent:function(){
return _114a.getEnclosingWidget(this.domNode.parentNode);
},connect:function(obj,event,_116d){
return this.own(_113f.connect(obj,event,this,_116d))[0];
},disconnect:function(_116e){
_116e.remove();
},subscribe:function(t,_116f){
return this.own(topic.subscribe(t,lang.hitch(this,_116f)))[0];
},unsubscribe:function(_1170){
_1170.remove();
},isLeftToRight:function(){
return this.dir?(this.dir=="ltr"):_1144.isBodyLtr(this.ownerDocument);
},isFocusable:function(){
return this.focus&&(_1145.get(this.domNode,"display")!="none");
},placeAt:function(_1171,_1172){
var _1173=!_1171.tagName&&_114a.byId(_1171);
if(_1173&&_1173.addChild&&(!_1172||typeof _1172==="number")){
_1173.addChild(this,_1172);
}else{
var ref=_1173?(_1173.containerNode&&!/after|before|replace/.test(_1172||"")?_1173.containerNode:_1173.domNode):dom.byId(_1171,this.ownerDocument);
_1143.place(this.domNode,ref,_1172);
if(!this._started&&(this.getParent()||{})._started){
this.startup();
}
}
return this;
},defer:function(fcn,delay){
var timer=setTimeout(lang.hitch(this,function(){
if(!timer){
return;
}
timer=null;
if(!this._destroyed){
lang.hitch(this,fcn)();
}
}),delay||0);
return {remove:function(){
if(timer){
clearTimeout(timer);
timer=null;
}
return null;
}};
}});
if(has("dojo-bidi")){
_1150.extend(_1149);
}
return _1150;
});
},"dojo/cookie":function(){
define(["./_base/kernel","./regexp"],function(dojo,_1174){
dojo.cookie=function(name,value,props){
var c=document.cookie,ret;
if(arguments.length==1){
var _1175=c.match(new RegExp("(?:^|; )"+_1174.escapeString(name)+"=([^;]*)"));
ret=_1175?decodeURIComponent(_1175[1]):undefined;
}else{
props=props||{};
var exp=props.expires;
if(typeof exp=="number"){
var d=new Date();
d.setTime(d.getTime()+exp*24*60*60*1000);
exp=props.expires=d;
}
if(exp&&exp.toUTCString){
props.expires=exp.toUTCString();
}
value=encodeURIComponent(value);
var _1176=name+"="+value,_1177;
for(_1177 in props){
_1176+="; "+_1177;
var _1178=props[_1177];
if(_1178!==true){
_1176+="="+_1178;
}
}
document.cookie=_1176;
}
return ret;
};
dojo.cookie.isSupported=function(){
if(!("cookieEnabled" in navigator)){
this("__djCookieTest__","CookiesAllowed");
navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";
if(navigator.cookieEnabled){
this("__djCookieTest__","",{expires:-1});
}
}
return navigator.cookieEnabled;
};
return dojo.cookie;
});
},"manager/GridInput":function(){
define("manager/GridInput",["dojo/_base/declare","dojo/store/Memory","dojo/store/Observable","dojo/json"],function(_1179,store,_117a,JSON){
return _1179("Manager.GridInput",[],{constructor:function(id,_117b,_117c){
this.idGridInput=id;
this.fields=_117b;
this.idField=manager.getElementById(id+"_id");
this.actionGrid=_117c;
this.table=manager.getElementById(id+"_gridInput");
this.rowCount=0;
this.gridInputStore=new store();
this.gridInputStore=_117a(this.gridInputStore);
this.gridInputQuery=this.gridInputStore.query();
this.gridInputQuery.observe(function(row,_117d,_117e){
if(_117e>-1){
}
});
},setData:function(){
var data=manager.getElementById(this.idGridInput+"_data");
data.value=JSON.stringify(this.gridInputStore.data);
},loadData:function(data){
for(var chave in data){
data[chave].id=++this.rowCount;
this.gridInputStore.add(data[chave]);
}
this.setData();
manager.doAjaxText(this.actionGrid,this.idGridInput+"_divGrid",this.idGridInput+"_divGrid");
},getInput:function(){
var _117f=this.fields;
var _1180=_117f.split(",");
var _1181={};
for(var i=0;i<_1180.length;i++){
var id=_1180[i];
var field=dijit.byId(id);
if(field!=null){
_1181[id]=field.get("value");
if(field.get("displayedValue")!=field.get("value")){
_1181[id+"_text"]=field.get("displayedValue");
}
}else{
var field=manager.getElementById(_1180[i]);
_1181[id]=field.value;
}
}
return _1181;
},select:function(data){
},edit:function(id){
var _1182=this.fields;
var _1183=_1182.split(",");
var _1184={};
var data=this.gridInputStore.get(id);
this.idField.value=id;
for(var i=0;i<_1183.length;i++){
var id=_1183[i];
var field=dijit.byId(id);
var value=data[id];
if(field!=null){
field.set("value",value);
}else{
var field=manager.getElementById(_1183[i]);
field.value=value;
}
}
},clearInput:function(){
var _1185=this.fields;
var _1186=_1185.split(",");
var _1187={};
var value="";
this.idField.value="";
for(var i=0;i<_1186.length;i++){
var id=_1186[i];
var field=dijit.byId(id);
if(field!=null){
field.set("value",value);
if(field.get("displayedValue")!=field.get("value")){
field.set("displayedValue",value);
}
}else{
var field=manager.getElementById(_1186[i]);
field.value=value;
}
}
},add:function(){
var row=this.getInput();
if(this.gridInputStore.get(this.idField.value)){
row.id=this.idField.value;
this.gridInputStore.put(row);
}else{
row.id=++this.rowCount;
this.gridInputStore.add(row);
}
this.setData();
this.clearInput();
manager.doAjaxText(this.actionGrid,this.idGridInput+"_divGrid",this.idGridInput+"_divGrid");
},remove:function(id){
if(id){
this.gridInputStore.remove(id);
}else{
var div=manager.getElementById(this.idGridInput+"_divGrid");
var tbody=manager.getElementsByTagName("TBODY",div).item(0);
var rows=manager.getElementsByTagName("TR",tbody);
for(var i=0;i<rows.length;i++){
var _1188=manager.getElementsByTagName("INPUT",rows[i]);
if(_1188[0].type=="checkbox"){
if(_1188[0].checked){
var id=_1188[0].value;
this.gridInputStore.remove(id);
}
}
}
}
this.setData();
manager.doAjaxText(this.actionGrid,this.idGridInput+"_divGrid",this.idGridInput+"_divGrid");
}});
});
},"manager/Core":function(){
define("manager/Core",["dojo/_base/declare","dojo/_base/array","dojo/dom","dojo/dom-class","dojo/dom-style","dojo/on","dojo/parser","dijit/registry","dojo/i18n!./nls/messages","manager/MD5","manager/Window","manager/Form","manager/DialogSimple","manager/Page","manager/Ajax"],function(_1189,array,dom,_118a,_118b,on,_118c,_118d,i18n,MD5,Win,Form,_118e,Page,Ajax){
return {version:"Manager 1.1",md5:new MD5(),grid:null,webForm:null,connections:[],onSubmit:[],onLoad:[],i18n:i18n,action:"",page:new Page(),windows:{handle:[],sufix:0,base:window},type:function(o){
return !!o&&Object.prototype.toString.call(o).match(/(\w+)\]/)[1];
},getAction:function(){
return this.action;
},setAction:function(_118f,_1190){
this.action=_1190;
if(_118f){
_118d.byId(_118f).set("action",_1190);
}
return _1190;
},getWindow:function(_1191){
return this.windows.handle[(_1191!=""?_1191:"current")];
},addWindow:function(_1192){
var _1193=_118d.byId(_1192);
if(!_1193){
this.windows.handle[_1192]=new Win(_1192);
}
return this.windows.handle[_1192];
},setWindow:function(_1194){
this.windows.handle["current"]=_1194;
},pushWindow:function(_1195){
var win=this.windows.handle["current"];
_1195.parent=win;
this.windows.handle["current"]=_1195;
},popWindow:function(){
var win=this.windows.handle["current"];
this.windows.handle["current"]=win.parent;
},forms:{handle:[]},getForm:function(_1196){
return this.forms.handle[_1196];
},addForm:function(_1197){
this.forms.handle[_1197]=new Form(_1197);
return this.forms.handle[_1197];
},setForm:function(_1198){
var form=this.getForm(_1198);
this.webForm=(form?form:this.addForm(_1198));
},getElementById:function(e){
if(typeof (e)!="string"){
return e;
}
if(document.getElementById){
e=dom.byId(e);
}else{
if(document.all){
e=document.all[e];
}else{
e=null;
}
}
return e;
},byId:function(id){
var _1199=_118d.byId(id);
if(_1199){
var node=_1199;
}else{
var node=dom.byId(id);
}
return node;
},getElementsByTagName:function(_119a,p){
var list=null;
_119a=_119a||"*";
p=p||document;
if(p.getElementsByTagName){
list=p.getElementsByTagName(_119a);
}
return list||new Array();
},setElementValueById:function(e,value){
var node=this.getElementById(e);
if(node!=null){
node.value=value;
}
},getElementValueById:function(e){
var node=this.getElementById(e);
if(node!=null){
return node.value;
}
return null;
},getParentForm:function(_119b){
var node=dom.byId(_119b);
root=dojo.doc;
while(node&&node!==root){
if(node.action!==undefined){
return node.id;
}
node=node.parentNode;
}
return null;
},getLayoutElement:function(_119c){
var node=dom.byId(_119c);
root=dojo.doc;
while(node&&node!==root){
if(_118a.contains(node,"mElement")){
return node.id;
}
node=node.parentNode;
}
return null;
},parse:function(id){
try{
var byId=dom.byId(id);
if(byId){
_118c.parse(byId);
}
}
catch(e){
}
},isHandler:function(url){
return (url.indexOf("index.php")>-1);
},registerEvents:function(_119d){
array.forEach(_119d,function(event){
manager.registerEvent(event[0],event[1],event[2],event[3],event[4]);
});
},registerEvent:function(id,event,_119e,_119f,_11a0){
try{
if(this.type(_119e)=="Function"){
var _11a1=_119e;
}else{
var _11a1=new Function("event",_119e+(_119f?" event.preventDefault();":""));
}
node=this.byId(id);
if(!node){
console.error("registerEvent "+id+":"+event+". Error: node not found!");
return null;
}
var _11a2=this.getLayoutElement(id);
this.connectionPush(_11a2,on(node,event,_11a1));
}
catch(e){
console.error("registerEvent "+id+":"+event+". Error: "+e);
}
},connectionPush:function(_11a3,_11a4){
if(!this.connections[_11a3]){
this.connections[_11a3]=[];
}
this.connections[_11a3].push(_11a4);
},connect:function(arg1,arg2,arg3,arg4,arg5,arg6){
var _11a5=this.getLayoutElement(arg1);
this.connectionPush(_11a5,on(arg1,arg2,arg3,arg4,arg5,arg6));
},disconnect:function(_11a6){
if(_11a6!=""){
array.forEach(this.connections[_11a6],function(_11a7){
_11a7.remove;
});
this.connections[_11a6].length=0;
}
},submit:function(_11a8){
if(_11a8){
if(this.onSubmit[_11a8]()){
this.page.postback(_11a8);
}
}else{
this.page.postback();
}
},doPost:function(_11a9){
this.submit(_11a9);
},doPostBack:function(_11aa){
var _11ab=this.getParentForm(_11aa);
this.page.eventTarget=_11aa;
this.submit(_11ab);
},doLinkButton:function(url,_11ac){
var _11ad=this.getParentForm(_11ac);
this.setAction(_11ad,url);
this.page.eventTarget=_11ac;
this.submit(_11ad);
},doAjax:function(url,_11ae,_11af){
var _11b0=this.getParentForm(_11af);
this.page.ajax(url,_11ae,_11b0);
},doAjaxText:function(url,_11b1,_11b2){
var _11b3=this.getParentForm(_11b2);
this.page.ajaxText(url,_11b1,_11b3);
},doRedirect:function(url){
window.location=url;
},doGet:function(url,_11b4){
this.disconnect(_11b4);
this.page.get(url,_11b4);
},doDialog:function(_11b5,url){
var _11b6=this.getWindow(_11b5);
if(!_11b6){
this.addWindow(_11b5);
}
this.getWindow(_11b5).setHref(url);
this.getWindow(_11b5).open();
},doPrintForm:function(url){
var w=screen.width*0.75;
var h=screen.height*0.6;
var print=window.open(url,"print","toolbar=no,width="+w+",height="+h+",scrollbars=yes,"+"top=0,left=0,statusbar=yes,resizeable=yes");
},doPrintFile:function(id){
var ok=confirm(this.i18n.PRINT_FILE);
if(ok){
this.doPostBack(id);
}
},doShowPDF:function(id){
var ok=confirm(this.i18n.SHOW_PDF);
if(ok){
this.doPostBack(id);
}
},doWindow:function(url,_11b7){
if((_11b7==null)||(_11b7=="")){
_11b7="managerWindow";
}
var w=screen.width*0.95;
var h=screen.height*0.8;
var wnd=window.open(url,_11b7,"toolbar=no,width="+w+",height="+h+",scrollbars=yes,"+"top=0,left=0,statusbar=yes,resizeable=yes");
},doFile:function(url,_11b8){
url=url+"?filename="+(_11b8?_11b8:"download");
window.location.replace(url);
},doPrintURL:function(url){
var ok=confirm(this.i18n.PRINT_URL);
if(ok){
var tg=window.name;
var form=document.forms[0];
var w=screen.width*0.95;
var h=screen.height*0.8;
var print=window.open(url,"print","toolbar=no,width="+w+",height="+h+",scrollbars=yes,"+"top=0,left=0,statusbar=yes,resizeable=yes");
print.focus();
window.print();
form.target=tg;
}
},doPrompt:function(_11b9,html){
var _11ba=_118d.byId(_11b9);
if(!_11ba){
_11ba=new _118e({id:_11b9});
}
if(html){
_11ba.set("content",html);
}
_11ba.show();
},hover:function(id,over,out){
var _11bb=this.byId(id);
on(_11bb,"onmouseenter",over);
on(_11bb,"onmouseleave",out);
},hide:function(id){
if(_118b.get(this.byId(id),"display")!="none"){
_118b.set(this.byId(id),"display","none");
}
},show:function(id){
if(_118b.get(this.byId(id),"display")=="none"){
_118b.set(this.byId(id),"display","block");
}
},toggle:function(id){
if(_118b.get(this.byId(id),"display")=="none"){
_118b.set(this.byId(id),"display","block");
}else{
_118b.set(this.byId(id),"display","none");
}
}};
});
},"dijit/MenuBarItem":function(){
define(["dojo/_base/declare","./MenuItem","dojo/text!./templates/MenuBarItem.html"],function(_11bc,_11bd,_11be){
var _11bf=_11bc("dijit._MenuBarItemMixin",null,{templateString:_11be,_setIconClassAttr:null});
var _11c0=_11bc("dijit.MenuBarItem",[_11bd,_11bf],{});
_11c0._MenuBarItemMixin=_11bf;
return _11c0;
});
},"dijit/_editor/html":function(){
define(["dojo/_base/array","dojo/_base/lang","dojo/sniff"],function(array,lang,has){
var _11c1={};
lang.setObject("dijit._editor.html",_11c1);
var _11c2=_11c1.escapeXml=function(str,_11c3){
str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");
if(!_11c3){
str=str.replace(/'/gm,"&#39;");
}
return str;
};
_11c1.getNodeHtml=function(node){
var _11c4=[];
_11c1.getNodeHtmlHelper(node,_11c4);
return _11c4.join("");
};
_11c1.getNodeHtmlHelper=function(node,_11c5){
switch(node.nodeType){
case 1:
var lName=node.nodeName.toLowerCase();
if(!lName||lName.charAt(0)=="/"){
return "";
}
_11c5.push("<",lName);
var _11c6=[],_11c7={};
var attr;
if(has("dom-attributes-explicit")||has("dom-attributes-specified-flag")){
var i=0;
while((attr=node.attributes[i++])){
var n=attr.name;
if(n.substr(0,3)!=="_dj"&&(!has("dom-attributes-specified-flag")||attr.specified)&&!(n in _11c7)){
var v=attr.value;
if(n=="src"||n=="href"){
if(node.getAttribute("_djrealurl")){
v=node.getAttribute("_djrealurl");
}
}
if(has("ie")===8&&n==="style"){
v=v.replace("HEIGHT:","height:").replace("WIDTH:","width:");
}
_11c6.push([n,v]);
_11c7[n]=v;
}
}
}else{
var clone=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false);
var s=clone.outerHTML;
var _11c8=/[\w-]+=("[^"]*"|'[^']*'|\S*)/gi;
var _11c9=s.match(_11c8);
s=s.substr(0,s.indexOf(">"));
array.forEach(_11c9,function(attr){
if(attr){
var idx=attr.indexOf("=");
if(idx>0){
var key=attr.substring(0,idx);
if(key.substr(0,3)!="_dj"){
if(key=="src"||key=="href"){
if(node.getAttribute("_djrealurl")){
_11c6.push([key,node.getAttribute("_djrealurl")]);
return;
}
}
var val,match;
switch(key){
case "style":
val=node.style.cssText.toLowerCase();
break;
case "class":
val=node.className;
break;
case "width":
if(lName==="img"){
match=/width=(\S+)/i.exec(s);
if(match){
val=match[1];
}
break;
}
case "height":
if(lName==="img"){
match=/height=(\S+)/i.exec(s);
if(match){
val=match[1];
}
break;
}
default:
val=node.getAttribute(key);
}
if(val!=null){
_11c6.push([key,val.toString()]);
}
}
}
}
},this);
}
_11c6.sort(function(a,b){
return a[0]<b[0]?-1:(a[0]==b[0]?0:1);
});
var j=0;
while((attr=_11c6[j++])){
_11c5.push(" ",attr[0],"=\"",(typeof attr[1]==="string"?_11c2(attr[1],true):attr[1]),"\"");
}
switch(lName){
case "br":
case "hr":
case "img":
case "input":
case "base":
case "meta":
case "area":
case "basefont":
_11c5.push(" />");
break;
case "script":
_11c5.push(">",node.innerHTML,"</",lName,">");
break;
default:
_11c5.push(">");
if(node.hasChildNodes()){
_11c1.getChildrenHtmlHelper(node,_11c5);
}
_11c5.push("</",lName,">");
}
break;
case 4:
case 3:
_11c5.push(_11c2(node.nodeValue,true));
break;
case 8:
_11c5.push("<!--",_11c2(node.nodeValue,true),"-->");
break;
default:
_11c5.push("<!-- Element not recognized - Type: ",node.nodeType," Name: ",node.nodeName,"-->");
}
};
_11c1.getChildrenHtml=function(node){
var _11ca=[];
_11c1.getChildrenHtmlHelper(node,_11ca);
return _11ca.join("");
};
_11c1.getChildrenHtmlHelper=function(dom,_11cb){
if(!dom){
return;
}
var nodes=dom["childNodes"]||dom;
var _11cc=!has("ie")||nodes!==dom;
var node,i=0;
while((node=nodes[i++])){
if(!_11cc||node.parentNode==dom){
_11c1.getNodeHtmlHelper(node,_11cb);
}
}
};
return _11c1;
});
},"dojo/uacss":function(){
define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(_11cd,lang,_11ce,has,_11cf){
var html=_11cf.doc.documentElement,ie=has("ie"),opera=has("opera"),maj=Math.floor,ff=has("ff"),_11d0=_11cd.boxModel.replace(/-/,""),_11d1={"dj_quirks":has("quirks"),"dj_opera":opera,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla"),"dj_ios":has("ios"),"dj_android":has("android")};
if(ie){
_11d1["dj_ie"]=true;
_11d1["dj_ie"+maj(ie)]=true;
_11d1["dj_iequirks"]=has("quirks");
}
if(ff){
_11d1["dj_ff"+maj(ff)]=true;
}
_11d1["dj_"+_11d0]=true;
var _11d2="";
for(var clz in _11d1){
if(_11d1[clz]){
_11d2+=clz+" ";
}
}
html.className=lang.trim(html.className+" "+_11d2);
_11ce(function(){
if(!_11cd.isBodyLtr()){
var _11d3="dj_rtl dijitRtl "+_11d2.replace(/ /g,"-rtl ");
html.className=lang.trim(html.className+" "+_11d3+"dj_rtl dijitRtl "+_11d2.replace(/ /g,"-rtl "));
}
});
return has;
});
},"dijit/form/nls/validate":function(){
define({root:({invalidMessage:"The value entered is not valid.",missingMessage:"This value is required.",rangeMessage:"This value is out of range."}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});
},"dijit/form/nls/pt/validate":function(){
define(({invalidMessage:"O valor inserido no  vlido.",missingMessage:"Este valor  necessrio.",rangeMessage:"Este valor est fora do intervalo. "}));
},"dijit/form/nls/pt/validate":function(){
define(({invalidMessage:"O valor inserido no  vlido.",missingMessage:"Este valor  necessrio.",rangeMessage:"Este valor est fora do intervalo. "}));
},"dgrid/util/mouse":function(){
define(["dojo/on","dojo/dom","dojo/query"],function(on,dom){
function _11d4(_11d5,type){
return function(node,_11d6){
return on(node,_11d5+":"+type,function(evt){
if(!dom.isDescendant(evt.relatedTarget,this)){
return _11d6.call(this,evt);
}
});
};
};
return {enterRow:_11d4(".dgrid-content .dgrid-row","mouseover"),enterCell:_11d4(".dgrid-content .dgrid-cell","mouseover"),enterHeaderCell:_11d4(".dgrid-header .dgrid-cell","mouseover"),leaveRow:_11d4(".dgrid-content .dgrid-row","mouseout"),leaveCell:_11d4(".dgrid-content .dgrid-cell","mouseout"),leaveHeaderCell:_11d4(".dgrid-header .dgrid-cell","mouseout"),createDelegatingHandler:_11d4};
});
},"dijit/form/_FormWidget":function(){
define(["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_11d7,has,_11d8,ready,_11d9,_11da,_11db,_11dc){
if(has("dijit-legacy-requires")){
ready(0,function(){
var _11dd=["dijit/form/_FormValueWidget"];
require(_11dd);
});
}
return _11d7("dijit.form._FormWidget",[_11d9,_11db,_11da,_11dc],{setDisabled:function(_11de){
_11d8.deprecated("setDisabled("+_11de+") is deprecated. Use set('disabled',"+_11de+") instead.","","2.0");
this.set("disabled",_11de);
},setValue:function(value){
_11d8.deprecated("dijit.form._FormWidget:setValue("+value+") is deprecated.  Use set('value',"+value+") instead.","","2.0");
this.set("value",value);
},getValue:function(){
_11d8.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");
return this.get("value");
},postMixInProperties:function(){
this.nameAttrSetting=(this.name&&!has("msapp"))?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";
this.inherited(arguments);
},_setTypeAttr:null});
});
},"dojox/form/uploader/_IFrame":function(){
define(["dojo/query","dojo/dom-construct","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-form","dojo/request/iframe"],function(query,_11df,_11e0,lang,_11e1,_11e2,_11e3){
return _11e0("dojox.form.uploader._IFrame",[],{postMixInProperties:function(){
this.inherited(arguments);
if(this.uploadType==="iframe"){
this.uploadType="iframe";
this.upload=this.uploadIFrame;
}
},uploadIFrame:function(data){
var _11e4={},_11e5,form=this.getForm(),url=this.getUrl(),self=this;
data=data||{};
data.uploadType=this.uploadType;
_11e5=_11df.place("<form enctype=\"multipart/form-data\" method=\"post\"></form>",this.domNode);
_11e1.forEach(this._inputs,function(n,i){
if(n.value!==""){
_11e5.appendChild(n);
_11e4[n.name]=n.value;
}
},this);
if(data){
for(nm in data){
if(_11e4[nm]===undefined){
_11df.create("input",{name:nm,value:data[nm],type:"hidden"},_11e5);
}
}
}
_11e3.post(url,{form:_11e5,handleAs:"json",content:data}).then(function(_11e6){
_11df.destroy(_11e5);
if(data["ERROR"]||data["error"]){
self.onError(_11e6);
}else{
self.onComplete(_11e6);
}
},function(err){
console.error("error parsing server result",err);
_11df.destroy(_11e5);
self.onError(err);
});
}});
});
},"dojox/form/uploader/_Base":function(){
define(["dojo/dom-form","dojo/dom-style","dojo/dom-construct","dojo/dom-attr","dojo/has","dojo/_base/declare","dojo/_base/event","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin"],function(_11e7,_11e8,_11e9,_11ea,has,_11eb,event,_11ec,_11ed,_11ee){
has.add("FormData",function(){
return !!window.FormData;
});
has.add("xhr-sendAsBinary",function(){
var xhr=window.XMLHttpRequest&&new window.XMLHttpRequest();
return xhr&&!!xhr.sendAsBinary;
});
has.add("file-multiple",function(){
return !!({"true":1,"false":1}[_11ea.get(document.createElement("input",{type:"file"}),"multiple")]);
});
return _11eb("dojox.form.uploader._Base",[_11ec,_11ed,_11ee],{getForm:function(){
if(!this.form){
var n=this.domNode;
while(n&&n.tagName&&n!==document.body){
if(n.tagName.toLowerCase()=="form"){
this.form=n;
break;
}
n=n.parentNode;
}
}
return this.form;
},getUrl:function(){
if(this.uploadUrl){
this.url=this.uploadUrl;
}
if(this.url){
return this.url;
}
if(this.getForm()){
this.url=this.form.action;
}
return this.url;
},connectForm:function(){
this.url=this.getUrl();
if(!this._fcon&&!!this.getForm()){
this._fcon=true;
this.connect(this.form,"onsubmit",function(evt){
event.stop(evt);
this.submit(this.form);
});
}
},supports:function(what){
switch(what){
case "multiple":
if(this.force=="flash"||this.force=="iframe"){
return false;
}
return has("file-multiple");
case "FormData":
return has(what);
case "sendAsBinary":
return has("xhr-sendAsBinary");
}
return false;
},getMimeType:function(){
return "application/octet-stream";
},getFileType:function(name){
return name.substring(name.lastIndexOf(".")+1).toUpperCase();
},convertBytes:function(bytes){
var kb=Math.round(bytes/1024*100000)/100000;
var mb=Math.round(bytes/1048576*100000)/100000;
var gb=Math.round(bytes/1073741824*100000)/100000;
var value=bytes;
if(kb>1){
value=kb.toFixed(1)+" kb";
}
if(mb>1){
value=mb.toFixed(1)+" mb";
}
if(gb>1){
value=gb.toFixed(1)+" gb";
}
return {kb:kb,mb:mb,gb:gb,bytes:bytes,value:value};
}});
});
},"manager/DialogSimple":function(){
define("manager/DialogSimple",["dojo/_base/declare","manager/Dialog"],function(_11ef,_11f0){
return _11ef("Manager.DialogSimple",[_11f0],{});
});
},"dijit/form/NumberSpinner":function(){
define(["dojo/_base/declare","dojo/keys","./_Spinner","./NumberTextBox"],function(_11f1,keys,_11f2,_11f3){
return _11f1("dijit.form.NumberSpinner",[_11f2,_11f3.Mixin],{baseClass:"dijitTextBox dijitSpinner dijitNumberTextBox",adjust:function(val,delta){
var tc=this.constraints,v=isNaN(val),_11f4=!isNaN(tc.max),_11f5=!isNaN(tc.min);
if(v&&delta!=0){
val=(delta>0)?_11f5?tc.min:_11f4?tc.max:0:_11f4?this.constraints.max:_11f5?tc.min:0;
}
var _11f6=val+delta;
if(v||isNaN(_11f6)){
return val;
}
if(_11f4&&(_11f6>tc.max)){
_11f6=tc.max;
}
if(_11f5&&(_11f6<tc.min)){
_11f6=tc.min;
}
return _11f6;
},_onKeyDown:function(e){
if(this.disabled||this.readOnly){
return;
}
if((e.keyCode==keys.HOME||e.keyCode==keys.END)&&!(e.ctrlKey||e.altKey||e.metaKey)&&typeof this.get("value")!="undefined"){
var value=this.constraints[(e.keyCode==keys.HOME?"min":"max")];
if(typeof value=="number"){
this._setValueAttr(value,false);
}
e.stopPropagation();
e.preventDefault();
}
}});
});
},"dijit/MenuItem":function(){
define(["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","dojo/_base/lang","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_11f7,dom,_11f8,_11f9,_11fa,has,lang,_11fb,_11fc,_11fd,_11fe,_11ff){
var _1200=_11f7("dijit.MenuItem"+(has("dojo-bidi")?"_NoBidi":""),[_11fb,_11fc,_11fd,_11fe],{templateString:_11ff,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(val){
this._set("label",val);
var _1201="";
var text;
var ndx=val.search(/{\S}/);
if(ndx>=0){
_1201=val.charAt(ndx+1);
var _1202=val.substr(0,ndx);
var _1203=val.substr(ndx+3);
text=_1202+_1201+_1203;
val=_1202+"<span class=\"dijitMenuItemShortcutKey\">"+_1201+"</span>"+_1203;
}else{
text=val;
}
this.domNode.setAttribute("aria-label",text+" "+this.accelKey);
this.containerNode.innerHTML=val;
this._set("shortcutKey",_1201);
},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_1204){
if(_1204&&!("label" in this.params)){
this._set("label",_1204.innerHTML);
}
},buildRendering:function(){
this.inherited(arguments);
var label=this.id+"_text";
_11f8.set(this.containerNode,"id",label);
if(this.accelKeyNode){
_11f8.set(this.accelKeyNode,"id",this.id+"_accel");
}
dom.setSelectable(this.domNode,false);
},onClick:function(){
},focus:function(){
try{
if(has("ie")==8){
this.containerNode.focus();
}
this.focusNode.focus();
}
catch(e){
}
},_onFocus:function(){
this.getParent()._onItemFocus(this);
this.inherited(arguments);
},_setSelected:function(_1205){
_11f9.toggle(this.domNode,"dijitMenuItemSelected",_1205);
},setLabel:function(_1206){
_11fa.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");
this.set("label",_1206);
},setDisabled:function(_1207){
_11fa.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");
this.set("disabled",_1207);
},_setDisabledAttr:function(value){
this.focusNode.setAttribute("aria-disabled",value?"true":"false");
this._set("disabled",value);
},_setAccelKeyAttr:function(value){
if(this.accelKeyNode){
this.accelKeyNode.style.display=value?"":"none";
this.accelKeyNode.innerHTML=value;
_11f8.set(this.containerNode,"colSpan",value?"1":"2");
}
this._set("accelKey",value);
}});
if(has("dojo-bidi")){
_1200=_11f7("dijit.MenuItem",_1200,{_setLabelAttr:function(val){
this.inherited(arguments);
if(this.textDir==="auto"){
this.applyTextDir(this.textDirNode);
}
}});
}
return _1200;
});
},"dijit/_AttachMixin":function(){
define(["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","./_WidgetBase"],function(_1208,array,_1209,_120a,lang,mouse,on,touch,_120b){
var _120c=lang.delegate(touch,{"mouseenter":mouse.enter,"mouseleave":mouse.leave,"keypress":_1209._keypress});
var _120d;
var _120e=_120a("dijit._AttachMixin",null,{constructor:function(){
this._attachPoints=[];
this._attachEvents=[];
},buildRendering:function(){
this.inherited(arguments);
this._attachTemplateNodes(this.domNode);
this._beforeFillContent();
},_beforeFillContent:function(){
},_attachTemplateNodes:function(_120f){
var node=_120f;
while(true){
if(node.nodeType==1&&(this._processTemplateNode(node,function(n,p){
return n.getAttribute(p);
},this._attach)||this.searchContainerNode)&&node.firstChild){
node=node.firstChild;
}else{
if(node==_120f){
return;
}
while(!node.nextSibling){
node=node.parentNode;
if(node==_120f){
return;
}
}
node=node.nextSibling;
}
}
},_processTemplateNode:function(_1210,_1211,_1212){
var ret=true;
var _1213=this.attachScope||this,_1214=_1211(_1210,"dojoAttachPoint")||_1211(_1210,"data-dojo-attach-point");
if(_1214){
var point,_1215=_1214.split(/\s*,\s*/);
while((point=_1215.shift())){
if(lang.isArray(_1213[point])){
_1213[point].push(_1210);
}else{
_1213[point]=_1210;
}
ret=(point!="containerNode");
this._attachPoints.push(point);
}
}
var _1216=_1211(_1210,"dojoAttachEvent")||_1211(_1210,"data-dojo-attach-event");
if(_1216){
var event,_1217=_1216.split(/\s*,\s*/);
var trim=lang.trim;
while((event=_1217.shift())){
if(event){
var _1218=null;
if(event.indexOf(":")!=-1){
var _1219=event.split(":");
event=trim(_1219[0]);
_1218=trim(_1219[1]);
}else{
event=trim(event);
}
if(!_1218){
_1218=event;
}
this._attachEvents.push(_1212(_1210,event,lang.hitch(_1213,_1218)));
}
}
}
return ret;
},_attach:function(node,type,func){
type=type.replace(/^on/,"").toLowerCase();
if(type=="dijitclick"){
type=_120d||(_120d=_1208("./a11yclick"));
}else{
type=_120c[type]||type;
}
return on(node,type,func);
},_detachTemplateNodes:function(){
var _121a=this.attachScope||this;
array.forEach(this._attachPoints,function(point){
delete _121a[point];
});
this._attachPoints=[];
array.forEach(this._attachEvents,function(_121b){
_121b.remove();
});
this._attachEvents=[];
},destroyRendering:function(){
this._detachTemplateNodes();
this.inherited(arguments);
}});
lang.extend(_120b,{dojoAttachEvent:"",dojoAttachPoint:""});
return _120e;
});
},"dojox/grid/_EditManager":function(){
define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect","dojo/_base/sniff","./util"],function(lang,array,_121c,_121d,has,util){
return _121c("dojox.grid._EditManager",null,{constructor:function(_121e){
this.grid=_121e;
this.connections=!has("ie")?[]:[_121d.connect(document.body,"onfocus",lang.hitch(this,"_boomerangFocus"))];
this.connections.push(_121d.connect(this.grid,"onBlur",this,"apply"));
this.connections.push(_121d.connect(this.grid,"prerender",this,"_onPreRender"));
},info:{},destroy:function(){
array.forEach(this.connections,_121d.disconnect);
},cellFocus:function(_121f,_1220){
if(this.grid.singleClickEdit||this.isEditRow(_1220)){
this.setEditCell(_121f,_1220);
}else{
this.apply();
}
if(this.isEditing()||(_121f&&_121f.editable&&_121f.alwaysEditing)){
this._focusEditor(_121f,_1220);
}
},rowClick:function(e){
if(this.isEditing()&&!this.isEditRow(e.rowIndex)){
this.apply();
}
},styleRow:function(inRow){
if(inRow.index==this.info.rowIndex){
inRow.customClasses+=" dojoxGridRowEditing";
}
},dispatchEvent:function(e){
var c=e.cell,ed=(c&&c["editable"])?c:0;
return ed&&ed.dispatchEvent(e.dispatch,e);
},isEditing:function(){
return this.info.rowIndex!==undefined;
},isEditCell:function(_1221,_1222){
return (this.info.rowIndex===_1221)&&(this.info.cell.index==_1222);
},isEditRow:function(_1223){
return this.info.rowIndex===_1223;
},setEditCell:function(_1224,_1225){
if(!this.isEditCell(_1225,_1224.index)&&this.grid.canEdit&&this.grid.canEdit(_1224,_1225)){
this.start(_1224,_1225,this.isEditRow(_1225)||_1224.editable);
}
},_focusEditor:function(_1226,_1227){
util.fire(_1226,"focus",[_1227]);
},focusEditor:function(){
if(this.isEditing()){
this._focusEditor(this.info.cell,this.info.rowIndex);
}
},_boomerangWindow:500,_shouldCatchBoomerang:function(){
return this._catchBoomerang>new Date().getTime();
},_boomerangFocus:function(){
if(this._shouldCatchBoomerang()){
this.grid.focus.focusGrid();
this.focusEditor();
this._catchBoomerang=0;
}
},_doCatchBoomerang:function(){
if(has("ie")){
this._catchBoomerang=new Date().getTime()+this._boomerangWindow;
}
},start:function(_1228,_1229,_122a){
if(!this._isValidInput()){
return;
}
this.grid.beginUpdate();
this.editorApply();
if(this.isEditing()&&!this.isEditRow(_1229)){
this.applyRowEdit();
this.grid.updateRow(_1229);
}
if(_122a){
this.info={cell:_1228,rowIndex:_1229};
this.grid.doStartEdit(_1228,_1229);
this.grid.updateRow(_1229);
}else{
this.info={};
}
this.grid.endUpdate();
this.grid.focus.focusGrid();
this._focusEditor(_1228,_1229);
this._doCatchBoomerang();
},_editorDo:function(_122b){
var c=this.info.cell;
if(c&&c.editable){
c[_122b](this.info.rowIndex);
}
},editorApply:function(){
this._editorDo("apply");
},editorCancel:function(){
this._editorDo("cancel");
},applyCellEdit:function(_122c,_122d,_122e){
if(this.grid.canEdit(_122d,_122e)){
this.grid.doApplyCellEdit(_122c,_122e,_122d.field);
}
},applyRowEdit:function(){
this.grid.doApplyEdit(this.info.rowIndex,this.info.cell.field);
},apply:function(){
if(this.isEditing()&&this._isValidInput()){
this.grid.beginUpdate();
this.editorApply();
this.applyRowEdit();
this.info={};
this.grid.endUpdate();
this.grid.focus.focusGrid();
this._doCatchBoomerang();
}
},cancel:function(){
if(this.isEditing()){
this.grid.beginUpdate();
this.editorCancel();
this.info={};
this.grid.endUpdate();
this.grid.focus.focusGrid();
this._doCatchBoomerang();
}
},save:function(_122f,_1230){
var c=this.info.cell;
if(this.isEditRow(_122f)&&(!_1230||c.view==_1230)&&c.editable){
c.save(c,this.info.rowIndex);
}
},restore:function(_1231,_1232){
var c=this.info.cell;
if(this.isEditRow(_1232)&&c.view==_1231&&c.editable){
c.restore(this.info.rowIndex);
}
},_isValidInput:function(){
var w=(this.info.cell||{}).widget;
if(!w||!w.isValid){
return true;
}
w.focused=true;
return w.isValid(true);
},_onPreRender:function(){
if(this.isEditing()){
this.info.value=this.info.cell.getValue();
}
}});
});
},"dojox/grid/_ViewManager":function(){
define(["dojo/_base/declare","dojo/_base/sniff","dojo/dom-class"],function(_1233,has,_1234){
return _1233("dojox.grid._ViewManager",null,{constructor:function(_1235){
this.grid=_1235;
},defaultWidth:200,views:[],resize:function(){
this.onEach("resize");
},render:function(){
this.onEach("render");
},addView:function(_1236){
_1236.idx=this.views.length;
this.views.push(_1236);
},destroyViews:function(){
for(var i=0,v;v=this.views[i];i++){
v.destroy();
}
this.views=[];
},getContentNodes:function(){
var nodes=[];
for(var i=0,v;v=this.views[i];i++){
nodes.push(v.contentNode);
}
return nodes;
},forEach:function(_1237){
for(var i=0,v;v=this.views[i];i++){
_1237(v,i);
}
},onEach:function(_1238,_1239){
_1239=_1239||[];
for(var i=0,v;v=this.views[i];i++){
if(_1238 in v){
v[_1238].apply(v,_1239);
}
}
},normalizeHeaderNodeHeight:function(){
var _123a=[];
for(var i=0,v;(v=this.views[i]);i++){
if(v.headerContentNode.firstChild){
_123a.push(v.headerContentNode);
}
}
this.normalizeRowNodeHeights(_123a);
},normalizeRowNodeHeights:function(_123b){
var h=0;
var _123c=[];
if(this.grid.rowHeight){
h=this.grid.rowHeight;
}else{
if(_123b.length<=1){
return;
}
for(var i=0,n;(n=_123b[i]);i++){
if(!_1234.contains(n,"dojoxGridNonNormalizedCell")){
_123c[i]=n.firstChild.offsetHeight;
h=Math.max(h,_123c[i]);
}
}
h=(h>=0?h:0);
if((has("mozilla")||has("ie")>8)&&h){
h++;
}
}
for(i=0;(n=_123b[i]);i++){
if(_123c[i]!=h){
n.firstChild.style.height=h+"px";
}
}
},resetHeaderNodeHeight:function(){
for(var i=0,v,n;(v=this.views[i]);i++){
n=v.headerContentNode.firstChild;
if(n){
n.style.height="";
}
}
},renormalizeRow:function(_123d){
var _123e=[];
for(var i=0,v,n;(v=this.views[i])&&(n=v.getRowNode(_123d));i++){
n.firstChild.style.height="";
_123e.push(n);
}
this.normalizeRowNodeHeights(_123e);
},getViewWidth:function(_123f){
return this.views[_123f].getWidth()||this.defaultWidth;
},measureHeader:function(){
this.resetHeaderNodeHeight();
this.forEach(function(_1240){
_1240.headerContentNode.style.height="";
});
var h=0;
this.forEach(function(_1241){
h=Math.max(_1241.headerNode.offsetHeight,h);
});
return h;
},measureContent:function(){
var h=0;
this.forEach(function(_1242){
h=Math.max(_1242.domNode.offsetHeight,h);
});
return h;
},findClient:function(_1243){
var c=this.grid.elasticView||-1;
if(c<0){
for(var i=1,v;(v=this.views[i]);i++){
if(v.viewWidth){
for(i=1;(v=this.views[i]);i++){
if(!v.viewWidth){
c=i;
break;
}
}
break;
}
}
}
if(c<0){
c=Math.floor(this.views.length/2);
}
return c;
},arrange:function(l,w){
var i,v,vw,len=this.views.length,self=this;
var c=(w<=0?len:this.findClient());
var _1244=function(v,l){
var ds=v.domNode.style;
var hs=v.headerNode.style;
if(!self.grid.isLeftToRight()){
ds.right=l+"px";
if(has("ff")<4){
hs.right=l+v.getScrollbarWidth()+"px";
}else{
hs.right=l+"px";
}
if(!has("webkit")&&hs.width!="auto"){
hs.width=parseInt(hs.width,10)-v.getScrollbarWidth()+"px";
}
}else{
ds.left=l+"px";
hs.left=l+"px";
}
ds.top=0+"px";
hs.top=0;
};
for(i=0;(v=this.views[i])&&(i<c);i++){
vw=this.getViewWidth(i);
v.setSize(vw,0);
_1244(v,l);
if(v.headerContentNode&&v.headerContentNode.firstChild){
vw=v.getColumnsWidth()+v.getScrollbarWidth();
}else{
vw=v.domNode.offsetWidth;
}
l+=vw;
}
i++;
var r=w;
for(var j=len-1;(v=this.views[j])&&(i<=j);j--){
vw=this.getViewWidth(j);
v.setSize(vw,0);
vw=v.domNode.offsetWidth;
r-=vw;
_1244(v,r);
}
if(c<len){
v=this.views[c];
vw=Math.max(1,r-l);
v.setSize(vw+"px",0);
_1244(v,l);
}
return l;
},renderRow:function(_1245,_1246,_1247){
var _1248=[];
for(var i=0,v,n,_1249;(v=this.views[i])&&(n=_1246[i]);i++){
_1249=v.renderRow(_1245);
n.appendChild(_1249);
_1248.push(_1249);
}
if(!_1247){
this.normalizeRowNodeHeights(_1248);
}
},rowRemoved:function(_124a){
this.onEach("rowRemoved",[_124a]);
},updateRow:function(_124b,_124c){
for(var i=0,v;v=this.views[i];i++){
v.updateRow(_124b);
}
if(!_124c){
this.renormalizeRow(_124b);
}
},updateRowStyles:function(_124d){
this.onEach("updateRowStyles",[_124d]);
},setScrollTop:function(inTop){
var top=inTop;
for(var i=0,v;v=this.views[i];i++){
top=v.setScrollTop(inTop);
if(has("ie")&&v.headerNode&&v.scrollboxNode){
v.headerNode.scrollLeft=v.scrollboxNode.scrollLeft;
}
}
return top;
},getFirstScrollingView:function(){
for(var i=0,v;(v=this.views[i]);i++){
if(v.hasHScrollbar()||v.hasVScrollbar()){
return v;
}
}
return null;
}});
});
},"dijit/DropDownMenu":function(){
define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(_124e,keys,_124f,_1250,_1251){
return _124e("dijit.DropDownMenu",[_1251,_1250],{templateString:_124f,baseClass:"dijitMenu",_onUpArrow:function(){
this.focusPrev();
},_onDownArrow:function(){
this.focusNext();
},_onRightArrow:function(evt){
this._moveToPopup(evt);
evt.stopPropagation();
evt.preventDefault();
},_onLeftArrow:function(evt){
if(this.parentMenu){
if(this.parentMenu._isMenuBar){
this.parentMenu.focusPrev();
}else{
this.onCancel(false);
}
}else{
evt.stopPropagation();
evt.preventDefault();
}
}});
});
},"dojox/form/uploader/_Flash":function(){
define(["dojo/dom-form","dojo/dom-style","dojo/dom-construct","dojo/dom-attr","dojo/_base/declare","dojo/_base/config","dojo/_base/connect","dojo/_base/lang","dojo/_base/array","dojox/embed/Flash"],function(_1252,_1253,_1254,_1255,_1256,_1257,_1258,lang,_1259,_125a){
return _1256("dojox.form.uploader._Flash",[],{swfPath:_1257.uploaderPath||require.toUrl("dojox/form/resources/uploader.swf"),preventCache:true,skipServerCheck:true,serverTimeout:2000,isDebug:false,devMode:false,deferredUploading:0,postMixInProperties:function(){
if(this.uploadType==="flash"){
this._files=[];
this._fileMap={};
this._createInput=this._createFlashUploader;
this.getFileList=this.getFlashFileList;
this.reset=this.flashReset;
this.upload=this.uploadFlash;
this.fieldname="flashUploadFiles";
}
this.inherited(arguments);
},onReady:function(_125b){
},onLoad:function(_125c){
},onFileChange:function(_125d){
},onFileProgress:function(_125e){
},getFlashFileList:function(){
return this._files;
},flashReset:function(){
this.flashMovie.reset();
this._files=[];
this._fileMap={};
},uploadFlash:function(_125f){
this.onBegin(this.getFileList());
_125f=_125f||{};
_125f.returnType="F";
_125f.uploadType=this.uploadType;
this.flashMovie.doUpload(_125f);
},_change:function(_1260){
this._files=this._files.concat(_1260);
_1259.forEach(_1260,function(f){
f.bytesLoaded=0;
f.bytesTotal=f.size;
this._fileMap[f.name+"_"+f.size]=f;
},this);
this.onChange(this._files);
this.onFileChange(_1260);
},_complete:function(_1261){
var o=this._getCustomEvent();
o.type="load";
this.onComplete(_1261);
},_progress:function(f){
this._fileMap[f.name+"_"+f.bytesTotal].bytesLoaded=f.bytesLoaded;
var o=this._getCustomEvent();
this.onFileProgress(f);
this.onProgress(o);
},_error:function(err){
this.onError(err);
},_onFlashBlur:function(_1262){
},_getCustomEvent:function(){
var o={bytesLoaded:0,bytesTotal:0,type:"progress",timeStamp:new Date().getTime()};
for(var nm in this._fileMap){
o.bytesTotal+=this._fileMap[nm].bytesTotal;
o.bytesLoaded+=this._fileMap[nm].bytesLoaded;
}
o.decimal=o.bytesLoaded/o.bytesTotal;
o.percent=Math.ceil((o.bytesLoaded/o.bytesTotal)*100)+"%";
return o;
},_connectFlash:function(){
this._subs=[];
this._cons=[];
var doSub=lang.hitch(this,function(s,_1263){
this._subs.push(_1258.subscribe(this.id+s,this,_1263));
});
doSub("/filesSelected","_change");
doSub("/filesUploaded","_complete");
doSub("/filesProgress","_progress");
doSub("/filesError","_error");
doSub("/filesCanceled","onCancel");
doSub("/stageBlur","_onFlashBlur");
this.connect(this.domNode,"focus",function(){
this.flashMovie.focus();
this.flashMovie.doFocus();
});
if(this.tabIndex>=0){
_1255.set(this.domNode,"tabIndex",this.tabIndex);
}
},_createFlashUploader:function(){
var w=this.btnSize.w;
var h=this.btnSize.h;
if(!w){
setTimeout(dojo.hitch(this,function(){
this._getButtonStyle(this.domNode);
this._createFlashUploader();
}),200);
return;
}
var url=this.getUrl();
if(url){
if(url.toLowerCase().indexOf("http")<0&&url.indexOf("/")!=0){
var loc=window.location.href.split("/");
loc.pop();
loc=loc.join("/")+"/";
url=loc+url;
}
}else{
console.warn("Warning: no uploadUrl provided.");
}
this.inputNode=_1254.create("div",{className:"dojoxFlashNode"},this.domNode,"first");
_1253.set(this.inputNode,{position:"absolute",top:"-2px",width:w+"px",height:h+"px",opacity:0});
var args={expressInstall:true,path:(this.swfPath.uri||this.swfPath)+((this.preventCache)?("?cb_"+(new Date().getTime())):""),width:w,height:h,allowScriptAccess:"always",allowNetworking:"all",vars:{uploadDataFieldName:this.flashFieldName||this.name+"Flash",uploadUrl:url,uploadOnSelect:this.uploadOnSelect,deferredUploading:this.deferredUploading||0,selectMultipleFiles:this.multiple,id:this.id,isDebug:this.isDebug,noReturnCheck:this.skipServerCheck,serverTimeout:this.serverTimeout},params:{scale:"noscale",wmode:"opaque",allowScriptAccess:"always",allowNetworking:"all"}};
this.flashObject=new _125a(args,this.inputNode);
this.flashObject.onError=lang.hitch(function(msg){
console.error("Flash Error: "+msg);
});
this.flashObject.onReady=lang.hitch(this,function(){
this.onReady(this);
});
this.flashObject.onLoad=lang.hitch(this,function(mov){
this.flashMovie=mov;
this.flashReady=true;
this.onLoad(this);
});
this._connectFlash();
}});
});
},"dojox/form/uploader/FileList":function(){
define(["dojo/_base/fx","dojo/dom-style","dojo/dom-class","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dijit/_base/manager","dojox/form/uploader/_Base","dojo/text!../resources/UploaderFileList.html"],function(fx,_1264,_1265,_1266,lang,_1267,_1268,Base,_1269){
return _1266("dojox.form.uploader.FileList",Base,{uploaderId:"",uploader:null,headerIndex:"#",headerType:"Type",headerFilename:"File Name",headerFilesize:"Size",_upCheckCnt:0,rowAmt:0,templateString:_1269,postCreate:function(){
this.setUploader();
this.hideProgress();
},reset:function(){
for(var i=0;i<this.rowAmt;i++){
this.listNode.deleteRow(0);
}
this.rowAmt=0;
},setUploader:function(){
if(!this.uploaderId&&!this.uploader){
console.warn("uploaderId not passed to UploaderFileList");
}else{
if(this.uploaderId&&!this.uploader){
this.uploader=_1268.byId(this.uploaderId);
}else{
if(this._upCheckCnt>4){
console.warn("uploader not found for ID ",this.uploaderId);
return;
}
}
}
if(this.uploader){
this.connect(this.uploader,"onChange","_onUploaderChange");
this.connect(this.uploader,"reset","reset");
this.connect(this.uploader,"onBegin",function(){
this.showProgress(true);
});
this.connect(this.uploader,"onProgress","_progress");
this.connect(this.uploader,"onComplete",function(){
setTimeout(lang.hitch(this,function(){
this.hideProgress(true);
}),1250);
});
if(!(this._fileSizeAvail={"html5":1,"flash":1}[this.uploader.uploadType])){
this.sizeHeader.style.display="none";
}
}else{
this._upCheckCnt++;
setTimeout(lang.hitch(this,"setUploader"),250);
}
},hideProgress:function(_126a){
var o=_126a?{ani:true,endDisp:"none",beg:15,end:0}:{endDisp:"none",ani:false};
this._hideShowProgress(o);
},showProgress:function(_126b){
var o=_126b?{ani:true,endDisp:"block",beg:0,end:15}:{endDisp:"block",ani:false};
this._hideShowProgress(o);
},_progress:function(_126c){
this.percentTextNode.innerHTML=_126c.percent;
_1264.set(this.percentBarNode,"width",_126c.percent);
},_hideShowProgress:function(o){
var node=this.progressNode;
var onEnd=function(){
_1264.set(node,"display",o.endDisp);
};
if(o.ani){
_1264.set(node,"display","block");
fx.animateProperty({node:node,properties:{height:{start:o.beg,end:o.end,units:"px"}},onEnd:onEnd}).play();
}else{
onEnd();
}
},_onUploaderChange:function(_126d){
this.reset();
_1267.forEach(_126d,function(f,i){
this._addRow(i+1,this.getFileType(f.name),f.name,f.size);
},this);
},_addRow:function(index,type,name,size){
var c,r=this.listNode.insertRow(-1);
c=r.insertCell(-1);
_1265.add(c,"dojoxUploaderIndex");
c.innerHTML=index;
c=r.insertCell(-1);
_1265.add(c,"dojoxUploaderIcon");
c.innerHTML=type;
c=r.insertCell(-1);
_1265.add(c,"dojoxUploaderFileName");
c.innerHTML=name;
if(this._fileSizeAvail){
c=r.insertCell(-1);
_1265.add(c,"dojoxUploaderSize");
c.innerHTML=this.convertBytes(size).value;
}
this.rowAmt++;
}});
});
},"dijit/_base/typematic":function(){
define(["../typematic"],function(){
});
},"dojox/form/nls/Uploader":function(){
define({root:({label:"Select Files..."}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true});
},"dojox/form/nls/pt/Uploader":function(){
define(({label:"Selecione Arquivos..."}));
},"dojox/form/nls/pt/Uploader":function(){
define(({label:"Selecione Arquivos..."}));
},"dojox/editor/plugins/nls/TableDialog":function(){
define({root:({insertTableTitle:"Insert Table",modifyTableTitle:"Modify Table",rows:"Rows:",columns:"Columns:",align:"Align:",cellPadding:"Cell Padding:",cellSpacing:"Cell Spacing:",tableWidth:"Table Width:",backgroundColor:"Background Color:",borderColor:"Border Color:",borderThickness:"Border Thickness:",percent:"percent",pixels:"pixels","default":"default",left:"left",center:"center",right:"right",buttonSet:"Set",buttonInsert:"Insert",buttonCancel:"Cancel",selectTableLabel:"Select Table",insertTableRowBeforeLabel:"Add Row Before",insertTableRowAfterLabel:"Add Row After",insertTableColumnBeforeLabel:"Add Column Before",insertTableColumnAfterLabel:"Add Column After",deleteTableRowLabel:"Delete Row",deleteTableColumnLabel:"Delete Column",colorTableCellTitle:"Background Color Table Cell",tableContextMenuTitle:"Table Context Menu"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});
},"dojox/editor/plugins/nls/pt/TableDialog":function(){
define(({insertTableTitle:"Inserir Tabela",modifyTableTitle:"Modificar Tabela",rows:"Linhas:",columns:"Colunas:",align:"Alinhar:",cellPadding:"Preenchimento de Clula:",cellSpacing:"Espaamento de Clula:",tableWidth:"Largura da Tabela:",backgroundColor:"Cor do Plano de Fundo:",borderColor:"Cor da Borda:",borderThickness:"Espessura da Borda:",percent:"percentual",pixels:"pixels","default":"default",left:"esquerda",center:"centro",right:"direita",buttonSet:"Configurar",buttonInsert:"Inserir",buttonCancel:"Cancelar",selectTableLabel:"Selecionar Tabela",insertTableRowBeforeLabel:"Incluir Linha Antes",insertTableRowAfterLabel:"Incluir Linha Depois",insertTableColumnBeforeLabel:"Incluir Coluna Antes",insertTableColumnAfterLabel:"Incluir Coluna Depois",deleteTableRowLabel:"Excluir Linha",deleteTableColumnLabel:"Excluir Coluna",colorTableCellTitle:"Clula de Tabela de Cor do Segundo Plano",tableContextMenuTitle:"Menu de Contexto da Tabela"}));
},"dojox/editor/plugins/nls/pt/TableDialog":function(){
define(({insertTableTitle:"Inserir Tabela",modifyTableTitle:"Modificar Tabela",rows:"Linhas:",columns:"Colunas:",align:"Alinhar:",cellPadding:"Preenchimento de Clula:",cellSpacing:"Espaamento de Clula:",tableWidth:"Largura da Tabela:",backgroundColor:"Cor do Plano de Fundo:",borderColor:"Cor da Borda:",borderThickness:"Espessura da Borda:",percent:"percentual",pixels:"pixels","default":"default",left:"esquerda",center:"centro",right:"direita",buttonSet:"Configurar",buttonInsert:"Inserir",buttonCancel:"Cancelar",selectTableLabel:"Selecionar Tabela",insertTableRowBeforeLabel:"Incluir Linha Antes",insertTableRowAfterLabel:"Incluir Linha Depois",insertTableColumnBeforeLabel:"Incluir Coluna Antes",insertTableColumnAfterLabel:"Incluir Coluna Depois",deleteTableRowLabel:"Excluir Linha",deleteTableColumnLabel:"Excluir Coluna",colorTableCellTitle:"Clula de Tabela de Cor do Segundo Plano",tableContextMenuTitle:"Menu de Contexto da Tabela"}));
},"dojox/grid/_Grid":function(){
define(["dojo/_base/kernel","../main","dojo/_base/declare","./_Events","./_Scroller","./_Layout","./_View","./_ViewManager","./_RowManager","./_FocusManager","./_EditManager","./Selection","./_RowSelector","./util","dijit/_Widget","dijit/_TemplatedMixin","dijit/CheckedMenuItem","dojo/text!./resources/_Grid.html","dojo/string","dojo/_base/array","dojo/_base/lang","dojo/_base/sniff","dojox/html/metrics","dojo/_base/html","dojo/query","dojo/dnd/common","dojo/i18n!dijit/nls/loading"],function(dojo,dojox,_126e,_126f,_1270,_1271,_1272,_1273,_1274,_1275,_1276,_1277,_1278,util,_1279,_127a,_127b,_127c,_127d,array,lang,has,_127e,html,query){
if(!dojo.isCopyKey){
dojo.isCopyKey=dojo.dnd.getCopyKeyState;
}
var _127f=_126e("dojox.grid._Grid",[_1279,_127a,_126f],{templateString:_127c,classTag:"dojoxGrid",rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:false,initialWidth:"",autoHeight:"",rowHeight:0,autoRender:true,defaultHeight:"15em",height:"",structure:null,elasticView:-1,singleClickEdit:false,selectionMode:"extended",rowSelector:"",columnReordering:false,headerMenu:null,placeholderLabel:"GridColumns",selectable:false,_click:null,loadingMessage:"<span class='dojoxGridLoading'>${loadingState}</span>",errorMessage:"<span class='dojoxGridError'>${errorState}</span>",noDataMessage:"",escapeHTMLInData:true,formatterScope:null,editable:false,summary:"",_setSummaryAttr:"domNode",sortInfo:0,_placeholders:null,_layoutClass:_1271,buildRendering:function(){
this.inherited(arguments);
if(!this.domNode.getAttribute("tabIndex")){
this.domNode.tabIndex="0";
}
this.createScroller();
this.createLayout();
this.createViews();
this.createManagers();
this.createSelection();
this.connect(this.selection,"onSelected","onSelected");
this.connect(this.selection,"onDeselected","onDeselected");
this.connect(this.selection,"onChanged","onSelectionChanged");
_127e.initOnFontResize();
this.connect(_127e,"onFontResize","textSizeChanged");
util.funnelEvents(this.domNode,this,"doKeyEvent",util.keyEvents);
if(this.selectionMode!="none"){
this.domNode.setAttribute("aria-multiselectable",this.selectionMode=="single"?"false":"true");
}
html.addClass(this.domNode,this.classTag);
if(!this.isLeftToRight()){
html.addClass(this.domNode,this.classTag+"Rtl");
}
if(this.rowHeight>0){
html.addClass(this.viewsNode,this.classTag+"FixedRowHeight");
}
},postMixInProperties:function(){
this.inherited(arguments);
var _1280=dojo.i18n.getLocalization("dijit","loading",this.lang);
this.loadingMessage=_127d.substitute(this.loadingMessage,_1280);
this.errorMessage=_127d.substitute(this.errorMessage,_1280);
if(this.srcNodeRef&&this.srcNodeRef.style.height){
this.height=this.srcNodeRef.style.height;
}
this._setAutoHeightAttr(this.autoHeight,true);
this.lastScrollTop=this.scrollTop=0;
},postCreate:function(){
this._placeholders=[];
this._setHeaderMenuAttr(this.headerMenu);
this._setStructureAttr(this.structure);
this._click=[];
this.inherited(arguments);
if(this.domNode&&this.autoWidth&&this.initialWidth){
this.domNode.style.width=this.initialWidth;
}
if(this.domNode&&!this.editable){
html.attr(this.domNode,"aria-readonly","true");
}
},destroy:function(){
this.domNode.onReveal=null;
this.domNode.onSizeChange=null;
delete this._click;
if(this.scroller){
this.scroller.destroy();
delete this.scroller;
}
this.edit.destroy();
delete this.edit;
this.views.destroyViews();
if(this.focus){
this.focus.destroy();
delete this.focus;
}
if(this.headerMenu&&this._placeholders.length){
array.forEach(this._placeholders,function(p){
p.unReplace(true);
});
this.headerMenu.unBindDomNode(this.viewsHeaderNode);
}
this.inherited(arguments);
},_setAutoHeightAttr:function(ah,_1281){
if(typeof ah=="string"){
if(!ah||ah=="false"){
ah=false;
}else{
if(ah=="true"){
ah=true;
}else{
ah=window.parseInt(ah,10);
}
}
}
if(typeof ah=="number"){
if(isNaN(ah)){
ah=false;
}
if(ah<0){
ah=true;
}else{
if(ah===0){
ah=false;
}
}
}
this.autoHeight=ah;
if(typeof ah=="boolean"){
this._autoHeight=ah;
}else{
if(typeof ah=="number"){
this._autoHeight=(ah>=this.get("rowCount"));
}else{
this._autoHeight=false;
}
}
if(this._started&&!_1281){
this.render();
}
},_getRowCountAttr:function(){
return this.updating&&this.invalidated&&this.invalidated.rowCount!=undefined?this.invalidated.rowCount:this.rowCount;
},textSizeChanged:function(){
this.render();
},sizeChange:function(){
this.update();
},createManagers:function(){
this.rows=new _1274(this);
this.focus=new _1275(this);
this.edit=new _1276(this);
},createSelection:function(){
this.selection=new _1277(this);
},createScroller:function(){
this.scroller=new _1270();
this.scroller.grid=this;
this.scroller.renderRow=lang.hitch(this,"renderRow");
this.scroller.removeRow=lang.hitch(this,"rowRemoved");
},createLayout:function(){
this.layout=new this._layoutClass(this);
this.connect(this.layout,"moveColumn","onMoveColumn");
},onMoveColumn:function(){
this.update();
},onResizeColumn:function(_1282){
},createViews:function(){
this.views=new _1273(this);
this.views.createView=lang.hitch(this,"createView");
},createView:function(_1283,idx){
var c=lang.getObject(_1283);
var view=new c({grid:this,index:idx});
this.viewsNode.appendChild(view.domNode);
this.viewsHeaderNode.appendChild(view.headerNode);
this.views.addView(view);
html.attr(this.domNode,"align",this.isLeftToRight()?"left":"right");
return view;
},buildViews:function(){
for(var i=0,vs;(vs=this.layout.structure[i]);i++){
this.createView(vs.type||dojox._scopeName+".grid._View",i).setStructure(vs);
}
this.scroller.setContentNodes(this.views.getContentNodes());
},_setStructureAttr:function(_1284){
var s=_1284;
if(s&&lang.isString(s)){
dojo.deprecated("dojox.grid._Grid.set('structure', 'objVar')","use dojox.grid._Grid.set('structure', objVar) instead","2.0");
s=lang.getObject(s);
}
this.structure=s;
if(!s){
if(this.layout.structure){
s=this.layout.structure;
}else{
return;
}
}
this.views.destroyViews();
this.focus.focusView=null;
if(s!==this.layout.structure){
this.layout.setStructure(s);
}
this._structureChanged();
},setStructure:function(_1285){
dojo.deprecated("dojox.grid._Grid.setStructure(obj)","use dojox.grid._Grid.set('structure', obj) instead.","2.0");
this._setStructureAttr(_1285);
},getColumnTogglingItems:function(){
var items,_1286=[];
items=array.map(this.layout.cells,function(cell){
if(!cell.menuItems){
cell.menuItems=[];
}
var self=this;
var item=new _127b({label:cell.name,checked:!cell.hidden,_gridCell:cell,onChange:function(_1287){
if(self.layout.setColumnVisibility(this._gridCell.index,_1287)){
var items=this._gridCell.menuItems;
if(items.length>1){
array.forEach(items,function(item){
if(item!==this){
item.setAttribute("checked",_1287);
}
},this);
}
_1287=array.filter(self.layout.cells,function(c){
if(c.menuItems.length>1){
array.forEach(c.menuItems,"item.set('disabled', false);");
}else{
c.menuItems[0].set("disabled",false);
}
return !c.hidden;
});
if(_1287.length==1){
array.forEach(_1287[0].menuItems,"item.set('disabled', true);");
}
}
},destroy:function(){
var index=array.indexOf(this._gridCell.menuItems,this);
this._gridCell.menuItems.splice(index,1);
delete this._gridCell;
_127b.prototype.destroy.apply(this,arguments);
}});
cell.menuItems.push(item);
if(!cell.hidden){
_1286.push(item);
}
return item;
},this);
if(_1286.length==1){
_1286[0].set("disabled",true);
}
return items;
},_setHeaderMenuAttr:function(menu){
if(this._placeholders&&this._placeholders.length){
array.forEach(this._placeholders,function(p){
p.unReplace(true);
});
this._placeholders=[];
}
if(this.headerMenu){
this.headerMenu.unBindDomNode(this.viewsHeaderNode);
}
this.headerMenu=menu;
if(!menu){
return;
}
this.headerMenu.bindDomNode(this.viewsHeaderNode);
if(this.headerMenu.getPlaceholders){
this._placeholders=this.headerMenu.getPlaceholders(this.placeholderLabel);
}
},setHeaderMenu:function(menu){
dojo.deprecated("dojox.grid._Grid.setHeaderMenu(obj)","use dojox.grid._Grid.set('headerMenu', obj) instead.","2.0");
this._setHeaderMenuAttr(menu);
},setupHeaderMenu:function(){
if(this._placeholders&&this._placeholders.length){
array.forEach(this._placeholders,function(p){
if(p._replaced){
p.unReplace(true);
}
p.replace(this.getColumnTogglingItems());
},this);
}
},_fetch:function(start){
this.setScrollTop(0);
},getItem:function(_1288){
return null;
},showMessage:function(_1289){
if(_1289){
this.messagesNode.innerHTML=_1289;
this.messagesNode.style.display="";
}else{
this.messagesNode.innerHTML="";
this.messagesNode.style.display="none";
}
},_structureChanged:function(){
this.buildViews();
if(this.autoRender&&this._started){
this.render();
}
},hasLayout:function(){
return this.layout.cells.length;
},resize:function(_128a,_128b){
this._pendingChangeSize=_128a;
this._pendingResultSize=_128b;
this.sizeChange();
},_getPadBorder:function(){
this._padBorder=this._padBorder||html._getPadBorderExtents(this.domNode);
return this._padBorder;
},_getHeaderHeight:function(){
var vns=this.viewsHeaderNode.style,t=vns.display=="none"?0:this.views.measureHeader();
vns.height=t+"px";
this.views.normalizeHeaderNodeHeight();
return t;
},_resize:function(_128c,_128d){
_128c=_128c||this._pendingChangeSize;
_128d=_128d||this._pendingResultSize;
delete this._pendingChangeSize;
delete this._pendingResultSize;
if(!this.domNode){
return;
}
var pn=this.domNode.parentNode;
if(!pn||pn.nodeType!=1||!this.hasLayout()||pn.style.visibility=="hidden"||pn.style.display=="none"){
return;
}
var _128e=this._getPadBorder();
var hh=undefined;
var h;
if(this._autoHeight){
this.domNode.style.height="auto";
}else{
if(typeof this.autoHeight=="number"){
h=hh=this._getHeaderHeight();
h+=(this.scroller.averageRowHeight*this.autoHeight);
this.domNode.style.height=h+"px";
}else{
if(this.domNode.clientHeight<=_128e.h){
if(pn==document.body){
this.domNode.style.height=this.defaultHeight;
}else{
if(this.height){
this.domNode.style.height=this.height;
}else{
this.fitTo="parent";
}
}
}
}
}
if(_128d){
_128c=_128d;
}
if(!this._autoHeight&&_128c){
html.marginBox(this.domNode,_128c);
this.height=this.domNode.style.height;
delete this.fitTo;
}else{
if(this.fitTo=="parent"){
h=this._parentContentBoxHeight=(this._parentContentBoxHeight>0?this._parentContentBoxHeight:html._getContentBox(pn).h);
this.domNode.style.height=Math.max(0,h)+"px";
}
}
var _128f=array.some(this.views.views,function(v){
return v.flexCells;
});
if(!this._autoHeight&&(h||html._getContentBox(this.domNode).h)===0){
this.viewsHeaderNode.style.display="none";
}else{
this.viewsHeaderNode.style.display="block";
if(!_128f&&hh===undefined){
hh=this._getHeaderHeight();
}
}
if(_128f){
hh=undefined;
}
this.adaptWidth();
this.adaptHeight(hh);
this.postresize();
},adaptWidth:function(){
var _1290=(!this.initialWidth&&this.autoWidth);
var w=_1290?0:this.domNode.clientWidth||(this.domNode.offsetWidth-this._getPadBorder().w),vw=this.views.arrange(1,w);
this.views.onEach("adaptWidth");
if(_1290){
this.domNode.style.width=vw+"px";
}
},adaptHeight:function(_1291){
var t=_1291===undefined?this._getHeaderHeight():_1291;
var h=(this._autoHeight?-1:Math.max(this.domNode.clientHeight-t,0)||0);
this.views.onEach("setSize",[0,h]);
this.views.onEach("adaptHeight");
if(!this._autoHeight){
var _1292=0,_1293=0;
var _1294=array.filter(this.views.views,function(v){
var has=v.hasHScrollbar();
if(has){
_1292++;
}else{
_1293++;
}
return (!has);
});
if(_1292>0&&_1293>0){
array.forEach(_1294,function(v){
v.adaptHeight(true);
});
}
}
if(this.autoHeight===true||h!=-1||(typeof this.autoHeight=="number"&&this.autoHeight>=this.get("rowCount"))){
this.scroller.windowHeight=h;
}else{
this.scroller.windowHeight=Math.max(this.domNode.clientHeight-t,0);
}
},startup:function(){
if(this._started){
return;
}
this.inherited(arguments);
if(this.autoRender){
this.render();
}
},render:function(){
if(!this.domNode){
return;
}
if(!this._started){
return;
}
if(!this.hasLayout()){
this.scroller.init(0,this.keepRows,this.rowsPerPage);
return;
}
this.update=this.defaultUpdate;
this._render();
},_render:function(){
this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);
this.prerender();
this.setScrollTop(0);
this.postrender();
},prerender:function(){
this.keepRows=this._autoHeight?0:this.keepRows;
this.scroller.setKeepInfo(this.keepRows);
this.views.render();
this._resize();
},postrender:function(){
this.postresize();
this.focus.initFocusView();
html.setSelectable(this.domNode,this.selectable);
},postresize:function(){
if(this._autoHeight){
var size=Math.max(this.views.measureContent())+"px";
this.viewsNode.style.height=size;
}
},renderRow:function(_1295,_1296){
this.views.renderRow(_1295,_1296,this._skipRowRenormalize);
},rowRemoved:function(_1297){
this.views.rowRemoved(_1297);
},invalidated:null,updating:false,beginUpdate:function(){
this.invalidated=[];
this.updating=true;
},endUpdate:function(){
this.updating=false;
var i=this.invalidated,r;
if(i.all){
this.update();
}else{
if(i.rowCount!=undefined){
this.updateRowCount(i.rowCount);
}else{
for(r in i){
this.updateRow(Number(r));
}
}
}
this.invalidated=[];
},defaultUpdate:function(){
if(!this.domNode){
return;
}
if(this.updating){
this.invalidated.all=true;
return;
}
this.lastScrollTop=this.scrollTop;
this.prerender();
this.scroller.invalidateNodes();
this.setScrollTop(this.lastScrollTop);
this.postrender();
},update:function(){
this.render();
},updateRow:function(_1298){
_1298=Number(_1298);
if(this.updating){
this.invalidated[_1298]=true;
}else{
this.views.updateRow(_1298);
this.scroller.rowHeightChanged(_1298);
}
},updateRows:function(_1299,_129a){
_1299=Number(_1299);
_129a=Number(_129a);
var i;
if(this.updating){
for(i=0;i<_129a;i++){
this.invalidated[i+_1299]=true;
}
}else{
for(i=0;i<_129a;i++){
this.views.updateRow(i+_1299,this._skipRowRenormalize);
}
this.scroller.rowHeightChanged(_1299);
}
},updateRowCount:function(_129b){
if(this.updating){
this.invalidated.rowCount=_129b;
}else{
this.rowCount=_129b;
this._setAutoHeightAttr(this.autoHeight,true);
if(this.layout.cells.length){
this.scroller.updateRowCount(_129b);
}
this._resize();
if(this.layout.cells.length){
this.setScrollTop(this.scrollTop);
}
}
},updateRowStyles:function(_129c){
this.views.updateRowStyles(_129c);
},getRowNode:function(_129d){
if(this.focus.focusView&&!(this.focus.focusView instanceof _1278)){
return this.focus.focusView.rowNodes[_129d];
}else{
for(var i=0,cView;(cView=this.views.views[i]);i++){
if(!(cView instanceof _1278)){
return cView.rowNodes[_129d];
}
}
}
return null;
},rowHeightChanged:function(_129e){
this.views.renormalizeRow(_129e);
this.scroller.rowHeightChanged(_129e);
},fastScroll:true,delayScroll:false,scrollRedrawThreshold:(has("ie")?100:50),scrollTo:function(inTop){
if(!this.fastScroll){
this.setScrollTop(inTop);
return;
}
var delta=Math.abs(this.lastScrollTop-inTop);
this.lastScrollTop=inTop;
if(delta>this.scrollRedrawThreshold||this.delayScroll){
this.delayScroll=true;
this.scrollTop=inTop;
this.views.setScrollTop(inTop);
if(this._pendingScroll){
window.clearTimeout(this._pendingScroll);
}
var _129f=this;
this._pendingScroll=window.setTimeout(function(){
delete _129f._pendingScroll;
_129f.finishScrollJob();
},200);
}else{
this.setScrollTop(inTop);
}
},finishScrollJob:function(){
this.delayScroll=false;
this.setScrollTop(this.scrollTop);
},setScrollTop:function(inTop){
this.scroller.scroll(this.views.setScrollTop(inTop));
},scrollToRow:function(_12a0){
this.setScrollTop(this.scroller.findScrollTop(_12a0)+1);
},styleRowNode:function(_12a1,_12a2){
if(_12a2){
this.rows.styleRowNode(_12a1,_12a2);
}
},_mouseOut:function(e){
this.rows.setOverRow(-2);
},getCell:function(_12a3){
return this.layout.cells[_12a3];
},setCellWidth:function(_12a4,_12a5){
this.getCell(_12a4).unitWidth=_12a5;
},getCellName:function(_12a6){
return "Cell "+_12a6.index;
},canSort:function(_12a7){
},sort:function(){
},getSortAsc:function(_12a8){
_12a8=_12a8==undefined?this.sortInfo:_12a8;
return Boolean(_12a8>0);
},getSortIndex:function(_12a9){
_12a9=_12a9==undefined?this.sortInfo:_12a9;
return Math.abs(_12a9)-1;
},setSortIndex:function(_12aa,inAsc){
var si=_12aa+1;
if(inAsc!=undefined){
si*=(inAsc?1:-1);
}else{
if(this.getSortIndex()==_12aa){
si=-this.sortInfo;
}
}
this.setSortInfo(si);
},setSortInfo:function(_12ab){
if(this.canSort(_12ab)){
this.sortInfo=_12ab;
this.sort();
this.update();
}
},doKeyEvent:function(e){
e.dispatch="do"+e.type;
this.onKeyEvent(e);
},_dispatch:function(m,e){
if(m in this){
return this[m](e);
}
return false;
},dispatchKeyEvent:function(e){
this._dispatch(e.dispatch,e);
},dispatchContentEvent:function(e){
this.edit.dispatchEvent(e)||e.sourceView.dispatchContentEvent(e)||this._dispatch(e.dispatch,e);
},dispatchHeaderEvent:function(e){
e.sourceView.dispatchHeaderEvent(e)||this._dispatch("doheader"+e.type,e);
},dokeydown:function(e){
this.onKeyDown(e);
},doclick:function(e){
if(e.cellNode){
this.onCellClick(e);
}else{
this.onRowClick(e);
}
},dodblclick:function(e){
if(e.cellNode){
this.onCellDblClick(e);
}else{
this.onRowDblClick(e);
}
},docontextmenu:function(e){
if(e.cellNode){
this.onCellContextMenu(e);
}else{
this.onRowContextMenu(e);
}
},doheaderclick:function(e){
if(e.cellNode){
this.onHeaderCellClick(e);
}else{
this.onHeaderClick(e);
}
},doheaderdblclick:function(e){
if(e.cellNode){
this.onHeaderCellDblClick(e);
}else{
this.onHeaderDblClick(e);
}
},doheadercontextmenu:function(e){
if(e.cellNode){
this.onHeaderCellContextMenu(e);
}else{
this.onHeaderContextMenu(e);
}
},doStartEdit:function(_12ac,_12ad){
this.onStartEdit(_12ac,_12ad);
},doApplyCellEdit:function(_12ae,_12af,_12b0){
this.onApplyCellEdit(_12ae,_12af,_12b0);
},doCancelEdit:function(_12b1){
this.onCancelEdit(_12b1);
},doApplyEdit:function(_12b2){
this.onApplyEdit(_12b2);
},addRow:function(){
this.updateRowCount(this.get("rowCount")+1);
},removeSelectedRows:function(){
if(this.allItemsSelected){
this.updateRowCount(0);
}else{
this.updateRowCount(Math.max(0,this.get("rowCount")-this.selection.getSelected().length));
}
this.selection.clear();
}});
_127f.markupFactory=function(props,node,ctor,_12b3){
var _12b4=function(n){
var w=html.attr(n,"width")||"auto";
if((w!="auto")&&(w.slice(-2)!="em")&&(w.slice(-1)!="%")){
w=parseInt(w,10)+"px";
}
return w;
};
if(!props.structure&&node.nodeName.toLowerCase()=="table"){
props.structure=query("> colgroup",node).map(function(cg){
var sv=html.attr(cg,"span");
var v={noscroll:(html.attr(cg,"noscroll")=="true")?true:false,__span:(!!sv?parseInt(sv,10):1),cells:[]};
if(html.hasAttr(cg,"width")){
v.width=_12b4(cg);
}
return v;
});
if(!props.structure.length){
props.structure.push({__span:Infinity,cells:[]});
}
query("thead > tr",node).forEach(function(tr,_12b5){
var _12b6=0;
var _12b7=0;
var _12b8;
var cView=null;
query("> th",tr).map(function(th){
if(!cView){
_12b8=0;
cView=props.structure[0];
}else{
if(_12b6>=(_12b8+cView.__span)){
_12b7++;
_12b8+=cView.__span;
var _12b9=cView;
cView=props.structure[_12b7];
}
}
var cell={name:lang.trim(html.attr(th,"name")||th.innerHTML),colSpan:parseInt(html.attr(th,"colspan")||1,10),type:lang.trim(html.attr(th,"cellType")||""),id:lang.trim(html.attr(th,"id")||"")};
_12b6+=cell.colSpan;
var _12ba=html.attr(th,"rowspan");
if(_12ba){
cell.rowSpan=_12ba;
}
if(html.hasAttr(th,"width")){
cell.width=_12b4(th);
}
if(html.hasAttr(th,"relWidth")){
cell.relWidth=window.parseInt(html.attr(th,"relWidth"),10);
}
if(html.hasAttr(th,"hidden")){
cell.hidden=(html.attr(th,"hidden")=="true"||html.attr(th,"hidden")===true);
}
if(_12b3){
_12b3(th,cell);
}
cell.type=cell.type?lang.getObject(cell.type):dojox.grid.cells.Cell;
if(cell.type&&cell.type.markupFactory){
cell.type.markupFactory(th,cell);
}
if(!cView.cells[_12b5]){
cView.cells[_12b5]=[];
}
cView.cells[_12b5].push(cell);
});
});
}
return new ctor(props,node);
};
return _127f;
});
},"dojo/store/Memory":function(){
define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(_12bb,_12bc,_12bd){
var base=null;
return _12bb("dojo.store.Memory",base,{constructor:function(_12be){
for(var i in _12be){
this[i]=_12be[i];
}
this.setData(this.data||[]);
},data:null,idProperty:"id",index:null,queryEngine:_12bd,get:function(id){
return this.data[this.index[id]];
},getIdentity:function(_12bf){
return _12bf[this.idProperty];
},put:function(_12c0,_12c1){
var data=this.data,index=this.index,_12c2=this.idProperty;
var id=_12c0[_12c2]=(_12c1&&"id" in _12c1)?_12c1.id:_12c2 in _12c0?_12c0[_12c2]:Math.random();
if(id in index){
if(_12c1&&_12c1.overwrite===false){
throw new Error("Object already exists");
}
data[index[id]]=_12c0;
}else{
index[id]=data.push(_12c0)-1;
}
return id;
},add:function(_12c3,_12c4){
(_12c4=_12c4||{}).overwrite=false;
return this.put(_12c3,_12c4);
},remove:function(id){
var index=this.index;
var data=this.data;
if(id in index){
data.splice(index[id],1);
this.setData(data);
return true;
}
},query:function(query,_12c5){
return _12bc(this.queryEngine(query,_12c5)(this.data));
},setData:function(data){
if(data.items){
this.idProperty=data.identifier;
data=this.data=data.items;
}else{
this.data=data;
}
this.index={};
for(var i=0,l=data.length;i<l;i++){
this.index[data[i][this.idProperty]]=i;
}
}});
});
},"dgrid/OnDemandList":function(){
define(["./List","./_StoreMixin","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","./util/misc","put-selector/put"],function(List,_12c6,_12c7,lang,_12c8,_12c9,_12ca,put){
return _12c7([List,_12c6],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2000,queryRowsOverlap:1,pagingMethod:"debounce",pagingDelay:_12ca.defaultDelay,keepScrollPosition:false,rowHeight:22,postCreate:function(){
this.inherited(arguments);
var self=this;
_12c9(this.bodyNode,"scroll",_12ca[this.pagingMethod](function(event){
self._processScroll(event);
},null,this.pagingDelay));
},renderQuery:function(query,_12cb,_12cc){
var self=this,_12cd={query:query,count:0,node:_12cb,options:_12cc},_12ce=this.preload,_12cf;
if(!_12cb){
var _12d0={node:put(this.contentNode,"div.dgrid-preload",{rowIndex:0}),count:0,query:query,next:_12cd,options:_12cc};
_12d0.node.style.height="0";
_12cd.node=_12cb=put(this.contentNode,"div.dgrid-preload");
_12cd.previous=_12d0;
}
_12cb.rowIndex=this.minRowsPerPage;
if(_12ce){
if((_12cd.next=_12ce.next)&&this.bodyNode.scrollTop>=_12ce.node.offsetTop){
_12cd.previous=_12ce;
}else{
_12cd.next=_12ce;
_12cd.previous=_12ce.previous;
}
_12cd.previous.next=_12cd;
_12cd.next.previous=_12cd;
}else{
this.preload=_12cd;
}
var _12d1=put(_12cb,"-div.dgrid-loading"),_12d2=put(_12d1,"div.dgrid-below");
_12d2.innerHTML=this.loadingMessage;
function _12d3(err){
put(_12d1,"!");
if(err){
if(self._refreshDeferred){
self._refreshDeferred.reject(err);
delete self._refreshDeferred;
}
throw err;
}
};
_12cc=lang.mixin(this.get("queryOptions"),_12cc,{start:0,count:this.minRowsPerPage,query:query});
this._trackError(function(){
return _12cf=query(_12cc);
});
if(typeof _12cf==="undefined"){
_12d3();
return;
}
_12c8.when(self.renderArray(_12cf,_12cb,_12cc),function(trs){
var total=typeof _12cf.total==="undefined"?_12cf.length:_12cf.total;
return _12c8.when(total,function(total){
put(_12d1,"!");
var _12d4=trs.length;
if(total===0){
if(self.noDataNode){
put(self.noDataNode,"!");
delete self.noDataNode;
}
self.noDataNode=put(self.contentNode,"div.dgrid-no-data");
self.noDataNode.innerHTML=self.noDataMessage;
}
var _12d5=0;
for(var i=0;i<_12d4;i++){
_12d5+=self._calcRowHeight(trs[i]);
}
if(_12d4&&_12d5){
self.rowHeight=_12d5/_12d4;
}
total-=_12d4;
_12cd.count=total;
_12cb.rowIndex=_12d4;
if(total){
_12cb.style.height=Math.min(total*self.rowHeight,self.maxEmptySpace)+"px";
}else{
_12cb.style.display="none";
}
if(self._previousScrollPosition){
self.scrollTo(self._previousScrollPosition);
delete self._previousScrollPosition;
}
self._processScroll();
if(self._refreshDeferred){
self._refreshDeferred.resolve(_12cf);
delete self._refreshDeferred;
}
return trs;
},_12d3);
},_12d3);
return _12cf;
},refresh:function(_12d6){
var self=this,keep=(_12d6&&_12d6.keepScrollPosition),dfd,_12d7;
if(typeof keep==="undefined"){
keep=this.keepScrollPosition;
}
if(keep){
this._previousScrollPosition=this.getScrollPosition();
}
this.inherited(arguments);
if(this.store){
dfd=this._refreshDeferred=new _12c8();
_12d7=self.renderQuery(function(_12d8){
return self.store.query(self.query,_12d8);
});
if(typeof _12d7==="undefined"){
dfd.reject();
}
return dfd.then(function(_12d9){
setTimeout(function(){
_12c9.emit(self.domNode,"dgrid-refresh-complete",{bubbles:true,cancelable:false,grid:self,results:_12d9});
},0);
delete self._refreshDeferred;
return _12d9;
},function(err){
delete self._refreshDeferred;
throw err;
});
}
},resize:function(){
this.inherited(arguments);
this._processScroll();
},_calcRowHeight:function(_12da){
var _12db=_12da.previousSibling;
return _12db&&_12db.offsetTop!=_12da.offsetTop?_12da.offsetHeight:0;
},lastScrollTop:0,_processScroll:function(evt){
var grid=this,_12dc=grid.bodyNode,_12dd=(evt&&evt.scrollTop)||this.getScrollPosition().y,_12de=_12dc.offsetHeight+_12dd,_12df,_12e0,_12e1=grid.preload,_12e2=grid.lastScrollTop,_12e3=grid.bufferRows*grid.rowHeight,_12e4=_12e3-grid.rowHeight,_12e5,_12e6,_12e7;
var _12e8=1;
grid.lastScrollTop=_12dd;
function _12e9(_12ea,_12eb,_12ec,below){
var _12ed=grid.farOffRemoval,_12e0=_12ea.node;
if(_12eb>2*_12ed){
var row,_12ee=_12e0[_12ec];
var _12ef=0;
var count=0;
var _12f0=[];
while((row=_12ee)){
var _12f1=grid._calcRowHeight(row);
if(_12ef+_12f1+_12ed>_12eb||(_12ee.className.indexOf("dgrid-row")<0&&_12ee.className.indexOf("dgrid-loading")<0)){
break;
}
var _12ee=row[_12ec];
var _12f2,_12f3=row.observerIndex;
if(_12f3!=_12f2&&_12f2>-1){
var _12f4=grid.observers;
var _12f5=_12f4[_12f2];
_12f5&&_12f5.cancel();
_12f4[_12f2]=0;
}
_12ef+=_12f1;
count+=row.count||1;
_12f2=_12f3;
grid.removeRow(row,true);
_12f0.push(row);
}
_12ea.count+=count;
if(below){
_12e0.rowIndex-=count;
_12f6(_12ea);
}else{
_12e0.style.height=(_12e0.offsetHeight+_12ef)+"px";
}
var _12f7=put("div",_12f0);
setTimeout(function(){
put(_12f7,"!");
},1);
}
};
function _12f6(_12f8,noMax){
_12f8.node.style.height=Math.min(_12f8.count*grid.rowHeight,noMax?Infinity:grid.maxEmptySpace)+"px";
};
while(_12e1&&!_12e1.node.offsetWidth){
_12e1=_12e1.previous;
}
while(_12e1&&_12e1!=_12df){
_12df=grid.preload;
grid.preload=_12e1;
_12e0=_12e1.node;
var _12f9=_12e0.offsetTop;
var _12fa;
if(_12de+_12e8+_12e4<_12f9){
do{
_12e1=_12e1.previous;
}while(_12e1&&!_12e1.node.offsetWidth);
}else{
if(_12dd-_12e8-_12e4>(_12f9+(_12fa=_12e0.offsetHeight))){
do{
_12e1=_12e1.next;
}while(_12e1&&!_12e1.node.offsetWidth);
}else{
var _12fb=((_12e0.rowIndex?_12dd-_12e3:_12de)-_12f9)/grid.rowHeight;
var count=(_12de-_12dd+2*_12e3)/grid.rowHeight;
var _12fc=Math.max(Math.min((_12dd-_12e2)*grid.rowHeight,grid.maxRowsPerPage/2),grid.maxRowsPerPage/-2);
count+=Math.min(Math.abs(_12fc),10);
if(_12e0.rowIndex==0){
_12fb-=count;
}
_12fb=Math.max(_12fb,0);
if(_12fb<10&&_12fb>0&&count+_12fb<grid.maxRowsPerPage){
count+=Math.max(0,_12fb);
_12fb=0;
}
count=Math.min(Math.max(count,grid.minRowsPerPage),grid.maxRowsPerPage,_12e1.count);
if(count==0){
return;
}
count=Math.ceil(count);
_12fb=Math.min(Math.floor(_12fb),_12e1.count-count);
var _12fd=lang.mixin(grid.get("queryOptions"),_12e1.options);
_12e1.count-=count;
var _12fe=_12e0,_12ff,_1300=grid.queryRowsOverlap,below=_12e0.rowIndex>0&&_12e1;
if(below){
var _1301=_12e1.previous;
if(_1301){
_12e9(_1301,_12dd-(_1301.node.offsetTop+_1301.node.offsetHeight),"nextSibling");
if(_12fb>0&&_1301.node==_12e0.previousSibling){
_12fb=Math.min(_12e1.count,_12fb);
_12e1.previous.count+=_12fb;
_12f6(_12e1.previous,true);
_12e0.rowIndex+=_12fb;
_1300=0;
}else{
count+=_12fb;
}
_12e1.count-=_12fb;
}
_12fd.start=_12e0.rowIndex-_1300;
_12e0.rowIndex+=count;
}else{
if(_12e1.next){
_12e9(_12e1.next,_12e1.next.node.offsetTop-_12de,"previousSibling",true);
var _12fe=_12e0.nextSibling;
if(_12fe==_12e1.next.node){
_12e1.next.count+=_12e1.count-_12fb;
_12e1.next.node.rowIndex=_12fb+count;
_12f6(_12e1.next);
_12e1.count=_12fb;
_1300=0;
}else{
_12ff=true;
}
}
_12fd.start=_12e1.count;
}
_12fd.count=Math.min(count+_1300,grid.maxRowsPerPage);
if(_12ff&&_12fe&&_12fe.offsetWidth){
_12ff=_12fe.offsetTop;
}
_12f6(_12e1);
var _1302=put(_12fe,"-div.dgrid-loading[style=height:"+count*grid.rowHeight+"px]"),_1303=put(_1302,"div.dgrid-"+(below?"below":"above"));
_1303.innerHTML=grid.loadingMessage;
_1302.count=count;
_1302.blockRowIndex=true;
_12fd.query=_12e1.query;
var _1304=_12e1.query(_12fd),_1305=grid._trackError(function(){
return _1304;
});
if(_1305===undefined){
put(_1302,"!");
return;
}
(function(_1306,_1307,below,_1308,_1309){
_12e7=_12c8.when(grid.renderArray(_1309,_1306,_12fd),function(rows){
_12e6=_1309;
_12fe=_1306.nextSibling;
put(_1306,"!");
if(_1308&&_12fe&&_12fe.offsetWidth){
var pos=grid.getScrollPosition();
grid.scrollTo({x:pos.x,y:pos.y+_12fe.offsetTop-_1308,preserveMomentum:true});
}
if(below){
_12c8.when(_1309.total||_1309.length,function(total){
below.count=total-below.node.rowIndex;
_12f6(below);
});
}
grid._processScroll();
return rows;
},function(e){
put(_1306,"!");
throw e;
});
}).call(this,_1302,_12dc,below,_12ff,_1304);
_12e1=_12e1.previous;
}
}
}
if(_12e7&&(_12e5=this._refreshDeferred)){
delete this._refreshDeferred;
_12c8.when(_12e7,function(){
_12e5.resolve(_12e6);
});
}
}});
});
},"dojo/hccss":function(){
define(["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(_130a,_130b,_130c,_130d,has,_130e,win){
has.add("highcontrast",function(){
var div=win.doc.createElement("div");
div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url("+(_130b.blankGif||_130a.toUrl("./resources/blank.gif"))+");";
win.body().appendChild(div);
var cs=_130d.getComputedStyle(div),bkImg=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(bkImg&&(bkImg=="none"||bkImg=="url(invalid-url:)"));
if(has("ie")<=8){
div.outerHTML="";
}else{
win.body().removeChild(div);
}
return hc;
});
_130e(function(){
if(has("highcontrast")){
_130c.add(win.body(),"dj_a11y");
}
});
return has;
});
},"dojo/request/iframe":function(){
define(["module","require","./watch","./util","./handlers","../_base/lang","../io-query","../query","../has","../dom","../dom-construct","../_base/window","../NodeList-dom"],function(_130f,_1310,watch,util,_1311,lang,_1312,query,has,dom,_1313,win){
var mid=_130f.id.replace(/[\/\.\-]/g,"_"),_1314=mid+"_onload";
if(!win.global[_1314]){
win.global[_1314]=function(){
var dfd=_1315._currentDfd;
if(!dfd){
_1315._fireNextRequest();
return;
}
var _1316=dfd.response,_1317=_1316.options,_1318=dom.byId(_1317.form)||dfd._tmpForm;
if(_1318){
var _1319=dfd._contentToClean;
for(var i=0;i<_1319.length;i++){
var key=_1319[i];
for(var j=0;j<_1318.childNodes.length;j++){
var _131a=_1318.childNodes[j];
if(_131a.name===key){
_1313.destroy(_131a);
break;
}
}
}
dfd._originalAction&&_1318.setAttribute("action",dfd._originalAction);
if(dfd._originalMethod){
_1318.setAttribute("method",dfd._originalMethod);
_1318.method=dfd._originalMethod;
}
if(dfd._originalTarget){
_1318.setAttribute("target",dfd._originalTarget);
_1318.target=dfd._originalTarget;
}
}
if(dfd._tmpForm){
_1313.destroy(dfd._tmpForm);
delete dfd._tmpForm;
}
dfd._finished=true;
};
}
function _131b(name,_131c,uri){
if(win.global[name]){
return win.global[name];
}
if(win.global.frames[name]){
return win.global.frames[name];
}
if(!uri){
if(has("config-useXDomain")&&!has("config-dojoBlankHtmlUrl")){
console.warn("dojo/request/iframe: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");
}
uri=(has("config-dojoBlankHtmlUrl")||_1310.toUrl("dojo/resources/blank.html"));
}
var frame=_1313.place("<iframe id=\""+name+"\" name=\""+name+"\" src=\""+uri+"\" onload=\""+_131c+"\" style=\"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden\">",win.body());
win.global[name]=frame;
return frame;
};
function _131d(_131e,src,_131f){
var frame=win.global.frames[_131e.name];
if(frame.contentWindow){
frame=frame.contentWindow;
}
try{
if(!_131f){
frame.location=src;
}else{
frame.location.replace(src);
}
}
catch(e){
}
};
function doc(_1320){
if(_1320.contentDocument){
return _1320.contentDocument;
}
var name=_1320.name;
if(name){
var _1321=win.doc.getElementsByTagName("iframe");
if(_1320.document&&_1321[name].contentWindow&&_1321[name].contentWindow.document){
return _1321[name].contentWindow.document;
}else{
if(win.doc.frames[name]&&win.doc.frames[name].document){
return win.doc.frames[name].document;
}
}
}
return null;
};
function _1322(){
return _1313.create("form",{name:mid+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},win.body());
};
function _1323(){
var dfd;
try{
if(_1315._currentDfd||!_1315._dfdQueue.length){
return;
}
do{
dfd=_1315._currentDfd=_1315._dfdQueue.shift();
}while(dfd&&(dfd.canceled||(dfd.isCanceled&&dfd.isCanceled()))&&_1315._dfdQueue.length);
if(!dfd||dfd.canceled||(dfd.isCanceled&&dfd.isCanceled())){
_1315._currentDfd=null;
return;
}
var _1324=dfd.response,_1325=_1324.options,c2c=dfd._contentToClean=[],_1326=dom.byId(_1325.form),_1327=util.notify,data=_1325.data||null,_1328;
if(!dfd._legacy&&_1325.method==="POST"&&!_1326){
_1326=dfd._tmpForm=_1322();
}else{
if(_1325.method==="GET"&&_1326&&_1324.url.indexOf("?")>-1){
_1328=_1324.url.slice(_1324.url.indexOf("?")+1);
data=lang.mixin(_1312.queryToObject(_1328),data);
}
}
if(_1326){
if(!dfd._legacy){
var _1329=_1326;
do{
_1329=_1329.parentNode;
}while(_1329!==win.doc.documentElement);
if(!_1329){
_1326.style.position="absolute";
_1326.style.left="-1000px";
_1326.style.top="-1000px";
win.body().appendChild(_1326);
}
if(!_1326.name){
_1326.name=mid+"_form";
}
}
if(data){
var _132a=function(name,value){
_1313.create("input",{type:"hidden",name:name,value:value},_1326);
c2c.push(name);
};
for(var x in data){
var val=data[x];
if(lang.isArray(val)&&val.length>1){
for(var i=0;i<val.length;i++){
_132a(x,val[i]);
}
}else{
if(!_1326[x]){
_132a(x,val);
}else{
_1326[x].value=val;
}
}
}
}
var _132b=_1326.getAttributeNode("action"),_132c=_1326.getAttributeNode("method"),_132d=_1326.getAttributeNode("target");
if(_1324.url){
dfd._originalAction=_132b?_132b.value:null;
if(_132b){
_132b.value=_1324.url;
}else{
_1326.setAttribute("action",_1324.url);
}
}
if(!dfd._legacy){
dfd._originalMethod=_132c?_132c.value:null;
if(_132c){
_132c.value=_1325.method;
}else{
_1326.setAttribute("method",_1325.method);
}
}else{
if(!_132c||!_132c.value){
if(_132c){
_132c.value=_1325.method;
}else{
_1326.setAttribute("method",_1325.method);
}
}
}
dfd._originalTarget=_132d?_132d.value:null;
if(_132d){
_132d.value=_1315._iframeName;
}else{
_1326.setAttribute("target",_1315._iframeName);
}
_1326.target=_1315._iframeName;
_1327&&_1327.emit("send",_1324,dfd.promise.cancel);
_1315._notifyStart(_1324);
_1326.submit();
}else{
var extra="";
if(_1324.options.data){
extra=_1324.options.data;
if(typeof extra!=="string"){
extra=_1312.objectToQuery(extra);
}
}
var _132e=_1324.url+(_1324.url.indexOf("?")>-1?"&":"?")+extra;
_1327&&_1327.emit("send",_1324,dfd.promise.cancel);
_1315._notifyStart(_1324);
_1315.setSrc(_1315._frame,_132e,true);
}
}
catch(e){
dfd.reject(e);
}
};
function _132f(_1330){
return !this.isFulfilled();
};
function _1331(_1332){
return !!this._finished;
};
function _1333(_1334,error){
if(!error){
try{
var _1335=_1334.options,doc=_1315.doc(_1315._frame),_1336=_1335.handleAs;
if(_1336!=="html"){
if(_1336==="xml"){
if(doc.documentElement.tagName.toLowerCase()==="html"){
query("a",doc.documentElement).orphan();
var _1337=doc.documentElement.innerText;
_1337=_1337.replace(/>\s+</g,"><");
_1334.text=lang.trim(_1337);
}else{
_1334.data=doc;
}
}else{
_1334.text=doc.getElementsByTagName("textarea")[0].value;
}
_1311(_1334);
}else{
_1334.data=doc;
}
}
catch(e){
error=e;
}
}
if(error){
this.reject(error);
}else{
if(this._finished){
this.resolve(_1334);
}else{
this.reject(new Error("Invalid dojo/request/iframe request state"));
}
}
};
function last(_1338){
this._callNext();
};
var _1339={method:"POST"};
function _1315(url,_133a,_133b){
var _133c=util.parseArgs(url,util.deepCreate(_1339,_133a),true);
url=_133c.url;
_133a=_133c.options;
if(_133a.method!=="GET"&&_133a.method!=="POST"){
throw new Error(_133a.method+" not supported by dojo/request/iframe");
}
if(!_1315._frame){
_1315._frame=_1315.create(_1315._iframeName,_1314+"();");
}
var dfd=util.deferred(_133c,null,_132f,_1331,_1333,last);
dfd._callNext=function(){
if(!this._calledNext){
this._calledNext=true;
_1315._currentDfd=null;
_1315._fireNextRequest();
}
};
dfd._legacy=_133b;
_1315._dfdQueue.push(dfd);
_1315._fireNextRequest();
watch(dfd);
return _133b?dfd:dfd.promise;
};
_1315.create=_131b;
_1315.doc=doc;
_1315.setSrc=_131d;
_1315._iframeName=mid+"_IoIframe";
_1315._notifyStart=function(){
};
_1315._dfdQueue=[];
_1315._currentDfd=null;
_1315._fireNextRequest=_1323;
util.addCommonMethods(_1315,["GET","POST"]);
return _1315;
});
},"dojox/grid/_Events":function(){
define(["dojo/keys","dojo/dom-class","dojo/_base/declare","dojo/_base/event","dojo/_base/sniff"],function(keys,_133d,_133e,event,has){
return _133e("dojox.grid._Events",null,{cellOverClass:"dojoxGridCellOver",onKeyEvent:function(e){
this.dispatchKeyEvent(e);
},onContentEvent:function(e){
this.dispatchContentEvent(e);
},onHeaderEvent:function(e){
this.dispatchHeaderEvent(e);
},onStyleRow:function(inRow){
var i=inRow;
i.customClasses+=(i.odd?" dojoxGridRowOdd":"")+(i.selected?" dojoxGridRowSelected":"")+(i.over?" dojoxGridRowOver":"");
this.focus.styleRow(inRow);
this.edit.styleRow(inRow);
},onKeyDown:function(e){
if(e.altKey||e.metaKey){
return;
}
var _133f;
switch(e.keyCode){
case keys.ESCAPE:
this.edit.cancel();
break;
case keys.ENTER:
if(!this.edit.isEditing()){
_133f=this.focus.getHeaderIndex();
if(_133f>=0){
this.setSortIndex(_133f);
break;
}else{
this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(e),e.shiftKey);
}
event.stop(e);
}
if(!e.shiftKey){
var _1340=this.edit.isEditing();
this.edit.apply();
if(!_1340){
this.edit.setEditCell(this.focus.cell,this.focus.rowIndex);
}
}
if(!this.edit.isEditing()){
var _1341=this.focus.focusView||this.views.views[0];
_1341.content.decorateEvent(e);
this.onRowClick(e);
event.stop(e);
}
break;
case keys.SPACE:
if(!this.edit.isEditing()){
_133f=this.focus.getHeaderIndex();
if(_133f>=0){
this.setSortIndex(_133f);
break;
}else{
this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(e),e.shiftKey);
}
event.stop(e);
}
break;
case keys.TAB:
this.focus[e.shiftKey?"previousKey":"nextKey"](e);
break;
case keys.LEFT_ARROW:
case keys.RIGHT_ARROW:
if(!this.edit.isEditing()){
var _1342=e.keyCode;
event.stop(e);
_133f=this.focus.getHeaderIndex();
if(_133f>=0&&(e.shiftKey&&e.ctrlKey)){
this.focus.colSizeAdjust(e,_133f,(_1342==keys.LEFT_ARROW?-1:1)*5);
}else{
var _1343=(_1342==keys.LEFT_ARROW)?1:-1;
if(this.isLeftToRight()){
_1343*=-1;
}
this.focus.move(0,_1343);
}
}
break;
case keys.UP_ARROW:
if(!this.edit.isEditing()&&this.focus.rowIndex!==0){
event.stop(e);
this.focus.move(-1,0);
}
break;
case keys.DOWN_ARROW:
if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){
event.stop(e);
this.focus.move(1,0);
}
break;
case keys.PAGE_UP:
if(!this.edit.isEditing()&&this.focus.rowIndex!==0){
event.stop(e);
if(this.focus.rowIndex!=this.scroller.firstVisibleRow+1){
this.focus.move(this.scroller.firstVisibleRow-this.focus.rowIndex,0);
}else{
this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex-1));
this.focus.move(this.scroller.firstVisibleRow-this.scroller.lastVisibleRow+1,0);
}
}
break;
case keys.PAGE_DOWN:
if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){
event.stop(e);
if(this.focus.rowIndex!=this.scroller.lastVisibleRow-1){
this.focus.move(this.scroller.lastVisibleRow-this.focus.rowIndex-1,0);
}else{
this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex+1));
this.focus.move(this.scroller.lastVisibleRow-this.scroller.firstVisibleRow-1,0);
}
}
break;
default:
break;
}
},onMouseOver:function(e){
e.rowIndex==-1?this.onHeaderCellMouseOver(e):this.onCellMouseOver(e);
},onMouseOut:function(e){
e.rowIndex==-1?this.onHeaderCellMouseOut(e):this.onCellMouseOut(e);
},onMouseDown:function(e){
e.rowIndex==-1?this.onHeaderCellMouseDown(e):this.onCellMouseDown(e);
},onMouseOverRow:function(e){
if(!this.rows.isOver(e.rowIndex)){
this.rows.setOverRow(e.rowIndex);
e.rowIndex==-1?this.onHeaderMouseOver(e):this.onRowMouseOver(e);
}
},onMouseOutRow:function(e){
if(this.rows.isOver(-1)){
this.onHeaderMouseOut(e);
}else{
if(!this.rows.isOver(-2)){
this.rows.setOverRow(-2);
this.onRowMouseOut(e);
}
}
},onMouseDownRow:function(e){
if(e.rowIndex!=-1){
this.onRowMouseDown(e);
}
},onCellMouseOver:function(e){
if(e.cellNode){
_133d.add(e.cellNode,this.cellOverClass);
}
},onCellMouseOut:function(e){
if(e.cellNode){
_133d.remove(e.cellNode,this.cellOverClass);
}
},onCellMouseDown:function(e){
},onCellClick:function(e){
this._click[0]=this._click[1];
this._click[1]=e;
if(!this.edit.isEditCell(e.rowIndex,e.cellIndex)){
this.focus.setFocusCell(e.cell,e.rowIndex);
}
if(this._click.length>1&&this._click[0]==null){
this._click.shift();
}
this.onRowClick(e);
},onCellDblClick:function(e){
var event;
if(this._click.length>1&&has("ie")){
event=this._click[1];
}else{
if(this._click.length>1&&this._click[0].rowIndex!=this._click[1].rowIndex){
event=this._click[0];
}else{
event=e;
}
}
this.focus.setFocusCell(event.cell,event.rowIndex);
this.edit.setEditCell(event.cell,event.rowIndex);
this.onRowDblClick(e);
},onCellContextMenu:function(e){
this.onRowContextMenu(e);
},onCellFocus:function(_1344,_1345){
this.edit.cellFocus(_1344,_1345);
},onRowClick:function(e){
this.edit.rowClick(e);
this.selection.clickSelectEvent(e);
},onRowDblClick:function(e){
},onRowMouseOver:function(e){
},onRowMouseOut:function(e){
},onRowMouseDown:function(e){
},onRowContextMenu:function(e){
event.stop(e);
},onHeaderMouseOver:function(e){
},onHeaderMouseOut:function(e){
},onHeaderCellMouseOver:function(e){
if(e.cellNode){
_133d.add(e.cellNode,this.cellOverClass);
}
},onHeaderCellMouseOut:function(e){
if(e.cellNode){
_133d.remove(e.cellNode,this.cellOverClass);
}
},onHeaderCellMouseDown:function(e){
},onHeaderClick:function(e){
},onHeaderCellClick:function(e){
this.setSortIndex(e.cell.index);
this.onHeaderClick(e);
},onHeaderDblClick:function(e){
},onHeaderCellDblClick:function(e){
this.onHeaderDblClick(e);
},onHeaderCellContextMenu:function(e){
this.onHeaderContextMenu(e);
},onHeaderContextMenu:function(e){
if(!this.headerMenu){
event.stop(e);
}
},onStartEdit:function(_1346,_1347){
},onApplyCellEdit:function(_1348,_1349,_134a){
},onCancelEdit:function(_134b){
},onApplyEdit:function(_134c){
},onCanSelect:function(_134d){
return true;
},onCanDeselect:function(_134e){
return true;
},onSelected:function(_134f){
this.updateRowStyles(_134f);
},onDeselected:function(_1350){
this.updateRowStyles(_1350);
},onSelectionChanged:function(){
}});
});
},"dijit/form/_ListBase":function(){
define(["dojo/_base/declare","dojo/on","dojo/window"],function(_1351,on,_1352){
return _1351("dijit.form._ListBase",null,{selected:null,_listConnect:function(_1353,_1354){
var self=this;
return self.own(on(self.containerNode,on.selector(function(_1355,_1356,_1357){
return _1355.parentNode==_1357;
},_1353),function(evt){
if(!/^touch/.test(evt.type)){
evt.preventDefault();
}
self[_1354](evt,this);
}));
},selectFirstNode:function(){
var first=this.containerNode.firstChild;
while(first&&first.style.display=="none"){
first=first.nextSibling;
}
this._setSelectedAttr(first);
},selectLastNode:function(){
var last=this.containerNode.lastChild;
while(last&&last.style.display=="none"){
last=last.previousSibling;
}
this._setSelectedAttr(last);
},selectNextNode:function(){
var _1358=this.selected;
if(!_1358){
this.selectFirstNode();
}else{
var next=_1358.nextSibling;
while(next&&next.style.display=="none"){
next=next.nextSibling;
}
if(!next){
this.selectFirstNode();
}else{
this._setSelectedAttr(next);
}
}
},selectPreviousNode:function(){
var _1359=this.selected;
if(!_1359){
this.selectLastNode();
}else{
var prev=_1359.previousSibling;
while(prev&&prev.style.display=="none"){
prev=prev.previousSibling;
}
if(!prev){
this.selectLastNode();
}else{
this._setSelectedAttr(prev);
}
}
},_setSelectedAttr:function(node){
if(this.selected!=node){
var _135a=this.selected;
if(_135a){
this.onDeselect(_135a);
}
if(node){
_1352.scrollIntoView(node);
this.onSelect(node);
}
this._set("selected",node);
}else{
if(node){
this.onSelect(node);
}
}
}});
});
},"dijit/typematic":function(){
define(["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(array,_135b,lang,on,has,dijit){
var _135c=(dijit.typematic={_fireEventAndReload:function(){
this._timer=null;
this._callback(++this._count,this._node,this._evt);
this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);
this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);
},trigger:function(evt,_135d,node,_135e,obj,_135f,_1360,_1361){
if(obj!=this._obj){
this.stop();
this._initialDelay=_1360||500;
this._subsequentDelay=_135f||0.9;
this._minDelay=_1361||10;
this._obj=obj;
this._node=node;
this._currentTimeout=-1;
this._count=-1;
this._callback=lang.hitch(_135d,_135e);
this._evt={faux:true};
for(var attr in evt){
if(attr!="layerX"&&attr!="layerY"){
var v=evt[attr];
if(typeof v!="function"&&typeof v!="undefined"){
this._evt[attr]=v;
}
}
}
this._fireEventAndReload();
}
},stop:function(){
if(this._timer){
clearTimeout(this._timer);
this._timer=null;
}
if(this._obj){
this._callback(-1,this._node,this._evt);
this._obj=null;
}
},addKeyListener:function(node,_1362,_1363,_1364,_1365,_1366,_1367){
var type="keyCode" in _1362?"keydown":"charCode" in _1362?"keypress":_135b._keypress,attr="keyCode" in _1362?"keyCode":"charCode" in _1362?"charCode":"charOrCode";
var _1368=[on(node,type,lang.hitch(this,function(evt){
if(evt[attr]==_1362[attr]&&(_1362.ctrlKey===undefined||_1362.ctrlKey==evt.ctrlKey)&&(_1362.altKey===undefined||_1362.altKey==evt.altKey)&&(_1362.metaKey===undefined||_1362.metaKey==(evt.metaKey||false))&&(_1362.shiftKey===undefined||_1362.shiftKey==evt.shiftKey)){
evt.stopPropagation();
evt.preventDefault();
_135c.trigger(evt,_1363,node,_1364,_1362,_1365,_1366,_1367);
}else{
if(_135c._obj==_1362){
_135c.stop();
}
}
})),on(node,"keyup",lang.hitch(this,function(){
if(_135c._obj==_1362){
_135c.stop();
}
}))];
return {remove:function(){
array.forEach(_1368,function(h){
h.remove();
});
}};
},addMouseListener:function(node,_1369,_136a,_136b,_136c,_136d){
var _136e=[on(node,"mousedown",lang.hitch(this,function(evt){
evt.preventDefault();
_135c.trigger(evt,_1369,node,_136a,node,_136b,_136c,_136d);
})),on(node,"mouseup",lang.hitch(this,function(evt){
if(this._obj){
evt.preventDefault();
}
_135c.stop();
})),on(node,"mouseout",lang.hitch(this,function(evt){
if(this._obj){
evt.preventDefault();
}
_135c.stop();
})),on(node,"dblclick",lang.hitch(this,function(evt){
evt.preventDefault();
if(has("ie")<9){
_135c.trigger(evt,_1369,node,_136a,node,_136b,_136c,_136d);
setTimeout(lang.hitch(this,_135c.stop),50);
}
}))];
return {remove:function(){
array.forEach(_136e,function(h){
h.remove();
});
}};
},addListener:function(_136f,_1370,_1371,_1372,_1373,_1374,_1375,_1376){
var _1377=[this.addKeyListener(_1370,_1371,_1372,_1373,_1374,_1375,_1376),this.addMouseListener(_136f,_1372,_1373,_1374,_1375,_1376)];
return {remove:function(){
array.forEach(_1377,function(h){
h.remove();
});
}};
}});
return _135c;
});
},"dgrid/List":function(){
define(["dojo/_base/kernel","dojo/_base/declare","dojo/on","dojo/has","./util/misc","dojo/has!touch?./TouchScroll","xstyle/has-class","put-selector/put","dojo/_base/sniff","xstyle/css!./css/dgrid.css"],function(_1378,_1379,_137a,has,_137b,_137c,_137d,put){
_137d("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");
var _137e="dgrid-row-odd",_137f="dgrid-row-even",_1380,_1381;
function byId(id){
return document.getElementById(id);
};
function _1382(node,_1383){
var body=document.body,size;
put(body,node,".dgrid-scrollbar-measure");
size=node["offset"+_1383]-node["client"+_1383];
put(node,"!dgrid-scrollbar-measure");
body.removeChild(node);
return size;
};
has.add("dom-scrollbar-width",function(_1384,doc,_1385){
return _1382(_1385,"Width");
});
has.add("dom-scrollbar-height",function(_1386,doc,_1387){
return _1382(_1387,"Height");
});
var _1388=0;
function _1389(){
return "dgrid_"+_1388++;
};
var _138a=/ +/g;
function _138b(cls){
var _138c=cls?"."+cls.replace(_138a,"."):"";
if(this._class){
_138c="!"+this._class.replace(_138a,"!")+_138c;
}
put(this.domNode,_138c);
this._class=cls;
};
function _138d(){
return this._class;
};
var _138e=has("ie")<7&&!has("quirks")?function(){
var root,w,h,dims;
if(!this._started){
return;
}
root=document.documentElement;
w=root.clientWidth;
h=root.clientHeight;
dims=this._prevWinDims||[];
if(dims[0]!==w||dims[1]!==h){
this.resize();
this._prevWinDims=[w,h];
}
}:function(){
if(this._started){
this.resize();
}
};
return _1379(_137c?_137c:null,{tabableHeader:false,showHeader:false,showFooter:false,maintainOddEven:true,cleanAddedRules:true,postscript:function(_138f,_1390){
var grid=this;
(this._Row=function(id,_1391,_1392){
this.id=id;
this.data=_1391;
this.element=_1392;
}).prototype.remove=function(){
grid.removeRow(this.element);
};
if(_1390){
this.srcNodeRef=_1390=_1390.nodeType?_1390:byId(_1390);
}
this.create(_138f,_1390);
},listType:"list",create:function(_1393,_1394){
var _1395=this.domNode=_1394||put("div"),cls;
if(_1393){
this.params=_1393;
_1379.safeMixin(this,_1393);
cls=_1393["class"]||_1393.className||_1395.className;
this._sort=_1393.sort||[];
delete this.sort;
}else{
this._sort=[];
}
this.observers=[];
this._listeners=[];
this._rowIdToObject={};
this.postMixInProperties&&this.postMixInProperties();
this.id=_1395.id=_1395.id||this.id||_1389();
this.buildRendering();
if(cls){
_138b.call(this,cls);
}
this.postCreate&&this.postCreate();
delete this.srcNodeRef;
if(this.domNode.offsetHeight){
this.startup();
}
},buildRendering:function(){
var _1396=this.domNode,self=this,_1397,_1398,_1399,_139a,isRTL;
isRTL=this.isRTL=(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase()=="rtl";
_1396.className="";
put(_1396,"[role=grid].ui-widget.dgrid.dgrid-"+this.listType);
_1397=this.headerNode=put(_1396,"div.dgrid-header.dgrid-header-row.ui-widget-header"+(this.showHeader?"":".dgrid-header-hidden"));
if(has("quirks")||has("ie")<8){
_1398=put(_1396,"div.dgrid-spacer");
}
_1399=this.bodyNode=put(_1396,"div.dgrid-scroller");
_1399.tabIndex=-1;
this.headerScrollNode=put(_1396,"div.dgrid-header-scroll.dgrid-scrollbar-width.ui-widget-header");
_139a=this.footerNode=put("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));
put(_1396,_139a);
if(isRTL){
_1396.className+=" dgrid-rtl"+(has("webkit")?"":" dgrid-rtl-nonwebkit");
}
_137a(_1399,"scroll",function(event){
if(self.showHeader){
_1397.scrollLeft=event.scrollLeft||_1399.scrollLeft;
}
event.stopPropagation();
_137a.emit(_1396,"scroll",{scrollTarget:_1399});
});
this.configStructure();
this.renderHeader();
this.contentNode=this.touchNode=put(this.bodyNode,"div.dgrid-content.ui-widget-content");
this._listeners.push(this._resizeHandle=_137a(window,"resize",_137b.throttleDelayed(_138e,this)));
},startup:function(){
if(this._started){
return;
}
this.inherited(arguments);
this._started=true;
this.resize();
this.set("sort",this._sort);
},configStructure:function(){
},resize:function(){
var _139b=this.bodyNode,_139c=this.headerNode,_139d=this.footerNode,_139e=_139c.offsetHeight,_139f=this.showFooter?_139d.offsetHeight:0,_13a0=has("quirks")||has("ie")<7;
this.headerScrollNode.style.height=_139b.style.marginTop=_139e+"px";
_139b.style.marginBottom=_139f+"px";
if(_13a0){
_139b.style.height="";
_139b.style.height=Math.max((this.domNode.offsetHeight-_139e-_139f),0)+"px";
if(_139f){
_139d.style.bottom="1px";
setTimeout(function(){
_139d.style.bottom="";
},0);
}
}
if(!_1380){
_1380=has("dom-scrollbar-width");
_1381=has("dom-scrollbar-height");
if(has("ie")){
_1380++;
_1381++;
}
_137b.addCssRule(".dgrid-scrollbar-width","width: "+_1380+"px");
_137b.addCssRule(".dgrid-scrollbar-height","height: "+_1381+"px");
if(_1380!=17&&!_13a0){
_137b.addCssRule(".dgrid-header","right: "+_1380+"px");
_137b.addCssRule(".dgrid-rtl-nonwebkit .dgrid-header","left: "+_1380+"px");
}
}
if(_13a0){
_139c.style.width=_139b.clientWidth+"px";
setTimeout(function(){
_139c.scrollLeft=_139b.scrollLeft;
},0);
}
},addCssRule:function(_13a1,css){
var rule=_137b.addCssRule(_13a1,css);
if(this.cleanAddedRules){
this._listeners.push(rule);
}
return rule;
},on:function(_13a2,_13a3){
var _13a4=_137a(this.domNode,_13a2,_13a3);
if(!has("dom-addeventlistener")){
this._listeners.push(_13a4);
}
return _13a4;
},cleanup:function(){
var _13a5=this.observers,i;
for(i in this._rowIdToObject){
if(this._rowIdToObject[i]!=this.columns){
var _13a6=byId(i);
if(_13a6){
this.removeRow(_13a6,true);
}
}
}
for(i=0;i<_13a5.length;i++){
var _13a7=_13a5[i];
_13a7&&_13a7.cancel();
}
this.observers=[];
this.preload=null;
},destroy:function(){
if(this._listeners){
for(var i=this._listeners.length;i--;){
this._listeners[i].remove();
}
delete this._listeners;
}
this.cleanup();
put(this.domNode,"!");
},refresh:function(){
this.cleanup();
this._rowIdToObject={};
this._autoId=0;
this.contentNode.innerHTML="";
this.scrollTo({x:0,y:0});
},newRow:function(_13a8,_13a9,_13aa,i,_13ab){
if(_13a9){
var row=this.insertRow(_13a8,_13a9,_13aa,i,_13ab);
put(row,".ui-state-highlight");
setTimeout(function(){
put(row,"!ui-state-highlight");
},250);
return row;
}
},adjustRowIndices:function(_13ac){
if(this.maintainOddEven){
var next=_13ac;
var _13ad=next.rowIndex;
if(_13ad>-1){
do{
if(next.rowIndex>-1){
if((next.className+" ").indexOf("dgrid-row ")>-1){
put(next,"."+(_13ad%2==1?_137e:_137f)+"!"+(_13ad%2==0?_137e:_137f));
}
next.rowIndex=_13ad++;
}
}while((next=next.nextSibling)&&next.rowIndex!=_13ad&&!next.blockRowIndex);
}
}
},renderArray:function(_13ae,_13af,_13b0){
_13b0=_13b0||{};
var self=this,start=_13b0.start||0,row,rows,_13b1;
if(!_13af){
this._lastCollection=_13ae;
}
if(_13ae.observe){
var _13b2=this.observers.push(_13ae.observe(function(_13b3,from,to){
var _13b4,_13b5,_13b6;
if(from>-1&&rows[from]){
row=rows.splice(from,1)[0];
if(row.parentNode==_13b1){
_13b4=row.nextSibling;
if(_13b4){
if(from!=to){
_13b4.rowIndex--;
}
}
self.removeRow(row);
}
if(self._processScroll){
self._processScroll();
}
}
if(to>-1){
_13b5=rows[to];
if(!_13b5){
_13b5=rows[to-1];
if(_13b5){
_13b5=(_13b5.connected||_13b5).nextSibling;
}
}
_13b6=(_13af&&_13af.parentNode)||(_13b5&&_13b5.parentNode)||self.contentNode;
row=self.newRow(_13b3,_13b6,_13b5,_13b0.start+to,_13b0);
if(row){
row.observerIndex=_13b2;
rows.splice(to,0,row);
if(!_13b4||to<from){
var _13b7=row.previousSibling;
_13b4=!_13b7||_13b7.rowIndex+1==row.rowIndex||row.rowIndex==0?row:_13b7;
}
}
_13b0.count++;
}
from!=to&&_13b4&&self.adjustRowIndices(_13b4);
self._onNotification(rows,_13b3,from,to);
},true))-1;
}
var _13b8=document.createDocumentFragment();
if(_13ae.map){
rows=_13ae.map(_13b9,console.error);
if(rows.then){
return rows.then(_13ba);
}
}else{
rows=[];
for(var i=0,l=_13ae.length;i<l;i++){
rows[i]=_13b9(_13ae[i]);
}
}
var _13bb;
function _13b9(_13bc){
_13bb=self.insertRow(_13bc,_13b8,null,start++,_13b0);
_13bb.observerIndex=_13b2;
return _13bb;
};
function _13ba(_13bd){
_13b1=_13af?_13af.parentNode:self.contentNode;
if(_13b1){
_13b1.insertBefore(_13b8,_13af||null);
_13bb=_13bd[_13bd.length-1];
_13bb&&self.adjustRowIndices(_13bb);
}
return (rows=_13bd);
};
return _13ba(rows);
},_onNotification:function(rows,_13be,from,to){
},renderHeader:function(){
},_autoId:0,insertRow:function(_13bf,_13c0,_13c1,i,_13c2){
var _13c3=_13c2.parentId,id=this.id+"-row-"+(_13c3?_13c3+"-":"")+((this.store&&this.store.getIdentity)?this.store.getIdentity(_13bf):this._autoId++),row=byId(id),_13c4=row&&row.previousSibling;
if(row){
this.removeRow(row);
}
row=this.renderRow(_13bf,_13c2);
row.className=(row.className||"")+" ui-state-default dgrid-row "+(i%2==1?_137e:_137f);
this._rowIdToObject[row.id=id]=_13bf;
_13c0.insertBefore(row,_13c1||null);
if(_13c4){
this.adjustRowIndices(_13c4);
}
row.rowIndex=i;
return row;
},renderRow:function(value,_13c5){
return put("div",""+value);
},removeRow:function(_13c6,_13c7){
_13c6=_13c6.element||_13c6;
delete this._rowIdToObject[_13c6.id];
if(!_13c7){
put(_13c6,"!");
}
},row:function(_13c8){
var id;
if(_13c8 instanceof this._Row){
return _13c8;
}
if(_13c8.target&&_13c8.target.nodeType){
_13c8=_13c8.target;
}
if(_13c8.nodeType){
var _13c9;
do{
var rowId=_13c8.id;
if((_13c9=this._rowIdToObject[rowId])){
return new this._Row(rowId.substring(this.id.length+5),_13c9,_13c8);
}
_13c8=_13c8.parentNode;
}while(_13c8&&_13c8!=this.domNode);
return;
}
if(typeof _13c8=="object"){
id=this.store.getIdentity(_13c8);
}else{
id=_13c8;
_13c8=this._rowIdToObject[this.id+"-row-"+id];
}
return new this._Row(id,_13c8,byId(this.id+"-row-"+id));
},cell:function(_13ca){
return {row:this.row(_13ca)};
},_move:function(item,steps,_13cb,_13cc){
var _13cd,_13ce,_13cf;
_13cf=_13ce=item.element;
steps=steps||1;
do{
if((_13cd=_13ce[steps<0?"previousSibling":"nextSibling"])){
do{
_13ce=_13cd;
if(_13ce&&(_13ce.className+" ").indexOf(_13cb+" ")>-1){
_13cf=_13ce;
steps+=steps<0?1:-1;
break;
}
}while((_13cd=(!_13cc||!_13ce.hidden)&&_13ce[steps<0?"lastChild":"firstChild"]));
}else{
_13ce=_13ce.parentNode;
if(_13ce===this.bodyNode||_13ce===this.headerNode){
break;
}
}
}while(steps);
return _13cf;
},up:function(row,steps,_13d0){
if(!row.element){
row=this.row(row);
}
return this.row(this._move(row,-(steps||1),"dgrid-row",_13d0));
},down:function(row,steps,_13d1){
if(!row.element){
row=this.row(row);
}
return this.row(this._move(row,steps||1,"dgrid-row",_13d1));
},scrollTo:has("touch")?function(){
return this.inherited(arguments);
}:function(_13d2){
if(typeof _13d2.x!=="undefined"){
this.bodyNode.scrollLeft=_13d2.x;
}
if(typeof _13d2.y!=="undefined"){
this.bodyNode.scrollTop=_13d2.y;
}
},getScrollPosition:has("touch")?function(){
return this.inherited(arguments);
}:function(){
return {x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop};
},get:function(name){
var fn="_get"+name.charAt(0).toUpperCase()+name.slice(1);
if(typeof this[fn]==="function"){
return this[fn].apply(this,[].slice.call(arguments,1));
}
if(!1&&typeof this[fn+"Attr"]==="function"){
console.warn("dgrid: Use "+fn+" instead of "+fn+"Attr for getting "+name);
}
return this[name];
},set:function(name,value){
if(typeof name==="object"){
for(var k in name){
this.set(k,name[k]);
}
}else{
var fn="_set"+name.charAt(0).toUpperCase()+name.slice(1);
if(typeof this[fn]==="function"){
this[fn].apply(this,[].slice.call(arguments,1));
}else{
if(!1&&typeof this[fn+"Attr"]==="function"){
console.warn("dgrid: Use "+fn+" instead of "+fn+"Attr for setting "+name);
}
this[name]=value;
}
}
return this;
},_getClass:_138d,_setClass:_138b,_getClassName:_138d,_setClassName:_138b,_setSort:function(_13d3,_13d4){
this._sort=typeof _13d3!="string"?_13d3:[{attribute:_13d3,descending:_13d4}];
this.refresh();
if(this._lastCollection){
if(_13d3.length){
if(typeof _13d3!="string"){
_13d4=_13d3[0].descending;
_13d3=_13d3[0].attribute;
}
this._lastCollection.sort(function(a,b){
var aVal=a[_13d3],bVal=b[_13d3];
if(aVal===undefined){
aVal="";
}
if(bVal===undefined){
bVal="";
}
return aVal==bVal?0:(aVal>bVal==!_13d4?1:-1);
});
}
this.renderArray(this._lastCollection);
}
},sort:function(_13d5,_13d6){
_1378.deprecated("sort(...)","use set(\"sort\", ...) instead","dgrid 1.0");
this.set("sort",_13d5,_13d6);
},_getSort:function(){
return this._sort;
},_setShowHeader:function(show){
var _13d7=this.headerNode;
this.showHeader=show;
put(_13d7,(show?"!":".")+"dgrid-header-hidden");
this.renderHeader();
this.resize();
if(show){
_13d7.scrollLeft=this.getScrollPosition().x;
}
},setShowHeader:function(show){
_1378.deprecated("setShowHeader(...)","use set(\"showHeader\", ...) instead","dgrid 1.0");
this.set("showHeader",show);
},_setShowFooter:function(show){
this.showFooter=show;
put(this.footerNode,(show?"!":".")+"dgrid-footer-hidden");
this.resize();
}});
});
},"dijit/_editor/plugins/FontChoice":function(){
define(["require","dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/i18n","dojo/_base/lang","dojo/store/Memory","../../registry","../../_Widget","../../_TemplatedMixin","../../_WidgetsInTemplateMixin","../../form/FilteringSelect","../_Plugin","../range","dojo/i18n!../nls/FontChoice"],function(_13d8,array,_13d9,_13da,i18n,lang,_13db,_13dc,_13dd,_13de,_13df,_13e0,_13e1,_13e2){
var _13e3=_13d9("dijit._editor.plugins._FontDropDown",[_13dd,_13de,_13df],{label:"",plainText:false,templateString:"<span style='white-space: nowrap' class='dijit dijitReset dijitInline'>"+"<label class='dijitLeft dijitInline' for='${selectId}'>${label}</label>"+"<input data-dojo-type='../../form/FilteringSelect' required='false' "+"data-dojo-props='labelType:\"html\", labelAttr:\"label\", searchAttr:\"name\"' "+"class='${comboClass}' "+"tabIndex='-1' id='${selectId}' data-dojo-attach-point='select' value=''/>"+"</span>",contextRequire:_13d8,postMixInProperties:function(){
this.inherited(arguments);
this.strings=i18n.getLocalization("dijit._editor","FontChoice");
this.label=this.strings[this.command];
this.id=_13dc.getUniqueId(this.declaredClass.replace(/\./g,"_"));
this.selectId=this.id+"_select";
this.inherited(arguments);
},postCreate:function(){
this.select.set("store",new _13db({idProperty:"value",data:array.map(this.values,function(value){
var name=this.strings[value]||value;
return {label:this.getLabel(value,name),name:name,value:value};
},this)}));
this.select.set("value","",false);
this.disabled=this.select.get("disabled");
},_setValueAttr:function(value,_13e4){
_13e4=_13e4!==false;
this.select.set("value",array.indexOf(this.values,value)<0?"":value,_13e4);
if(!_13e4){
this.select._lastValueReported=null;
}
},_getValueAttr:function(){
return this.select.get("value");
},focus:function(){
this.select.focus();
},_setDisabledAttr:function(value){
this._set("disabled",value);
this.select.set("disabled",value);
}});
var _13e5=_13d9("dijit._editor.plugins._FontNameDropDown",_13e3,{generic:false,command:"fontName",comboClass:"dijitFontNameCombo",postMixInProperties:function(){
if(!this.values){
this.values=this.generic?["serif","sans-serif","monospace","cursive","fantasy"]:["Arial","Times New Roman","Comic Sans MS","Courier New"];
}
this.inherited(arguments);
},getLabel:function(value,name){
if(this.plainText){
return name;
}else{
return "<div style='font-family: "+value+"'>"+name+"</div>";
}
},_setValueAttr:function(value,_13e6){
_13e6=_13e6!==false;
if(this.generic){
var map={"Arial":"sans-serif","Helvetica":"sans-serif","Myriad":"sans-serif","Times":"serif","Times New Roman":"serif","Comic Sans MS":"cursive","Apple Chancery":"cursive","Courier":"monospace","Courier New":"monospace","Papyrus":"fantasy","Estrangelo Edessa":"cursive","Gabriola":"fantasy"};
value=map[value]||value;
}
this.inherited(arguments,[value,_13e6]);
}});
var _13e7=_13d9("dijit._editor.plugins._FontSizeDropDown",_13e3,{command:"fontSize",comboClass:"dijitFontSizeCombo",values:[1,2,3,4,5,6,7],getLabel:function(value,name){
if(this.plainText){
return name;
}else{
return "<font size="+value+"'>"+name+"</font>";
}
},_setValueAttr:function(value,_13e8){
_13e8=_13e8!==false;
if(value.indexOf&&value.indexOf("px")!=-1){
var _13e9=parseInt(value,10);
value={10:1,13:2,16:3,18:4,24:5,32:6,48:7}[_13e9]||value;
}
this.inherited(arguments,[value,_13e8]);
}});
var _13ea=_13d9("dijit._editor.plugins._FormatBlockDropDown",_13e3,{command:"formatBlock",comboClass:"dijitFormatBlockCombo",values:["noFormat","p","h1","h2","h3","pre"],postCreate:function(){
this.inherited(arguments);
this.set("value","noFormat",false);
},getLabel:function(value,name){
if(this.plainText||value=="noFormat"){
return name;
}else{
return "<"+value+">"+name+"</"+value+">";
}
},_execCommand:function(_13eb,_13ec,_13ed){
if(_13ed==="noFormat"){
var start;
var end;
var sel=_13e2.getSelection(_13eb.window);
if(sel&&sel.rangeCount>0){
var range=sel.getRangeAt(0);
var node,tag;
if(range){
start=range.startContainer;
end=range.endContainer;
while(start&&start!==_13eb.editNode&&start!==_13eb.document.body&&start.nodeType!==1){
start=start.parentNode;
}
while(end&&end!==_13eb.editNode&&end!==_13eb.document.body&&end.nodeType!==1){
end=end.parentNode;
}
var _13ee=lang.hitch(this,function(node,ary){
if(node.childNodes&&node.childNodes.length){
var i;
for(i=0;i<node.childNodes.length;i++){
var c=node.childNodes[i];
if(c.nodeType==1){
if(_13eb.selection.inSelection(c)){
var tag=c.tagName?c.tagName.toLowerCase():"";
if(array.indexOf(this.values,tag)!==-1){
ary.push(c);
}
_13ee(c,ary);
}
}
}
}
});
var _13ef=lang.hitch(this,function(nodes){
if(nodes&&nodes.length){
_13eb.beginEditing();
while(nodes.length){
this._removeFormat(_13eb,nodes.pop());
}
_13eb.endEditing();
}
});
var _13f0=[];
if(start==end){
var block;
node=start;
while(node&&node!==_13eb.editNode&&node!==_13eb.document.body){
if(node.nodeType==1){
tag=node.tagName?node.tagName.toLowerCase():"";
if(array.indexOf(this.values,tag)!==-1){
block=node;
break;
}
}
node=node.parentNode;
}
_13ee(start,_13f0);
if(block){
_13f0=[block].concat(_13f0);
}
_13ef(_13f0);
}else{
node=start;
while(_13eb.selection.inSelection(node)){
if(node.nodeType==1){
tag=node.tagName?node.tagName.toLowerCase():"";
if(array.indexOf(this.values,tag)!==-1){
_13f0.push(node);
}
_13ee(node,_13f0);
}
node=node.nextSibling;
}
_13ef(_13f0);
}
_13eb.onDisplayChanged();
}
}
}else{
_13eb.execCommand(_13ec,_13ed);
}
},_removeFormat:function(_13f1,node){
if(_13f1.customUndo){
while(node.firstChild){
_13da.place(node.firstChild,node,"before");
}
node.parentNode.removeChild(node);
}else{
_13f1.selection.selectElementChildren(node);
var html=_13f1.selection.getSelectedHtml();
_13f1.selection.selectElement(node);
_13f1.execCommand("inserthtml",html||"");
}
}});
var _13f2=_13d9("dijit._editor.plugins.FontChoice",_13e1,{useDefaultCommand:false,_initButton:function(){
var clazz={fontName:_13e5,fontSize:_13e7,formatBlock:_13ea}[this.command],_13f3=this.params;
if(this.params.custom){
_13f3.values=this.params.custom;
}
var _13f4=this.editor;
this.button=new clazz(lang.delegate({dir:_13f4.dir,lang:_13f4.lang},_13f3));
this.own(this.button.select.on("change",lang.hitch(this,function(_13f5){
if(this.editor.focused){
this.editor.focus();
}
if(this.command=="fontName"&&_13f5.indexOf(" ")!=-1){
_13f5="'"+_13f5+"'";
}
if(this.button._execCommand){
this.button._execCommand(this.editor,this.command,_13f5);
}else{
this.editor.execCommand(this.command,_13f5);
}
})));
},updateState:function(){
var _13f6=this.editor;
var _13f7=this.command;
if(!_13f6||!_13f6.isLoaded||!_13f7.length){
return;
}
if(this.button){
var _13f8=this.get("disabled");
this.button.set("disabled",_13f8);
if(_13f8){
return;
}
var value;
try{
value=_13f6.queryCommandValue(_13f7)||"";
}
catch(e){
value="";
}
var _13f9=lang.isString(value)&&value.match(/'([^']*)'/);
if(_13f9){
value=_13f9[1];
}
if(_13f7==="formatBlock"){
if(!value||value=="p"){
value=null;
var elem;
var sel=_13e2.getSelection(this.editor.window);
if(sel&&sel.rangeCount>0){
var range=sel.getRangeAt(0);
if(range){
elem=range.endContainer;
}
}
while(elem&&elem!==_13f6.editNode&&elem!==_13f6.document){
var tg=elem.tagName?elem.tagName.toLowerCase():"";
if(tg&&array.indexOf(this.button.values,tg)>-1){
value=tg;
break;
}
elem=elem.parentNode;
}
if(!value){
value="noFormat";
}
}else{
if(array.indexOf(this.button.values,value)<0){
value="noFormat";
}
}
}
if(value!==this.button.get("value")){
this.button.set("value",value,false);
}
}
}});
array.forEach(["fontName","fontSize","formatBlock"],function(name){
_13e1.registry[name]=function(args){
return new _13f2({command:name,plainText:args.plainText});
};
});
_13f2._FontDropDown=_13e3;
_13f2._FontNameDropDown=_13e5;
_13f2._FontSizeDropDown=_13e7;
_13f2._FormatBlockDropDown=_13ea;
return _13f2;
});
},"dojo/dnd/move":function(){
define(["../_base/declare","../dom-geometry","../dom-style","./common","./Mover","./Moveable"],function(_13fa,_13fb,_13fc,dnd,Mover,_13fd){
var _13fe=_13fa("dojo.dnd.move.constrainedMoveable",_13fd,{constraints:function(){
},within:false,constructor:function(node,_13ff){
if(!_13ff){
_13ff={};
}
this.constraints=_13ff.constraints;
this.within=_13ff.within;
},onFirstMove:function(mover){
var c=this.constraintBox=this.constraints.call(this,mover);
c.r=c.l+c.w;
c.b=c.t+c.h;
if(this.within){
var mb=_13fb.getMarginSize(mover.node);
c.r-=mb.w;
c.b-=mb.h;
}
},onMove:function(mover,_1400){
var c=this.constraintBox,s=mover.node.style;
this.onMoving(mover,_1400);
_1400.l=_1400.l<c.l?c.l:c.r<_1400.l?c.r:_1400.l;
_1400.t=_1400.t<c.t?c.t:c.b<_1400.t?c.b:_1400.t;
s.left=_1400.l+"px";
s.top=_1400.t+"px";
this.onMoved(mover,_1400);
}});
var _1401=_13fa("dojo.dnd.move.boxConstrainedMoveable",_13fe,{box:{},constructor:function(node,_1402){
var box=_1402&&_1402.box;
this.constraints=function(){
return box;
};
}});
var _1403=_13fa("dojo.dnd.move.parentConstrainedMoveable",_13fe,{area:"content",constructor:function(node,_1404){
var area=_1404&&_1404.area;
this.constraints=function(){
var n=this.node.parentNode,s=_13fc.getComputedStyle(n),mb=_13fb.getMarginBox(n,s);
if(area=="margin"){
return mb;
}
var t=_13fb.getMarginExtents(n,s);
mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;
if(area=="border"){
return mb;
}
t=_13fb.getBorderExtents(n,s);
mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;
if(area=="padding"){
return mb;
}
t=_13fb.getPadExtents(n,s);
mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;
return mb;
};
}});
return {constrainedMoveable:_13fe,boxConstrainedMoveable:_1401,parentConstrainedMoveable:_1403};
});
},"dojox/editor/plugins/TablePlugins":function(){
define(["dojo/_base/declare","dojo/_base/array","dojo/_base/Color","dojo/aspect","dojo/dom-attr","dojo/dom-style","dijit/_editor/_Plugin","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/Dialog","dijit/Menu","dijit/MenuItem","dijit/MenuSeparator","dijit/ColorPalette","dojox/widget/ColorPicker","dojo/text!./resources/insertTable.html","dojo/text!./resources/modifyTable.html","dojo/i18n!./nls/TableDialog","dijit/_base/popup","dijit/popup","dojo/_base/connect","dijit/TooltipDialog","dijit/form/Button","dijit/form/DropDownButton","dijit/form/TextBox","dijit/form/FilteringSelect"],function(_1405,array,Color,_1406,_1407,_1408,_1409,_140a,_140b,_140c,_140d,Menu,_140e,_140f,_1410,_1411,_1412,_1413,_1414){
dojo.experimental("dojox.editor.plugins.TablePlugins");
var _1415=_1405(_1409,{tablesConnected:false,currentlyAvailable:false,alwaysAvailable:false,availableCurrentlySet:false,initialized:false,tableData:null,shiftKeyDown:false,editorDomNode:null,undoEnabled:true,refCount:0,doMixins:function(){
dojo.mixin(this.editor,{getAncestorElement:function(_1416){
return this._sCall("getAncestorElement",[_1416]);
},hasAncestorElement:function(_1417){
return this._sCall("hasAncestorElement",[_1417]);
},selectElement:function(elem){
this._sCall("selectElement",[elem]);
},byId:function(id){
return dojo.byId(id,this.document);
},query:function(arg,scope,_1418){
var ar=dojo.query(arg,scope||this.document);
return (_1418)?ar[0]:ar;
}});
},initialize:function(_1419){
this.refCount++;
_1419.customUndo=true;
if(this.initialized){
return;
}
this.initialized=true;
this.editor=_1419;
this.editor._tablePluginHandler=this;
_1419.onLoadDeferred.addCallback(dojo.hitch(this,function(){
this.editorDomNode=this.editor.editNode||this.editor.iframe.document.body.firstChild;
this._myListeners=[dojo.connect(this.editorDomNode,"mouseup",this.editor,"onClick"),dojo.connect(this.editor,"onDisplayChanged",this,"checkAvailable"),dojo.connect(this.editor,"onBlur",this,"checkAvailable"),dojo.connect(this.editor,"_saveSelection",this,function(){
this._savedTableInfo=this.getTableInfo();
}),dojo.connect(this.editor,"_restoreSelection",this,function(){
delete this._savedTableInfo;
})];
this.doMixins();
this.connectDraggable();
}));
},getTableInfo:function(_141a){
if(this._savedTableInfo){
return this._savedTableInfo;
}
if(_141a){
this._tempStoreTableData(false);
}
if(this.tableData){
return this.tableData;
}
var tr,trs,td,tds,tbl,cols,_141b,_141c,o;
td=this.editor.getAncestorElement("td");
if(td){
tr=td.parentNode;
}
tbl=this.editor.getAncestorElement("table");
if(tbl){
tds=dojo.query("td",tbl);
tds.forEach(function(d,i){
if(td==d){
_141b=i;
}
});
trs=dojo.query("tr",tbl);
trs.forEach(function(r,i){
if(tr==r){
_141c=i;
}
});
cols=tds.length/trs.length;
o={tbl:tbl,td:td,tr:tr,trs:trs,tds:tds,rows:trs.length,cols:cols,tdIndex:_141b,trIndex:_141c,colIndex:_141b%cols};
}else{
o={};
}
this.tableData=o;
this._tempStoreTableData(500);
return this.tableData;
},connectDraggable:function(){
if(!dojo.isIE){
return;
}
this.editorDomNode.ondragstart=dojo.hitch(this,"onDragStart");
this.editorDomNode.ondragend=dojo.hitch(this,"onDragEnd");
},onDragStart:function(){
var e=window.event;
if(!e.srcElement.id){
e.srcElement.id="tbl_"+(new Date().getTime());
}
},onDragEnd:function(){
var e=window.event;
var node=e.srcElement;
var id=node.id;
var doc=this.editor.document;
if(node.tagName.toLowerCase()=="table"){
setTimeout(function(){
var node=dojo.byId(id,doc);
dojo.removeAttr(node,"align");
},100);
}
},checkAvailable:function(){
if(this.availableCurrentlySet){
return this.currentlyAvailable;
}
if(!this.editor){
return false;
}
if(this.alwaysAvailable){
return true;
}
this.currentlyAvailable=this.editor.focused&&(this._savedTableInfo?this._savedTableInfo.tbl:this.editor.hasAncestorElement("table"));
if(this.currentlyAvailable){
this.connectTableKeys();
}else{
this.disconnectTableKeys();
}
this._tempAvailability(500);
dojo.publish(this.editor.id+"_tablePlugins",[this.currentlyAvailable]);
return this.currentlyAvailable;
},_prepareTable:function(tbl){
var tds=this.editor.query("td",tbl);
if(!tds[0].id){
tds.forEach(function(td,i){
if(!td.id){
td.id="tdid"+i+this.getTimeStamp();
}
},this);
}
return tds;
},getTimeStamp:function(){
return new Date().getTime();
},_tempStoreTableData:function(type){
if(type===true){
}else{
if(type===false){
this.tableData=null;
}else{
if(type===undefined){
console.warn("_tempStoreTableData must be passed an argument");
}else{
setTimeout(dojo.hitch(this,function(){
this.tableData=null;
}),type);
}
}
}
},_tempAvailability:function(type){
if(type===true){
this.availableCurrentlySet=true;
}else{
if(type===false){
this.availableCurrentlySet=false;
}else{
if(type===undefined){
console.warn("_tempAvailability must be passed an argument");
}else{
this.availableCurrentlySet=true;
setTimeout(dojo.hitch(this,function(){
this.availableCurrentlySet=false;
}),type);
}
}
}
},connectTableKeys:function(){
if(this.tablesConnected){
return;
}
this.tablesConnected=true;
var node=(this.editor.iframe)?this.editor.document:this.editor.editNode;
this.cnKeyDn=dojo.connect(node,"onkeydown",this,"onKeyDown");
this.cnKeyUp=dojo.connect(node,"onkeyup",this,"onKeyUp");
this._myListeners.push(dojo.connect(node,"onkeypress",this,"onKeyUp"));
},disconnectTableKeys:function(){
dojo.disconnect(this.cnKeyDn);
dojo.disconnect(this.cnKeyUp);
this.tablesConnected=false;
},onKeyDown:function(evt){
var key=evt.keyCode;
if(key==16){
this.shiftKeyDown=true;
}
if(key==9){
var o=this.getTableInfo();
o.tdIndex=(this.shiftKeyDown)?o.tdIndex-1:tabTo=o.tdIndex+1;
if(o.tdIndex>=0&&o.tdIndex<o.tds.length){
this.editor.selectElement(o.tds[o.tdIndex]);
this.currentlyAvailable=true;
this._tempAvailability(true);
this._tempStoreTableData(true);
this.stopEvent=true;
}else{
this.stopEvent=false;
this.onDisplayChanged();
}
if(this.stopEvent){
dojo.stopEvent(evt);
}
}
},onKeyUp:function(evt){
var key=evt.keyCode;
if(key==16){
this.shiftKeyDown=false;
}
if(key==37||key==38||key==39||key==40){
this.onDisplayChanged();
}
if(key==9&&this.stopEvent){
dojo.stopEvent(evt);
}
},onDisplayChanged:function(){
this.currentlyAvailable=false;
this._tempStoreTableData(false);
this._tempAvailability(false);
this.checkAvailable();
},uninitialize:function(_141d){
if(this.editor==_141d){
this.refCount--;
if(!this.refCount&&this.initialized){
if(this.tablesConnected){
this.disconnectTableKeys();
}
this.initialized=false;
dojo.forEach(this._myListeners,function(l){
dojo.disconnect(l);
});
delete this._myListeners;
delete this.editor._tablePluginHandler;
delete this.editor;
}
this.inherited(arguments);
}
}});
var _141e=_1405("dojox.editor.plugins.TablePlugins",_1409,{iconClassPrefix:"editorIcon",useDefaultCommand:false,buttonClass:dijit.form.Button,commandName:"",label:"",alwaysAvailable:false,undoEnabled:true,onDisplayChanged:function(_141f){
if(!this.alwaysAvailable){
this.available=_141f;
this.button.set("disabled",!this.available);
}
},setEditor:function(_1420){
this.editor=_1420;
this.editor.customUndo=true;
this.inherited(arguments);
this._availableTopic=dojo.subscribe(this.editor.id+"_tablePlugins",this,"onDisplayChanged");
this.onEditorLoaded();
},onEditorLoaded:function(){
if(!this.editor._tablePluginHandler){
var _1421=new _1415();
_1421.initialize(this.editor);
}else{
this.editor._tablePluginHandler.initialize(this.editor);
}
},selectTable:function(){
var o=this.getTableInfo();
if(o&&o.tbl){
this.editor._sCall("selectElement",[o.tbl]);
}
},_initButton:function(){
this.command=this.name;
this.label=this.editor.commands[this.command]=this._makeTitle(this.command);
this.inherited(arguments);
delete this.command;
this.connect(this.button,"onClick","modTable");
this.onDisplayChanged(false);
},modTable:function(cmd,args){
if(dojo.isIE){
this.editor.focus();
}
this.begEdit();
var o=this.getTableInfo();
var sw=(dojo.isString(cmd))?cmd:this.name;
var r,c,i;
var _1422=false;
switch(sw){
case "insertTableRowBefore":
r=o.tbl.insertRow(o.trIndex);
for(i=0;i<o.cols;i++){
c=r.insertCell(-1);
c.innerHTML="&nbsp;";
}
break;
case "insertTableRowAfter":
r=o.tbl.insertRow(o.trIndex+1);
for(i=0;i<o.cols;i++){
c=r.insertCell(-1);
c.innerHTML="&nbsp;";
}
break;
case "insertTableColumnBefore":
o.trs.forEach(function(r){
c=r.insertCell(o.colIndex);
c.innerHTML="&nbsp;";
});
_1422=true;
break;
case "insertTableColumnAfter":
o.trs.forEach(function(r){
c=r.insertCell(o.colIndex+1);
c.innerHTML="&nbsp;";
});
_1422=true;
break;
case "deleteTableRow":
o.tbl.deleteRow(o.trIndex);
break;
case "deleteTableColumn":
o.trs.forEach(function(tr){
tr.deleteCell(o.colIndex);
});
_1422=true;
break;
case "modifyTable":
break;
case "insertTable":
break;
}
if(_1422){
this.makeColumnsEven();
}
this.endEdit();
},begEdit:function(){
if(this.editor._tablePluginHandler.undoEnabled){
if(this.editor.customUndo){
this.editor.beginEditing();
}else{
this.valBeforeUndo=this.editor.getValue();
}
}
},endEdit:function(){
if(this.editor._tablePluginHandler.undoEnabled){
if(this.editor.customUndo){
this.editor.endEditing();
}else{
var _1423=this.editor.getValue();
this.editor.setValue(this.valBeforeUndo);
this.editor.replaceValue(_1423);
}
this.editor.onDisplayChanged();
}
},makeColumnsEven:function(){
setTimeout(dojo.hitch(this,function(){
var o=this.getTableInfo(true);
var w=Math.floor(100/o.cols);
o.tds.forEach(function(d){
dojo.attr(d,"width",w+"%");
});
}),10);
},getTableInfo:function(_1424){
return this.editor._tablePluginHandler.getTableInfo(_1424);
},_makeTitle:function(str){
this._strings=dojo.i18n.getLocalization("dojox.editor.plugins","TableDialog");
var title=this._strings[str+"Title"]||this._strings[str+"Label"]||str;
return title;
},getSelectedCells:function(){
var cells=[];
var tbl=this.getTableInfo().tbl;
this.editor._tablePluginHandler._prepareTable(tbl);
var e=this.editor;
var text=e._sCall("getSelectedHtml",[null]);
var str=text.match(/id="*\w*"*/g);
dojo.forEach(str,function(a){
var id=a.substring(3,a.length);
if(id.charAt(0)=="\""&&id.charAt(id.length-1)=="\""){
id=id.substring(1,id.length-1);
}
var node=e.byId(id);
if(node&&node.tagName.toLowerCase()=="td"){
cells.push(node);
}
},this);
if(!cells.length){
var sel=dijit.range.getSelection(e.window);
if(sel.rangeCount){
var r=sel.getRangeAt(0);
var node=r.startContainer;
while(node&&node!=e.editNode&&node!=e.document){
if(node.nodeType===1){
var tg=node.tagName?node.tagName.toLowerCase():"";
if(tg==="td"){
return [node];
}
}
node=node.parentNode;
}
}
}
return cells;
},updateState:function(){
if(this.button){
if((this.available||this.alwaysAvailable)&&!this.get("disabled")){
this.button.set("disabled",false);
}else{
this.button.set("disabled",true);
}
}
},destroy:function(){
this.inherited(arguments);
dojo.unsubscribe(this._availableTopic);
this.editor._tablePluginHandler.uninitialize(this.editor);
}});
var _1425=_1405(_141e,{constructor:function(){
this.connect(this,"setEditor",function(_1426){
_1426.onLoadDeferred.addCallback(dojo.hitch(this,function(){
this._createContextMenu();
}));
this.button.domNode.style.display="none";
});
},destroy:function(){
if(this.menu){
this.menu.destroyRecursive();
delete this.menu;
}
this.inherited(arguments);
},_initButton:function(){
this.inherited(arguments);
if(this.name==="tableContextMenu"){
this.button.domNode.display="none";
}
},_createContextMenu:function(){
var pMenu=new Menu({targetNodeIds:[this.editor.iframe]});
var _1427=_1414;
pMenu.addChild(new _140e({label:_1427.selectTableLabel,onClick:dojo.hitch(this,"selectTable")}));
pMenu.addChild(new _140f());
pMenu.addChild(new _140e({label:_1427.insertTableRowBeforeLabel,onClick:dojo.hitch(this,"modTable","insertTableRowBefore")}));
pMenu.addChild(new _140e({label:_1427.insertTableRowAfterLabel,onClick:dojo.hitch(this,"modTable","insertTableRowAfter")}));
pMenu.addChild(new _140e({label:_1427.insertTableColumnBeforeLabel,onClick:dojo.hitch(this,"modTable","insertTableColumnBefore")}));
pMenu.addChild(new _140e({label:_1427.insertTableColumnAfterLabel,onClick:dojo.hitch(this,"modTable","insertTableColumnAfter")}));
pMenu.addChild(new _140f());
pMenu.addChild(new _140e({label:_1427.deleteTableRowLabel,onClick:dojo.hitch(this,"modTable","deleteTableRow")}));
pMenu.addChild(new _140e({label:_1427.deleteTableColumnLabel,onClick:dojo.hitch(this,"modTable","deleteTableColumn")}));
this.menu=pMenu;
}});
var _1428=_1405("dojox.editor.plugins.EditorTableDialog",[_140d,_140b,_140c],{baseClass:"EditorTableDialog",templateString:_1412,postMixInProperties:function(){
dojo.mixin(this,_1414);
this.inherited(arguments);
},postCreate:function(){
dojo.addClass(this.domNode,this.baseClass);
this.inherited(arguments);
},onInsert:function(){
var rows=this.selectRow.get("value")||1,cols=this.selectCol.get("value")||1,width=this.selectWidth.get("value"),_1429=this.selectWidthType.get("value"),_142a=this.selectBorder.get("value"),pad=this.selectPad.get("value"),space=this.selectSpace.get("value"),_142b="tbl_"+(new Date().getTime()),t="<table id=\""+_142b+"\"width=\""+width+((_1429=="percent")?"%":"")+"\" border=\""+_142a+"\" cellspacing=\""+space+"\" cellpadding=\""+pad+"\">\n";
for(var r=0;r<rows;r++){
t+="\t<tr>\n";
for(var c=0;c<cols;c++){
t+="\t\t<td width=\""+(Math.floor(100/cols))+"%\">&nbsp;</td>\n";
}
t+="\t</tr>\n";
}
t+="</table><br />";
var cl=dojo.connect(this,"onHide",function(){
dojo.disconnect(cl);
var self=this;
setTimeout(function(){
self.destroyRecursive();
},10);
});
this.hide();
this.onBuildTable({htmlText:t,id:_142b});
},onCancel:function(){
var c=dojo.connect(this,"onHide",function(){
dojo.disconnect(c);
var self=this;
setTimeout(function(){
self.destroyRecursive();
},10);
});
},onBuildTable:function(_142c){
}});
var _142d=_1405("dojox.editor.plugins.InsertTable",_141e,{alwaysAvailable:true,modTable:function(){
var w=new _1428({});
w.show();
var c=dojo.connect(w,"onBuildTable",this,function(obj){
dojo.disconnect(c);
this.editor.focus();
var res=this.editor.execCommand("inserthtml",obj.htmlText);
});
}});
var _142e=_1405([_140d,_140b,_140c],{baseClass:"EditorTableDialog",table:null,tableAtts:{},templateString:_1413,postMixInProperties:function(){
dojo.mixin(this,_1414);
this.inherited(arguments);
},postCreate:function(){
dojo.addClass(this.domNode,this.baseClass);
this.inherited(arguments);
var w1=new this.colorPicker({params:this.params});
this.connect(w1,"onChange",function(color){
if(!this._started){
return;
}
dijit.popup.close(w1);
this.setBrdColor(color);
});
this.connect(w1,"onBlur",function(){
dijit.popup.close(w1);
});
this.connect(this.borderCol,"click",function(){
w1.set("value",this.brdColor,false);
dijit.popup.open({popup:w1,around:this.borderCol});
w1.focus();
});
var w2=new this.colorPicker({params:this.params});
this.connect(w2,"onChange",function(color){
if(!this._started){
return;
}
dijit.popup.close(w2);
this.setBkColor(color);
});
this.connect(w2,"onBlur",function(){
dijit.popup.close(w2);
});
this.connect(this.backgroundCol,"click",function(){
w2.set("value",this.bkColor,false);
dijit.popup.open({popup:w2,around:this.backgroundCol});
w2.focus();
});
this.own(w1,w2);
this.pickers=[w1,w2];
this.setBrdColor(_1408.get(this.table,"borderColor"));
this.setBkColor(_1408.get(this.table,"backgroundColor"));
var w=_1407.get(this.table,"width");
if(!w){
w=this.table.style.width;
}
var p="pixels";
if(dojo.isString(w)&&w.indexOf("%")>-1){
p="percent";
w=w.replace(/%/,"");
}
if(w){
this.selectWidth.set("value",w);
this.selectWidthType.set("value",p);
}else{
this.selectWidth.set("value","");
this.selectWidthType.set("value","percent");
}
this.selectBorder.set("value",_1407.get(this.table,"border"));
this.selectPad.set("value",_1407.get(this.table,"cellPadding"));
this.selectSpace.set("value",_1407.get(this.table,"cellSpacing"));
this.selectAlign.set("value",_1407.get(this.table,"align"));
},startup:function(){
array.forEach(this.pickers,function(_142f){
_142f.startup();
});
this.inherited(arguments);
},setBrdColor:function(color){
this.brdColor=color;
_1408.set(this.borderCol,"backgroundColor",color);
},setBkColor:function(color){
this.bkColor=color;
_1408.set(this.backgroundCol,"backgroundColor",color);
},onSet:function(){
_1408.set(this.table,"borderColor",this.brdColor);
_1408.set(this.table,"backgroundColor",this.bkColor);
if(this.selectWidth.get("value")){
_1408.set(this.table,"width","");
_1407.set(this.table,"width",(this.selectWidth.get("value")+((this.selectWidthType.get("value")=="pixels")?"":"%")));
}
_1407.set(this.table,"border",this.selectBorder.get("value"));
_1407.set(this.table,"cellPadding",this.selectPad.get("value"));
_1407.set(this.table,"cellSpacing",this.selectSpace.get("value"));
_1407.set(this.table,"align",this.selectAlign.get("value"));
var c=dojo.connect(this,"onHide",function(){
dojo.disconnect(c);
var self=this;
setTimeout(function(){
self.destroyRecursive();
},10);
});
this.hide();
},onCancel:function(){
var c=dojo.connect(this,"onHide",function(){
dojo.disconnect(c);
var self=this;
setTimeout(function(){
self.destroyRecursive();
},10);
});
},onSetTable:function(_1430){
}});
var _1431=_1405("dojox.editor.plugins.ModifyTable",_141e,{colorPicker:_1410,modTable:function(){
if(!this.editor._tablePluginHandler.checkAvailable()){
return;
}
var o=this.getTableInfo();
var w=new _142e({table:o.tbl,colorPicker:typeof this.colorPicker==="string"?require(this.colorPicker):this.colorPicker,params:this.params});
w.show();
this.connect(w,"onSetTable",function(color){
var o=this.getTableInfo();
_1408.set(o.td,"backgroundColor",color);
});
}});
var _1432=_1405([_140a,_140b,_140c],{colorPicker:_1411,templateString:"<div style='display: none; position: absolute; top: -10000; z-index: -10000'>"+"<div dojoType='dijit.TooltipDialog' dojoAttachPoint='dialog' class='dojoxEditorColorPicker'>"+"<div dojoAttachPoint='_colorPicker'></div>"+"<div style='margin: 0.5em 0em 0em 0em'>"+"<button dojoType='dijit.form.Button' type='submit' dojoAttachPoint='_setButton'>${buttonSet}</button>"+"&nbsp;"+"<button dojoType='dijit.form.Button' type='button' dojoAttachPoint='_cancelButton'>${buttonCancel}</button>"+"</div>"+"</div>"+"</div>",widgetsInTemplate:true,constructor:function(){
dojo.mixin(this,_1414);
},postCreate:function(){
var _1433=typeof this.colorPicker=="string"?require(this.colorPicker):this.colorPicker;
this._colorPicker=new _1433({params:this.params},this._colorPicker);
},startup:function(){
if(!this._started){
this.inherited(arguments);
this.connect(this.dialog,"execute",function(){
this.onChange(this.get("value"));
});
this.connect(this._cancelButton,"onClick",function(){
dijit.popup.close(this.dialog);
});
this.connect(this.dialog,"onCancel","onCancel");
dojo.style(this.domNode,"display","block");
}
},_setValueAttr:function(value,_1434){
this._colorPicker.set("value",value,_1434);
},_getValueAttr:function(){
return this._colorPicker.get("value");
},onChange:function(value){
},onCancel:function(){
}});
var _1435=_1405("dojox.editor.plugins.ColorTableCell",_141e,{colorPicker:_1411,constructor:function(){
this.closable=true;
this.buttonClass=dijit.form.DropDownButton;
var self=this,_1436,_1437={colorPicker:this.colorPicker,params:this.params};
if(!this.dropDown){
_1436=new _1432(_1437);
_1436.startup();
this.dropDown=_1436.dialog;
}else{
_1436=this.dropDown;
_1436.set(_1437);
}
this.connect(_1436,"onChange",function(color){
this.editor.focus();
this.modTable(null,color);
});
this.connect(_1436,"onCancel",function(){
this.editor.focus();
});
_1406.before(this.dropDown,"onOpen",function(){
var o=self.getTableInfo(),tds=self.getSelectedCells(o.tbl);
if(tds&&tds.length>0){
var t=tds[0]===self.lastObject?tds[0]:tds[tds.length-1],color;
while(t&&t!==self.editor.document&&((color=dojo.style(t,"backgroundColor"))==="transparent"||color.indexOf("rgba")===0)){
t=t.parentNode;
}
if(color!=="transparent"&&color.indexOf("rgba")!==0){
_1436.set("value",Color.fromString(color).toHex());
}
}
});
this.connect(this,"setEditor",function(_1438){
_1438.onLoadDeferred.addCallback(dojo.hitch(this,function(){
this.connect(this.editor.editNode,"onmouseup",function(evt){
this.lastObject=evt.target;
});
}));
});
},_initButton:function(){
this.command=this.name;
this.label=this.editor.commands[this.command]=this._makeTitle(this.command);
this.inherited(arguments);
delete this.command;
this.onDisplayChanged(false);
},modTable:function(cmd,args){
this.begEdit();
var o=this.getTableInfo();
var tds=this.getSelectedCells(o.tbl);
dojo.forEach(tds,function(td){
dojo.style(td,"backgroundColor",args);
});
this.endEdit();
}});
function _1439(args){
return new _141e(args);
};
_1409.registry["insertTableRowBefore"]=_1439;
_1409.registry["insertTableRowAfter"]=_1439;
_1409.registry["insertTableColumnBefore"]=_1439;
_1409.registry["insertTableColumnAfter"]=_1439;
_1409.registry["deleteTableRow"]=_1439;
_1409.registry["deleteTableColumn"]=_1439;
_1409.registry["colorTableCell"]=function(args){
return new _1435(args);
};
_1409.registry["modifyTable"]=function(args){
return new _1431(args);
};
_1409.registry["insertTable"]=function(args){
return new _142d(args);
};
_1409.registry["tableContextMenu"]=function(args){
return new _1425(args);
};
return _141e;
});
},"dojox/validate":function(){
define(["./validate/_base"],function(_143a){
return _143a;
});
},"dijit/form/_FormSelectWidget":function(){
define(["dojo/_base/array","dojo/_base/Deferred","dojo/aspect","dojo/data/util/sorter","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/when","dojo/store/util/QueryResults","./_FormValueWidget"],function(array,_143b,_143c,_143d,_143e,dom,_143f,_1440,lang,query,when,_1441,_1442){
var _1443=_143e("dijit.form._FormSelectWidget",_1442,{multiple:false,options:null,store:null,query:null,queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:true,loadChildrenOnOpen:false,onLoadDeferred:null,getOptions:function(_1444){
var opts=this.options||[];
if(_1444==null){
return opts;
}
if(lang.isArray(_1444)){
return array.map(_1444,"return this.getOptions(item);",this);
}
if(lang.isString(_1444)){
_1444={value:_1444};
}
if(lang.isObject(_1444)){
if(!array.some(opts,function(_1445,idx){
for(var a in _1444){
if(!(a in _1445)||_1445[a]!=_1444[a]){
return false;
}
}
_1444=idx;
return true;
})){
_1444=-1;
}
}
if(_1444>=0&&_1444<opts.length){
return opts[_1444];
}
return null;
},addOption:function(_1446){
array.forEach(lang.isArray(_1446)?_1446:[_1446],function(i){
if(i&&lang.isObject(i)){
this.options.push(i);
}
},this);
this._loadChildren();
},removeOption:function(_1447){
var _1448=this.getOptions(lang.isArray(_1447)?_1447:[_1447]);
array.forEach(_1448,function(_1449){
if(_1449){
this.options=array.filter(this.options,function(node){
return (node.value!==_1449.value||node.label!==_1449.label);
});
this._removeOptionItem(_1449);
}
},this);
this._loadChildren();
},updateOption:function(_144a){
array.forEach(lang.isArray(_144a)?_144a:[_144a],function(i){
var _144b=this.getOptions({value:i.value}),k;
if(_144b){
for(k in i){
_144b[k]=i[k];
}
}
},this);
this._loadChildren();
},setStore:function(store,_144c,_144d){
var _144e=this.store;
_144d=_144d||{};
if(_144e!==store){
var h;
while((h=this._notifyConnections.pop())){
h.remove();
}
if(!store.get){
lang.mixin(store,{_oldAPI:true,get:function(id){
var _144f=new _143b();
this.fetchItemByIdentity({identity:id,onItem:function(_1450){
_144f.resolve(_1450);
},onError:function(error){
_144f.reject(error);
}});
return _144f.promise;
},query:function(query,_1451){
var _1452=new _143b(function(){
if(_1453.abort){
_1453.abort();
}
});
_1452.total=new _143b();
var _1453=this.fetch(lang.mixin({query:query,onBegin:function(count){
_1452.total.resolve(count);
},onComplete:function(_1454){
_1452.resolve(_1454);
},onError:function(error){
_1452.reject(error);
}},_1451));
return new _1441(_1452);
}});
if(store.getFeatures()["dojo.data.api.Notification"]){
this._notifyConnections=[_143c.after(store,"onNew",lang.hitch(this,"_onNewItem"),true),_143c.after(store,"onDelete",lang.hitch(this,"_onDeleteItem"),true),_143c.after(store,"onSet",lang.hitch(this,"_onSetItem"),true)];
}
}
this._set("store",store);
}
if(this.options&&this.options.length){
this.removeOption(this.options);
}
if(this._queryRes&&this._queryRes.close){
this._queryRes.close();
}
if(this._observeHandle&&this._observeHandle.remove){
this._observeHandle.remove();
this._observeHandle=null;
}
if(_144d.query){
this._set("query",_144d.query);
this._set("queryOptions",_144d.queryOptions);
}
if(store){
this._loadingStore=true;
this.onLoadDeferred=new _143b();
this._queryRes=store.query(this.query,this.queryOptions);
when(this._queryRes,lang.hitch(this,function(items){
if(this.sortByLabel&&!_144d.sort&&items.length){
if(store.getValue){
items.sort(_143d.createSortFunction([{attribute:store.getLabelAttributes(items[0])[0]}],store));
}else{
var _1455=this.labelAttr;
items.sort(function(a,b){
return a[_1455]>b[_1455]?1:b[_1455]>a[_1455]?-1:0;
});
}
}
if(_144d.onFetch){
items=_144d.onFetch.call(this,items,_144d);
}
array.forEach(items,function(i){
this._addOptionForItem(i);
},this);
if(this._queryRes.observe){
this._observeHandle=this._queryRes.observe(lang.hitch(this,function(_1456,_1457,_1458){
if(_1457==_1458){
this._onSetItem(_1456);
}else{
if(_1457!=-1){
this._onDeleteItem(_1456);
}
if(_1458!=-1){
this._onNewItem(_1456);
}
}
}),true);
}
this._loadingStore=false;
this.set("value","_pendingValue" in this?this._pendingValue:_144c);
delete this._pendingValue;
if(!this.loadChildrenOnOpen){
this._loadChildren();
}else{
this._pseudoLoadChildren(items);
}
this.onLoadDeferred.resolve(true);
this.onSetStore();
}),function(err){
console.error("dijit.form.Select: "+err.toString());
this.onLoadDeferred.reject(err);
});
}
return _144e;
},_setValueAttr:function(_1459,_145a){
if(!this._onChangeActive){
_145a=null;
}
if(this._loadingStore){
this._pendingValue=_1459;
return;
}
if(_1459==null){
return;
}
if(lang.isArray(_1459)){
_1459=array.map(_1459,function(value){
return lang.isObject(value)?value:{value:value};
});
}else{
if(lang.isObject(_1459)){
_1459=[_1459];
}else{
_1459=[{value:_1459}];
}
}
_1459=array.filter(this.getOptions(_1459),function(i){
return i&&i.value;
});
var opts=this.getOptions()||[];
if(!this.multiple&&(!_1459[0]||!_1459[0].value)&&!!opts.length){
_1459[0]=opts[0];
}
array.forEach(opts,function(opt){
opt.selected=array.some(_1459,function(v){
return v.value===opt.value;
});
});
var val=array.map(_1459,function(opt){
return opt.value;
});
if(typeof val=="undefined"||typeof val[0]=="undefined"){
return;
}
var disp=array.map(_1459,function(opt){
return opt.label;
});
this._setDisplay(this.multiple?disp:disp[0]);
this.inherited(arguments,[this.multiple?val:val[0],_145a]);
this._updateSelection();
},_getDisplayedValueAttr:function(){
var ret=array.map([].concat(this.get("selectedOptions")),function(v){
if(v&&"label" in v){
return v.label;
}else{
if(v){
return v.value;
}
}
return null;
},this);
return this.multiple?ret:ret[0];
},_setDisplayedValueAttr:function(label){
this.set("value",this.getOptions(typeof label=="string"?{label:label}:label));
},_loadChildren:function(){
if(this._loadingStore){
return;
}
array.forEach(this._getChildren(),function(child){
child.destroyRecursive();
});
array.forEach(this.options,this._addOptionItem,this);
this._updateSelection();
},_updateSelection:function(){
this.focusedChild=null;
this._set("value",this._getValueFromOpts());
var val=[].concat(this.value);
if(val&&val[0]){
var self=this;
array.forEach(this._getChildren(),function(child){
var _145b=array.some(val,function(v){
return child.option&&(v===child.option.value);
});
if(_145b&&!self.multiple){
self.focusedChild=child;
}
_143f.toggle(child.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),_145b);
child.domNode.setAttribute("aria-selected",_145b?"true":"false");
},this);
}
},_getValueFromOpts:function(){
var opts=this.getOptions()||[];
if(!this.multiple&&opts.length){
var opt=array.filter(opts,function(i){
return i.selected;
})[0];
if(opt&&opt.value){
return opt.value;
}else{
opts[0].selected=true;
return opts[0].value;
}
}else{
if(this.multiple){
return array.map(array.filter(opts,function(i){
return i.selected;
}),function(i){
return i.value;
})||[];
}
}
return "";
},_onNewItem:function(item,_145c){
if(!_145c||!_145c.parent){
this._addOptionForItem(item);
}
},_onDeleteItem:function(item){
var store=this.store;
this.removeOption({value:store.getIdentity(item)});
},_onSetItem:function(item){
this.updateOption(this._getOptionObjForItem(item));
},_getOptionObjForItem:function(item){
var store=this.store,label=(this.labelAttr&&this.labelAttr in item)?item[this.labelAttr]:store.getLabel(item),value=(label?store.getIdentity(item):null);
return {value:value,label:label,item:item};
},_addOptionForItem:function(item){
var store=this.store;
if(store.isItemLoaded&&!store.isItemLoaded(item)){
store.loadItem({item:item,onItem:function(i){
this._addOptionForItem(i);
},scope:this});
return;
}
var _145d=this._getOptionObjForItem(item);
this.addOption(_145d);
},constructor:function(_145e){
this._oValue=(_145e||{}).value||null;
this._notifyConnections=[];
},buildRendering:function(){
this.inherited(arguments);
dom.setSelectable(this.focusNode,false);
},_fillContent:function(){
if(!this.options){
this.options=this.srcNodeRef?query("> *",this.srcNodeRef).map(function(node){
if(node.getAttribute("type")==="separator"){
return {value:"",label:"",selected:false,disabled:false};
}
return {value:(node.getAttribute("data-"+_1440._scopeName+"-value")||node.getAttribute("value")),label:String(node.innerHTML),selected:node.getAttribute("selected")||false,disabled:node.getAttribute("disabled")||false};
},this):[];
}
if(!this.value){
this._set("value",this._getValueFromOpts());
}else{
if(this.multiple&&typeof this.value=="string"){
this._set("value",this.value.split(","));
}
}
},postCreate:function(){
this.inherited(arguments);
_143c.after(this,"onChange",lang.hitch(this,"_updateSelection"));
var store=this.store;
if(store&&(store.getIdentity||store.getFeatures()["dojo.data.api.Identity"])){
this.store=null;
this.setStore(store,this._oValue);
}
},startup:function(){
this._loadChildren();
this.inherited(arguments);
},destroy:function(){
var h;
while((h=this._notifyConnections.pop())){
h.remove();
}
if(this._queryRes&&this._queryRes.close){
this._queryRes.close();
}
if(this._observeHandle&&this._observeHandle.remove){
this._observeHandle.remove();
this._observeHandle=null;
}
this.inherited(arguments);
},_addOptionItem:function(){
},_removeOptionItem:function(){
},_setDisplay:function(){
},_getChildren:function(){
return [];
},_getSelectedOptionsAttr:function(){
return this.getOptions({selected:true});
},_pseudoLoadChildren:function(){
},onSetStore:function(){
}});
return _1443;
});
},"dijit/form/_ComboBoxMenu":function(){
define(["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(_145f,_1460,_1461,keys,_1462,_1463,_1464,_1465){
return _145f("dijit.form._ComboBoxMenu",[_1462,_1463,_1465,_1464],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'>"+"<div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div>"+"<div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div>"+"</div>",baseClass:"dijitComboBoxMenu",postCreate:function(){
this.inherited(arguments);
if(!this.isLeftToRight()){
_1460.add(this.previousButton,"dijitMenuItemRtl");
_1460.add(this.nextButton,"dijitMenuItemRtl");
}
this.containerNode.setAttribute("role","listbox");
},_createMenuItem:function(){
var item=this.ownerDocument.createElement("div");
item.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");
item.setAttribute("role","option");
return item;
},onHover:function(node){
_1460.add(node,"dijitMenuItemHover");
},onUnhover:function(node){
_1460.remove(node,"dijitMenuItemHover");
},onSelect:function(node){
_1460.add(node,"dijitMenuItemSelected");
},onDeselect:function(node){
_1460.remove(node,"dijitMenuItemSelected");
},_page:function(up){
var _1466=0;
var _1467=this.domNode.scrollTop;
var _1468=_1461.get(this.domNode,"height");
if(!this.getHighlightedOption()){
this.selectNextNode();
}
while(_1466<_1468){
var _1469=this.getHighlightedOption();
if(up){
if(!_1469.previousSibling||_1469.previousSibling.style.display=="none"){
break;
}
this.selectPreviousNode();
}else{
if(!_1469.nextSibling||_1469.nextSibling.style.display=="none"){
break;
}
this.selectNextNode();
}
var _146a=this.domNode.scrollTop;
_1466+=(_146a-_1467)*(up?-1:1);
_1467=_146a;
}
},handleKey:function(evt){
switch(evt.keyCode){
case keys.DOWN_ARROW:
this.selectNextNode();
return false;
case keys.PAGE_DOWN:
this._page(false);
return false;
case keys.UP_ARROW:
this.selectPreviousNode();
return false;
case keys.PAGE_UP:
this._page(true);
return false;
default:
return true;
}
}});
});
},"dijit/layout/_TabContainerBase":function(){
define(["dojo/text!./templates/TabContainer.html","./StackContainer","./utils","../_TemplatedMixin","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(_146b,_146c,_146d,_146e,_146f,_1470,_1471,_1472){
return _146f("dijit.layout._TabContainerBase",[_146c,_146e],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,nested:false,templateString:_146b,postMixInProperties:function(){
this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");
this.srcNodeRef&&_1472.set(this.srcNodeRef,"visibility","hidden");
this.inherited(arguments);
},buildRendering:function(){
this.inherited(arguments);
this.tablist=this._makeController(this.tablistNode);
if(!this.doLayout){
_1470.add(this.domNode,"dijitTabContainerNoLayout");
}
if(this.nested){
_1470.add(this.domNode,"dijitTabContainerNested");
_1470.add(this.tablist.containerNode,"dijitTabContainerTabListNested");
_1470.add(this.tablistSpacer,"dijitTabContainerSpacerNested");
_1470.add(this.containerNode,"dijitTabPaneWrapperNested");
}else{
_1470.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"));
}
},_setupChild:function(tab){
_1470.add(tab.domNode,"dijitTabPane");
this.inherited(arguments);
},startup:function(){
if(this._started){
return;
}
this.tablist.startup();
this.inherited(arguments);
},layout:function(){
if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){
return;
}
var sc=this.selectedChildWidget;
if(this.doLayout){
var _1473=this.tabPosition.replace(/-h/,"");
this.tablist.region=_1473;
var _1474=[this.tablist,{domNode:this.tablistSpacer,region:_1473},{domNode:this.containerNode,region:"center"}];
_146d.layoutChildren(this.domNode,this._contentBox,_1474);
this._containerContentBox=_146d.marginBox2contentBox(this.containerNode,_1474[2]);
if(sc&&sc.resize){
sc.resize(this._containerContentBox);
}
}else{
if(this.tablist.resize){
var s=this.tablist.domNode.style;
s.width="0";
var width=_1471.getContentBox(this.domNode).w;
s.width="";
this.tablist.resize({w:width});
}
if(sc&&sc.resize){
sc.resize();
}
}
},destroy:function(_1475){
if(this.tablist){
this.tablist.destroy(_1475);
}
this.inherited(arguments);
}});
});
},"dijit/_KeyNavContainer":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/keys","dojo/_base/lang","./registry","./_Container","./_FocusMixin","./_KeyNavMixin"],function(array,_1476,_1477,_1478,keys,lang,_1479,_147a,_147b,_147c){
return _1476("dijit._KeyNavContainer",[_147b,_147c,_147a],{connectKeyNavHandlers:function(_147d,_147e){
var _147f=(this._keyNavCodes={});
var prev=lang.hitch(this,"focusPrev");
var next=lang.hitch(this,"focusNext");
array.forEach(_147d,function(code){
_147f[code]=prev;
});
array.forEach(_147e,function(code){
_147f[code]=next;
});
_147f[keys.HOME]=lang.hitch(this,"focusFirstChild");
_147f[keys.END]=lang.hitch(this,"focusLastChild");
},startupKeyNavChildren:function(){
_1478.deprecated("startupKeyNavChildren() call no longer needed","","2.0");
},startup:function(){
this.inherited(arguments);
array.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));
},addChild:function(_1480,_1481){
this.inherited(arguments);
this._startupChild(_1480);
},_startupChild:function(_1482){
_1482.set("tabIndex","-1");
},_getFirst:function(){
var _1483=this.getChildren();
return _1483.length?_1483[0]:null;
},_getLast:function(){
var _1484=this.getChildren();
return _1484.length?_1484[_1484.length-1]:null;
},focusNext:function(){
this.focusChild(this._getNextFocusableChild(this.focusedChild,1));
},focusPrev:function(){
this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);
},childSelector:function(node){
var node=_1479.byNode(node);
return node&&node.getParent()==this;
}});
});
},"dijit/form/DataList":function(){
define(["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(_1485,dom,lang,query,_1486,_1487){
function _1488(_1489){
return {id:_1489.value,value:_1489.value,name:lang.trim(_1489.innerText||_1489.textContent||"")};
};
return _1485("dijit.form.DataList",_1486,{constructor:function(_148a,_148b){
this.domNode=dom.byId(_148b);
lang.mixin(this,_148a);
if(this.id){
_1487.add(this);
}
this.domNode.style.display="none";
this.inherited(arguments,[{data:query("option",this.domNode).map(_1488)}]);
},destroy:function(){
_1487.remove(this.id);
},fetchSelectedItem:function(){
var _148c=query("> option[selected]",this.domNode)[0]||query("> option",this.domNode)[0];
return _148c&&_1488(_148c);
}});
});
},"dijit/Tooltip":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(array,_148d,fx,dom,_148e,_148f,_1490,lang,mouse,on,has,_1491,place,_1492,_1493,_1494,_1495,dijit){
var _1496=_148d("dijit._MasterTooltip",[_1492,_1493],{duration:_1491.defaultDuration,templateString:_1495,postCreate:function(){
this.ownerDocumentBody.appendChild(this.domNode);
this.bgIframe=new _1494(this.domNode);
this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});
this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});
},show:function(_1497,_1498,_1499,rtl,_149a){
if(this.aroundNode&&this.aroundNode===_1498&&this.containerNode.innerHTML==_1497){
return;
}
if(this.fadeOut.status()=="playing"){
this._onDeck=arguments;
return;
}
this.containerNode.innerHTML=_1497;
if(_149a){
this.set("textDir",_149a);
}
this.containerNode.align=rtl?"right":"left";
var pos=place.around(this.domNode,_1498,_1499&&_1499.length?_1499:_149b.defaultPosition,!rtl,lang.hitch(this,"orient"));
var _149c=pos.aroundNodePos;
if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){
this.connectorNode.style.top=_149c.y+((_149c.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";
this.connectorNode.style.left="";
}else{
if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){
this.connectorNode.style.left=_149c.x+((_149c.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";
}else{
this.connectorNode.style.left="";
this.connectorNode.style.top="";
}
}
_1490.set(this.domNode,"opacity",0);
this.fadeIn.play();
this.isShowingNow=true;
this.aroundNode=_1498;
},orient:function(node,_149d,_149e,_149f,_14a0){
this.connectorNode.style.top="";
var _14a1=_149f.h,_14a2=_149f.w;
node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_149d+"-"+_149e];
this.domNode.style.width="auto";
var size=_148f.position(this.domNode);
if(has("ie")==9){
size.w+=2;
}
var width=Math.min((Math.max(_14a2,1)),size.w);
_148f.setMarginBox(this.domNode,{w:width});
if(_149e.charAt(0)=="B"&&_149d.charAt(0)=="B"){
var bb=_148f.position(node);
var _14a3=this.connectorNode.offsetHeight;
if(bb.h>_14a1){
var _14a4=_14a1-((_14a0.h+_14a3)>>1);
this.connectorNode.style.top=_14a4+"px";
this.connectorNode.style.bottom="";
}else{
this.connectorNode.style.bottom=Math.min(Math.max(_14a0.h/2-_14a3/2,0),bb.h-_14a3)+"px";
this.connectorNode.style.top="";
}
}else{
this.connectorNode.style.top="";
this.connectorNode.style.bottom="";
}
return Math.max(0,size.w-_14a2);
},_onShow:function(){
if(has("ie")){
this.domNode.style.filter="";
}
},hide:function(_14a5){
if(this._onDeck&&this._onDeck[1]==_14a5){
this._onDeck=null;
}else{
if(this.aroundNode===_14a5){
this.fadeIn.stop();
this.isShowingNow=false;
this.aroundNode=null;
this.fadeOut.play();
}else{
}
}
},_onHide:function(){
this.domNode.style.cssText="";
this.containerNode.innerHTML="";
if(this._onDeck){
this.show.apply(this,this._onDeck);
this._onDeck=null;
}
}});
if(has("dojo-bidi")){
_1496.extend({_setAutoTextDir:function(node){
this.applyTextDir(node);
array.forEach(node.children,function(child){
this._setAutoTextDir(child);
},this);
},_setTextDirAttr:function(_14a6){
this._set("textDir",_14a6);
if(_14a6=="auto"){
this._setAutoTextDir(this.containerNode);
}else{
this.containerNode.dir=this.textDir;
}
}});
}
dijit.showTooltip=function(_14a7,_14a8,_14a9,rtl,_14aa){
if(_14a9){
_14a9=array.map(_14a9,function(val){
return {after:"after-centered",before:"before-centered"}[val]||val;
});
}
if(!_149b._masterTT){
dijit._masterTT=_149b._masterTT=new _1496();
}
return _149b._masterTT.show(_14a7,_14a8,_14a9,rtl,_14aa);
};
dijit.hideTooltip=function(_14ab){
return _149b._masterTT&&_149b._masterTT.hide(_14ab);
};
var _149b=_148d("dijit.Tooltip",_1492,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(newId){
array.forEach(this._connections||[],function(_14ac){
array.forEach(_14ac,function(_14ad){
_14ad.remove();
});
},this);
this._connectIds=array.filter(lang.isArrayLike(newId)?newId:(newId?[newId]:[]),function(id){
return dom.byId(id,this.ownerDocument);
},this);
this._connections=array.map(this._connectIds,function(id){
var node=dom.byId(id,this.ownerDocument),_14ae=this.selector,_14af=_14ae?function(_14b0){
return on.selector(_14ae,_14b0);
}:function(_14b1){
return _14b1;
},self=this;
return [on(node,_14af(mouse.enter),function(){
self._onHover(this);
}),on(node,_14af("focusin"),function(){
self._onHover(this);
}),on(node,_14af(mouse.leave),lang.hitch(self,"_onUnHover")),on(node,_14af("focusout"),lang.hitch(self,"_onUnHover"))];
},this);
this._set("connectId",newId);
},addTarget:function(node){
var id=node.id||node;
if(array.indexOf(this._connectIds,id)==-1){
this.set("connectId",this._connectIds.concat(id));
}
},removeTarget:function(node){
var id=node.id||node,idx=array.indexOf(this._connectIds,id);
if(idx>=0){
this._connectIds.splice(idx,1);
this.set("connectId",this._connectIds);
}
},buildRendering:function(){
this.inherited(arguments);
_148e.add(this.domNode,"dijitTooltipData");
},startup:function(){
this.inherited(arguments);
var ids=this.connectId;
array.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);
},getContent:function(node){
return this.label||this.domNode.innerHTML;
},_onHover:function(_14b2){
if(!this._showTimer){
this._showTimer=this.defer(function(){
this.open(_14b2);
},this.showDelay);
}
},_onUnHover:function(){
if(this._showTimer){
this._showTimer.remove();
delete this._showTimer;
}
this.close();
},open:function(_14b3){
if(this._showTimer){
this._showTimer.remove();
delete this._showTimer;
}
var _14b4=this.getContent(_14b3);
if(!_14b4){
return;
}
_149b.show(_14b4,_14b3,this.position,!this.isLeftToRight(),this.textDir);
this._connectNode=_14b3;
this.onShow(_14b3,this.position);
},close:function(){
if(this._connectNode){
_149b.hide(this._connectNode);
delete this._connectNode;
this.onHide();
}
if(this._showTimer){
this._showTimer.remove();
delete this._showTimer;
}
},onShow:function(){
},onHide:function(){
},destroy:function(){
this.close();
array.forEach(this._connections||[],function(_14b5){
array.forEach(_14b5,function(_14b6){
_14b6.remove();
});
},this);
this.inherited(arguments);
}});
_149b._MasterTooltip=_1496;
_149b.show=dijit.showTooltip;
_149b.hide=dijit.hideTooltip;
_149b.defaultPosition=["after-centered","before-centered"];
return _149b;
});
},"dijit/PopupMenuItem":function(){
define(["dojo/_base/declare","dojo/dom-style","dojo/_base/lang","dojo/query","./popup","./registry","./MenuItem","./hccss"],function(_14b7,_14b8,lang,query,pm,_14b9,_14ba){
return _14b7("dijit.PopupMenuItem",_14ba,{_fillContent:function(){
if(this.srcNodeRef){
var nodes=query("*",this.srcNodeRef);
this.inherited(arguments,[nodes[0]]);
this.dropDownContainer=this.srcNodeRef;
}
},_openPopup:function(_14bb,focus){
var popup=this.popup;
pm.open(lang.delegate(_14bb,{popup:this.popup,around:this.domNode}));
if(focus&&popup.focus){
popup.focus();
}
},_closePopup:function(){
pm.close(this.popup);
this.popup.parentMenu=null;
},startup:function(){
if(this._started){
return;
}
this.inherited(arguments);
if(!this.popup){
var node=query("[widgetId]",this.dropDownContainer)[0];
this.popup=_14b9.byNode(node);
}
this.ownerDocumentBody.appendChild(this.popup.domNode);
this.popup.domNode.setAttribute("aria-labelledby",this.containerNode.id);
this.popup.startup();
this.popup.domNode.style.display="none";
if(this.arrowWrapper){
_14b8.set(this.arrowWrapper,"visibility","");
}
this.focusNode.setAttribute("aria-haspopup","true");
},destroyDescendants:function(_14bc){
if(this.popup){
if(!this.popup._destroyed){
this.popup.destroyRecursive(_14bc);
}
delete this.popup;
}
this.inherited(arguments);
}});
});
},"dijit/main":function(){
define(["dojo/_base/kernel"],function(dojo){
return dojo.dijit;
});
},"dijit/layout/ContentPane":function(){
define(["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(_14bd,lang,_14be,_14bf,_14c0,_14c1,html,_14c2,array,_14c3,_14c4,dom,_14c5,_14c6,xhr,i18n,when){
return _14c3("dijit.layout.ContentPane",[_14be,_14bf,_14c0],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_14bd._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,markupFactory:function(_14c7,node,ctor){
var self=new ctor(_14c7,node);
return !self.href&&self._contentSetter&&self._contentSetter.parseDeferred&&!self._contentSetter.parseDeferred.isFulfilled()?self._contentSetter.parseDeferred.then(function(){
return self;
}):self;
},create:function(_14c8,_14c9){
if((!_14c8||!_14c8.template)&&_14c9&&!("href" in _14c8)&&!("content" in _14c8)){
_14c9=dom.byId(_14c9);
var df=_14c9.ownerDocument.createDocumentFragment();
while(_14c9.firstChild){
df.appendChild(_14c9.firstChild);
}
_14c8=lang.delegate(_14c8,{content:df});
}
this.inherited(arguments,[_14c8,_14c9]);
},postMixInProperties:function(){
this.inherited(arguments);
var _14ca=i18n.getLocalization("dijit","loading",this.lang);
this.loadingMessage=_14c1.substitute(this.loadingMessage,_14ca);
this.errorMessage=_14c1.substitute(this.errorMessage,_14ca);
},buildRendering:function(){
this.inherited(arguments);
if(!this.containerNode){
this.containerNode=this.domNode;
}
this.domNode.removeAttribute("title");
},startup:function(){
this.inherited(arguments);
if(this._contentSetter){
array.forEach(this._contentSetter.parseResults,function(obj){
if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){
obj.startup();
obj._started=true;
}
},this);
}
},_startChildren:function(){
array.forEach(this.getChildren(),function(obj){
if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){
obj.startup();
obj._started=true;
}
});
if(this._contentSetter){
array.forEach(this._contentSetter.parseResults,function(obj){
if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){
obj.startup();
obj._started=true;
}
},this);
}
},setHref:function(href){
_14bd.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");
return this.set("href",href);
},_setHrefAttr:function(href){
this.cancel();
this.onLoadDeferred=new _14c4(lang.hitch(this,"cancel"));
this.onLoadDeferred.then(lang.hitch(this,"onLoad"));
this._set("href",href);
if(this.preload||(this._created&&this._isShown())){
this._load();
}else{
this._hrefChanged=true;
}
return this.onLoadDeferred;
},setContent:function(data){
_14bd.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");
this.set("content",data);
},_setContentAttr:function(data){
this._set("href","");
this.cancel();
this.onLoadDeferred=new _14c4(lang.hitch(this,"cancel"));
if(this._created){
this.onLoadDeferred.then(lang.hitch(this,"onLoad"));
}
this._setContent(data||"");
this._isDownloaded=false;
return this.onLoadDeferred;
},_getContentAttr:function(){
return this.containerNode.innerHTML;
},cancel:function(){
if(this._xhrDfd&&(this._xhrDfd.fired==-1)){
this._xhrDfd.cancel();
}
delete this._xhrDfd;
this.onLoadDeferred=null;
},destroy:function(){
this.cancel();
this.inherited(arguments);
},destroyRecursive:function(_14cb){
if(this._beingDestroyed){
return;
}
this.inherited(arguments);
},_onShow:function(){
this.inherited(arguments);
if(this.href){
if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){
return this.refresh();
}
}
},refresh:function(){
this.cancel();
this.onLoadDeferred=new _14c4(lang.hitch(this,"cancel"));
this.onLoadDeferred.then(lang.hitch(this,"onLoad"));
this._load();
return this.onLoadDeferred;
},_load:function(){
this._setContent(this.onDownloadStart(),true);
var self=this;
var _14cc={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};
if(lang.isObject(this.ioArgs)){
lang.mixin(_14cc,this.ioArgs);
}
var hand=(this._xhrDfd=(this.ioMethod||xhr.get)(_14cc)),_14cd;
hand.then(function(html){
_14cd=html;
try{
self._isDownloaded=true;
return self._setContent(html,false);
}
catch(err){
self._onError("Content",err);
}
},function(err){
if(!hand.canceled){
self._onError("Download",err);
}
delete self._xhrDfd;
return err;
}).then(function(){
self.onDownloadEnd();
delete self._xhrDfd;
return _14cd;
});
delete this._hrefChanged;
},_onLoadHandler:function(data){
this._set("isLoaded",true);
try{
this.onLoadDeferred.resolve(data);
}
catch(e){
console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);
}
},_onUnloadHandler:function(){
this._set("isLoaded",false);
try{
this.onUnload();
}
catch(e){
console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);
}
},destroyDescendants:function(_14ce){
if(this.isLoaded){
this._onUnloadHandler();
}
var _14cf=this._contentSetter;
array.forEach(this.getChildren(),function(_14d0){
if(_14d0.destroyRecursive){
_14d0.destroyRecursive(_14ce);
}else{
if(_14d0.destroy){
_14d0.destroy(_14ce);
}
}
_14d0._destroyed=true;
});
if(_14cf){
array.forEach(_14cf.parseResults,function(_14d1){
if(!_14d1._destroyed){
if(_14d1.destroyRecursive){
_14d1.destroyRecursive(_14ce);
}else{
if(_14d1.destroy){
_14d1.destroy(_14ce);
}
}
_14d1._destroyed=true;
}
});
delete _14cf.parseResults;
}
if(!_14ce){
_14c6.empty(this.containerNode);
}
delete this._singleChild;
},_setContent:function(cont,_14d2){
this.destroyDescendants();
var _14d3=this._contentSetter;
if(!(_14d3&&_14d3 instanceof html._ContentSetter)){
_14d3=this._contentSetter=new html._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){
var _14d4=this.onContentError(e);
try{
this.containerNode.innerHTML=_14d4;
}
catch(e){
console.error("Fatal "+this.id+" could not change content due to "+e.message,e);
}
})});
}
var _14d5=lang.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!cont.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});
var p=_14d3.set((lang.isObject(cont)&&cont.domNode)?cont.domNode:cont,_14d5);
var self=this;
return when(p&&p.then?p:_14d3.parseDeferred,function(){
delete self._contentSetterParams;
if(!_14d2){
if(self._started){
self._startChildren();
self._scheduleLayout();
}
self._onLoadHandler(cont);
}
});
},_onError:function(type,err,_14d6){
this.onLoadDeferred.reject(err);
var _14d7=this["on"+type+"Error"].call(this,err);
if(_14d6){
console.error(_14d6,err);
}else{
if(_14d7){
this._setContent(_14d7,true);
}
}
},onLoad:function(){
},onUnload:function(){
},onDownloadStart:function(){
return this.loadingMessage;
},onContentError:function(){
},onDownloadError:function(){
return this.errorMessage;
},onDownloadEnd:function(){
}});
});
},"manager/BoxPane":function(){
require({cache:{"url:manager/templates/BoxPane.html":"<div class=\"mBoxPane\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"mBoxPaneTitleBar ${classTitle}\" id=\"${id}_titleBar\">\n\t<span data-dojo-attach-point=\"titleNode\" class=\"mBoxPaneTitle\" id=\"${id}_title\"></span>\n\t<div data-dojo-attach-point=\"toolBarNode\" class=\"mBoxPaneToolBar\"></div>\n\t</div>\n\t\t<div data-dojo-attach-point=\"containerNode\" class=\"mBoxPaneContent\"></div>\n</div>\n"}});
define("manager/BoxPane",["dojo/_base/declare","dojox/layout/ContentPane","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_CssStateMixin","dijit/form/_FormMixin","dojo/text!./templates/BoxPane.html"],function(_14d8,_14d9,_14da,_14db,_14dc,_14dd,_14de){
return _14d8("Manager.BoxPane",[_14d9,_14da,_14db,_14dd,_14dc],{templateString:_14de,baseClass:"mBoxPane",classTitle:"",toolBar:"",cssStateNodes:{toolBarNode:"toolIcon"},focus:function(){
},attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],"aria-describedby":""}),onCancel:function(){
},startup:function(){
if(this.toolBar!=""){
this.toolBarNode.appendChild(dojo.byId(this.toolBar));
}
this.inherited(arguments);
}});
});
},"manager/TextTable":function(){
define("manager/TextTable",["dojo/_base/declare"],function(_14df){
return _14df("Manager.TextTable",[],{constructor:function(id,zebra,cols){
this.id=id;
this.table=manager.getElementById(id);
this.rowSelected="";
this.lastRow=manager.getElementsByTagName("TR",this.table).length;
this.onmouse=true;
this.zebra=true;
this.data=new Array();
this.textTable=this;
this.cols=cols;
this.iterate(this.init);
this.reorder();
},setRowClass:function(obj,isRow,r){
obj.className=this.zebra?"row"+(r%2):"row0";
obj.baseClassName=this.oldClassName=obj.className;
},setRowId:function(obj,r){
var tbl=obj.parentNode.parentNode;
obj.id=tbl.id+"row"+r;
},init:function(obj,isRow,r,c,data,tbl,_14e0){
if(isRow){
obj.textTable=_14e0;
_14e0.setRowId(obj,r);
_14e0.setRowClass(obj,isRow,r);
obj.onclick=function(){
var tbl=this.textTable;
tbl.select(this.id);
};
if(_14e0.onmouse){
obj.onmouseover=function(){
this.oldClassName=this.className;
this.className="hover";
};
obj.onmouseout=function(){
this.className=this.oldClassName;
};
}
}
},iterate:function(_14e1,data){
var r,c;
if(!_14e1){
return;
}
for(r=0;r<this.table.rows.length;++r){
if(false==_14e1(this.table.rows[r],true,r,c,data,this.table,this)){
return;
}
for(c=0;c<this.table.rows[r].cells.length;++c){
if(false==_14e1(this.table.rows[r].cells[c],false,r,c,data,this.table,this)){
return;
}
}
}
},add:function(_14e2){
var tbody=manager.getElementsByTagName("TBODY",this.table).item(0);
var rows=manager.getElementsByTagName("TR",tbody);
if(_14e2.length>0){
var r=document.createElement("TR");
tbody.insertBefore(r,tbody.firstChild);
for(var i=0;i<_14e2.length;i++){
var c=document.createElement("TD");
r.appendChild(c);
var t=document.createTextNode(_14e2[i]);
c.appendChild(t);
}
var _14e3=this.lastRow++;
this.init(r,true,_14e3,null,null,null,this);
}
},drop:function(rowId){
var tbody=manager.getElementsByTagName("TBODY",this.table).item(0);
var row=manager.getElementById(rowId);
if(row){
tbody.removeChild(row);
this.reorder();
this.lastRow--;
this.rowSelected="";
}
},modify:function(rowId,_14e4){
var row=manager.getElementById(rowId);
if(_14e4.length>0){
var cols=manager.getElementsByTagName("TD",row);
if(cols.length>0){
for(var i=0;i<cols.length;i++){
cols[i].innerHTML=_14e4[i];
}
}
}
},select:function(rowId){
var row=manager.getElementById(rowId);
if(rowId==this.rowSelected){
row.className=row.baseClassName;
row.oldClassName=row.baseClassName;
this.rowSelected="";
}else{
row.oldClassName=row.className;
row.className="hover";
if(this.rowSelected!=""){
row=manager.getElementById(this.rowSelected);
row.className=row.baseClassName;
}
this.rowSelected=rowId;
this.customSelect();
}
},get:function(rowId){
var row=manager.getElementById(rowId);
var cols=manager.getElementsByTagName("TD",row);
var text=new Array(cols.length);
if(cols.length>0){
for(var i=0;i<cols.length;i++){
text[i]=cols[i].firstChild?cols[i].innerHTML:"";
}
}
return text;
},setdata:function(){
var r,c;
for(r=0;r<this.table.rows.length;++r){
this.data[r]=new Array();
for(c=0;c<this.table.rows[r].cells.length;++c){
this.data[r][c]=this.table.rows[r].cells[c].innerHTML;
}
}
},getdata:function(){
this.setdata();
return this.data;
},customSelect:function(){
},reorder:function(){
var _14e5=this.table.rows.length;
var _14e6=_14e5;
for(row=0;row<_14e5;++row){
_14e6--;
this.setRowClass(this.table.rows[row],true,_14e6);
this.setRowId(this.table.rows[row],_14e6);
}
},unload:function(){
this.iterate(function(o){
o.onmouseover=o.onmouseout=null;
});
}});
});
},"dojo/cldr/nls/pt/number":function(){
define({"group":".","percentSign":"%","exponential":"E","scientificFormat":"#E0","percentFormat":"#,##0%","list":";","infinity":"","minusSign":"-","decimal":",","nan":"NaN","perMille":"","decimalFormat":"#,##0.###","currencyFormat":"#,##0.00;(#,##0.00)","plusSign":"+","decimalFormat-long":"000 trilhes","decimalFormat-short":"000tri"});
},"dojox/grid/_SelectionPreserver":function(){
define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array"],function(_14e7,_14e8,lang,array){
return _14e7("dojox.grid._SelectionPreserver",null,{constructor:function(_14e9){
this.selection=_14e9;
var grid=this.grid=_14e9.grid;
this.reset();
this._connects=[_14e8.connect(grid,"_setStore",this,"reset"),_14e8.connect(grid,"_addItem",this,"_reSelectById"),_14e8.connect(_14e9,"onSelected",lang.hitch(this,"_selectById",true)),_14e8.connect(_14e9,"onDeselected",lang.hitch(this,"_selectById",false)),_14e8.connect(_14e9,"deselectAll",this,"reset")];
},destroy:function(){
this.reset();
array.forEach(this._connects,_14e8.disconnect);
delete this._connects;
},reset:function(){
this._selectedById={};
},_reSelectById:function(item,index){
if(item&&this.grid._hasIdentity){
this.selection.selected[index]=this._selectedById[this.grid.store.getIdentity(item)];
}
},_selectById:function(_14ea,_14eb){
if(this.selection.mode=="none"||!this.grid._hasIdentity){
return;
}
var item=_14eb,g=this.grid;
if(typeof _14eb=="number"||typeof _14eb=="string"){
var entry=g._by_idx[_14eb];
item=entry&&entry.item;
}
if(item){
this._selectedById[g.store.getIdentity(item)]=!!_14ea;
}
return item;
}});
});
},"dijit/_WidgetsInTemplateMixin":function(){
define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(array,_14ec,_14ed,lang,_14ee){
return _14ed("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,contextRequire:null,_beforeFillContent:function(){
if(this.widgetsInTemplate){
var node=this.domNode;
if(this.containerNode&&!this.searchContainerNode){
this.containerNode.stopParser=true;
}
_14ee.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(lang.hitch(this,function(_14ef){
this._startupWidgets=_14ef;
for(var i=0;i<_14ef.length;i++){
this._processTemplateNode(_14ef[i],function(n,p){
return n[p];
},function(_14f0,type,_14f1){
if(type in _14f0){
return _14f0.connect(_14f0,type,_14f1);
}else{
return _14f0.on(type,_14f1,true);
}
});
}
if(this.containerNode&&this.containerNode.stopParser){
delete this.containerNode.stopParser;
}
}));
if(!this._startupWidgets){
throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), "+"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");
}
}
},_processTemplateNode:function(_14f2,_14f3,_14f4){
if(_14f3(_14f2,"dojoType")||_14f3(_14f2,"data-dojo-type")){
return true;
}
return this.inherited(arguments);
},startup:function(){
array.forEach(this._startupWidgets,function(w){
if(w&&!w._started&&w.startup){
w.startup();
}
});
this._startupWidgets=null;
this.inherited(arguments);
}});
});
},"dijit/_HasDropDown":function(){
define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(_14f5,_14f6,dom,_14f7,_14f8,_14f9,_14fa,has,keys,lang,on,touch,_14fb,focus,popup,_14fc){
return _14f5("dijit._HasDropDown",_14fc,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){
if(this.disabled||this.readOnly){
return;
}
if(e.type!="MSPointerDown"&&e.type!="pointerdown"){
e.preventDefault();
}
this._docHandler=this.own(on(this.ownerDocument,touch.release,lang.hitch(this,"_onDropDownMouseUp")))[0];
this.toggleDropDown();
},_onDropDownMouseUp:function(e){
if(e&&this._docHandler){
this._docHandler.remove();
this._docHandler=null;
}
var _14fd=this.dropDown,_14fe=false;
if(e&&this._opened){
var c=_14f9.position(this._buttonNode,true);
if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){
var t=e.target;
while(t&&!_14fe){
if(_14f8.contains(t,"dijitPopup")){
_14fe=true;
}else{
t=t.parentNode;
}
}
if(_14fe){
t=e.target;
if(_14fd.onItemClick){
var _14ff;
while(t&&!(_14ff=_14fb.byNode(t))){
t=t.parentNode;
}
if(_14ff&&_14ff.onClick&&_14ff.getParent){
_14ff.getParent().onItemClick(_14ff,e);
}
}
return;
}
}
}
if(this._opened){
if(_14fd.focus&&(_14fd.autoFocus!==false||(e.type=="mouseup"&&!this.hovering))){
this._focusDropDownTimer=this.defer(function(){
_14fd.focus();
delete this._focusDropDownTimer;
});
}
}else{
if(this.focus){
this.defer("focus");
}
}
},_onDropDownClick:function(e){
if(this._stopClickEvents){
e.stopPropagation();
e.preventDefault();
}
},buildRendering:function(){
this.inherited(arguments);
this._buttonNode=this._buttonNode||this.focusNode||this.domNode;
this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;
var _1500={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";
_14f8.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_1500+"ArrowButton");
},postCreate:function(){
this.inherited(arguments);
var _1501=this.focusNode||this.domNode;
this.own(on(this._buttonNode,touch.press,lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_1501,"keydown",lang.hitch(this,"_onKey")),on(_1501,"keyup",lang.hitch(this,"_onKeyUp")));
},destroy:function(){
if(this.dropDown){
if(!this.dropDown._destroyed){
this.dropDown.destroyRecursive();
}
delete this.dropDown;
}
this.inherited(arguments);
},_onKey:function(e){
if(this.disabled||this.readOnly){
return;
}
var d=this.dropDown,_1502=e.target;
if(d&&this._opened&&d.handleKey){
if(d.handleKey(e)===false){
e.stopPropagation();
e.preventDefault();
return;
}
}
if(d&&this._opened&&e.keyCode==keys.ESCAPE){
this.closeDropDown();
e.stopPropagation();
e.preventDefault();
}else{
if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||(e.keyCode==keys.SPACE&&(!this._searchTimer||(e.ctrlKey||e.altKey||e.metaKey))))&&((_1502.tagName||"").toLowerCase()!=="input"||(_1502.type&&_1502.type.toLowerCase()!=="text"))))){
this._toggleOnKeyUp=true;
e.stopPropagation();
e.preventDefault();
}
}
},_onKeyUp:function(){
if(this._toggleOnKeyUp){
delete this._toggleOnKeyUp;
this.toggleDropDown();
var d=this.dropDown;
if(d&&d.focus){
this.defer(lang.hitch(d,"focus"),1);
}
}
},_onBlur:function(){
this.closeDropDown(false);
this.inherited(arguments);
},isLoaded:function(){
return true;
},loadDropDown:function(_1503){
_1503();
},loadAndOpenDropDown:function(){
var d=new _14f6(),_1504=lang.hitch(this,function(){
this.openDropDown();
d.resolve(this.dropDown);
});
if(!this.isLoaded()){
this.loadDropDown(_1504);
}else{
_1504();
}
return d;
},toggleDropDown:function(){
if(this.disabled||this.readOnly){
return;
}
if(!this._opened){
this.loadAndOpenDropDown();
}else{
this.closeDropDown(true);
}
},openDropDown:function(){
var _1505=this.dropDown,_1506=_1505.domNode,_1507=this._aroundNode||this.domNode,self=this;
var _1508=popup.open({parent:this,popup:_1505,around:_1507,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){
self.closeDropDown(true);
},onCancel:function(){
self.closeDropDown(true);
},onClose:function(){
_14f7.set(self._popupStateNode,"popupActive",false);
_14f8.remove(self._popupStateNode,"dijitHasDropDownOpen");
self._set("_opened",false);
}});
if(this.forceWidth||(this.autoWidth&&_1507.offsetWidth>_1505._popupWrapper.offsetWidth)){
var _1509={w:_1507.offsetWidth-(_1505._popupWrapper.offsetWidth-_1505.domNode.offsetWidth)};
if(lang.isFunction(_1505.resize)){
_1505.resize(_1509);
}else{
_14f9.setMarginBox(_1506,_1509);
}
}
_14f7.set(this._popupStateNode,"popupActive","true");
_14f8.add(this._popupStateNode,"dijitHasDropDownOpen");
this._set("_opened",true);
this._popupStateNode.setAttribute("aria-expanded","true");
this._popupStateNode.setAttribute("aria-owns",_1505.id);
if(_1506.getAttribute("role")!=="presentation"&&!_1506.getAttribute("aria-labelledby")){
_1506.setAttribute("aria-labelledby",this.id);
}
return _1508;
},closeDropDown:function(focus){
if(this._focusDropDownTimer){
this._focusDropDownTimer.remove();
delete this._focusDropDownTimer;
}
if(this._opened){
this._popupStateNode.setAttribute("aria-expanded","false");
if(focus){
this.focus();
}
popup.close(this.dropDown);
this._opened=false;
}
}});
});
},"dojo/cldr/nls/pt/gregorian":function(){
define({"days-standAlone-short":["dom","seg","ter","qua","qui","sex","sb"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Dia da semana","dateFormatItem-yQQQ":"y QQQ","dateFormatItem-yMEd":"E, dd/MM/y","dateFormatItem-GyMMMEd":"E, d 'de' MMM 'de' y G","dateFormatItem-MMMEd":"E, d 'de' MMM","eraNarrow":["a.C.","d.C."],"dateFormatItem-yMM":"MM/y","dayPeriods-format-wide-morning":"manh","days-format-short":["dom","seg","ter","qua","qui","sex","sb"],"dateFormat-long":"d 'de' MMMM 'de' y","months-format-wide":["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE, d 'de' MMMM 'de' y","dateFormatItem-Md":"d/M","dayPeriods-format-abbr-am":"AM","dayPeriods-format-wide-noon":"meio-dia","dateFormatItem-yMd":"dd/MM/y","field-era":"Era","dateFormatItem-yM":"MM/y","months-standAlone-wide":["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],"timeFormat-short":"HH:mm","quarters-format-wide":["1 trimestre","2 trimestre","3 trimestre","4 trimestre"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"HH:mm:ss z","field-year":"Ano","dateFormatItem-yMMM":"MMM 'de' y","field-hour":"Hora","dateFormatItem-MMdd":"dd/MM","months-format-abbr":["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],"timeFormat-full":"HH:mm:ss zzzz","field-day-relative+0":"Hoje","field-day-relative+1":"Amanh","dateFormatItem-GyMMMd":"d 'de' MMM 'de' y G","field-day-relative+2":"Depois de amanh","dateFormatItem-H":"HH","months-standAlone-abbr":["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],"quarters-format-abbr":["T1","T2","T3","T4"],"quarters-standAlone-wide":["1 trimestre","2 trimestre","3 trimestre","4 trimestre"],"dateFormatItem-Gy":"y G","dateFormatItem-HHmmss":"HH:mm:ss","dateFormatItem-M":"L","days-standAlone-wide":["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],"timeFormat-medium":"HH:mm:ss","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["T1","T2","T3","T4"],"eraAbbr":["a.C.","d.C."],"field-minute":"Minuto","field-dayperiod":"Perodo do dia","days-standAlone-abbr":["dom","seg","ter","qua","qui","sex","sb"],"dayPeriods-format-wide-night":"noite","dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Ontem","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"a","field-day-relative+-2":"Anteontem","dateFormatItem-MMMd":"d 'de' MMM","dateFormatItem-MEd":"E, dd/MM","dateTimeFormat-full":"{1} {0}","field-day":"Dia","days-format-wide":["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],"field-zone":"Fuso","dateFormatItem-y":"y","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"Ano passado","field-month-relative+-1":"Ms passado","dateFormatItem-hm":"h:mm a","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["dom","seg","ter","qua","qui","sex","sb"],"eraNames":["Antes de Cristo","Ano do Senhor"],"dateFormatItem-yMMMd":"d 'de' MMM 'de' y","days-format-narrow":["D","S","T","Q","Q","S","S"],"days-standAlone-narrow":["D","S","T","Q","Q","S","S"],"dateFormatItem-MMM":"LLL","field-month":"Ms","dateFormatItem-HHmm":"HH:mm","dayPeriods-format-wide-am":"AM","dateFormat-short":"dd/MM/yy","dayPeriods-format-wide-afternoon":"tarde","field-second":"Segundo","dateFormatItem-yMMMEd":"E, d 'de' MMM 'de' y","field-month-relative+0":"Este ms","field-month-relative+1":"Prximo ms","dateFormatItem-Ed":"E, d","field-week":"Semana","dateFormat-medium":"dd/MM/y","field-year-relative+0":"Este ano","field-week-relative+-1":"Semana passada","field-year-relative+1":"Prximo ano","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"MMM 'de' y G","field-week-relative+0":"Esta semana","field-week-relative+1":"Prxima semana"});
},"dojo/nls/colors":function(){
define({root:({aliceblue:"alice blue",antiquewhite:"antique white",aqua:"aqua",aquamarine:"aquamarine",azure:"azure",beige:"beige",bisque:"bisque",black:"black",blanchedalmond:"blanched almond",blue:"blue",blueviolet:"blue-violet",brown:"brown",burlywood:"burlywood",cadetblue:"cadet blue",chartreuse:"chartreuse",chocolate:"chocolate",coral:"coral",cornflowerblue:"cornflower blue",cornsilk:"cornsilk",crimson:"crimson",cyan:"cyan",darkblue:"dark blue",darkcyan:"dark cyan",darkgoldenrod:"dark goldenrod",darkgray:"dark gray",darkgreen:"dark green",darkgrey:"dark gray",darkkhaki:"dark khaki",darkmagenta:"dark magenta",darkolivegreen:"dark olive green",darkorange:"dark orange",darkorchid:"dark orchid",darkred:"dark red",darksalmon:"dark salmon",darkseagreen:"dark sea green",darkslateblue:"dark slate blue",darkslategray:"dark slate gray",darkslategrey:"dark slate gray",darkturquoise:"dark turquoise",darkviolet:"dark violet",deeppink:"deep pink",deepskyblue:"deep sky blue",dimgray:"dim gray",dimgrey:"dim gray",dodgerblue:"dodger blue",firebrick:"fire brick",floralwhite:"floral white",forestgreen:"forest green",fuchsia:"fuchsia",gainsboro:"gainsboro",ghostwhite:"ghost white",gold:"gold",goldenrod:"goldenrod",gray:"gray",green:"green",greenyellow:"green-yellow",grey:"gray",honeydew:"honeydew",hotpink:"hot pink",indianred:"indian red",indigo:"indigo",ivory:"ivory",khaki:"khaki",lavender:"lavender",lavenderblush:"lavender blush",lawngreen:"lawn green",lemonchiffon:"lemon chiffon",lightblue:"light blue",lightcoral:"light coral",lightcyan:"light cyan",lightgoldenrodyellow:"light goldenrod yellow",lightgray:"light gray",lightgreen:"light green",lightgrey:"light gray",lightpink:"light pink",lightsalmon:"light salmon",lightseagreen:"light sea green",lightskyblue:"light sky blue",lightslategray:"light slate gray",lightslategrey:"light slate gray",lightsteelblue:"light steel blue",lightyellow:"light yellow",lime:"lime",limegreen:"lime green",linen:"linen",magenta:"magenta",maroon:"maroon",mediumaquamarine:"medium aquamarine",mediumblue:"medium blue",mediumorchid:"medium orchid",mediumpurple:"medium purple",mediumseagreen:"medium sea green",mediumslateblue:"medium slate blue",mediumspringgreen:"medium spring green",mediumturquoise:"medium turquoise",mediumvioletred:"medium violet-red",midnightblue:"midnight blue",mintcream:"mint cream",mistyrose:"misty rose",moccasin:"moccasin",navajowhite:"navajo white",navy:"navy",oldlace:"old lace",olive:"olive",olivedrab:"olive drab",orange:"orange",orangered:"orange red",orchid:"orchid",palegoldenrod:"pale goldenrod",palegreen:"pale green",paleturquoise:"pale turquoise",palevioletred:"pale violet-red",papayawhip:"papaya whip",peachpuff:"peach puff",peru:"peru",pink:"pink",plum:"plum",powderblue:"powder blue",purple:"purple",red:"red",rosybrown:"rosy brown",royalblue:"royal blue",saddlebrown:"saddle brown",salmon:"salmon",sandybrown:"sandy brown",seagreen:"sea green",seashell:"seashell",sienna:"sienna",silver:"silver",skyblue:"sky blue",slateblue:"slate blue",slategray:"slate gray",slategrey:"slate gray",snow:"snow",springgreen:"spring green",steelblue:"steel blue",tan:"tan",teal:"teal",thistle:"thistle",tomato:"tomato",transparent:"transparent",turquoise:"turquoise",violet:"violet",wheat:"wheat",white:"white",whitesmoke:"white smoke",yellow:"yellow",yellowgreen:"yellow green"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});
},"dojo/nls/pt/colors":function(){
define(({aliceblue:"azul alice",antiquewhite:"branco antigo",aqua:"aqua",aquamarine:"gua marinha",azure:"azul celeste",beige:"bege",bisque:"bisque",black:"preto",blanchedalmond:"amndoa pelada",blue:"azul",blueviolet:"azul violeta",brown:"marrom",burlywood:"burlywood",cadetblue:"azul cadet",chartreuse:"chartreuse",chocolate:"chocolate",coral:"coral",cornflowerblue:"azul centaurea",cornsilk:"cornsilk",crimson:"carmesim",cyan:"ciano",darkblue:"azul escuro",darkcyan:"ciano escuro",darkgoldenrod:"goldenrod escuro",darkgray:"cinza escuro",darkgreen:"verde escuro",darkgrey:"cinza escuro",darkkhaki:"cqui escuro",darkmagenta:"magenta escuro",darkolivegreen:"verde oliva escuro",darkorange:"laranja escuro",darkorchid:"orqudea escuro",darkred:"vermelho escuro",darksalmon:"salmo escuro",darkseagreen:"verde marinho escuro",darkslateblue:"azul ardsia escuro",darkslategray:"cinza ardsia escuro",darkslategrey:"cinza ardsia escuro",darkturquoise:"turquesa escuro",darkviolet:"violeta escuro",deeppink:"rosa profundo",deepskyblue:"azul cu intenso",dimgray:"cinza turvo",dimgrey:"cinza turvo",dodgerblue:"azul dodger",firebrick:"firebrick",floralwhite:"branco floral",forestgreen:"verde floresta",fuchsia:"fcsia",gainsboro:"gainsboro",ghostwhite:"branco ghost",gold:"dourado",goldenrod:"goldenrod",gray:"cinza",green:"verde",greenyellow:"amarelo esverdeado",grey:"cinza",honeydew:"honeydew",hotpink:"rosa quente",indianred:"vermelho indiano",indigo:"ndigo",ivory:"marfim",khaki:"cqui",lavender:"lavanda",lavenderblush:"lavanda avermelhada",lawngreen:"verde grama",lemonchiffon:"limo chiffon",lightblue:"azul claro",lightcoral:"coral claro",lightcyan:"ciano claro",lightgoldenrodyellow:"amarelo goldenrod claro",lightgray:"cinza claro",lightgreen:"verde claro",lightgrey:"cinza claro",lightpink:"rosa claro",lightsalmon:"salmo claro",lightseagreen:"verde marinho claro",lightskyblue:"azul cu claro",lightslategray:"cinza ardsia claro",lightslategrey:"cinza ardsia claro",lightsteelblue:"azul ao claro",lightyellow:"amarelo claro",lime:"lima",limegreen:"verde lima",linen:"linho",magenta:"magenta",maroon:"castanho",mediumaquamarine:"gua marinha mdio",mediumblue:"azul mdio",mediumorchid:"orqudea mdio",mediumpurple:"roxo mdio",mediumseagreen:"verde marinho mdio",mediumslateblue:"azul ardsia mdio",mediumspringgreen:"verde primavera mdio",mediumturquoise:"turquesa mdio",mediumvioletred:"vermelho violeta mdio",midnightblue:"azul meia-noite",mintcream:"creme de menta",mistyrose:"rosa enevoado",moccasin:"moccasin",navajowhite:"branco navajo",navy:"marinho",oldlace:"cadaro velho",olive:"oliva",olivedrab:"verde oliva",orange:"laranja",orangered:"vermelho alaranjado",orchid:"orqudea",palegoldenrod:"goldenrod esbranquiado",palegreen:"verde esbranquiado",paleturquoise:"turquesa esbranquiado",palevioletred:"vermelho violeta esbranquiado",papayawhip:"creme de papaya",peachpuff:"peach puff",peru:"peru",pink:"rosa",plum:"ameixa",powderblue:"azul talco",purple:"roxo",red:"vermelho",rosybrown:"marrom rosado",royalblue:"azul royal",saddlebrown:"marrom saddle",salmon:"salmo",sandybrown:"marrom cor de areia",seagreen:"verde marinho",seashell:"seashell",sienna:"sienna",silver:"prateado",skyblue:"azul cu",slateblue:"azul ardsia",slategray:"cinza ardsia",slategrey:"cinza ardsia",snow:"branco neve",springgreen:"verde primavera",steelblue:"azul ao",tan:"tan",teal:"azul esverdeado",thistle:"thistle",tomato:"tomate",transparent:"transparente",turquoise:"turquesa",violet:"violeta",wheat:"trigo",white:"branco",whitesmoke:"fumaa branca",yellow:"amarelo",yellowgreen:"verde amarelado"}));
},"dojo/nls/pt/colors":function(){
define(({aliceblue:"azul alice",antiquewhite:"branco antigo",aqua:"aqua",aquamarine:"gua marinha",azure:"azul celeste",beige:"bege",bisque:"bisque",black:"preto",blanchedalmond:"amndoa pelada",blue:"azul",blueviolet:"azul violeta",brown:"marrom",burlywood:"burlywood",cadetblue:"azul cadet",chartreuse:"chartreuse",chocolate:"chocolate",coral:"coral",cornflowerblue:"azul centaurea",cornsilk:"cornsilk",crimson:"carmesim",cyan:"ciano",darkblue:"azul escuro",darkcyan:"ciano escuro",darkgoldenrod:"goldenrod escuro",darkgray:"cinza escuro",darkgreen:"verde escuro",darkgrey:"cinza escuro",darkkhaki:"cqui escuro",darkmagenta:"magenta escuro",darkolivegreen:"verde oliva escuro",darkorange:"laranja escuro",darkorchid:"orqudea escuro",darkred:"vermelho escuro",darksalmon:"salmo escuro",darkseagreen:"verde marinho escuro",darkslateblue:"azul ardsia escuro",darkslategray:"cinza ardsia escuro",darkslategrey:"cinza ardsia escuro",darkturquoise:"turquesa escuro",darkviolet:"violeta escuro",deeppink:"rosa profundo",deepskyblue:"azul cu intenso",dimgray:"cinza turvo",dimgrey:"cinza turvo",dodgerblue:"azul dodger",firebrick:"firebrick",floralwhite:"branco floral",forestgreen:"verde floresta",fuchsia:"fcsia",gainsboro:"gainsboro",ghostwhite:"branco ghost",gold:"dourado",goldenrod:"goldenrod",gray:"cinza",green:"verde",greenyellow:"amarelo esverdeado",grey:"cinza",honeydew:"honeydew",hotpink:"rosa quente",indianred:"vermelho indiano",indigo:"ndigo",ivory:"marfim",khaki:"cqui",lavender:"lavanda",lavenderblush:"lavanda avermelhada",lawngreen:"verde grama",lemonchiffon:"limo chiffon",lightblue:"azul claro",lightcoral:"coral claro",lightcyan:"ciano claro",lightgoldenrodyellow:"amarelo goldenrod claro",lightgray:"cinza claro",lightgreen:"verde claro",lightgrey:"cinza claro",lightpink:"rosa claro",lightsalmon:"salmo claro",lightseagreen:"verde marinho claro",lightskyblue:"azul cu claro",lightslategray:"cinza ardsia claro",lightslategrey:"cinza ardsia claro",lightsteelblue:"azul ao claro",lightyellow:"amarelo claro",lime:"lima",limegreen:"verde lima",linen:"linho",magenta:"magenta",maroon:"castanho",mediumaquamarine:"gua marinha mdio",mediumblue:"azul mdio",mediumorchid:"orqudea mdio",mediumpurple:"roxo mdio",mediumseagreen:"verde marinho mdio",mediumslateblue:"azul ardsia mdio",mediumspringgreen:"verde primavera mdio",mediumturquoise:"turquesa mdio",mediumvioletred:"vermelho violeta mdio",midnightblue:"azul meia-noite",mintcream:"creme de menta",mistyrose:"rosa enevoado",moccasin:"moccasin",navajowhite:"branco navajo",navy:"marinho",oldlace:"cadaro velho",olive:"oliva",olivedrab:"verde oliva",orange:"laranja",orangered:"vermelho alaranjado",orchid:"orqudea",palegoldenrod:"goldenrod esbranquiado",palegreen:"verde esbranquiado",paleturquoise:"turquesa esbranquiado",palevioletred:"vermelho violeta esbranquiado",papayawhip:"creme de papaya",peachpuff:"peach puff",peru:"peru",pink:"rosa",plum:"ameixa",powderblue:"azul talco",purple:"roxo",red:"vermelho",rosybrown:"marrom rosado",royalblue:"azul royal",saddlebrown:"marrom saddle",salmon:"salmo",sandybrown:"marrom cor de areia",seagreen:"verde marinho",seashell:"seashell",sienna:"sienna",silver:"prateado",skyblue:"azul cu",slateblue:"azul ardsia",slategray:"cinza ardsia",slategrey:"cinza ardsia",snow:"branco neve",springgreen:"verde primavera",steelblue:"azul ao",tan:"tan",teal:"azul esverdeado",thistle:"thistle",tomato:"tomate",transparent:"transparente",turquoise:"turquesa",violet:"violeta",wheat:"trigo",white:"branco",whitesmoke:"fumaa branca",yellow:"amarelo",yellowgreen:"verde amarelado"}));
},"dijit/form/_CheckBoxMixin":function(){
define(["dojo/_base/declare","dojo/dom-attr"],function(_150a,_150b){
return _150a("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:false,_aria_attr:"aria-checked",_setReadOnlyAttr:function(value){
this._set("readOnly",value);
_150b.set(this.focusNode,"readOnly",value);
},_setLabelAttr:undefined,_getSubmitValue:function(value){
return (value==null||value==="")?"on":value;
},_setValueAttr:function(_150c){
_150c=this._getSubmitValue(_150c);
this._set("value",_150c);
_150b.set(this.focusNode,"value",_150c);
},reset:function(){
this.inherited(arguments);
this._set("value",this._getSubmitValue(this.params.value));
_150b.set(this.focusNode,"value",this.value);
},_onClick:function(e){
if(this.readOnly){
e.stopPropagation();
e.preventDefault();
return false;
}
return this.inherited(arguments);
}});
});
},"dojo/html":function(){
define(["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_150d,lang,_150e,_150f,dom,_1510,_1511){
var _1512=0;
var html={_secureForInnerHtml:function(cont){
return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");
},_emptyNode:_1510.empty,_setNodeContent:function(node,cont){
_1510.empty(node);
if(cont){
if(typeof cont=="string"){
cont=_1510.toDom(cont,node.ownerDocument);
}
if(!cont.nodeType&&lang.isArrayLike(cont)){
for(var _1513=cont.length,i=0;i<cont.length;i=_1513==cont.length?i+1:0){
_1510.place(cont[i],node,"last");
}
}else{
_1510.place(cont,node,"last");
}
}
return node;
},_ContentSetter:_150f("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_150d._scopeName,startup:true,constructor:function(_1514,node){
lang.mixin(this,_1514||{});
node=this.node=dom.byId(this.node||node);
if(!this.id){
this.id=["Setter",(node)?node.id||node.tagName:"",_1512++].join("_");
}
},set:function(cont,_1515){
if(undefined!==cont){
this.content=cont;
}
if(_1515){
this._mixin(_1515);
}
this.onBegin();
this.setContent();
var ret=this.onEnd();
if(ret&&ret.then){
return ret;
}else{
return this.node;
}
},setContent:function(){
var node=this.node;
if(!node){
throw new Error(this.declaredClass+": setContent given no node");
}
try{
node=html._setNodeContent(node,this.content);
}
catch(e){
var _1516=this.onContentError(e);
try{
node.innerHTML=_1516;
}
catch(e){
console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);
}
}
this.node=node;
},empty:function(){
if(this.parseDeferred){
if(!this.parseDeferred.isResolved()){
this.parseDeferred.cancel();
}
delete this.parseDeferred;
}
if(this.parseResults&&this.parseResults.length){
_150e.forEach(this.parseResults,function(w){
if(w.destroy){
w.destroy();
}
});
delete this.parseResults;
}
_1510.empty(this.node);
},onBegin:function(){
var cont=this.content;
if(lang.isString(cont)){
if(this.cleanContent){
cont=html._secureForInnerHtml(cont);
}
if(this.extractContent){
var match=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
if(match){
cont=match[1];
}
}
}
this.empty();
this.content=cont;
return this.node;
},onEnd:function(){
if(this.parseContent){
this._parse();
}
return this.node;
},tearDown:function(){
delete this.parseResults;
delete this.parseDeferred;
delete this.node;
delete this.content;
},onContentError:function(err){
return "Error occurred setting content: "+err;
},onExecError:function(err){
return "Error occurred executing scripts: "+err;
},_mixin:function(_1517){
var empty={},key;
for(key in _1517){
if(key in empty){
continue;
}
this[key]=_1517[key];
}
},_parse:function(){
var _1518=this.node;
try{
var _1519={};
_150e.forEach(["dir","lang","textDir"],function(name){
if(this[name]){
_1519[name]=this[name];
}
},this);
var self=this;
this.parseDeferred=_1511.parse({rootNode:_1518,noStart:!this.startup,inherited:_1519,scope:this.parserScope}).then(function(_151a){
return self.parseResults=_151a;
},function(e){
self._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);
});
}
catch(e){
this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);
}
},_onError:function(type,err,_151b){
var _151c=this["on"+type+"Error"].call(this,err);
if(_151b){
console.error(_151b,err);
}else{
if(_151c){
html._setNodeContent(this.node,_151c,true);
}
}
}}),set:function(node,cont,_151d){
if(undefined==cont){
console.warn("dojo.html.set: no cont argument provided, using empty string");
cont="";
}
if(!_151d){
return html._setNodeContent(node,cont,true);
}else{
var op=new html._ContentSetter(lang.mixin(_151d,{content:cont,node:node}));
return op.set();
}
}};
lang.setObject("dojo.html",html);
return html;
});
},"dojo/Stateful":function(){
define(["./_base/declare","./_base/lang","./_base/array","./when"],function(_151e,lang,array,when){
return _151e("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(name){
var apn=this._attrPairNames;
if(apn[name]){
return apn[name];
}
return (apn[name]={s:"_"+name+"Setter",g:"_"+name+"Getter"});
},postscript:function(_151f){
if(_151f){
this.set(_151f);
}
},_get:function(name,names){
return typeof this[names.g]==="function"?this[names.g]():this[name];
},get:function(name){
return this._get(name,this._getAttrNames(name));
},set:function(name,value){
if(typeof name==="object"){
for(var x in name){
if(name.hasOwnProperty(x)&&x!="_watchCallbacks"){
this.set(x,name[x]);
}
}
return this;
}
var names=this._getAttrNames(name),_1520=this._get(name,names),_1521=this[names.s],_1522;
if(typeof _1521==="function"){
_1522=_1521.apply(this,Array.prototype.slice.call(arguments,1));
}else{
this[name]=value;
}
if(this._watchCallbacks){
var self=this;
when(_1522,function(){
self._watchCallbacks(name,_1520,value);
});
}
return this;
},_changeAttrValue:function(name,value){
var _1523=this.get(name);
this[name]=value;
if(this._watchCallbacks){
this._watchCallbacks(name,_1523,value);
}
return this;
},watch:function(name,_1524){
var _1525=this._watchCallbacks;
if(!_1525){
var self=this;
_1525=this._watchCallbacks=function(name,_1526,value,_1527){
var _1528=function(_1529){
if(_1529){
_1529=_1529.slice();
for(var i=0,l=_1529.length;i<l;i++){
_1529[i].call(self,name,_1526,value);
}
}
};
_1528(_1525["_"+name]);
if(!_1527){
_1528(_1525["*"]);
}
};
}
if(!_1524&&typeof name==="function"){
_1524=name;
name="*";
}else{
name="_"+name;
}
var _152a=_1525[name];
if(typeof _152a!=="object"){
_152a=_1525[name]=[];
}
_152a.push(_1524);
var _152b={};
_152b.unwatch=_152b.remove=function(){
var index=array.indexOf(_152a,_1524);
if(index>-1){
_152a.splice(index,1);
}
};
return _152b;
}});
});
},"dojo/selector/lite":function(){
define(["../has","../_base/kernel"],function(has,dojo){
"use strict";
var _152c=document.createElement("div");
var _152d=_152c.matchesSelector||_152c.webkitMatchesSelector||_152c.mozMatchesSelector||_152c.msMatchesSelector||_152c.oMatchesSelector;
var _152e=_152c.querySelectorAll;
var _152f=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g;
has.add("dom-matches-selector",!!_152d);
has.add("dom-qsa",!!_152e);
var _1530=function(_1531,root){
if(_1532&&_1531.indexOf(",")>-1){
return _1532(_1531,root);
}
var doc=root?root.ownerDocument||root:dojo.doc||document,match=(_152e?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(_1531);
root=root||doc;
if(match){
if(match[2]){
var found=dojo.byId?dojo.byId(match[2],doc):doc.getElementById(match[2]);
if(!found||(match[1]&&match[1]!=found.tagName.toLowerCase())){
return [];
}
if(root!=doc){
var _1533=found;
while(_1533!=root){
_1533=_1533.parentNode;
if(!_1533){
return [];
}
}
}
return match[3]?_1530(match[3],found):[found];
}
if(match[3]&&root.getElementsByClassName){
return root.getElementsByClassName(match[4]);
}
var found;
if(match[5]){
found=root.getElementsByTagName(match[5]);
if(match[4]||match[6]){
_1531=(match[4]||"")+match[6];
}else{
return found;
}
}
}
if(_152e){
if(root.nodeType===1&&root.nodeName.toLowerCase()!=="object"){
return _1534(root,_1531,root.querySelectorAll);
}else{
return root.querySelectorAll(_1531);
}
}else{
if(!found){
found=root.getElementsByTagName("*");
}
}
var _1535=[];
for(var i=0,l=found.length;i<l;i++){
var node=found[i];
if(node.nodeType==1&&_1536(node,_1531,root)){
_1535.push(node);
}
}
return _1535;
};
var _1534=function(_1537,query,_1538){
var _1539=_1537,old=_1537.getAttribute("id"),nid=old||"__dojo__",_153a=_1537.parentNode,_153b=/^\s*[+~]/.test(query);
if(_153b&&!_153a){
return [];
}
if(!old){
_1537.setAttribute("id",nid);
}else{
nid=nid.replace(/'/g,"\\$&");
}
if(_153b&&_153a){
_1537=_1537.parentNode;
}
var _153c=query.match(_152f);
for(var i=0;i<_153c.length;i++){
_153c[i]="[id='"+nid+"'] "+_153c[i];
}
query=_153c.join(",");
try{
return _1538.call(_1537,query);
}
finally{
if(!old){
_1539.removeAttribute("id");
}
}
};
if(!has("dom-matches-selector")){
var _1536=(function(){
var _153d=_152c.tagName=="div"?"toLowerCase":"toUpperCase";
var _153e={"":function(_153f){
_153f=_153f[_153d]();
return function(node){
return node.tagName==_153f;
};
},".":function(_1540){
var _1541=" "+_1540+" ";
return function(node){
return node.className.indexOf(_1540)>-1&&(" "+node.className+" ").indexOf(_1541)>-1;
};
},"#":function(id){
return function(node){
return node.id==id;
};
}};
var _1542={"^=":function(_1543,value){
return _1543.indexOf(value)==0;
},"*=":function(_1544,value){
return _1544.indexOf(value)>-1;
},"$=":function(_1545,value){
return _1545.substring(_1545.length-value.length,_1545.length)==value;
},"~=":function(_1546,value){
return (" "+_1546+" ").indexOf(" "+value+" ")>-1;
},"|=":function(_1547,value){
return (_1547+"-").indexOf(value+"-")==0;
},"=":function(_1548,value){
return _1548==value;
},"":function(_1549,value){
return true;
}};
function attr(name,value,type){
var _154a=value.charAt(0);
if(_154a=="\""||_154a=="'"){
value=value.slice(1,-1);
}
value=value.replace(/\\/g,"");
var _154b=_1542[type||""];
return function(node){
var _154c=node.getAttribute(name);
return _154c&&_154b(_154c,value);
};
};
function _154d(_154e){
return function(node,root){
while((node=node.parentNode)!=root){
if(_154e(node,root)){
return true;
}
}
};
};
function _154f(_1550){
return function(node,root){
node=node.parentNode;
return _1550?node!=root&&_1550(node,root):node==root;
};
};
var cache={};
function and(_1551,next){
return _1551?function(node,root){
return next(node)&&_1551(node,root);
}:next;
};
return function(node,_1552,root){
var _1553=cache[_1552];
if(!_1553){
if(_1552.replace(/(?:\s*([> ])\s*)|(#|\.)?((?:\\.|[\w-])+)|\[\s*([\w-]+)\s*(.?=)?\s*("(?:\\.|[^"])+"|'(?:\\.|[^'])+'|(?:\\.|[^\]])*)\s*\]/g,function(t,_1554,type,value,_1555,_1556,_1557){
if(value){
_1553=and(_1553,_153e[type||""](value.replace(/\\/g,"")));
}else{
if(_1554){
_1553=(_1554==" "?_154d:_154f)(_1553);
}else{
if(_1555){
_1553=and(_1553,attr(_1555,_1557,_1556));
}
}
}
return "";
})){
throw new Error("Syntax error in query");
}
if(!_1553){
return true;
}
cache[_1552]=_1553;
}
return _1553(node,root);
};
})();
}
if(!has("dom-qsa")){
var _1532=function(_1558,root){
var _1559=_1558.match(_152f);
var _155a=[];
for(var i=0;i<_1559.length;i++){
_1558=new String(_1559[i].replace(/\s*$/,""));
_1558.indexOf=escape;
var _155b=_1530(_1558,root);
for(var j=0,l=_155b.length;j<l;j++){
var node=_155b[j];
_155a[node.sourceIndex]=node;
}
}
var _155c=[];
for(i in _155a){
_155c.push(_155a[i]);
}
return _155c;
};
}
_1530.match=_152d?function(node,_155d,root){
if(root&&root.nodeType!=9){
return _1534(root,_155d,function(query){
return _152d.call(node,query);
});
}
return _152d.call(node,_155d);
}:_1536;
return _1530;
});
},"dijit/layout/LayoutContainer":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/_base/lang","../_WidgetBase","./_LayoutWidget","./utils"],function(array,_155e,_155f,_1560,lang,_1561,_1562,_1563){
var _1564=_155e("dijit.layout.LayoutContainer",_1562,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){
if(this._started){
return;
}
array.forEach(this.getChildren(),this._setupChild,this);
this.inherited(arguments);
},_setupChild:function(child){
this.inherited(arguments);
var _1565=child.region;
if(_1565){
_155f.add(child.domNode,this.baseClass+"Pane");
}
},_getOrderedChildren:function(){
var _1566=array.map(this.getChildren(),function(child,idx){
return {pane:child,weight:[child.region=="center"?Infinity:0,child.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(child.region)?1:-1),idx]};
},this);
_1566.sort(function(a,b){
var aw=a.weight,bw=b.weight;
for(var i=0;i<aw.length;i++){
if(aw[i]!=bw[i]){
return aw[i]-bw[i];
}
}
return 0;
});
return array.map(_1566,function(w){
return w.pane;
});
},layout:function(){
_1563.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren());
},addChild:function(child,_1567){
this.inherited(arguments);
if(this._started){
this.layout();
}
},removeChild:function(child){
this.inherited(arguments);
if(this._started){
this.layout();
}
_155f.remove(child.domNode,this.baseClass+"Pane");
_1560.set(child.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});
_1560.set(child.domNode,/top|bottom/.test(child.region)?"width":"height","auto");
}});
_1564.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};
lang.extend(_1561,_1564.ChildWidgetProperties);
return _1564;
});
},"dojo/dnd/autoscroll":function(){
define(["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(lang,has,win,_1568,_1569,_156a){
var _156b={};
lang.setObject("dojo.dnd.autoscroll",_156b);
_156b.getViewport=_156a.getBox;
_156b.V_TRIGGER_AUTOSCROLL=32;
_156b.H_TRIGGER_AUTOSCROLL=32;
_156b.V_AUTOSCROLL_VALUE=16;
_156b.H_AUTOSCROLL_VALUE=16;
var _156c,doc=win.doc,_156d=Infinity,_156e=Infinity;
_156b.autoScrollStart=function(d){
doc=d;
_156c=_156a.getBox(doc);
var html=win.body(doc).parentNode;
_156d=Math.max(html.scrollHeight-_156c.h,0);
_156e=Math.max(html.scrollWidth-_156c.w,0);
};
_156b.autoScroll=function(e){
var v=_156c||_156a.getBox(doc),html=win.body(doc).parentNode,dx=0,dy=0;
if(e.clientX<_156b.H_TRIGGER_AUTOSCROLL){
dx=-_156b.H_AUTOSCROLL_VALUE;
}else{
if(e.clientX>v.w-_156b.H_TRIGGER_AUTOSCROLL){
dx=Math.min(_156b.H_AUTOSCROLL_VALUE,_156e-html.scrollLeft);
}
}
if(e.clientY<_156b.V_TRIGGER_AUTOSCROLL){
dy=-_156b.V_AUTOSCROLL_VALUE;
}else{
if(e.clientY>v.h-_156b.V_TRIGGER_AUTOSCROLL){
dy=Math.min(_156b.V_AUTOSCROLL_VALUE,_156d-html.scrollTop);
}
}
window.scrollBy(dx,dy);
};
_156b._validNodes={"div":1,"p":1,"td":1};
_156b._validOverflow={"auto":1,"scroll":1};
_156b.autoScrollNodes=function(e){
var b,t,w,h,rx,ry,dx=0,dy=0,_156f,_1570;
for(var n=e.target;n;){
if(n.nodeType==1&&(n.tagName.toLowerCase() in _156b._validNodes)){
var s=_1569.getComputedStyle(n),_1571=(s.overflow.toLowerCase() in _156b._validOverflow),_1572=(s.overflowX.toLowerCase() in _156b._validOverflow),_1573=(s.overflowY.toLowerCase() in _156b._validOverflow);
if(_1571||_1572||_1573){
b=_1568.getContentBox(n,s);
t=_1568.position(n,true);
}
if(_1571||_1572){
w=Math.min(_156b.H_TRIGGER_AUTOSCROLL,b.w/2);
rx=e.pageX-t.x;
if(has("webkit")||has("opera")){
rx+=win.body().scrollLeft;
}
dx=0;
if(rx>0&&rx<b.w){
if(rx<w){
dx=-w;
}else{
if(rx>b.w-w){
dx=w;
}
}
_156f=n.scrollLeft;
n.scrollLeft=n.scrollLeft+dx;
}
}
if(_1571||_1573){
h=Math.min(_156b.V_TRIGGER_AUTOSCROLL,b.h/2);
ry=e.pageY-t.y;
if(has("webkit")||has("opera")){
ry+=win.body().scrollTop;
}
dy=0;
if(ry>0&&ry<b.h){
if(ry<h){
dy=-h;
}else{
if(ry>b.h-h){
dy=h;
}
}
_1570=n.scrollTop;
n.scrollTop=n.scrollTop+dy;
}
}
if(dx||dy){
return;
}
}
try{
n=n.parentNode;
}
catch(x){
n=null;
}
}
_156b.autoScroll(e);
};
return _156b;
});
},"dojox/grid/cells":function(){
define(["../main","./cells/_base"],function(dojox){
return dojox.grid.cells;
});
},"dijit/layout/utils":function(){
define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(array,_1574,_1575,_1576,lang){
function _1577(word){
return word.substring(0,1).toUpperCase()+word.substring(1);
};
function size(_1578,dim){
var _1579=_1578.resize?_1578.resize(dim):_1575.setMarginBox(_1578.domNode,dim);
if(_1579){
lang.mixin(_1578,_1579);
}else{
lang.mixin(_1578,_1575.getMarginBox(_1578.domNode));
lang.mixin(_1578,dim);
}
};
var utils={marginBox2contentBox:function(node,mb){
var cs=_1576.getComputedStyle(node);
var me=_1575.getMarginExtents(node,cs);
var pb=_1575.getPadBorderExtents(node,cs);
return {l:_1576.toPixelValue(node,cs.paddingLeft),t:_1576.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};
},layoutChildren:function(_157a,dim,_157b,_157c,_157d){
dim=lang.mixin({},dim);
_1574.add(_157a,"dijitLayoutContainer");
_157b=array.filter(_157b,function(item){
return item.region!="center"&&item.layoutAlign!="client";
}).concat(array.filter(_157b,function(item){
return item.region=="center"||item.layoutAlign=="client";
}));
array.forEach(_157b,function(child){
var elm=child.domNode,pos=(child.region||child.layoutAlign);
if(!pos){
throw new Error("No region setting for "+child.id);
}
var _157e=elm.style;
_157e.left=dim.l+"px";
_157e.top=dim.t+"px";
_157e.position="absolute";
_1574.add(elm,"dijitAlign"+_1577(pos));
var _157f={};
if(_157c&&_157c==child.id){
_157f[child.region=="top"||child.region=="bottom"?"h":"w"]=_157d;
}
if(pos=="leading"){
pos=child.isLeftToRight()?"left":"right";
}
if(pos=="trailing"){
pos=child.isLeftToRight()?"right":"left";
}
if(pos=="top"||pos=="bottom"){
_157f.w=dim.w;
size(child,_157f);
dim.h-=child.h;
if(pos=="top"){
dim.t+=child.h;
}else{
_157e.top=dim.t+dim.h+"px";
}
}else{
if(pos=="left"||pos=="right"){
_157f.h=dim.h;
size(child,_157f);
dim.w-=child.w;
if(pos=="left"){
dim.l+=child.w;
}else{
_157e.left=dim.l+dim.w+"px";
}
}else{
if(pos=="client"||pos=="center"){
size(child,dim);
}
}
}
});
}};
lang.setObject("dijit.layout.utils",utils);
return utils;
});
},"dojo/cldr/nls/currency":function(){
define({root:{"USD_symbol":"US$","CAD_symbol":"CA$","GBP_symbol":"","HKD_symbol":"HK$","JPY_symbol":"JP","AUD_symbol":"A$","CNY_symbol":"CN","EUR_symbol":""},"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"en":true,"en-au":true,"en-ca":true,"en-gb":true,"es":true,"fi":true,"fr":true,"fr-ch":true,"he":true,"hu":true,"it":true,"ja":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-hant":true,"zh-hk":true,"zh-tw":true});
},"dojo/cldr/nls/en/currency":function(){
define({"HKD_displayName":"Hong Kong Dollar","CHF_displayName":"Swiss Franc","JPY_symbol":"","CAD_displayName":"Canadian Dollar","CNY_displayName":"Chinese Yuan","USD_symbol":"$","AUD_displayName":"Australian Dollar","JPY_displayName":"Japanese Yen","USD_displayName":"US Dollar","GBP_displayName":"British Pound Sterling","EUR_displayName":"Euro"});
},"dojo/cldr/nls/pt/currency":function(){
define({"HKD_displayName":"Dlar de Hong Kong","CHF_displayName":"Franco suo","JPY_symbol":"JP","CAD_displayName":"Dlar canadense","HKD_symbol":"HK$","CNY_displayName":"Yuan chins","USD_symbol":"US$","AUD_displayName":"Dlar australiano","JPY_displayName":"Iene japons","CAD_symbol":"CA$","USD_displayName":"Dlar norte-americano","EUR_symbol":"","CNY_symbol":"CN","GBP_displayName":"Libra esterlina britnica","GBP_symbol":"","AUD_symbol":"AU$","EUR_displayName":"Euro"});
},"dojo/cldr/nls/pt/currency":function(){
define({"HKD_displayName":"Dlar de Hong Kong","CHF_displayName":"Franco suo","JPY_symbol":"JP","CAD_displayName":"Dlar canadense","HKD_symbol":"HK$","CNY_displayName":"Yuan chins","USD_symbol":"US$","AUD_displayName":"Dlar australiano","JPY_displayName":"Iene japons","CAD_symbol":"CA$","USD_displayName":"Dlar norte-americano","EUR_symbol":"","CNY_symbol":"CN","GBP_displayName":"Libra esterlina britnica","GBP_symbol":"","AUD_symbol":"AU$","EUR_displayName":"Euro"});
},"dijit/_PaletteMixin":function(){
define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","./_CssStateMixin","./a11yclick","./focus","./typematic"],function(_1580,_1581,_1582,_1583,keys,lang,on,_1584,_1585,focus,_1586){
var _1587=_1580("dijit._PaletteMixin",_1584,{defaultTimeout:500,timeoutChangeRate:0.9,value:"",_selectedCell:-1,tabIndex:"0",cellClass:"dijitPaletteCell",dyeClass:null,_dyeFactory:function(value){
var _1588=typeof this.dyeClass=="string"?lang.getObject(this.dyeClass):this.dyeClass;
return new _1588(value);
},_preparePalette:function(_1589,_158a){
this._cells=[];
var url=this._blankGif;
this.own(on(this.gridNode,_1585,lang.hitch(this,"_onCellClick")));
for(var row=0;row<_1589.length;row++){
var _158b=_1583.create("tr",{tabIndex:"-1",role:"row"},this.gridNode);
for(var col=0;col<_1589[row].length;col++){
var value=_1589[row][col];
if(value){
var _158c=this._dyeFactory(value,row,col,_158a[value]);
var _158d=_1583.create("td",{"class":this.cellClass,tabIndex:"-1",title:_158a[value],role:"gridcell"},_158b);
_158c.fillCell(_158d,url);
_158d.idx=this._cells.length;
this._cells.push({node:_158d,dye:_158c});
}
}
}
this._xDim=_1589[0].length;
this._yDim=_1589.length;
var _158e={UP_ARROW:-this._xDim,DOWN_ARROW:this._xDim,RIGHT_ARROW:this.isLeftToRight()?1:-1,LEFT_ARROW:this.isLeftToRight()?-1:1};
for(var key in _158e){
this.own(_1586.addKeyListener(this.domNode,{keyCode:keys[key],ctrlKey:false,altKey:false,shiftKey:false},this,function(){
var _158f=_158e[key];
return function(count){
this._navigateByKey(_158f,count);
};
}(),this.timeoutChangeRate,this.defaultTimeout));
}
},postCreate:function(){
this.inherited(arguments);
this._setCurrent(this._cells[0].node);
},focus:function(){
focus.focus(this._currentFocus);
},_onCellClick:function(evt){
var _1590=evt.target;
while(_1590.tagName!="TD"){
if(!_1590.parentNode||_1590==this.gridNode){
return;
}
_1590=_1590.parentNode;
}
var value=this._getDye(_1590).getValue();
this._setCurrent(_1590);
focus.focus(_1590);
this._setValueAttr(value,true);
evt.stopPropagation();
evt.preventDefault();
},_setCurrent:function(node){
if("_currentFocus" in this){
_1581.set(this._currentFocus,"tabIndex","-1");
}
this._currentFocus=node;
if(node){
_1581.set(node,"tabIndex",this.tabIndex);
}
},_setValueAttr:function(value,_1591){
if(this._selectedCell>=0){
_1582.remove(this._cells[this._selectedCell].node,this.cellClass+"Selected");
}
this._selectedCell=-1;
if(value){
for(var i=0;i<this._cells.length;i++){
if(value==this._cells[i].dye.getValue()){
this._selectedCell=i;
_1582.add(this._cells[i].node,this.cellClass+"Selected");
break;
}
}
}
this._set("value",this._selectedCell>=0?value:null);
if(_1591||_1591===undefined){
this.onChange(value);
}
},onChange:function(){
},_navigateByKey:function(_1592,_1593){
if(_1593==-1){
return;
}
var _1594=this._currentFocus.idx+_1592;
if(_1594<this._cells.length&&_1594>-1){
var _1595=this._cells[_1594].node;
this._setCurrent(_1595);
this.defer(lang.hitch(focus,"focus",_1595));
}
},_getDye:function(cell){
return this._cells[cell.idx].dye;
}});
return _1587;
});
},"dijit/form/nls/ComboBox":function(){
define({root:({previousMessage:"Previous choices",nextMessage:"More choices"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});
},"dijit/form/nls/pt/ComboBox":function(){
define(({previousMessage:"Opes anteriores",nextMessage:"Mais opes"}));
},"dijit/form/nls/pt/ComboBox":function(){
define(({previousMessage:"Opes anteriores",nextMessage:"Mais opes"}));
},"dijit/_editor/plugins/TextColor":function(){
define(["require","dojo/colors","dojo/_base/declare","dojo/_base/lang","../_Plugin","../../form/DropDownButton"],function(_1596,_1597,_1598,lang,_1599,_159a){
var _159b=_1598("dijit._editor.plugins.TextColor",_1599,{buttonClass:_159a,useDefaultCommand:false,_initButton:function(){
this.inherited(arguments);
var self=this;
this.button.loadDropDown=function(_159c){
_1596(["../../ColorPalette"],lang.hitch(this,function(_159d){
this.dropDown=new _159d({dir:self.editor.dir,ownerDocument:self.editor.ownerDocument,value:self.value,onChange:function(color){
self.editor.execCommand(self.command,color);
}});
_159c();
}));
};
},updateState:function(){
var _159e=this.editor;
var _159f=this.command;
if(!_159e||!_159e.isLoaded||!_159f.length){
return;
}
if(this.button){
var _15a0=this.get("disabled");
this.button.set("disabled",_15a0);
if(_15a0){
return;
}
var value;
try{
value=_159e.queryCommandValue(_159f)||"";
}
catch(e){
value="";
}
}
if(value==""){
value="#000000";
}
if(value=="transparent"){
value="#ffffff";
}
if(typeof value=="string"){
if(value.indexOf("rgb")>-1){
value=_1597.fromRgb(value).toHex();
}
}else{
value=((value&255)<<16)|(value&65280)|((value&16711680)>>>16);
value=value.toString(16);
value="#000000".slice(0,7-value.length)+value;
}
this.value=value;
var _15a1=this.button.dropDown;
if(_15a1&&value!==_15a1.get("value")){
_15a1.set("value",value,false);
}
}});
_1599.registry["foreColor"]=function(){
return new _159b({command:"foreColor"});
};
_1599.registry["hiliteColor"]=function(){
return new _159b({command:"hiliteColor"});
};
return _159b;
});
},"dojox/validate/br":function(){
define(["dojo/_base/lang","./_base"],function(lang,_15a2){
var br=lang.getObject("br",true,_15a2);
br.isValidCnpj=function(value){
if(!lang.isString(value)){
if(!value){
return false;
}
value=value+"";
while(value.length<14){
value="0"+value;
}
}
var flags={format:["##.###.###/####-##","########/####-##","############-##","##############"]};
if(_15a2.isNumberFormat(value,flags)){
value=value.replace("/","").replace(/\./g,"").replace("-","");
var cgc=[];
var dv=[];
var i,j,tmp;
for(i=0;i<10;i++){
tmp="";
for(j=0;j<value.length;j++){
tmp+=""+i;
}
if(value===tmp){
return false;
}
}
for(i=0;i<12;i++){
cgc.push(parseInt(value.charAt(i),10));
}
for(i=12;i<14;i++){
dv.push(parseInt(value.charAt(i),10));
}
var base=[9,8,7,6,5,4,3,2,9,8,7,6].reverse();
var sum=0;
for(i=0;i<cgc.length;i++){
sum+=cgc[i]*base[i];
}
var dv0=sum%11;
if(dv0==dv[0]){
sum=0;
base=[9,8,7,6,5,4,3,2,9,8,7,6,5].reverse();
cgc.push(dv0);
for(i=0;i<cgc.length;i++){
sum+=cgc[i]*base[i];
}
var dv1=sum%11;
if(dv1===dv[1]){
return true;
}
}
}
return false;
};
br.computeCnpjDv=function(value){
if(!lang.isString(value)){
if(!value){
return "";
}
value=value+"";
while(value.length<12){
value="0"+value;
}
}
var flags={format:["##.###.###/####","########/####","############"]};
if(_15a2.isNumberFormat(value,flags)){
value=value.replace("/","").replace(/\./g,"");
var cgc=[];
var i,j,tmp;
for(i=0;i<10;i++){
tmp="";
for(j=0;j<value.length;j++){
tmp+=""+i;
}
if(value===tmp){
return "";
}
}
for(i=0;i<value.length;i++){
cgc.push(parseInt(value.charAt(i),10));
}
var base=[9,8,7,6,5,4,3,2,9,8,7,6].reverse();
var sum=0;
for(i=0;i<cgc.length;i++){
sum+=cgc[i]*base[i];
}
var dv0=sum%11;
sum=0;
base=[9,8,7,6,5,4,3,2,9,8,7,6,5].reverse();
cgc.push(dv0);
for(i=0;i<cgc.length;i++){
sum+=cgc[i]*base[i];
}
var dv1=sum%11;
return (""+dv0)+dv1;
}
return "";
};
br.isValidCpf=function(value){
if(!lang.isString(value)){
if(!value){
return false;
}
value=value+"";
while(value.length<11){
value="0"+value;
}
}
var flags={format:["###.###.###-##","#########-##","###########"]};
if(_15a2.isNumberFormat(value,flags)){
value=value.replace("-","").replace(/\./g,"");
var cpf=[];
var dv=[];
var i,j,tmp;
for(i=0;i<10;i++){
tmp="";
for(j=0;j<value.length;j++){
tmp+=""+i;
}
if(value===tmp){
return false;
}
}
for(i=0;i<9;i++){
cpf.push(parseInt(value.charAt(i),10));
}
for(i=9;i<12;i++){
dv.push(parseInt(value.charAt(i),10));
}
var base=[9,8,7,6,5,4,3,2,1].reverse();
var sum=0;
for(i=0;i<cpf.length;i++){
sum+=cpf[i]*base[i];
}
var dv0=sum%11;
if(dv0==dv[0]){
sum=0;
base=[9,8,7,6,5,4,3,2,1,0].reverse();
cpf.push(dv0);
for(i=0;i<cpf.length;i++){
sum+=cpf[i]*base[i];
}
var dv1=sum%11;
if(dv1===dv[1]){
return true;
}
}
}
return false;
};
br.computeCpfDv=function(value){
if(!lang.isString(value)){
if(!value){
return "";
}
value=value+"";
while(value.length<9){
value="0"+value;
}
}
var flags={format:["###.###.###","#########"]};
if(_15a2.isNumberFormat(value,flags)){
value=value.replace(/\./g,"");
var cpf=[];
for(i=0;i<10;i++){
tmp="";
for(j=0;j<value.length;j++){
tmp+=""+i;
}
if(value===tmp){
return "";
}
}
for(i=0;i<value.length;i++){
cpf.push(parseInt(value.charAt(i),10));
}
var base=[9,8,7,6,5,4,3,2,1].reverse();
var sum=0;
for(i=0;i<cpf.length;i++){
sum+=cpf[i]*base[i];
}
var dv0=sum%11;
sum=0;
base=[9,8,7,6,5,4,3,2,1,0].reverse();
cpf.push(dv0);
for(i=0;i<cpf.length;i++){
sum+=cpf[i]*base[i];
}
var dv1=sum%11;
return (""+dv0)+dv1;
}
return "";
};
return br;
});
},"manager/FormPopup":function(){
define("manager/FormPopup",["dojo/_base/declare"],function(_15a3){
return _15a3("Manager.FormPopup",[],{context:null,url:"",constructor:function(){
this.obj=this;
},setContext:function(_15a4){
this.context=_15a4;
},start:function(){
this.url=this.context.action+"?__popupName="+this.context.name;
if(this.context.filter!=""){
var _15a5=this.context.filter.split(",");
for(var i=0;i<_15a5.length;i++){
var id=_15a5[i];
if(field=dijit.byId(id)){
var value=field.get("value");
}else{
field=manager.getElementById(id);
var value=escape(field.value);
}
var _15a6="filter"+i;
this.url=this.url+"&"+_15a6+"="+value;
}
}
dojo.subscribe("windowActionClose",this,this.close);
this.open();
},open:function(){
var _15a7=manager.getWindow(this.context.name);
if(!_15a7){
manager.addWindow(this.context.name);
}
manager.getWindow(this.context.name).setHref(this.url);
manager.getWindow(this.context.name).open();
},close:function(id){
if(id==this.context.name){
var form=dojo.query("#"+id+" form");
var _15a8=dijit.byId(form[0].id).getValues();
this.deliver(form[0].id);
}
},deliver:function(_15a9){
related=this.obj.context.related;
var _15aa=/(.*):([^:]*)/;
var _15ab=related.split(",");
for(var i=0;i<_15ab.length;i++){
_15ab[i]=_15ab[i].replace(/::/g,"!");
var aId=_15aa.exec(_15ab[i])||Array(_15ab[i],_15ab[i]);
var _15ac=(aId[2]?aId[2]:aId[1]);
_15ac=_15ac.replace(/\!/g,"::");
var node=manager.getElementById(_15ac);
var value=node.value;
aId[1]=aId[1].replace("!","::");
var field=dijit.byId(aId[1]);
if(field){
field.set("value",value);
}else{
field=manager.getElementById(aId[1]);
if(field!=null){
field.value=value;
field=manager.getElementById(field.name+"_sel");
if(field!=null){
field.value=value;
}
}
}
}
}});
});
},"dijit/_FocusMixin":function(){
define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(focus,_15ad,_15ae,lang){
lang.extend(_15ad,{focused:false,onFocus:function(){
},onBlur:function(){
},_onFocus:function(){
this.onFocus();
},_onBlur:function(){
this.onBlur();
}});
return _15ae("dijit._FocusMixin",null,{_focusManager:focus});
});
},"dijit/form/ValidationTextBox":function(){
define(["dojo/_base/declare","dojo/_base/kernel","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_15af,_15b0,i18n,_15b1,_15b2,_15b3){
var _15b4;
return _15b4=_15af("dijit.form.ValidationTextBox",_15b1,{templateString:_15b3,required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){
},state:"",tooltipPosition:[],_deprecateRegExp:function(attr,value){
if(value!=_15b4.prototype[attr]){
_15b0.deprecated("ValidationTextBox id="+this.id+", set('"+attr+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0");
this.set("pattern",value);
}
},_setRegExpGenAttr:function(_15b5){
this._deprecateRegExp("regExpGen",_15b5);
this._set("regExpGen",this._computeRegexp);
},_setRegExpAttr:function(value){
this._deprecateRegExp("regExp",value);
},_setValueAttr:function(){
this.inherited(arguments);
this._refreshState();
},validator:function(value,_15b6){
return (new RegExp("^(?:"+this._computeRegexp(_15b6)+")"+(this.required?"":"?")+"$")).test(value)&&(!this.required||!this._isEmpty(value))&&(this._isEmpty(value)||this.parse(value,_15b6)!==undefined);
},_isValidSubset:function(){
return this.textbox.value.search(this._partialre)==0;
},isValid:function(){
return this.validator(this.textbox.value,this.get("constraints"));
},_isEmpty:function(value){
return (this.trim?/^\s*$/:/^$/).test(value);
},getErrorMessage:function(){
var _15b7=this.invalidMessage=="$_unset_$"?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage;
var _15b8=this.missingMessage=="$_unset_$"?this.messages.missingMessage:!this.missingMessage?_15b7:this.missingMessage;
return (this.required&&this._isEmpty(this.textbox.value))?_15b8:_15b7;
},getPromptMessage:function(){
return this.promptMessage;
},_maskValidSubsetError:true,validate:function(_15b9){
var _15ba="";
var _15bb=this.disabled||this.isValid(_15b9);
if(_15bb){
this._maskValidSubsetError=true;
}
var _15bc=this._isEmpty(this.textbox.value);
var _15bd=!_15bb&&_15b9&&this._isValidSubset();
this._set("state",_15bb?"":(((((!this._hasBeenBlurred||_15b9)&&_15bc)||_15bd)&&(this._maskValidSubsetError||(_15bd&&!this._hasBeenBlurred&&_15b9)))?"Incomplete":"Error"));
this.focusNode.setAttribute("aria-invalid",_15bb?"false":"true");
if(this.state=="Error"){
this._maskValidSubsetError=_15b9&&_15bd;
_15ba=this.getErrorMessage(_15b9);
}else{
if(this.state=="Incomplete"){
_15ba=this.getPromptMessage(_15b9);
this._maskValidSubsetError=!this._hasBeenBlurred||_15b9;
}else{
if(_15bc){
_15ba=this.getPromptMessage(_15b9);
}
}
}
this.set("message",_15ba);
return _15bb;
},displayMessage:function(_15be){
if(_15be&&this.focused){
_15b2.show(_15be,this.domNode,this.tooltipPosition,!this.isLeftToRight());
}else{
_15b2.hide(this.domNode);
}
},_refreshState:function(){
if(this._created){
this.validate(this.focused);
}
this.inherited(arguments);
},constructor:function(_15bf){
this.constraints={};
this.baseClass+=" dijitValidationTextBox";
},startup:function(){
this.inherited(arguments);
this._refreshState();
},_setConstraintsAttr:function(_15c0){
if(!_15c0.locale&&this.lang){
_15c0.locale=this.lang;
}
this._set("constraints",_15c0);
this._refreshState();
},_setPatternAttr:function(_15c1){
this._set("pattern",_15c1);
this._refreshState();
},_computeRegexp:function(_15c2){
var p=this.pattern;
if(typeof p=="function"){
p=p.call(this,_15c2);
}
if(p!=this._lastRegExp){
var _15c3="";
this._lastRegExp=p;
if(p!=".*"){
p.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){
switch(re.charAt(0)){
case "{":
case "+":
case "?":
case "*":
case "^":
case "$":
case "|":
case "(":
_15c3+=re;
break;
case ")":
_15c3+="|$)";
break;
default:
_15c3+="(?:"+re+"|$)";
break;
}
});
}
try{
"".search(_15c3);
}
catch(e){
_15c3=this.pattern;
console.warn("RegExp error in "+this.declaredClass+": "+this.pattern);
}
this._partialre="^(?:"+_15c3+")$";
}
return p;
},postMixInProperties:function(){
this.inherited(arguments);
this.messages=i18n.getLocalization("dijit.form","validate",this.lang);
this._setConstraintsAttr(this.constraints);
},_setDisabledAttr:function(value){
this.inherited(arguments);
this._refreshState();
},_setRequiredAttr:function(value){
this._set("required",value);
this.focusNode.setAttribute("aria-required",value);
this._refreshState();
},_setMessageAttr:function(_15c4){
this._set("message",_15c4);
this.displayMessage(_15c4);
},reset:function(){
this._maskValidSubsetError=true;
this.inherited(arguments);
},_onBlur:function(){
this.displayMessage("");
this.inherited(arguments);
}});
});
},"manager/MultiSelection":function(){
define("manager/MultiSelection",["dojo/_base/declare","manager/MultiTextField2"],function(_15c5,_15c6){
return _15c5("Manager.MultiSelection",[],{add:function(n){
var list=manager.getElementById(this.mtfName+this.emptyField);
var _15c7=manager.getElementById(this.mtfName+"_options"+n);
var n=list.length;
var i=0;
var achou=false;
var atext=_15c7.options[_15c7.selectedIndex].text;
for(i=0;i<n;i++){
if(list.options[i].text==atext){
achou=true;
}
}
if(achou){
alert("Item j est na lista!");
}else{
list.options[n]=new Option(atext);
list.selectedIndex=n;
}
}});
});
},"dijit/form/NumberTextBox":function(){
define(["dojo/_base/declare","dojo/_base/lang","dojo/number","./RangeBoundTextBox"],function(_15c8,lang,_15c9,_15ca){
var _15cb=_15c8("dijit.form.NumberTextBoxMixin",null,{pattern:function(_15cc){
return "("+(this.focused&&this.editOptions?this._regExpGenerator(lang.delegate(_15cc,this.editOptions))+"|":"")+this._regExpGenerator(_15cc)+")";
},value:NaN,editOptions:{pattern:"#.######"},_formatter:_15c9.format,_regExpGenerator:_15c9.regexp,postMixInProperties:function(){
this.inherited(arguments);
this._set("type","text");
},_setConstraintsAttr:function(_15cd){
var _15ce=typeof _15cd.places=="number"?_15cd.places:0;
if(_15ce){
_15ce++;
}
if(typeof _15cd.max!="number"){
_15cd.max=9*Math.pow(10,15-_15ce);
}
if(typeof _15cd.min!="number"){
_15cd.min=-9*Math.pow(10,15-_15ce);
}
this.inherited(arguments,[_15cd]);
if(this.focusNode&&this.focusNode.value&&!isNaN(this.value)){
this.set("value",this.value);
}
},_onFocus:function(){
if(this.disabled||this.readOnly){
return;
}
var val=this.get("value");
if(typeof val=="number"&&!isNaN(val)){
var _15cf=this.format(val,this.constraints);
if(_15cf!==undefined){
this.textbox.value=_15cf;
}
}
this.inherited(arguments);
},format:function(value,_15d0){
var _15d1=String(value);
if(typeof value!="number"){
return _15d1;
}
if(isNaN(value)){
return "";
}
if(!("rangeCheck" in this&&this.rangeCheck(value,_15d0))&&_15d0.exponent!==false&&/\de[-+]?\d/i.test(_15d1)){
return _15d1;
}
if(this.editOptions&&this.focused){
_15d0=lang.mixin({},_15d0,this.editOptions);
}
return this._formatter(value,_15d0);
},_parser:_15c9.parse,parse:function(value,_15d2){
var v=this._parser(value,lang.mixin({},_15d2,(this.editOptions&&this.focused)?this.editOptions:{}));
if(this.editOptions&&this.focused&&isNaN(v)){
v=this._parser(value,_15d2);
}
return v;
},_getDisplayedValueAttr:function(){
var v=this.inherited(arguments);
return isNaN(v)?this.textbox.value:v;
},filter:function(value){
return (value==null||value==="")?NaN:this.inherited(arguments);
},serialize:function(value,_15d3){
return (typeof value!="number"||isNaN(value))?"":this.inherited(arguments);
},_setBlurValue:function(){
var val=lang.hitch(lang.delegate(this,{focused:true}),"get")("value");
this._setValueAttr(val,true);
},_setValueAttr:function(value,_15d4,_15d5){
if(value!==undefined&&_15d5===undefined){
_15d5=String(value);
if(typeof value=="number"){
if(isNaN(value)){
_15d5="";
}else{
if(("rangeCheck" in this&&this.rangeCheck(value,this.constraints))||this.constraints.exponent===false||!/\de[-+]?\d/i.test(_15d5)){
_15d5=undefined;
}
}
}else{
if(!value){
_15d5="";
value=NaN;
}else{
value=undefined;
}
}
}
this.inherited(arguments,[value,_15d4,_15d5]);
},_getValueAttr:function(){
var v=this.inherited(arguments);
if(isNaN(v)&&this.textbox.value!==""){
if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)&&(new RegExp("^"+_15c9._realNumberRegexp(lang.delegate(this.constraints))+"$").test(this.textbox.value))){
var n=Number(this.textbox.value);
return isNaN(n)?undefined:n;
}else{
return undefined;
}
}else{
return v;
}
},isValid:function(_15d6){
if(!this.focused||this._isEmpty(this.textbox.value)){
return this.inherited(arguments);
}else{
var v=this.get("value");
if(!isNaN(v)&&this.rangeCheck(v,this.constraints)){
if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)){
return true;
}else{
return this.inherited(arguments);
}
}else{
return false;
}
}
}});
var _15d7=_15c8("dijit.form.NumberTextBox",[_15ca,_15cb],{baseClass:"dijitTextBox dijitNumberTextBox"});
_15d7.Mixin=_15cb;
return _15d7;
});
},"dojo/_base/url":function(){
define(["./kernel"],function(dojo){
var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_15d8=function(){
var n=null,_15d9=arguments,uri=[_15d9[0]];
for(var i=1;i<_15d9.length;i++){
if(!_15d9[i]){
continue;
}
var _15da=new _15d8(_15d9[i]+""),_15db=new _15d8(uri[0]+"");
if(_15da.path==""&&!_15da.scheme&&!_15da.authority&&!_15da.query){
if(_15da.fragment!=n){
_15db.fragment=_15da.fragment;
}
_15da=_15db;
}else{
if(!_15da.scheme){
_15da.scheme=_15db.scheme;
if(!_15da.authority){
_15da.authority=_15db.authority;
if(_15da.path.charAt(0)!="/"){
var path=_15db.path.substring(0,_15db.path.lastIndexOf("/")+1)+_15da.path;
var segs=path.split("/");
for(var j=0;j<segs.length;j++){
if(segs[j]=="."){
if(j==segs.length-1){
segs[j]="";
}else{
segs.splice(j,1);
j--;
}
}else{
if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){
if(j==(segs.length-1)){
segs.splice(j,1);
segs[j-1]="";
}else{
segs.splice(j-1,2);
j-=2;
}
}
}
}
_15da.path=segs.join("/");
}
}
}
}
uri=[];
if(_15da.scheme){
uri.push(_15da.scheme,":");
}
if(_15da.authority){
uri.push("//",_15da.authority);
}
uri.push(_15da.path);
if(_15da.query){
uri.push("?",_15da.query);
}
if(_15da.fragment){
uri.push("#",_15da.fragment);
}
}
this.uri=uri.join("");
var r=this.uri.match(ore);
this.scheme=r[2]||(r[1]?"":n);
this.authority=r[4]||(r[3]?"":n);
this.path=r[5];
this.query=r[7]||(r[6]?"":n);
this.fragment=r[9]||(r[8]?"":n);
if(this.authority!=n){
r=this.authority.match(ire);
this.user=r[3]||n;
this.password=r[4]||n;
this.host=r[6]||r[7];
this.port=r[9]||n;
}
};
_15d8.prototype.toString=function(){
return this.uri;
};
return dojo._Url=_15d8;
});
},"dijit/form/_ComboBoxMenuMixin":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(array,_15dc,_15dd,has,i18n){
var _15de=_15dc("dijit.form._ComboBoxMenuMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){
this.inherited(arguments);
this._messages=i18n.getLocalization("dijit.form","ComboBox",this.lang);
},buildRendering:function(){
this.inherited(arguments);
this.previousButton.innerHTML=this._messages["previousMessage"];
this.nextButton.innerHTML=this._messages["nextMessage"];
},_setValueAttr:function(value){
this._set("value",value);
this.onChange(value);
},onClick:function(node){
if(node==this.previousButton){
this._setSelectedAttr(null);
this.onPage(-1);
}else{
if(node==this.nextButton){
this._setSelectedAttr(null);
this.onPage(1);
}else{
this.onChange(node);
}
}
},onChange:function(){
},onPage:function(){
},onClose:function(){
this._setSelectedAttr(null);
},_createOption:function(item,_15df){
var _15e0=this._createMenuItem();
var _15e1=_15df(item);
if(_15e1.html){
_15e0.innerHTML=_15e1.label;
}else{
_15e0.appendChild(_15e0.ownerDocument.createTextNode(_15e1.label));
}
if(_15e0.innerHTML==""){
_15e0.innerHTML="&#160;";
}
return _15e0;
},createOptions:function(_15e2,_15e3,_15e4){
this.items=_15e2;
this.previousButton.style.display=(_15e3.start==0)?"none":"";
_15dd.set(this.previousButton,"id",this.id+"_prev");
array.forEach(_15e2,function(item,i){
var _15e5=this._createOption(item,_15e4);
_15e5.setAttribute("item",i);
_15dd.set(_15e5,"id",this.id+i);
this.nextButton.parentNode.insertBefore(_15e5,this.nextButton);
},this);
var _15e6=false;
if(_15e2.total&&!_15e2.total.then&&_15e2.total!=-1){
if((_15e3.start+_15e3.count)<_15e2.total){
_15e6=true;
}else{
if((_15e3.start+_15e3.count)>_15e2.total&&_15e3.count==_15e2.length){
_15e6=true;
}
}
}else{
if(_15e3.count==_15e2.length){
_15e6=true;
}
}
this.nextButton.style.display=_15e6?"":"none";
_15dd.set(this.nextButton,"id",this.id+"_next");
},clearResultList:function(){
var _15e7=this.containerNode;
while(_15e7.childNodes.length>2){
_15e7.removeChild(_15e7.childNodes[_15e7.childNodes.length-2]);
}
this._setSelectedAttr(null);
},highlightFirstOption:function(){
this.selectFirstNode();
},highlightLastOption:function(){
this.selectLastNode();
},selectFirstNode:function(){
this.inherited(arguments);
if(this.getHighlightedOption()==this.previousButton){
this.selectNextNode();
}
},selectLastNode:function(){
this.inherited(arguments);
if(this.getHighlightedOption()==this.nextButton){
this.selectPreviousNode();
}
},getHighlightedOption:function(){
return this.selected;
}});
if(has("dojo-bidi")){
_15de=_15dc("dijit.form._ComboBoxMenuMixin",_15de,{_createOption:function(){
var _15e8=this.inherited(arguments);
this.applyTextDir(_15e8);
return _15e8;
}});
}
return _15de;
});
},"dijit/Tree":function(){
define(["dojo/_base/array","dojo/aspect","dojo/_base/connect","dojo/cookie","dojo/_base/declare","dojo/Deferred","dojo/promise/all","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/errors/create","dojo/fx","dojo/has","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","dojo/touch","dojo/when","./a11yclick","./focus","./registry","./_base/manager","./_Widget","./_TemplatedMixin","./_Container","./_Contained","./_CssStateMixin","./_KeyNavMixin","dojo/text!./templates/TreeNode.html","dojo/text!./templates/Tree.html","./tree/TreeStoreModel","./tree/ForestStoreModel","./tree/_dndSelector","dojo/query!css2"],function(array,_15e9,_15ea,_15eb,_15ec,_15ed,all,dom,_15ee,_15ef,_15f0,_15f1,_15f2,has,_15f3,keys,lang,on,topic,touch,when,_15f4,focus,_15f5,_15f6,_15f7,_15f8,_15f9,_15fa,_15fb,_15fc,_15fd,_15fe,_15ff,_1600,_1601){
function _1602(d){
return lang.delegate(d.promise||d,{addCallback:function(_1603){
this.then(_1603);
},addErrback:function(_1604){
this.otherwise(_1604);
}});
};
var _1605=_15ec("dijit._TreeNode",[_15f7,_15f8,_15f9,_15fa,_15fb],{item:null,isTreeNode:true,label:"",_setLabelAttr:function(val){
this.labelNode[this.labelType=="html"?"innerHTML":"innerText" in this.labelNode?"innerText":"textContent"]=val;
this._set("label",val);
},labelType:"text",isExpandable:null,isExpanded:false,state:"NotLoaded",templateString:_15fd,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){
this.inherited(arguments);
this._setExpando();
this._updateItemClasses(this.item);
if(this.isExpandable){
this.labelNode.setAttribute("aria-expanded",this.isExpanded);
}
this.setSelected(false);
},_setIndentAttr:function(_1606){
var _1607=(Math.max(_1606,0)*this.tree._nodePixelIndent)+"px";
_15f0.set(this.domNode,"backgroundPosition",_1607+" 0px");
_15f0.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",_1607);
array.forEach(this.getChildren(),function(child){
child.set("indent",_1606+1);
});
this._set("indent",_1606);
},markProcessing:function(){
this.state="Loading";
this._setExpando(true);
},unmarkProcessing:function(){
this._setExpando(false);
},_updateItemClasses:function(item){
var tree=this.tree,model=tree.model;
if(tree._v10Compat&&item===model.root){
item=null;
}
this._applyClassAndStyle(item,"icon","Icon");
this._applyClassAndStyle(item,"label","Label");
this._applyClassAndStyle(item,"row","Row");
this.tree._startPaint(true);
},_applyClassAndStyle:function(item,lower,upper){
var _1608="_"+lower+"Class";
var _1609=lower+"Node";
var _160a=this[_1608];
this[_1608]=this.tree["get"+upper+"Class"](item,this.isExpanded);
_15ee.replace(this[_1609],this[_1608]||"",_160a||"");
_15f0.set(this[_1609],this.tree["get"+upper+"Style"](item,this.isExpanded)||{});
},_updateLayout:function(){
var _160b=this.getParent();
if(!_160b||!_160b.rowNode||_160b.rowNode.style.display=="none"){
_15ee.add(this.domNode,"dijitTreeIsRoot");
}else{
_15ee.toggle(this.domNode,"dijitTreeIsLast",!this.getNextSibling());
}
},_setExpando:function(_160c){
var _160d=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_160e=["*","-","+","*"],idx=_160c?0:(this.isExpandable?(this.isExpanded?1:2):3);
_15ee.replace(this.expandoNode,_160d[idx],_160d);
this.expandoNodeText.innerHTML=_160e[idx];
},expand:function(){
if(this._expandDeferred){
return _1602(this._expandDeferred);
}
if(this._collapseDeferred){
this._collapseDeferred.cancel();
delete this._collapseDeferred;
}
this.isExpanded=true;
this.labelNode.setAttribute("aria-expanded","true");
if(this.tree.showRoot||this!==this.tree.rootNode){
this.containerNode.setAttribute("role","group");
}
_15ee.add(this.contentNode,"dijitTreeContentExpanded");
this._setExpando();
this._updateItemClasses(this.item);
if(this==this.tree.rootNode&&this.tree.showRoot){
this.tree.domNode.setAttribute("aria-expanded","true");
}
var _160f=_15f2.wipeIn({node:this.containerNode,duration:_15f6.defaultDuration});
var def=(this._expandDeferred=new _15ed(function(){
_160f.stop();
}));
_15e9.after(_160f,"onEnd",function(){
def.resolve(true);
},true);
_160f.play();
return _1602(def);
},collapse:function(){
if(this._collapseDeferred){
return _1602(this._collapseDeferred);
}
if(this._expandDeferred){
this._expandDeferred.cancel();
delete this._expandDeferred;
}
this.isExpanded=false;
this.labelNode.setAttribute("aria-expanded","false");
if(this==this.tree.rootNode&&this.tree.showRoot){
this.tree.domNode.setAttribute("aria-expanded","false");
}
_15ee.remove(this.contentNode,"dijitTreeContentExpanded");
this._setExpando();
this._updateItemClasses(this.item);
var _1610=_15f2.wipeOut({node:this.containerNode,duration:_15f6.defaultDuration});
var def=(this._collapseDeferred=new _15ed(function(){
_1610.stop();
}));
_15e9.after(_1610,"onEnd",function(){
def.resolve(true);
},true);
_1610.play();
return _1602(def);
},indent:0,setChildItems:function(items){
var tree=this.tree,model=tree.model,defs=[];
var _1611=this.getChildren();
array.forEach(_1611,function(child){
_15f9.prototype.removeChild.call(this,child);
},this);
this.defer(function(){
array.forEach(_1611,function(node){
if(!node._destroyed&&!node.getParent()){
tree.dndController.removeTreeNode(node);
function _1612(node){
var id=model.getIdentity(node.item),ary=tree._itemNodesMap[id];
if(ary.length==1){
delete tree._itemNodesMap[id];
}else{
var index=array.indexOf(ary,node);
if(index!=-1){
ary.splice(index,1);
}
}
array.forEach(node.getChildren(),_1612);
};
_1612(node);
if(tree.persist){
var _1613=array.map(node.getTreePath(),function(item){
return tree.model.getIdentity(item);
}).join("/");
for(var path in tree._openedNodes){
if(path.substr(0,_1613.length)==_1613){
delete tree._openedNodes[path];
}
}
tree._saveExpandedNodes();
}
node.destroyRecursive();
}
});
});
this.state="Loaded";
if(items&&items.length>0){
this.isExpandable=true;
array.forEach(items,function(item){
var id=model.getIdentity(item),_1614=tree._itemNodesMap[id],node;
if(_1614){
for(var i=0;i<_1614.length;i++){
if(_1614[i]&&!_1614[i].getParent()){
node=_1614[i];
node.set("indent",this.indent+1);
break;
}
}
}
if(!node){
node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:model.mayHaveChildren(item),label:tree.getLabel(item),labelType:(tree.model&&tree.model.labelType)||"text",tooltip:tree.getTooltip(item),ownerDocument:tree.ownerDocument,dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});
if(_1614){
_1614.push(node);
}else{
tree._itemNodesMap[id]=[node];
}
}
this.addChild(node);
if(this.tree.autoExpand||this.tree._state(node)){
defs.push(tree._expandNode(node));
}
},this);
array.forEach(this.getChildren(),function(child){
child._updateLayout();
});
}else{
this.isExpandable=false;
}
if(this._setExpando){
this._setExpando(false);
}
this._updateItemClasses(this.item);
var def=all(defs);
this.tree._startPaint(def);
return _1602(def);
},getTreePath:function(){
var node=this;
var path=[];
while(node&&node!==this.tree.rootNode){
path.unshift(node.item);
node=node.getParent();
}
path.unshift(this.tree.rootNode.item);
return path;
},getIdentity:function(){
return this.tree.model.getIdentity(this.item);
},removeChild:function(node){
this.inherited(arguments);
var _1615=this.getChildren();
if(_1615.length==0){
this.isExpandable=false;
this.collapse();
}
array.forEach(_1615,function(child){
child._updateLayout();
});
},makeExpandable:function(){
this.isExpandable=true;
this._setExpando(false);
},setSelected:function(_1616){
this.labelNode.setAttribute("aria-selected",_1616?"true":"false");
_15ee.toggle(this.rowNode,"dijitTreeRowSelected",_1616);
},focus:function(){
focus.focus(this.focusNode);
}});
if(has("dojo-bidi")){
_1605.extend({_setTextDirAttr:function(_1617){
if(_1617&&((this.textDir!=_1617)||!this._created)){
this._set("textDir",_1617);
this.applyTextDir(this.labelNode);
array.forEach(this.getChildren(),function(_1618){
_1618.set("textDir",_1617);
},this);
}
}});
}
var Tree=_15ec("dijit.Tree",[_15f7,_15fc,_15f8,_15fb],{baseClass:"dijitTree",store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:_15fe,persist:false,autoExpand:false,dndController:_1601,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(_1619,_161a){
topic.publish(this.id,lang.mixin({tree:this,event:_1619},_161a||{}));
},postMixInProperties:function(){
this.tree=this;
if(this.autoExpand){
this.persist=false;
}
this._itemNodesMap={};
if(!this.cookieName&&this.id){
this.cookieName=this.id+"SaveStateCookie";
}
this.expandChildrenDeferred=new _15ed();
this.pendingCommandsPromise=this.expandChildrenDeferred.promise;
this.inherited(arguments);
},postCreate:function(){
this._initState();
var self=this;
this.own(on(this.containerNode,on.selector(".dijitTreeNode",touch.enter),function(evt){
self._onNodeMouseEnter(_15f5.byNode(this),evt);
}),on(this.containerNode,on.selector(".dijitTreeNode",touch.leave),function(evt){
self._onNodeMouseLeave(_15f5.byNode(this),evt);
}),on(this.containerNode,on.selector(".dijitTreeRow",_15f4.press),function(evt){
self._onNodePress(_15f5.getEnclosingWidget(this),evt);
}),on(this.containerNode,on.selector(".dijitTreeRow",_15f4),function(evt){
self._onClick(_15f5.getEnclosingWidget(this),evt);
}),on(this.containerNode,on.selector(".dijitTreeRow","dblclick"),function(evt){
self._onDblClick(_15f5.getEnclosingWidget(this),evt);
}));
if(!this.model){
this._store2model();
}
this.own(_15e9.after(this.model,"onChange",lang.hitch(this,"_onItemChange"),true),_15e9.after(this.model,"onChildrenChange",lang.hitch(this,"_onItemChildrenChange"),true),_15e9.after(this.model,"onDelete",lang.hitch(this,"_onItemDelete"),true));
this.inherited(arguments);
if(this.dndController){
if(lang.isString(this.dndController)){
this.dndController=lang.getObject(this.dndController);
}
var _161b={};
for(var i=0;i<this.dndParams.length;i++){
if(this[this.dndParams[i]]){
_161b[this.dndParams[i]]=this[this.dndParams[i]];
}
}
this.dndController=new this.dndController(this,_161b);
}
this._load();
this.onLoadDeferred=_1602(this.pendingCommandsPromise);
this.onLoadDeferred.then(lang.hitch(this,"onLoad"));
},_store2model:function(){
this._v10Compat=true;
_15f3.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");
var _161c={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};
if(this.params.mayHaveChildren){
_161c.mayHaveChildren=lang.hitch(this,"mayHaveChildren");
}
if(this.params.getItemChildren){
_161c.getChildren=lang.hitch(this,function(item,_161d,_161e){
this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_161d,_161e);
});
}
this.model=new _1600(_161c);
this.showRoot=Boolean(this.label);
},onLoad:function(){
},_load:function(){
this.model.getRoot(lang.hitch(this,function(item){
var rn=(this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1}));
if(!this.showRoot){
rn.rowNode.style.display="none";
this.domNode.setAttribute("role","presentation");
this.domNode.removeAttribute("aria-expanded");
this.domNode.removeAttribute("aria-multiselectable");
if(this["aria-label"]){
rn.containerNode.setAttribute("aria-label",this["aria-label"]);
this.domNode.removeAttribute("aria-label");
}else{
if(this["aria-labelledby"]){
rn.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]);
this.domNode.removeAttribute("aria-labelledby");
}
}
rn.labelNode.setAttribute("role","presentation");
rn.containerNode.setAttribute("role","tree");
rn.containerNode.setAttribute("aria-expanded","true");
rn.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular);
}else{
this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular);
this.rootLoadingIndicator.style.display="none";
}
this.containerNode.appendChild(rn.domNode);
var _161f=this.model.getIdentity(item);
if(this._itemNodesMap[_161f]){
this._itemNodesMap[_161f].push(rn);
}else{
this._itemNodesMap[_161f]=[rn];
}
rn._updateLayout();
this._expandNode(rn).then(lang.hitch(this,function(){
this.rootLoadingIndicator.style.display="none";
this.expandChildrenDeferred.resolve(true);
}));
}),lang.hitch(this,function(err){
console.error(this,": error loading root: ",err);
}));
},getNodesByItem:function(item){
if(!item){
return [];
}
var _1620=lang.isString(item)?item:this.model.getIdentity(item);
return [].concat(this._itemNodesMap[_1620]);
},_setSelectedItemAttr:function(item){
this.set("selectedItems",[item]);
},_setSelectedItemsAttr:function(items){
var tree=this;
return this.pendingCommandsPromise=this.pendingCommandsPromise.always(lang.hitch(this,function(){
var _1621=array.map(items,function(item){
return (!item||lang.isString(item))?item:tree.model.getIdentity(item);
});
var nodes=[];
array.forEach(_1621,function(id){
nodes=nodes.concat(tree._itemNodesMap[id]||[]);
});
this.set("selectedNodes",nodes);
}));
},_setPathAttr:function(path){
if(path.length){
return _1602(this.set("paths",[path]).then(function(paths){
return paths[0];
}));
}else{
return _1602(this.set("paths",[]).then(function(paths){
return paths[0];
}));
}
},_setPathsAttr:function(paths){
var tree=this;
function _1622(path,nodes){
var _1623=path.shift();
var _1624=array.filter(nodes,function(node){
return node.getIdentity()==_1623;
})[0];
if(!!_1624){
if(path.length){
return tree._expandNode(_1624).then(function(){
return _1622(path,_1624.getChildren());
});
}else{
return _1624;
}
}else{
throw new Tree.PathError("Could not expand path at "+_1623);
}
};
return _1602(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){
return all(array.map(paths,function(path){
path=array.map(path,function(item){
return lang.isString(item)?item:tree.model.getIdentity(item);
});
if(path.length){
return _1622(path,[tree.rootNode]);
}else{
throw new Tree.PathError("Empty path");
}
}));
}).then(function setNodes(_1625){
tree.set("selectedNodes",_1625);
return tree.paths;
}));
},_setSelectedNodeAttr:function(node){
this.set("selectedNodes",[node]);
},_setSelectedNodesAttr:function(nodes){
this.dndController.setSelection(nodes);
},expandAll:function(){
var _1626=this;
function _1627(node){
return _1626._expandNode(node).then(function(){
var _1628=array.filter(node.getChildren()||[],function(node){
return node.isExpandable;
});
return all(array.map(_1628,_1627));
});
};
return _1602(_1627(this.rootNode));
},collapseAll:function(){
var _1629=this;
function _162a(node){
var _162b=array.filter(node.getChildren()||[],function(node){
return node.isExpandable;
}),defs=all(array.map(_162b,_162a));
if(!node.isExpanded||(node==_1629.rootNode&&!_1629.showRoot)){
return defs;
}else{
return defs.then(function(){
return _1629._collapseNode(node);
});
}
};
return _1602(_162a(this.rootNode));
},mayHaveChildren:function(){
},getItemChildren:function(){
},getLabel:function(item){
return this.model.getLabel(item);
},getIconClass:function(item,_162c){
return (!item||this.model.mayHaveChildren(item))?(_162c?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";
},getLabelClass:function(){
},getRowClass:function(){
},getIconStyle:function(){
},getLabelStyle:function(){
},getRowStyle:function(){
},getTooltip:function(){
return "";
},_onDownArrow:function(evt,node){
var _162d=this._getNext(node);
if(_162d&&_162d.isTreeNode){
this.focusNode(_162d);
}
},_onUpArrow:function(evt,node){
var _162e=node.getPreviousSibling();
if(_162e){
node=_162e;
while(node.isExpandable&&node.isExpanded&&node.hasChildren()){
var _162f=node.getChildren();
node=_162f[_162f.length-1];
}
}else{
var _1630=node.getParent();
if(!(!this.showRoot&&_1630===this.rootNode)){
node=_1630;
}
}
if(node&&node.isTreeNode){
this.focusNode(node);
}
},_onRightArrow:function(evt,node){
if(node.isExpandable&&!node.isExpanded){
this._expandNode(node);
}else{
if(node.hasChildren()){
node=node.getChildren()[0];
if(node&&node.isTreeNode){
this.focusNode(node);
}
}
}
},_onLeftArrow:function(evt,node){
if(node.isExpandable&&node.isExpanded){
this._collapseNode(node);
}else{
var _1631=node.getParent();
if(_1631&&_1631.isTreeNode&&!(!this.showRoot&&_1631===this.rootNode)){
this.focusNode(_1631);
}
}
},focusLastChild:function(){
var node=this._getLast();
if(node&&node.isTreeNode){
this.focusNode(node);
}
},_getFirst:function(){
return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];
},_getLast:function(){
var node=this.rootNode;
while(node.isExpanded){
var c=node.getChildren();
if(!c.length){
break;
}
node=c[c.length-1];
}
return node;
},_getNext:function(node){
if(node.isExpandable&&node.isExpanded&&node.hasChildren()){
return node.getChildren()[0];
}else{
while(node&&node.isTreeNode){
var _1632=node.getNextSibling();
if(_1632){
return _1632;
}
node=node.getParent();
}
return null;
}
},childSelector:".dijitTreeRow",isExpandoNode:function(node,_1633){
return dom.isDescendant(node,_1633.expandoNode)||dom.isDescendant(node,_1633.expandoNodeText);
},_onNodePress:function(_1634,e){
_1634.focus();
},__click:function(_1635,e,_1636,func){
var _1637=e.target,_1638=this.isExpandoNode(_1637,_1635);
if(_1635.isExpandable&&(_1636||_1638)){
this._onExpandoClick({node:_1635});
}else{
this._publish("execute",{item:_1635.item,node:_1635,evt:e});
this[func](_1635.item,_1635,e);
this.focusNode(_1635);
}
e.stopPropagation();
e.preventDefault();
},_onClick:function(_1639,e){
this.__click(_1639,e,this.openOnClick,"onClick");
},_onDblClick:function(_163a,e){
this.__click(_163a,e,this.openOnDblClick,"onDblClick");
},_onExpandoClick:function(_163b){
var node=_163b.node;
this.focusNode(node);
if(node.isExpanded){
this._collapseNode(node);
}else{
this._expandNode(node);
}
},onClick:function(){
},onDblClick:function(){
},onOpen:function(){
},onClose:function(){
},_getNextNode:function(node){
_15f3.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");
return this._getNext(node);
},_getRootOrFirstNode:function(){
_15f3.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");
return this._getFirst();
},_collapseNode:function(node){
if(node._expandNodeDeferred){
delete node._expandNodeDeferred;
}
if(node.state=="Loading"){
return;
}
if(node.isExpanded){
var ret=node.collapse();
this.onClose(node.item,node);
this._state(node,false);
this._startPaint(ret);
return ret;
}
},_expandNode:function(node){
if(node._expandNodeDeferred){
return node._expandNodeDeferred;
}
var model=this.model,item=node.item,_163c=this;
if(!node._loadDeferred){
node.markProcessing();
node._loadDeferred=new _15ed();
model.getChildren(item,function(items){
node.unmarkProcessing();
node.setChildItems(items).then(function(){
node._loadDeferred.resolve(items);
});
},function(err){
console.error(_163c,": error loading "+node.label+" children: ",err);
node._loadDeferred.reject(err);
});
}
var def=node._loadDeferred.then(lang.hitch(this,function(){
var def2=node.expand();
this.onOpen(node.item,node);
this._state(node,true);
return def2;
}));
this._startPaint(def);
return def;
},focusNode:function(node){
this.focusChild(node);
},_onNodeMouseEnter:function(){
},_onNodeMouseLeave:function(){
},_onItemChange:function(item){
var model=this.model,_163d=model.getIdentity(item),nodes=this._itemNodesMap[_163d];
if(nodes){
var label=this.getLabel(item),_163e=this.getTooltip(item);
array.forEach(nodes,function(node){
node.set({item:item,label:label,tooltip:_163e});
node._updateItemClasses(item);
});
}
},_onItemChildrenChange:function(_163f,_1640){
var model=this.model,_1641=model.getIdentity(_163f),_1642=this._itemNodesMap[_1641];
if(_1642){
array.forEach(_1642,function(_1643){
_1643.setChildItems(_1640);
});
}
},_onItemDelete:function(item){
var model=this.model,_1644=model.getIdentity(item),nodes=this._itemNodesMap[_1644];
if(nodes){
array.forEach(nodes,function(node){
this.dndController.removeTreeNode(node);
var _1645=node.getParent();
if(_1645){
_1645.removeChild(node);
}
node.destroyRecursive();
},this);
delete this._itemNodesMap[_1644];
}
},_initState:function(){
this._openedNodes={};
if(this.persist&&this.cookieName){
var oreo=_15eb(this.cookieName);
if(oreo){
array.forEach(oreo.split(","),function(item){
this._openedNodes[item]=true;
},this);
}
}
},_state:function(node,_1646){
if(!this.persist){
return false;
}
var path=array.map(node.getTreePath(),function(item){
return this.model.getIdentity(item);
},this).join("/");
if(arguments.length===1){
return this._openedNodes[path];
}else{
if(_1646){
this._openedNodes[path]=true;
}else{
delete this._openedNodes[path];
}
this._saveExpandedNodes();
}
},_saveExpandedNodes:function(){
if(this.persist&&this.cookieName){
var ary=[];
for(var id in this._openedNodes){
ary.push(id);
}
_15eb(this.cookieName,ary.join(","),{expires:365});
}
},destroy:function(){
if(this._curSearch){
this._curSearch.timer.remove();
delete this._curSearch;
}
if(this.rootNode){
this.rootNode.destroyRecursive();
}
if(this.dndController&&!lang.isString(this.dndController)){
this.dndController.destroy();
}
this.rootNode=null;
this.inherited(arguments);
},destroyRecursive:function(){
this.destroy();
},resize:function(_1647){
if(_1647){
_15ef.setMarginBox(this.domNode,_1647);
}
this._nodePixelIndent=_15ef.position(this.tree.indentDetector).w||this._nodePixelIndent;
this.expandChildrenDeferred.then(lang.hitch(this,function(){
this.rootNode.set("indent",this.showRoot?0:-1);
this._adjustWidths();
}));
},_outstandingPaintOperations:0,_startPaint:function(p){
this._outstandingPaintOperations++;
if(this._adjustWidthsTimer){
this._adjustWidthsTimer.remove();
delete this._adjustWidthsTimer;
}
var oc=lang.hitch(this,function(){
this._outstandingPaintOperations--;
if(this._outstandingPaintOperations<=0&&!this._adjustWidthsTimer&&this._started){
this._adjustWidthsTimer=this.defer("_adjustWidths");
}
});
when(p,oc,oc);
},_adjustWidths:function(){
if(this._adjustWidthsTimer){
this._adjustWidthsTimer.remove();
delete this._adjustWidthsTimer;
}
this.containerNode.style.width="auto";
this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%";
},_createTreeNode:function(args){
return new _1605(args);
},focus:function(){
if(this.lastFocusedChild){
this.focusNode(this.lastFocusedChild);
}else{
this.focusFirstChild();
}
}});
if(has("dojo-bidi")){
Tree.extend({_setTextDirAttr:function(_1648){
if(_1648&&this.textDir!=_1648){
this._set("textDir",_1648);
this.rootNode.set("textDir",_1648);
}
}});
}
Tree.PathError=_15f1("TreePathError");
Tree._TreeNode=_1605;
return Tree;
});
},"put-selector/put":function(){
(function(_1649){
var _164a,_164b=/[-+,> ]/;
_1649([],_164a=function(doc,_164c){
"use strict";
_164b=_164c||_164b;
var _164d=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,_164e,doc=doc||document,_164f=typeof doc.createElement=="object";
function _1650(_1651,text){
_1651.appendChild(doc.createTextNode(text));
};
function put(_1652){
var _1653,_1654,_1655,_1656,_1657,args=arguments,_1658=args[0];
function _1659(){
if(_1657&&_1656&&_1657!=_1656){
(_1656==_1652&&(_1653||(_1653=_164b.test(_165a)&&doc.createDocumentFragment()))||_1656).insertBefore(_1657,_1655||null);
}
};
for(var i=0;i<args.length;i++){
var _165a=args[i];
if(typeof _165a=="object"){
_1654=false;
if(_165a instanceof Array){
_1657=doc.createDocumentFragment();
for(var key=0;key<_165a.length;key++){
_1657.appendChild(put(_165a[key]));
}
_165a=_1657;
}
if(_165a.nodeType){
_1657=_165a;
_1659();
_1656=_165a;
_1655=0;
}else{
for(var key in _165a){
_1657[key]=_165a[key];
}
}
}else{
if(_1654){
_1654=false;
_1650(_1657,_165a);
}else{
if(i<1){
_1652=null;
}
_1654=true;
var _165b=_165a.replace(_164d,function(t,_165c,_165d,value,_165e,_165f){
if(_165c){
_1659();
if(_165c=="-"||_165c=="+"){
_1656=(_1655=(_1657||_1656)).parentNode;
_1657=null;
if(_165c=="+"){
_1655=_1655.nextSibling;
}
}else{
if(_165c=="<"){
_1656=_1657=(_1657||_1656).parentNode;
}else{
if(_165c==","){
_1656=_1652;
}else{
if(_1657){
_1656=_1657;
}
}
_1657=null;
}
_1655=0;
}
if(_1657){
_1656=_1657;
}
}
var tag=!_165d&&value;
if(tag||(!_1657&&(_165d||_165e))){
if(tag=="$"){
_1650(_1656,args[++i]);
}else{
tag=tag||put.defaultTag;
var _1660=_164f&&args[i+1]&&args[i+1].name;
if(_1660){
tag="<"+tag+" name=\""+_1660+"\">";
}
_1657=doc.createElement(tag);
}
}
if(_165d){
if(value=="$"){
value=args[++i];
}
if(_165d=="#"){
_1657.id=value;
}else{
var _1661=_1657.className;
var _1662=_1661&&(" "+_1661+" ").replace(" "+value+" "," ");
if(_165d=="."){
_1657.className=_1661?(_1662+value).substring(1):value;
}else{
if(_165a=="!"){
put("div",_1657,"<").innerHTML="";
}else{
_1662=_1662.substring(1,_1662.length-1);
if(_1662!=_1661){
_1657.className=_1662;
}
}
}
}
}
if(_165e){
if(_165f=="$"){
_165f=args[++i];
}
if(_165e=="style"){
_1657.style.cssText=_165f;
}else{
_1657[_165e.charAt(0)=="!"?(_165e=_165e.substring(1))&&"removeAttribute":"setAttribute"](_165e,_165f===""?_165e:_165f);
}
}
return "";
});
if(_165b){
throw new SyntaxError("Unexpected char "+_165b+" in "+_165a);
}
_1659();
_1656=_1658=_1657||_1656;
}
}
}
if(_1652&&_1653){
_1652.appendChild(_1653);
}
return _1658;
};
put.defaultTag="div";
put.forDocument=_164a;
return put;
});
})(typeof define=="undefined"?function(deps,_1663){
if(typeof window=="undefined"){
require("./node-html")(module,_1663);
}else{
put=_1663();
}
}:define);
},"dijit/form/Button":function(){
define(["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html"],function(_1664,_1665,_1666,has,_1667,lang,ready,_1668,_1669,_166a){
if(has("dijit-legacy-requires")){
ready(0,function(){
var _166b=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];
_1664(_166b);
});
}
var _166c=_1665("dijit.form.Button"+(has("dojo-bidi")?"_NoBidi":""),[_1668,_1669],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_166a,_setValueAttr:"valueNode",_setNameAttr:function(name){
if(this.valueNode){
this.valueNode.setAttribute("name",name);
}
},_fillContent:function(_166d){
if(_166d&&(!this.params||!("label" in this.params))){
var _166e=lang.trim(_166d.innerHTML);
if(_166e){
this.label=_166e;
}
}
},_setShowLabelAttr:function(val){
if(this.containerNode){
_1666.toggle(this.containerNode,"dijitDisplayNone",!val);
}
this._set("showLabel",val);
},setLabel:function(_166f){
_1667.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");
this.set("label",_166f);
},_setLabelAttr:function(_1670){
this.inherited(arguments);
if(!this.showLabel&&!("title" in this.params)){
this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");
}
}});
if(has("dojo-bidi")){
_166c=_1665("dijit.form.Button",_166c,{_setLabelAttr:function(_1671){
this.inherited(arguments);
if(this.titleNode.title){
this.applyTextDir(this.titleNode,this.titleNode.title);
}
},_setTextDirAttr:function(_1672){
if(this._created&&this.textDir!=_1672){
this._set("textDir",_1672);
this._setLabelAttr(this.label);
}
}});
}
return _166c;
});
},"manager/TransferBox":function(){
define("manager/TransferBox",["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dgrid/OnDemandList","dgrid/Selection","dgrid/Keyboard","dojo/dom-construct","dojo/text!./templates/TransferBox.html","dijit/form/Button"],function(_1673,_1674,_1675,_1676,List,_1677,_1678,_1679,_167a){
var _167b=_1673([List,_1677,_1678]);
function _167c(list,_167d){
var _167e=0;
list.on("dgrid-select",function(e){
_167e+=e.rows.length;
_167d.set("disabled",!_167e);
});
list.on("dgrid-deselect",function(e){
_167e-=e.rows.length;
_167d.set("disabled",!_167e);
});
};
return _1673("Manager.TransferBox",[_1674,_1675,_1676],{templateString:_167a,baseClass:"TransferBox",sortProperty:"id",selectionMode:"extended",postCreate:function(){
this.inherited(arguments);
this.addButton.set("disabled",true);
this.removeButton.set("disabled",true);
var from=this.from=new _167b({store:this.store,selectionMode:this.selectionMode,query:function(item){
return !item.__selected;
},sort:this.sortProperty,renderRow:this.renderItem},this.fromNode);
_167c(from,this.addButton);
var to=this.to=new _167b({store:this.store,selectionMode:this.selectionMode,query:function(item){
return item.__selected;
},sort:this.sortProperty,renderRow:this.renderItem},this.toNode);
_167c(to,this.removeButton);
},_setValueAttr:function(value){
var _167f=!this.from||!this.from._started;
for(var i=0;i<value.length;i++){
var item=this.store.get(value[i]);
if(!item){
continue;
}
item.__selected=true;
_167f&&this.store.put(item);
this.input(item.id,"add");
}
},_getValueAttr:function(){
var store=this.store;
return store.query(function(item){
return item.__selected;
}).map(function(item){
return store.getIdentity(item);
});
},add:function(){
for(var id in this.from.selection){
var row=this.from.row(id);
row.data.__selected=true;
this.store.put(row.data);
this.input(id,"add");
}
},remove:function(){
for(var id in this.to.selection){
var row=this.to.row(id);
row.data.__selected=false;
this.store.put(row.data);
this.input(id,"del");
}
},input:function(id,op){
var _1680=this.idHidden+"["+id+"]";
if(op=="add"){
var _1681=_1679.create("input",{type:"hidden",id:_1680,name:_1680,value:id},manager.getParentForm(this.id));
}else{
if(op=="del"){
_1679.destroy(_1680);
}
}
},renderItem:function(item){
return _1679.create("div",{innerHTML:item.name});
}});
});
},"dijit/CalendarLite":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./a11yclick","./hccss"],function(array,_1682,_1683,date,_1684,stamp,dom,_1685,lang,on,has,_1686,_1687,_1688,_1689){
var _168a=_1682("dijit.CalendarLite",[_1687,_1688],{templateString:_1689,dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\" scope=\"col\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",weekTemplateString:"<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>",value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),_setSummaryAttr:"gridNode",baseClass:"dijitCalendar",_isValidDate:function(value){
return value&&!isNaN(value)&&typeof value=="object"&&value.toString()!=this.constructor.prototype.value.toString();
},_getValueAttr:function(){
var _168b=this._get("value");
if(_168b&&!isNaN(_168b)){
var value=new this.dateClassObj(_168b);
value.setHours(0,0,0,0);
if(value.getDate()<_168b.getDate()){
value=this.dateModule.add(value,"hour",1);
}
return value;
}else{
return null;
}
},_setValueAttr:function(value,_168c){
if(typeof value=="string"){
value=stamp.fromISOString(value);
}
value=this._patchDate(value);
if(this._isValidDate(value)&&!this.isDisabledDate(value,this.lang)){
this._set("value",value);
this.set("currentFocus",value);
this._markSelectedDates([value]);
if(this._created&&(_168c||typeof _168c=="undefined")){
this.onChange(this.get("value"));
}
}else{
this._set("value",null);
this._markSelectedDates([]);
}
},_patchDate:function(value){
if(value){
value=new this.dateClassObj(value);
value.setHours(1,0,0,0);
}
return value;
},_setText:function(node,text){
while(node.firstChild){
node.removeChild(node.firstChild);
}
node.appendChild(node.ownerDocument.createTextNode(text));
},_populateGrid:function(){
var month=new this.dateClassObj(this.currentFocus);
month.setDate(1);
var _168d=month.getDay(),_168e=this.dateModule.getDaysInMonth(month),_168f=this.dateModule.getDaysInMonth(this.dateModule.add(month,"month",-1)),today=new this.dateClassObj(),_1690=_1683.getFirstDayOfWeek(this.lang);
if(_1690>_168d){
_1690-=7;
}
if(!this.summary){
var _1691=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month);
this.gridNode.setAttribute("summary",_1691[month.getMonth()]);
}
this._date2cell={};
array.forEach(this.dateCells,function(_1692,idx){
var i=idx+_1690;
var date=new this.dateClassObj(month),_1693,clazz="dijitCalendar",adj=0;
if(i<_168d){
_1693=_168f-_168d+i+1;
adj=-1;
clazz+="Previous";
}else{
if(i>=(_168d+_168e)){
_1693=i-_168d-_168e+1;
adj=1;
clazz+="Next";
}else{
_1693=i-_168d+1;
clazz+="Current";
}
}
if(adj){
date=this.dateModule.add(date,"month",adj);
}
date.setDate(_1693);
if(!this.dateModule.compare(date,today,"date")){
clazz="dijitCalendarCurrentDate "+clazz;
}
if(this.isDisabledDate(date,this.lang)){
clazz="dijitCalendarDisabledDate "+clazz;
_1692.setAttribute("aria-disabled","true");
}else{
clazz="dijitCalendarEnabledDate "+clazz;
_1692.removeAttribute("aria-disabled");
_1692.setAttribute("aria-selected","false");
}
var _1694=this.getClassForDate(date,this.lang);
if(_1694){
clazz=_1694+" "+clazz;
}
_1692.className=clazz+"Month dijitCalendarDateTemplate";
var _1695=date.valueOf();
this._date2cell[_1695]=_1692;
_1692.dijitDateValue=_1695;
this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());
},this);
},_populateControls:function(){
var month=new this.dateClassObj(this.currentFocus);
month.setDate(1);
this.monthWidget.set("month",month);
var y=month.getFullYear()-1;
var d=new this.dateClassObj();
array.forEach(["previous","current","next"],function(name){
d.setFullYear(y++);
this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));
},this);
},goToToday:function(){
this.set("value",new this.dateClassObj());
},constructor:function(_1696){
this.dateModule=_1696.datePackage?lang.getObject(_1696.datePackage,false):date;
this.dateClassObj=this.dateModule.Date||Date;
this.dateLocaleModule=_1696.datePackage?lang.getObject(_1696.datePackage+".locale",false):_1684;
},_createMonthWidget:function(){
return _168a._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);
},buildRendering:function(){
var d=this.dowTemplateString,_1697=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_1698=_1683.getFirstDayOfWeek(this.lang);
this.dayCellsHtml=_1686.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){
return _1697[_1698++%7];
});
var r=_1686.substitute(this.weekTemplateString,{d:this.dateTemplateString});
this.dateRowsHtml=[r,r,r,r,r,r].join("");
this.dateCells=[];
this.dateLabels=[];
this.inherited(arguments);
dom.setSelectable(this.domNode,false);
var _1699=new this.dateClassObj(this.currentFocus);
this.monthWidget=this._createMonthWidget();
this.set("currentFocus",_1699,false);
},postCreate:function(){
this.inherited(arguments);
this._connectControls();
},_connectControls:function(){
var _169a=lang.hitch(this,function(_169b,part,_169c){
return on(this[_169b],"click",lang.hitch(this,function(){
this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,part,_169c));
}));
});
this.own(_169a("incrementMonth","month",1),_169a("decrementMonth","month",-1),_169a("nextYearLabelNode","year",1),_169a("previousYearLabelNode","year",-1));
},_setCurrentFocusAttr:function(date,_169d){
var _169e=this.currentFocus,_169f=this._getNodeByDate(_169e);
date=this._patchDate(date);
this._set("currentFocus",date);
if(!this._date2cell||this.dateModule.difference(_169e,date,"month")!=0){
this._populateGrid();
this._populateControls();
this._markSelectedDates([this.value]);
}
var _16a0=this._getNodeByDate(date);
_16a0.setAttribute("tabIndex",this.tabIndex);
if(this.focused||_169d){
_16a0.focus();
}
if(_169f&&_169f!=_16a0){
if(has("webkit")){
_169f.setAttribute("tabIndex","-1");
}else{
_169f.removeAttribute("tabIndex");
}
}
},focus:function(){
this._setCurrentFocusAttr(this.currentFocus,true);
},_onDayClick:function(evt){
evt.stopPropagation();
evt.preventDefault();
for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){
}
if(node&&!_1685.contains(node,"dijitCalendarDisabledDate")){
this.set("value",node.dijitDateValue);
}
},_getNodeByDate:function(value){
value=this._patchDate(value);
return value&&this._date2cell?this._date2cell[value.valueOf()]:null;
},_markSelectedDates:function(dates){
function mark(_16a1,cell){
_1685.toggle(cell,"dijitCalendarSelectedDate",_16a1);
cell.setAttribute("aria-selected",_16a1?"true":"false");
};
array.forEach(this._selectedCells||[],lang.partial(mark,false));
this._selectedCells=array.filter(array.map(dates,this._getNodeByDate,this),function(n){
return n;
});
array.forEach(this._selectedCells,lang.partial(mark,true));
},onChange:function(){
},isDisabledDate:function(){
},getClassForDate:function(){
}});
_168a._MonthWidget=_1682("dijit.CalendarLite._MonthWidget",_1687,{_setMonthAttr:function(month){
var _16a2=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month),_16a3=(has("ie")==6?"":"<div class='dijitSpacer'>"+array.map(_16a2,function(s){
return "<div>"+s+"</div>";
}).join("")+"</div>");
this.domNode.innerHTML=_16a3+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_16a2[month.getMonth()]+"</div>";
}});
return _168a;
});
},"dojo/parser":function(){
define(["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./dom","./_base/window","./_base/url","./aspect","./promise/all","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_16a4,dojo,dlang,_16a5,_16a6,dom,_16a7,_16a8,_16a9,all,dates,_16aa,has,query,don,ready){
new Date("X");
function _16ab(text){
return eval("("+text+")");
};
var _16ac=0;
_16a9.after(dlang,"extend",function(){
_16ac++;
},true);
function _16ad(ctor){
var map=ctor._nameCaseMap,proto=ctor.prototype;
if(!map||map._extendCnt<_16ac){
map=ctor._nameCaseMap={};
for(var name in proto){
if(name.charAt(0)==="_"){
continue;
}
map[name.toLowerCase()]=name;
}
map._extendCnt=_16ac;
}
return map;
};
var _16ae={};
function _16af(types,_16b0){
var ts=types.join();
if(!_16ae[ts]){
var _16b1=[];
for(var i=0,l=types.length;i<l;i++){
var t=types[i];
_16b1[_16b1.length]=(_16ae[t]=_16ae[t]||(dlang.getObject(t)||(~t.indexOf("/")&&(_16b0?_16b0(t):_16a4(t)))));
}
var ctor=_16b1.shift();
_16ae[ts]=_16b1.length?(ctor.createSubclass?ctor.createSubclass(_16b1):ctor.extend.apply(ctor,_16b1)):ctor;
}
return _16ae[ts];
};
var _16b2={_clearCache:function(){
_16ac++;
_16ae={};
},_functionFromScript:function(_16b3,_16b4){
var _16b5="",_16b6="",_16b7=(_16b3.getAttribute(_16b4+"args")||_16b3.getAttribute("args")),_16b8=_16b3.getAttribute("with");
var _16b9=(_16b7||"").split(/\s*,\s*/);
if(_16b8&&_16b8.length){
_16a5.forEach(_16b8.split(/\s*,\s*/),function(part){
_16b5+="with("+part+"){";
_16b6+="}";
});
}
return new Function(_16b9,_16b5+_16b3.innerHTML+_16b6);
},instantiate:function(nodes,mixin,_16ba){
mixin=mixin||{};
_16ba=_16ba||{};
var _16bb=(_16ba.scope||dojo._scopeName)+"Type",_16bc="data-"+(_16ba.scope||dojo._scopeName)+"-",_16bd=_16bc+"type",_16be=_16bc+"mixins";
var list=[];
_16a5.forEach(nodes,function(node){
var type=_16bb in mixin?mixin[_16bb]:node.getAttribute(_16bd)||node.getAttribute(_16bb);
if(type){
var _16bf=node.getAttribute(_16be),types=_16bf?[type].concat(_16bf.split(/\s*,\s*/)):[type];
list.push({node:node,types:types});
}
});
return this._instantiate(list,mixin,_16ba);
},_instantiate:function(nodes,mixin,_16c0,_16c1){
var _16c2=_16a5.map(nodes,function(obj){
var ctor=obj.ctor||_16af(obj.types,_16c0.contextRequire);
if(!ctor){
throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");
}
return this.construct(ctor,obj.node,mixin,_16c0,obj.scripts,obj.inherited);
},this);
function _16c3(_16c4){
if(!mixin._started&&!_16c0.noStart){
_16a5.forEach(_16c4,function(_16c5){
if(typeof _16c5.startup==="function"&&!_16c5._started){
_16c5.startup();
}
});
}
return _16c4;
};
if(_16c1){
return all(_16c2).then(_16c3);
}else{
return _16c3(_16c2);
}
},construct:function(ctor,node,mixin,_16c6,_16c7,_16c8){
var proto=ctor&&ctor.prototype;
_16c6=_16c6||{};
var _16c9={};
if(_16c6.defaults){
dlang.mixin(_16c9,_16c6.defaults);
}
if(_16c8){
dlang.mixin(_16c9,_16c8);
}
var _16ca;
if(has("dom-attributes-explicit")){
_16ca=node.attributes;
}else{
if(has("dom-attributes-specified-flag")){
_16ca=_16a5.filter(node.attributes,function(a){
return a.specified;
});
}else{
var clone=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),attrs=clone.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");
_16ca=_16a5.map(attrs.split(/\s+/),function(name){
var _16cb=name.toLowerCase();
return {name:name,value:(node.nodeName=="LI"&&name=="value")||_16cb=="enctype"?node.getAttribute(_16cb):node.getAttributeNode(_16cb).value};
});
}
}
var scope=_16c6.scope||dojo._scopeName,_16cc="data-"+scope+"-",hash={};
if(scope!=="dojo"){
hash[_16cc+"props"]="data-dojo-props";
hash[_16cc+"type"]="data-dojo-type";
hash[_16cc+"mixins"]="data-dojo-mixins";
hash[scope+"type"]="dojoType";
hash[_16cc+"id"]="data-dojo-id";
}
var i=0,item,_16cd=[],_16ce,extra;
while(item=_16ca[i++]){
var name=item.name,_16cf=name.toLowerCase(),value=item.value;
switch(hash[_16cf]||_16cf){
case "data-dojo-type":
case "dojotype":
case "data-dojo-mixins":
break;
case "data-dojo-props":
extra=value;
break;
case "data-dojo-id":
case "jsid":
_16ce=value;
break;
case "data-dojo-attach-point":
case "dojoattachpoint":
_16c9.dojoAttachPoint=value;
break;
case "data-dojo-attach-event":
case "dojoattachevent":
_16c9.dojoAttachEvent=value;
break;
case "class":
_16c9["class"]=node.className;
break;
case "style":
_16c9["style"]=node.style&&node.style.cssText;
break;
default:
if(!(name in proto)){
var map=_16ad(ctor);
name=map[_16cf]||name;
}
if(name in proto){
switch(typeof proto[name]){
case "string":
_16c9[name]=value;
break;
case "number":
_16c9[name]=value.length?Number(value):NaN;
break;
case "boolean":
_16c9[name]=value.toLowerCase()!="false";
break;
case "function":
if(value===""||value.search(/[^\w\.]+/i)!=-1){
_16c9[name]=new Function(value);
}else{
_16c9[name]=dlang.getObject(value,false)||new Function(value);
}
_16cd.push(name);
break;
default:
var pVal=proto[name];
_16c9[name]=(pVal&&"length" in pVal)?(value?value.split(/\s*,\s*/):[]):(pVal instanceof Date)?(value==""?new Date(""):value=="now"?new Date():dates.fromISOString(value)):(pVal instanceof _16a8)?(dojo.baseUrl+value):_16ab(value);
}
}else{
_16c9[name]=value;
}
}
}
for(var j=0;j<_16cd.length;j++){
var _16d0=_16cd[j].toLowerCase();
node.removeAttribute(_16d0);
node[_16d0]=null;
}
if(extra){
try{
extra=_16ab.call(_16c6.propsThis,"{"+extra+"}");
dlang.mixin(_16c9,extra);
}
catch(e){
throw new Error(e.toString()+" in data-dojo-props='"+extra+"'");
}
}
dlang.mixin(_16c9,mixin);
if(!_16c7){
_16c7=(ctor&&(ctor._noScript||proto._noScript)?[]:query("> script[type^='dojo/']",node));
}
var _16d1=[],calls=[],_16d2=[],ons=[];
if(_16c7){
for(i=0;i<_16c7.length;i++){
var _16d3=_16c7[i];
node.removeChild(_16d3);
var event=(_16d3.getAttribute(_16cc+"event")||_16d3.getAttribute("event")),prop=_16d3.getAttribute(_16cc+"prop"),_16d4=_16d3.getAttribute(_16cc+"method"),_16d5=_16d3.getAttribute(_16cc+"advice"),_16d6=_16d3.getAttribute("type"),nf=this._functionFromScript(_16d3,_16cc);
if(event){
if(_16d6=="dojo/connect"){
_16d1.push({method:event,func:nf});
}else{
if(_16d6=="dojo/on"){
ons.push({event:event,func:nf});
}else{
_16c9[event]=nf;
}
}
}else{
if(_16d6=="dojo/aspect"){
_16d1.push({method:_16d4,advice:_16d5,func:nf});
}else{
if(_16d6=="dojo/watch"){
_16d2.push({prop:prop,func:nf});
}else{
calls.push(nf);
}
}
}
}
}
var _16d7=ctor.markupFactory||proto.markupFactory;
var _16d8=_16d7?_16d7(_16c9,node,ctor):new ctor(_16c9,node);
function _16d9(_16da){
if(_16ce){
dlang.setObject(_16ce,_16da);
}
for(i=0;i<_16d1.length;i++){
_16a9[_16d1[i].advice||"after"](_16da,_16d1[i].method,dlang.hitch(_16da,_16d1[i].func),true);
}
for(i=0;i<calls.length;i++){
calls[i].call(_16da);
}
for(i=0;i<_16d2.length;i++){
_16da.watch(_16d2[i].prop,_16d2[i].func);
}
for(i=0;i<ons.length;i++){
don(_16da,ons[i].event,ons[i].func);
}
return _16da;
};
if(_16d8.then){
return _16d8.then(_16d9);
}else{
return _16d9(_16d8);
}
},scan:function(root,_16db){
var list=[],mids=[],_16dc={};
var _16dd=(_16db.scope||dojo._scopeName)+"Type",_16de="data-"+(_16db.scope||dojo._scopeName)+"-",_16df=_16de+"type",_16e0=_16de+"textdir",_16e1=_16de+"mixins";
var node=root.firstChild;
var _16e2=_16db.inherited;
if(!_16e2){
function _16e3(node,attr){
return (node.getAttribute&&node.getAttribute(attr))||(node.parentNode&&_16e3(node.parentNode,attr));
};
_16e2={dir:_16e3(root,"dir"),lang:_16e3(root,"lang"),textDir:_16e3(root,_16e0)};
for(var key in _16e2){
if(!_16e2[key]){
delete _16e2[key];
}
}
}
var _16e4={inherited:_16e2};
var _16e5;
var _16e6;
function _16e7(_16e8){
if(!_16e8.inherited){
_16e8.inherited={};
var node=_16e8.node,_16e9=_16e7(_16e8.parent);
var _16ea={dir:node.getAttribute("dir")||_16e9.dir,lang:node.getAttribute("lang")||_16e9.lang,textDir:node.getAttribute(_16e0)||_16e9.textDir};
for(var key in _16ea){
if(_16ea[key]){
_16e8.inherited[key]=_16ea[key];
}
}
}
return _16e8.inherited;
};
while(true){
if(!node){
if(!_16e4||!_16e4.node){
break;
}
node=_16e4.node.nextSibling;
_16e6=false;
_16e4=_16e4.parent;
_16e5=_16e4.scripts;
continue;
}
if(node.nodeType!=1){
node=node.nextSibling;
continue;
}
if(_16e5&&node.nodeName.toLowerCase()=="script"){
type=node.getAttribute("type");
if(type&&/^dojo\/\w/i.test(type)){
_16e5.push(node);
}
node=node.nextSibling;
continue;
}
if(_16e6){
node=node.nextSibling;
continue;
}
var type=node.getAttribute(_16df)||node.getAttribute(_16dd);
var _16eb=node.firstChild;
if(!type&&(!_16eb||(_16eb.nodeType==3&&!_16eb.nextSibling))){
node=node.nextSibling;
continue;
}
var _16ec;
var ctor=null;
if(type){
var _16ed=node.getAttribute(_16e1),types=_16ed?[type].concat(_16ed.split(/\s*,\s*/)):[type];
try{
ctor=_16af(types,_16db.contextRequire);
}
catch(e){
}
if(!ctor){
_16a5.forEach(types,function(t){
if(~t.indexOf("/")&&!_16dc[t]){
_16dc[t]=true;
mids[mids.length]=t;
}
});
}
var _16ee=ctor&&!ctor.prototype._noScript?[]:null;
_16ec={types:types,ctor:ctor,parent:_16e4,node:node,scripts:_16ee};
_16ec.inherited=_16e7(_16ec);
list.push(_16ec);
}else{
_16ec={node:node,scripts:_16e5,parent:_16e4};
}
_16e5=_16ee;
_16e6=node.stopParser||(ctor&&ctor.prototype.stopParser&&!(_16db.template));
_16e4=_16ec;
node=_16eb;
}
var d=new _16aa();
if(mids.length){
if(has("dojo-debug-messages")){
console.warn("WARNING: Modules being Auto-Required: "+mids.join(", "));
}
var r=_16db.contextRequire||_16a4;
r(mids,function(){
d.resolve(_16a5.filter(list,function(_16ef){
if(!_16ef.ctor){
try{
_16ef.ctor=_16af(_16ef.types,_16db.contextRequire);
}
catch(e){
}
}
var _16f0=_16ef.parent;
while(_16f0&&!_16f0.types){
_16f0=_16f0.parent;
}
var proto=_16ef.ctor&&_16ef.ctor.prototype;
_16ef.instantiateChildren=!(proto&&proto.stopParser&&!(_16db.template));
_16ef.instantiate=!_16f0||(_16f0.instantiate&&_16f0.instantiateChildren);
return _16ef.instantiate;
}));
});
}else{
d.resolve(list);
}
return d.promise;
},_require:function(_16f1,_16f2){
var hash=_16ab("{"+_16f1.innerHTML+"}"),vars=[],mids=[],d=new _16aa();
var _16f3=(_16f2&&_16f2.contextRequire)||_16a4;
for(var name in hash){
vars.push(name);
mids.push(hash[name]);
}
_16f3(mids,function(){
for(var i=0;i<vars.length;i++){
dlang.setObject(vars[i],arguments[i]);
}
d.resolve(arguments);
});
return d.promise;
},_scanAmd:function(root,_16f4){
var _16f5=new _16aa(),_16f6=_16f5.promise;
_16f5.resolve(true);
var self=this;
query("script[type='dojo/require']",root).forEach(function(node){
_16f6=_16f6.then(function(){
return self._require(node,_16f4);
});
node.parentNode.removeChild(node);
});
return _16f6;
},parse:function(_16f7,_16f8){
var root;
if(!_16f8&&_16f7&&_16f7.rootNode){
_16f8=_16f7;
root=_16f8.rootNode;
}else{
if(_16f7&&dlang.isObject(_16f7)&&!("nodeType" in _16f7)){
_16f8=_16f7;
}else{
root=_16f7;
}
}
root=root?dom.byId(root):_16a7.body();
_16f8=_16f8||{};
var mixin=_16f8.template?{template:true}:{},_16f9=[],self=this;
var p=this._scanAmd(root,_16f8).then(function(){
return self.scan(root,_16f8);
}).then(function(_16fa){
return self._instantiate(_16fa,mixin,_16f8,true);
}).then(function(_16fb){
return _16f9=_16f9.concat(_16fb);
}).otherwise(function(e){
console.error("dojo/parser::parse() error",e);
throw e;
});
dlang.mixin(_16f9,p);
return _16f9;
}};
if(1){
dojo.parser=_16b2;
}
if(_16a6.parseOnLoad){
ready(100,_16b2,"parse");
}
return _16b2;
});
},"dijit/Toolbar":function(){
define(["require","dojo/_base/declare","dojo/has","dojo/keys","dojo/ready","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_16fc,_16fd,has,keys,ready,_16fe,_16ff,_1700){
if(has("dijit-legacy-requires")){
ready(0,function(){
var _1701=["dijit/ToolbarSeparator"];
_16fc(_1701);
});
}
return _16fd("dijit.Toolbar",[_16fe,_1700,_16ff],{templateString:"<div class=\"dijit\" role=\"toolbar\" tabIndex=\"${tabIndex}\" data-dojo-attach-point=\"containerNode\">"+"</div>",baseClass:"dijitToolbar",_onLeftArrow:function(){
this.focusPrev();
},_onRightArrow:function(){
this.focusNext();
}});
});
},"dojo/promise/all":function(){
define(["../_base/array","../Deferred","../when"],function(array,_1702,when){
"use strict";
var some=array.some;
return function all(_1703){
var _1704,array;
if(_1703 instanceof Array){
array=_1703;
}else{
if(_1703&&typeof _1703==="object"){
_1704=_1703;
}
}
var _1705;
var _1706=[];
if(_1704){
array=[];
for(var key in _1704){
if(Object.hasOwnProperty.call(_1704,key)){
_1706.push(key);
array.push(_1704[key]);
}
}
_1705={};
}else{
if(array){
_1705=[];
}
}
if(!array||!array.length){
return new _1702().resolve(_1705);
}
var _1707=new _1702();
_1707.promise.always(function(){
_1705=_1706=null;
});
var _1708=array.length;
some(array,function(_1709,index){
if(!_1704){
_1706.push(index);
}
when(_1709,function(value){
if(!_1707.isFulfilled()){
_1705[_1706[index]]=value;
if(--_1708===0){
_1707.resolve(_1705);
}
}
},_1707.reject);
return _1707.isFulfilled();
});
return _1707.promise;
};
});
},"dijit/form/nls/pt/validate":function(){
define(({invalidMessage:"O valor inserido no  vlido.",missingMessage:"Este valor  necessrio.",rangeMessage:"Este valor est fora do intervalo. "}));
},"dijit/form/_Spinner":function(){
define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/mouse","dojo/on","../typematic","./RangeBoundTextBox","dojo/text!./templates/Spinner.html","./_TextBoxMixin"],function(_170a,keys,lang,has,mouse,on,_170b,_170c,_170d,_170e){
return _170a("dijit.form._Spinner",_170c,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:_170d,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{"upArrowNode":"dijitUpArrowButton","downArrowNode":"dijitDownArrowButton"},adjust:function(val){
return val;
},_arrowPressed:function(_170f,_1710,_1711){
if(this.disabled||this.readOnly){
return;
}
this._setValueAttr(this.adjust(this.get("value"),_1710*_1711),false);
_170e.selectInputText(this.textbox,this.textbox.value.length);
},_arrowReleased:function(){
this._wheelTimer=null;
},_typematicCallback:function(count,node,evt){
var inc=this.smallDelta;
if(node==this.textbox){
var key=evt.keyCode;
inc=(key==keys.PAGE_UP||key==keys.PAGE_DOWN)?this.largeDelta:this.smallDelta;
node=(key==keys.UP_ARROW||key==keys.PAGE_UP)?this.upArrowNode:this.downArrowNode;
}
if(count==-1){
this._arrowReleased(node);
}else{
this._arrowPressed(node,(node==this.upArrowNode)?1:-1,inc);
}
},_wheelTimer:null,_mouseWheeled:function(evt){
evt.stopPropagation();
evt.preventDefault();
var _1712=evt.wheelDelta/120;
if(Math.floor(_1712)!=_1712){
_1712=evt.wheelDelta>0?1:-1;
}
var _1713=evt.detail?(evt.detail*-1):_1712;
if(_1713!==0){
var node=this[(_1713>0?"upArrowNode":"downArrowNode")];
this._arrowPressed(node,_1713,this.smallDelta);
if(this._wheelTimer){
this._wheelTimer.remove();
}
this._wheelTimer=this.defer(function(){
this._arrowReleased(node);
},50);
}
},_setConstraintsAttr:function(_1714){
this.inherited(arguments);
if(this.focusNode){
if(this.constraints.min!==undefined){
this.focusNode.setAttribute("aria-valuemin",this.constraints.min);
}else{
this.focusNode.removeAttribute("aria-valuemin");
}
if(this.constraints.max!==undefined){
this.focusNode.setAttribute("aria-valuemax",this.constraints.max);
}else{
this.focusNode.removeAttribute("aria-valuemax");
}
}
},_setValueAttr:function(value,_1715){
this.focusNode.setAttribute("aria-valuenow",value);
this.inherited(arguments);
},postCreate:function(){
this.inherited(arguments);
this.own(on(this.domNode,mouse.wheel,lang.hitch(this,"_mouseWheeled")),_170b.addListener(this.upArrowNode,this.textbox,{keyCode:keys.UP_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_170b.addListener(this.downArrowNode,this.textbox,{keyCode:keys.DOWN_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_170b.addListener(this.upArrowNode,this.textbox,{keyCode:keys.PAGE_UP,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_170b.addListener(this.downArrowNode,this.textbox,{keyCode:keys.PAGE_DOWN,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));
}});
});
},"dijit/nls/loading":function(){
define({root:({loadingState:"Loading...",errorState:"Sorry, an error occurred"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});
},"dijit/nls/pt/loading":function(){
define(({loadingState:"Carregando...",errorState:"Desculpe, ocorreu um erro"}));
},"dijit/nls/pt/loading":function(){
define(({loadingState:"Carregando...",errorState:"Desculpe, ocorreu um erro"}));
},"manager/nls/messages":function(){
define("manager/nls/messages",{root:{PRINT_FILE:"Aguarde a gerao do relatrio.\nO resultado ser exibido em uma nova janela.",INVALID_CHAR:"Invalid character."},"pt-br.utf8":1,"pt":1,"pt-br":1,"en-us":1});
},"manager/nls/pt/messages":function(){
define("manager/nls/pt/messages",{});
},"manager/nls/pt-br/messages":function(){
define("manager/nls/pt-br/messages",{PRINT_FILE:"Aguarde a gerao do relatrio.\nO resultado ser exibido em uma nova janela.",SHOW_PDF:"Aguarde a gerao do arquivo PDF.\nO resultado ser exibido em uma nova janela.",PLEASE_WAIT:"Aguarde...",INVALID_CHAR:"Caracter invlido."});
},"manager/nls/pt/messages":function(){
define("manager/nls/pt/messages",{});
},"manager/DataGrid":function(){
define("manager/DataGrid",["dojo/_base/declare","dojox/grid/DataGrid"],function(_1716,_1717){
return _1716("Manager.DataGrid",[_1717],{constructor:function(name,page){
this.obj=this;
this.name=name;
this.page=page;
this.widget=null;
},canSort:function(i){
return (i!=3);
},get:function(_1718){
return [this.index,_1718].join(", ");
},removeEscape:function(value){
return value?value.replace("&lt","<"):"";
},goPage:function(_1719){
manager.setElementValueById("_PAGING","yes");
manager.setElementValueById(this.name+"_PAGE",this.page);
manager.setElementValueById(this.name+"_GOPAGE",_1719);
manager.setElementValueById("_GRIDNAME",this.name);
manager.doPostBack(this.name);
}});
});
},"dojox/grid/_View":function(){
define(["dojo","dijit/registry","../main","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/connect","dojo/_base/sniff","dojo/query","dojo/_base/window","dojo/text!./resources/View.html","dojo/dnd/Source","dijit/_Widget","dijit/_TemplatedMixin","dojox/html/metrics","./util","dojo/_base/html","./_Builder","dojo/dnd/Avatar","dojo/dnd/Manager"],function(dojo,dijit,dojox,_171a,array,lang,_171b,has,query,win,_171c,_171d,_171e,_171f,_1720,util,html,_1721,_1722,_1723){
var _1724=function(_1725,_1726){
return _1725.style.cssText==undefined?_1725.getAttribute("style"):_1725.style.cssText;
};
var _1727=_171a("dojox.grid._View",[_171e,_171f],{defaultWidth:"18em",viewWidth:"",templateString:_171c,classTag:"dojoxGrid",marginBottom:0,rowPad:2,_togglingColumn:-1,_headerBuilderClass:_1721._HeaderBuilder,_contentBuilderClass:_1721._ContentBuilder,postMixInProperties:function(){
this.rowNodes={};
},postCreate:function(){
this.connect(this.scrollboxNode,"onscroll","doscroll");
util.funnelEvents(this.contentNode,this,"doContentEvent",["mouseover","mouseout","click","dblclick","contextmenu","mousedown"]);
util.funnelEvents(this.headerNode,this,"doHeaderEvent",["dblclick","mouseover","mouseout","mousemove","mousedown","click","contextmenu"]);
this.content=new this._contentBuilderClass(this);
this.header=new this._headerBuilderClass(this);
if(!this.grid.isLeftToRight()){
this.headerNodeContainer.style.width="";
}
},destroy:function(){
html.destroy(this.headerNode);
delete this.headerNode;
for(var i in this.rowNodes){
this._cleanupRowWidgets(this.rowNodes[i]);
html.destroy(this.rowNodes[i]);
}
this.rowNodes={};
if(this.source){
this.source.destroy();
}
this.inherited(arguments);
},focus:function(){
if(has("ie")||has("webkit")||has("opera")){
this.hiddenFocusNode.focus();
}else{
this.scrollboxNode.focus();
}
},setStructure:function(_1728){
var vs=(this.structure=_1728);
if(vs.width&&!isNaN(vs.width)){
this.viewWidth=vs.width+"em";
}else{
this.viewWidth=vs.width||(vs.noscroll?"auto":this.viewWidth);
}
this._onBeforeRow=vs.onBeforeRow||function(){
};
this._onAfterRow=vs.onAfterRow||function(){
};
this.noscroll=vs.noscroll;
if(this.noscroll){
this.scrollboxNode.style.overflow="hidden";
}
this.simpleStructure=Boolean(vs.cells.length==1);
this.testFlexCells();
this.updateStructure();
},_cleanupRowWidgets:function(_1729){
if(_1729){
array.forEach(query("[widgetId]",_1729).map(dijit.byNode),function(w){
if(w._destroyOnRemove){
w.destroy();
delete w;
}else{
if(w.domNode&&w.domNode.parentNode){
w.domNode.parentNode.removeChild(w.domNode);
}
}
});
}
},onBeforeRow:function(_172a,cells){
this._onBeforeRow(_172a,cells);
if(_172a>=0){
this._cleanupRowWidgets(this.getRowNode(_172a));
}
},onAfterRow:function(_172b,cells,_172c){
this._onAfterRow(_172b,cells,_172c);
var g=this.grid;
array.forEach(query(".dojoxGridStubNode",_172c),function(n){
if(n&&n.parentNode){
var lw=n.getAttribute("linkWidget");
var _172d=window.parseInt(html.attr(n,"cellIdx"),10);
var _172e=g.getCell(_172d);
var w=dijit.byId(lw);
if(w){
n.parentNode.replaceChild(w.domNode,n);
if(!w._started){
w.startup();
}
dojo.destroy(n);
}else{
n.innerHTML="";
}
}
},this);
},testFlexCells:function(){
this.flexCells=false;
for(var j=0,row;(row=this.structure.cells[j]);j++){
for(var i=0,cell;(cell=row[i]);i++){
cell.view=this;
this.flexCells=this.flexCells||cell.isFlex();
}
}
return this.flexCells;
},updateStructure:function(){
this.header.update();
this.content.update();
},getScrollbarWidth:function(){
var _172f=this.hasVScrollbar();
var _1730=html.style(this.scrollboxNode,"overflow");
if(this.noscroll||!_1730||_1730=="hidden"){
_172f=false;
}else{
if(_1730=="scroll"){
_172f=true;
}
}
return (_172f?_1720.getScrollbar().w:0);
},getColumnsWidth:function(){
var h=this.headerContentNode;
return h&&h.firstChild?(h.firstChild.offsetWidth||html.style(h.firstChild,"width")):0;
},setColumnsWidth:function(width){
this.headerContentNode.firstChild.style.width=width+"px";
if(this.viewWidth){
this.viewWidth=width+"px";
}
},getWidth:function(){
return this.viewWidth||(this.getColumnsWidth()+this.getScrollbarWidth())+"px";
},getContentWidth:function(){
return Math.max(0,html._getContentBox(this.domNode).w-this.getScrollbarWidth())+"px";
},render:function(){
this.scrollboxNode.style.height="";
this.renderHeader();
if(this._togglingColumn>=0){
this.setColumnsWidth(this.getColumnsWidth()-this._togglingColumn);
this._togglingColumn=-1;
}
var cells=this.grid.layout.cells;
var _1731=lang.hitch(this,function(node,_1732){
!this.grid.isLeftToRight()&&(_1732=!_1732);
var inc=_1732?-1:1;
var idx=this.header.getCellNodeIndex(node)+inc;
var cell=cells[idx];
while(cell&&cell.getHeaderNode()&&cell.getHeaderNode().style.display=="none"){
idx+=inc;
cell=cells[idx];
}
if(cell){
return cell.getHeaderNode();
}
return null;
});
if(this.grid.columnReordering&&this.simpleStructure){
if(this.source){
this.source.destroy();
}
var _1733="dojoxGrid_bottomMarker";
var _1734="dojoxGrid_topMarker";
if(this.bottomMarker){
html.destroy(this.bottomMarker);
}
this.bottomMarker=html.byId(_1733);
if(this.topMarker){
html.destroy(this.topMarker);
}
this.topMarker=html.byId(_1734);
if(!this.bottomMarker){
this.bottomMarker=html.create("div",{"id":_1733,"class":"dojoxGridColPlaceBottom"},win.body());
this._hide(this.bottomMarker);
this.topMarker=html.create("div",{"id":_1734,"class":"dojoxGridColPlaceTop"},win.body());
this._hide(this.topMarker);
}
this.arrowDim=html.contentBox(this.bottomMarker);
var _1735=html.contentBox(this.headerContentNode.firstChild.rows[0]).h;
this.source=new _171d(this.headerContentNode.firstChild.rows[0],{horizontal:true,accept:["gridColumn_"+this.grid.id],viewIndex:this.index,generateText:false,onMouseDown:lang.hitch(this,function(e){
this.header.decorateEvent(e);
if((this.header.overRightResizeArea(e)||this.header.overLeftResizeArea(e))&&this.header.canResize(e)&&!this.header.moveable){
this.header.beginColumnResize(e);
}else{
if(this.grid.headerMenu){
this.grid.headerMenu.onCancel(true);
}
if(e.button===(has("ie")<9?1:0)){
_171d.prototype.onMouseDown.call(this.source,e);
}
}
}),onMouseOver:lang.hitch(this,function(e){
var src=this.source;
if(src._getChildByEvent(e)){
_171d.prototype.onMouseOver.apply(src,arguments);
}
}),_markTargetAnchor:lang.hitch(this,function(_1736){
var src=this.source;
if(src.current==src.targetAnchor&&src.before==_1736){
return;
}
if(src.targetAnchor&&_1731(src.targetAnchor,src.before)){
src._removeItemClass(_1731(src.targetAnchor,src.before),src.before?"After":"Before");
}
_171d.prototype._markTargetAnchor.call(src,_1736);
var _1737=_1736?src.targetAnchor:_1731(src.targetAnchor,src.before);
var _1738=0;
if(!_1737){
_1737=src.targetAnchor;
_1738=html.contentBox(_1737).w+this.arrowDim.w/2+2;
}
var pos=html.position(_1737,true);
var left=Math.floor(pos.x-this.arrowDim.w/2+_1738);
html.style(this.bottomMarker,"visibility","visible");
html.style(this.topMarker,"visibility","visible");
html.style(this.bottomMarker,{"left":left+"px","top":(_1735+pos.y)+"px"});
html.style(this.topMarker,{"left":left+"px","top":(pos.y-this.arrowDim.h)+"px"});
if(src.targetAnchor&&_1731(src.targetAnchor,src.before)){
src._addItemClass(_1731(src.targetAnchor,src.before),src.before?"After":"Before");
}
}),_unmarkTargetAnchor:lang.hitch(this,function(){
var src=this.source;
if(!src.targetAnchor){
return;
}
if(src.targetAnchor&&_1731(src.targetAnchor,src.before)){
src._removeItemClass(_1731(src.targetAnchor,src.before),src.before?"After":"Before");
}
this._hide(this.bottomMarker);
this._hide(this.topMarker);
_171d.prototype._unmarkTargetAnchor.call(src);
}),destroy:lang.hitch(this,function(){
_171b.disconnect(this._source_conn);
_171b.unsubscribe(this._source_sub);
_171d.prototype.destroy.call(this.source);
if(this.bottomMarker){
html.destroy(this.bottomMarker);
delete this.bottomMarker;
}
if(this.topMarker){
html.destroy(this.topMarker);
delete this.topMarker;
}
}),onDndCancel:lang.hitch(this,function(){
_171d.prototype.onDndCancel.call(this.source);
this._hide(this.bottomMarker);
this._hide(this.topMarker);
})});
this._source_conn=_171b.connect(this.source,"onDndDrop",this,"_onDndDrop");
this._source_sub=_171b.subscribe("/dnd/drop/before",this,"_onDndDropBefore");
this.source.startup();
}
},_hide:function(node){
html.style(node,{top:"-10000px","visibility":"hidden"});
},_onDndDropBefore:function(_1739,nodes,copy){
if(_1723.manager().target!==this.source){
return;
}
this.source._targetNode=this.source.targetAnchor;
this.source._beforeTarget=this.source.before;
var views=this.grid.views.views;
var _173a=views[_1739.viewIndex];
var _173b=views[this.index];
if(_173b!=_173a){
_173a.convertColPctToFixed();
_173b.convertColPctToFixed();
}
},_onDndDrop:function(_173c,nodes,copy){
if(_1723.manager().target!==this.source){
if(_1723.manager().source===this.source){
this._removingColumn=true;
}
return;
}
this._hide(this.bottomMarker);
this._hide(this.topMarker);
var _173d=function(n){
return n?html.attr(n,"idx"):null;
};
var w=html.marginBox(nodes[0]).w;
if(_173c.viewIndex!==this.index){
var views=this.grid.views.views;
var _173e=views[_173c.viewIndex];
var _173f=views[this.index];
if(_173e.viewWidth&&_173e.viewWidth!="auto"){
_173e.setColumnsWidth(_173e.getColumnsWidth()-w);
}
if(_173f.viewWidth&&_173f.viewWidth!="auto"){
_173f.setColumnsWidth(_173f.getColumnsWidth());
}
}
var stn=this.source._targetNode;
var stb=this.source._beforeTarget;
!this.grid.isLeftToRight()&&(stb=!stb);
var _1740=this.grid.layout;
var idx=this.index;
delete this.source._targetNode;
delete this.source._beforeTarget;
_1740.moveColumn(_173c.viewIndex,idx,_173d(nodes[0]),_173d(stn),stb);
},renderHeader:function(){
this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);
if(this.flexCells){
this.contentWidth=this.getContentWidth();
this.headerContentNode.firstChild.style.width=this.contentWidth;
}
util.fire(this,"onAfterRow",[-1,this.structure.cells,this.headerContentNode]);
},_getHeaderContent:function(_1741){
var n=_1741.name||_1741.grid.getCellName(_1741);
if(/^\s+$/.test(n)){
n="&nbsp;";
}
var ret=["<div class=\"dojoxGridSortNode"];
if(_1741.index!=_1741.grid.getSortIndex()){
ret.push("\">");
}else{
ret=ret.concat([" ",_1741.grid.sortInfo>0?"dojoxGridSortUp":"dojoxGridSortDown","\"><div class=\"dojoxGridArrowButtonChar\">",_1741.grid.sortInfo>0?"&#9650;":"&#9660;","</div><div class=\"dojoxGridArrowButtonNode\" role=\"presentation\"></div>","<div class=\"dojoxGridColCaption\">"]);
}
ret=ret.concat([n,"</div></div>"]);
return ret.join("");
},resize:function(){
this.adaptHeight();
this.adaptWidth();
},hasHScrollbar:function(reset){
var _1742=this._hasHScroll||false;
if(this._hasHScroll==undefined||reset){
if(this.noscroll){
this._hasHScroll=false;
}else{
var style=html.style(this.scrollboxNode,"overflow");
if(style=="hidden"){
this._hasHScroll=false;
}else{
if(style=="scroll"){
this._hasHScroll=true;
}else{
this._hasHScroll=(this.scrollboxNode.offsetWidth-this.getScrollbarWidth()<this.contentNode.offsetWidth);
}
}
}
}
if(_1742!==this._hasHScroll){
this.grid.update();
}
return this._hasHScroll;
},hasVScrollbar:function(reset){
var _1743=this._hasVScroll||false;
if(this._hasVScroll==undefined||reset){
if(this.noscroll){
this._hasVScroll=false;
}else{
var style=html.style(this.scrollboxNode,"overflow");
if(style=="hidden"){
this._hasVScroll=false;
}else{
if(style=="scroll"){
this._hasVScroll=true;
}else{
this._hasVScroll=(this.scrollboxNode.scrollHeight>this.scrollboxNode.clientHeight);
}
}
}
}
if(_1743!==this._hasVScroll){
this.grid.update();
}
return this._hasVScroll;
},convertColPctToFixed:function(){
var _1744=false;
this.grid.initialWidth="";
var _1745=query("th",this.headerContentNode);
var _1746=array.map(_1745,function(c,vIdx){
var w=c.style.width;
html.attr(c,"vIdx",vIdx);
if(w&&w.slice(-1)=="%"){
_1744=true;
}else{
if(w&&w.slice(-2)=="px"){
return window.parseInt(w,10);
}
}
return html.contentBox(c).w;
});
if(_1744){
array.forEach(this.grid.layout.cells,function(cell,idx){
if(cell.view==this){
var _1747=cell.view.getHeaderCellNode(cell.index);
if(_1747&&html.hasAttr(_1747,"vIdx")){
var vIdx=window.parseInt(html.attr(_1747,"vIdx"));
this.setColWidth(idx,_1746[vIdx]);
html.removeAttr(_1747,"vIdx");
}
}
},this);
return true;
}
return false;
},adaptHeight:function(_1748){
if(!this.grid._autoHeight){
var h=(this.domNode.style.height&&parseInt(this.domNode.style.height.replace(/px/,""),10))||this.domNode.clientHeight;
var self=this;
var _1749=function(){
var v;
for(var i in self.grid.views.views){
v=self.grid.views.views[i];
if(v!==self&&v.hasHScrollbar()){
return true;
}
}
return false;
};
if(_1748||(this.noscroll&&_1749())){
h-=_1720.getScrollbar().h;
}
util.setStyleHeightPx(this.scrollboxNode,h);
}
this.hasVScrollbar(true);
},adaptWidth:function(){
if(this.flexCells){
this.contentWidth=this.getContentWidth();
this.headerContentNode.firstChild.style.width=this.contentWidth;
}
var w=this.scrollboxNode.offsetWidth-this.getScrollbarWidth();
if(!this._removingColumn){
w=Math.max(w,this.getColumnsWidth())+"px";
}else{
w=Math.min(w,this.getColumnsWidth())+"px";
this._removingColumn=false;
}
var cn=this.contentNode;
cn.style.width=w;
this.hasHScrollbar(true);
},setSize:function(w,h){
var ds=this.domNode.style;
var hs=this.headerNode.style;
if(w){
ds.width=w;
hs.width=w;
}
ds.height=(h>=0?h+"px":"");
},renderRow:function(_174a){
var _174b=this.createRowNode(_174a);
this.buildRow(_174a,_174b);
return _174b;
},createRowNode:function(_174c){
var node=document.createElement("div");
node.className=this.classTag+"Row";
if(this instanceof dojox.grid._RowSelector){
html.attr(node,"role","presentation");
}else{
html.attr(node,"role","row");
if(this.grid.selectionMode!="none"){
node.setAttribute("aria-selected","false");
}
}
node[util.gridViewTag]=this.id;
node[util.rowIndexTag]=_174c;
this.rowNodes[_174c]=node;
return node;
},buildRow:function(_174d,_174e){
this.buildRowContent(_174d,_174e);
this.styleRow(_174d,_174e);
},buildRowContent:function(_174f,_1750){
_1750.innerHTML=this.content.generateHtml(_174f,_174f);
if(this.flexCells&&this.contentWidth){
_1750.firstChild.style.width=this.contentWidth;
}
util.fire(this,"onAfterRow",[_174f,this.structure.cells,_1750]);
},rowRemoved:function(_1751){
if(_1751>=0){
this._cleanupRowWidgets(this.getRowNode(_1751));
}
this.grid.edit.save(this,_1751);
delete this.rowNodes[_1751];
},getRowNode:function(_1752){
return this.rowNodes[_1752];
},getCellNode:function(_1753,_1754){
var row=this.getRowNode(_1753);
if(row){
return this.content.getCellNode(row,_1754);
}
},getHeaderCellNode:function(_1755){
if(this.headerContentNode){
return this.header.getCellNode(this.headerContentNode,_1755);
}
},styleRow:function(_1756,_1757){
_1757._style=_1724(_1757);
this.styleRowNode(_1756,_1757);
},styleRowNode:function(_1758,_1759){
if(_1759){
this.doStyleRowNode(_1758,_1759);
}
},doStyleRowNode:function(_175a,_175b){
this.grid.styleRowNode(_175a,_175b);
},updateRow:function(_175c){
var _175d=this.getRowNode(_175c);
if(_175d){
_175d.style.height="";
this.buildRow(_175c,_175d);
}
return _175d;
},updateRowStyles:function(_175e){
this.styleRowNode(_175e,this.getRowNode(_175e));
},lastTop:0,firstScroll:0,_nativeScroll:false,doscroll:function(_175f){
if(has("ff")>=13||has("chrome")){
this._nativeScroll=true;
}
var isLtr=this.grid.isLeftToRight();
if(this.firstScroll<2){
if((!isLtr&&this.firstScroll==1)||(isLtr&&this.firstScroll===0)){
var s=html.marginBox(this.headerNodeContainer);
if(has("ie")){
this.headerNodeContainer.style.width=s.w+this.getScrollbarWidth()+"px";
}else{
if(has("mozilla")){
this.headerNodeContainer.style.width=s.w-this.getScrollbarWidth()+"px";
this.scrollboxNode.scrollLeft=isLtr?this.scrollboxNode.clientWidth-this.scrollboxNode.scrollWidth:this.scrollboxNode.scrollWidth-this.scrollboxNode.clientWidth;
}
}
}
this.firstScroll++;
}
this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;
var top=this.scrollboxNode.scrollTop;
if(top!==this.lastTop){
this.grid.scrollTo(top);
}
this._nativeScroll=false;
},setScrollTop:function(inTop){
this.lastTop=inTop;
if(!this._nativeScroll){
this.scrollboxNode.scrollTop=inTop;
}
return this.scrollboxNode.scrollTop;
},doContentEvent:function(e){
if(this.content.decorateEvent(e)){
this.grid.onContentEvent(e);
}
},doHeaderEvent:function(e){
if(this.header.decorateEvent(e)){
this.grid.onHeaderEvent(e);
}
},dispatchContentEvent:function(e){
return this.content.dispatchEvent(e);
},dispatchHeaderEvent:function(e){
return this.header.dispatchEvent(e);
},setColWidth:function(_1760,_1761){
this.grid.setCellWidth(_1760,_1761+"px");
},update:function(){
if(!this.domNode){
return;
}
this.content.update();
this.grid.update();
var left=this.scrollboxNode.scrollLeft;
this.scrollboxNode.scrollLeft=left;
this.headerNode.scrollLeft=left;
}});
var _1762=_171a("dojox.grid._GridAvatar",_1722,{construct:function(){
var dd=win.doc;
var a=dd.createElement("table");
a.cellPadding=a.cellSpacing="0";
a.className="dojoxGridDndAvatar";
a.style.position="absolute";
a.style.zIndex=1999;
a.style.margin="0px";
var b=dd.createElement("tbody");
var tr=dd.createElement("tr");
var td=dd.createElement("td");
var img=dd.createElement("td");
tr.className="dojoxGridDndAvatarItem";
img.className="dojoxGridDndAvatarItemImage";
img.style.width="16px";
var _1763=this.manager.source,node;
if(_1763.creator){
node=_1763._normalizedCreator(_1763.getItem(this.manager.nodes[0].id).data,"avatar").node;
}else{
node=this.manager.nodes[0].cloneNode(true);
var table,tbody;
if(node.tagName.toLowerCase()=="tr"){
table=dd.createElement("table");
tbody=dd.createElement("tbody");
tbody.appendChild(node);
table.appendChild(tbody);
node=table;
}else{
if(node.tagName.toLowerCase()=="th"){
table=dd.createElement("table");
tbody=dd.createElement("tbody");
var r=dd.createElement("tr");
table.cellPadding=table.cellSpacing="0";
r.appendChild(node);
tbody.appendChild(r);
table.appendChild(tbody);
node=table;
}
}
}
node.id="";
td.appendChild(node);
tr.appendChild(img);
tr.appendChild(td);
html.style(tr,"opacity",0.9);
b.appendChild(tr);
a.appendChild(b);
this.node=a;
var m=_1723.manager();
this.oldOffsetY=m.OFFSET_Y;
m.OFFSET_Y=1;
},destroy:function(){
_1723.manager().OFFSET_Y=this.oldOffsetY;
this.inherited(arguments);
}});
var _1764=_1723.manager().makeAvatar;
_1723.manager().makeAvatar=function(){
var src=this.source;
if(src.viewIndex!==undefined&&!html.hasClass(win.body(),"dijit_a11y")){
return new _1762(this);
}
return _1764.call(_1723.manager());
};
return _1727;
});
},"dijit/TooltipDialog":function(){
define(["dojo/_base/declare","dojo/dom-class","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./focus","./layout/ContentPane","./_DialogMixin","./form/_FormMixin","./_TemplatedMixin","dojo/text!./templates/TooltipDialog.html","./main"],function(_1765,_1766,has,keys,lang,on,focus,_1767,_1768,_1769,_176a,_176b,dijit){
var _176c=_1765("dijit.TooltipDialog",[_1767,_176a,_1769,_1768],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:_176b,_setTitleAttr:"containerNode",postCreate:function(){
this.inherited(arguments);
this.own(on(this.containerNode,"keydown",lang.hitch(this,"_onKey")));
},orient:function(node,_176d,_176e){
var newC={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[_176d+"-"+_176e];
_1766.replace(this.domNode,newC,this._currentOrientClass||"");
this._currentOrientClass=newC;
},focus:function(){
this._getFocusItems(this.containerNode);
focus.focus(this._firstFocusItem);
},onOpen:function(pos){
this.orient(this.domNode,pos.aroundCorner,pos.corner);
var _176f=pos.aroundNodePos;
if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){
this.connectorNode.style.top=_176f.y+((_176f.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";
this.connectorNode.style.left="";
}else{
if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){
this.connectorNode.style.left=_176f.x+((_176f.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";
}
}
this._onShow();
},onClose:function(){
this.onHide();
},_onKey:function(evt){
if(evt.keyCode==keys.ESCAPE){
this.defer("onCancel");
evt.stopPropagation();
evt.preventDefault();
}else{
if(evt.keyCode==keys.TAB){
var node=evt.target;
this._getFocusItems(this.containerNode);
if(this._firstFocusItem==this._lastFocusItem){
evt.stopPropagation();
evt.preventDefault();
}else{
if(node==this._firstFocusItem&&evt.shiftKey){
focus.focus(this._lastFocusItem);
evt.stopPropagation();
evt.preventDefault();
}else{
if(node==this._lastFocusItem&&!evt.shiftKey){
focus.focus(this._firstFocusItem);
evt.stopPropagation();
evt.preventDefault();
}else{
evt.stopPropagation();
}
}
}
}
}
}});
if(has("dojo-bidi")){
_176c.extend({_setTitleAttr:function(title){
this.containerNode.title=(this.textDir&&this.enforceTextDirWithUcc)?this.enforceTextDirWithUcc(null,title):title;
this._set("title",title);
},_setTextDirAttr:function(_1770){
if(!this._created||this.textDir!=_1770){
this._set("textDir",_1770);
if(this.textDir&&this.title){
this.containerNode.title=this.enforceTextDirWithUcc(null,this.title);
}
}
}});
}
return _176c;
});
},"url:dojox/grid/resources/View.html":"<div class=\"dojoxGridView\" role=\"presentation\">\n\t<div class=\"dojoxGridHeader\" dojoAttachPoint=\"headerNode\" role=\"presentation\">\n\t\t<div dojoAttachPoint=\"headerNodeContainer\" style=\"width:9000em\" role=\"presentation\">\n\t\t\t<div dojoAttachPoint=\"headerContentNode\" role=\"row\"></div>\n\t\t</div>\n\t</div>\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" dojoAttachPoint=\"hiddenFocusNode\" role=\"presentation\" />\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" role=\"presentation\" />\n\t<div class=\"dojoxGridScrollbox\" dojoAttachPoint=\"scrollboxNode\" role=\"presentation\">\n\t\t<div class=\"dojoxGridContent\" dojoAttachPoint=\"contentNode\" hidefocus=\"hidefocus\" role=\"presentation\"></div>\n\t</div>\n</div>\n","url:manager/templates/BoxPane.html":"<div class=\"mBoxPane\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"mBoxPaneTitleBar ${classTitle}\" id=\"${id}_titleBar\">\n\t<span data-dojo-attach-point=\"titleNode\" class=\"mBoxPaneTitle\" id=\"${id}_title\"></span>\n\t<div data-dojo-attach-point=\"toolBarNode\" class=\"mBoxPaneToolBar\"></div>\n\t</div>\n\t\t<div data-dojo-attach-point=\"containerNode\" class=\"mBoxPaneContent\"></div>\n</div>\n","url:dijit/form/templates/Select.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tdata-dojo-attach-point=\"_buttonNode,tableNode,focusNode,_popupStateNode\" cellspacing='0' cellpadding='0'\n\trole=\"listbox\" aria-haspopup=\"true\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents\" role=\"presentation\"\n\t\t\t><div class=\"dijitReset dijitInputField dijitButtonText\"  data-dojo-attach-point=\"containerNode,textDirNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitValidationContainer\"\n\t\t\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t/></div\n\t\t\t><input type=\"hidden\" ${!nameAttrSetting} data-dojo-attach-point=\"valueNode\" value=\"${value}\" aria-hidden=\"true\"\n\t\t/></td\n\t\t><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\"\n\t\t\tdata-dojo-attach-point=\"titleNode\" role=\"presentation\"\n\t\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/></td\n\t></tr></tbody\n></table>\n","url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","url:dijit/layout/templates/AccordionButton.html":"<div data-dojo-attach-event='ondijitclick:_onTitleClick' class='dijitAccordionTitle' role=\"presentation\">\n\t<div data-dojo-attach-point='titleNode,focusNode' data-dojo-attach-event='onkeydown:_onTitleKeyDown'\n\t\t\tclass='dijitAccordionTitleFocus' role=\"tab\" aria-expanded=\"false\"\n\t\t><span class='dijitInline dijitAccordionArrow' role=\"presentation\"></span\n\t\t><span class='arrowTextUp' role=\"presentation\">+</span\n\t\t><span class='arrowTextDown' role=\"presentation\">-</span\n\t\t><span role=\"presentation\" class=\"dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t\t<span role=\"presentation\" data-dojo-attach-point='titleTextNode, textDirNode' class='dijitAccordionText'></span>\n\t</div>\n</div>\n","url:manager/templates/TransferBox.html":"<div>\r\n\t<div data-dojo-attach-point=\"fromNode\"></div>\r\n\t<div class=\"dijitReset dijitInline buttons\">\r\n\t\t<button type=\"button\" data-dojo-type=\"dijit.form.Button\" \r\n\t\t\tdata-dojo-attach-event=\"onClick:add\" \r\n\t\t\tdata-dojo-attach-point=\"addButton\">&gt;</button>\r\n\t\t<button type=\"button\" data-dojo-type=\"dijit.form.Button\" \r\n\t\t\tdata-dojo-attach-event=\"onClick:remove\" \r\n\t\t\tdata-dojo-attach-point=\"removeButton\">&lt;</button>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"toNode\"></div>\r\n</div>","url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\" role=\"separator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>\n","url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\" data-dojo-attach-point=\"gridNode\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\" scope=\"col\">\n\t\t\t\t<span class=\"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"></span>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\" scope=\"col\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' scope=\"col\" data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<span class=\"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"></span>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"ondijitclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n","url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n></div>\n","url:dijit/form/templates/Spinner.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdata-dojo-attach-point=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdata-dojo-attach-point=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' data-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\" data-dojo-attach-event=\"onkeydown:_onKeyDown\"\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n","url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:__onClick,onkeydown:_onButtonKeyDown\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeydown:_onArrowKeyDown\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\" role=\"presentation\"\n\t\t\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\t/></td></tr></tbody\n></table>\n","url:dijit/templates/MenuBarItem.html":"<div class=\"dijitReset dijitInline dijitMenuItem dijitMenuItemLabel\" data-dojo-attach-point=\"focusNode\"\n\t \trole=\"menuitem\" tabIndex=\"-1\">\n\t<span data-dojo-attach-point=\"containerNode,textDirNode\"></span>\n</div>\n","url:dojox/grid/resources/_Grid.html":"<div hidefocus=\"hidefocus\" role=\"grid\" dojoAttachEvent=\"onmouseout:_mouseOut\">\n\t<div class=\"dojoxGridMasterHeader\" dojoAttachPoint=\"viewsHeaderNode\" role=\"presentation\"></div>\n\t<div class=\"dojoxGridMasterView\" dojoAttachPoint=\"viewsNode\" role=\"presentation\"></div>\n\t<div class=\"dojoxGridMasterMessages\" style=\"display: none;\" dojoAttachPoint=\"messagesNode\"></div>\n\t<span dojoAttachPoint=\"lastFocusNode\" tabindex=\"0\"></span>\n</div>\n","url:dijit/templates/ColorPalette.html":"<div class=\"dijitInline dijitColorPalette\" role=\"grid\">\n\t<table dojoAttachPoint=\"paletteTableNode\" class=\"dijitPaletteTable\" cellSpacing=\"0\" cellPadding=\"0\" role=\"presentation\">\n\t\t<tbody data-dojo-attach-point=\"gridNode\"></tbody>\n\t</table>\n</div>\n","url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\n\t   cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n","url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"ondijitclick:_onClick\"\n/></div>\n","url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\taria-haspopup=\"true\"\n\tdata-dojo-attach-point=\"_popupStateNode\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\"\n\t/></div\n></div>\n","url:manager/templates/Dialog.html":"<div class=\"mBoxPaneDialog mElement\" role=\"dialog\" aria-labelledby=\"${id}_title\"  cleanContent=\"true\">\n    <div >\n\t<span></span>\n\t<span dojoAttachPoint=\"closeButtonNode\"></span>\n    </div>  \n<div  id=\"${id}_container\" dojoAttachPoint=\"containerNode\"></div>\n</div>\n","url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow\" role=\"presentation\"\n\t\t><span data-dojo-attach-point=\"expandoNode\" class=\"dijitInline dijitTreeExpando\" role=\"presentation\"></span\n\t\t><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitTreeIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span data-dojo-attach-point=\"labelNode,focusNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeNodeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n","url:dijit/templates/MenuBar.html":"<div class=\"dijitMenuBar dijitMenuPassive\" data-dojo-attach-point=\"containerNode\" role=\"menubar\" tabIndex=\"${tabIndex}\"\n\t ></div>\n","url:dijit/templates/TooltipDialog.html":"<div role=\"alertdialog\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class=\"dijitTooltipContents dijitTooltipFocusNode\" data-dojo-attach-point=\"containerNode\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\" data-dojo-attach-point=\"connectorNode\"></div>\n</div>\n","url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\n\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitTabButtonIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t<span data-dojo-attach-point='containerNode,focusNode' class='tabLabel'></span>\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\n\t\t  role=\"presentation\">\n\t\t<span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\n\t\t\t\t></span>\n</div>\n","url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\n/></span>\n","url:dojox/widget/ColorPicker/ColorPicker.html":"<table class=\"dojoxColorPicker\" dojoAttachEvent=\"onkeypress: _handleKey\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\">\n\t<tr>\n\t\t<td valign=\"top\" class=\"dojoxColorPickerRightPad\">\n\t\t\t<div class=\"dojoxColorPickerBox\">\n\t\t\t\t<!-- Forcing ABS in style attr due to dojo DND issue with not picking it up form the class. -->\n\t\t\t\t<img title=\"${saturationPickerTitle}\" alt=\"${saturationPickerTitle}\" class=\"dojoxColorPickerPoint\" src=\"${_pickerPointer}\" tabIndex=\"0\" dojoAttachPoint=\"cursorNode\" style=\"position: absolute; top: 0px; left: 0px;\">\n\t\t\t\t<img role=\"presentation\" alt=\"\" dojoAttachPoint=\"colorUnderlay\" dojoAttachEvent=\"onclick: _setPoint, onmousedown: _stopDrag\" class=\"dojoxColorPickerUnderlay\" src=\"${_underlay}\" ondragstart=\"return false\">\n\t\t\t</div>\n\t\t</td>\n\t\t<td valign=\"top\" class=\"dojoxColorPickerRightPad\">\n\t\t\t<div class=\"dojoxHuePicker\">\n\t\t\t\t<!-- Forcing ABS in style attr due to dojo DND issue with not picking it up form the class. -->\n\t\t\t\t<img dojoAttachPoint=\"hueCursorNode\" tabIndex=\"0\" class=\"dojoxHuePickerPoint\" title=\"${huePickerTitle}\" alt=\"${huePickerTitle}\" src=\"${_huePickerPointer}\" style=\"position: absolute; top: 0px; left: 0px;\">\n\t\t\t\t<div class=\"dojoxHuePickerUnderlay\" dojoAttachPoint=\"hueNode\">\n\t\t\t\t    <img role=\"presentation\" alt=\"\" dojoAttachEvent=\"onclick: _setHuePoint, onmousedown: _stopDrag\" src=\"${_hueUnderlay}\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</td>\n\t\t<td valign=\"top\">\n\t\t\t<table cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td valign=\"top\" class=\"dojoxColorPickerPreviewContainer\">\n\t\t\t\t\t\t<table cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td valign=\"top\" class=\"dojoxColorPickerRightPad\">\n\t\t\t\t\t\t\t\t\t<div dojoAttachPoint=\"previewNode\" class=\"dojoxColorPickerPreview\"></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td valign=\"top\">\n\t\t\t\t\t\t\t\t\t<div dojoAttachPoint=\"safePreviewNode\" class=\"dojoxColorPickerWebSafePreview\"></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td valign=\"bottom\">\n\t\t\t\t\t\t<table class=\"dojoxColorPickerOptional\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div class=\"dijitInline dojoxColorPickerRgb\" dojoAttachPoint=\"rgbNode\">\n\t\t\t\t\t\t\t\t\t\t<table cellpadding=\"1\" cellspacing=\"1\" role=\"presentation\">\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_r\">${redLabel}</label></td><td><input id=\"${_uId}_r\" dojoAttachPoint=\"Rval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"></td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_g\">${greenLabel}</label></td><td><input id=\"${_uId}_g\" dojoAttachPoint=\"Gval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"></td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_b\">${blueLabel}</label></td><td><input id=\"${_uId}_b\" dojoAttachPoint=\"Bval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"></td></tr>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div class=\"dijitInline dojoxColorPickerHsv\" dojoAttachPoint=\"hsvNode\">\n\t\t\t\t\t\t\t\t\t\t<table cellpadding=\"1\" cellspacing=\"1\" role=\"presentation\">\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_h\">${hueLabel}</label></td><td><input id=\"${_uId}_h\" dojoAttachPoint=\"Hval\"size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"> ${degLabel}</td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_s\">${saturationLabel}</label></td><td><input id=\"${_uId}_s\" dojoAttachPoint=\"Sval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"> ${percentSign}</td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_v\">${valueLabel}</label></td><td><input id=\"${_uId}_v\" dojoAttachPoint=\"Vval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"> ${percentSign}</td></tr>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td colspan=\"2\">\n\t\t\t\t\t\t\t\t\t<div class=\"dojoxColorPickerHex\" dojoAttachPoint=\"hexNode\" aria-live=\"polite\">\t\n\t\t\t\t\t\t\t\t\t\t<label for=\"${_uId}_hex\">&nbsp;${hexLabel}&nbsp;</label><input id=\"${_uId}_hex\" dojoAttachPoint=\"hexCode, focusNode, valueNode\" size=\"6\" class=\"dojoxColorPickerHexCode\" dojoAttachEvent=\"onchange: _colorInputChange\">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</td>\n\t</tr>\n</table>\n\n","url:dojox/form/resources/Uploader.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t> \n\t<input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\" data-dojo-attach-point=\"valueNode\" />\n</span>\n","url:dojox/form/resources/UploaderFileList.html":"<div class=\"dojoxUploaderFileList\">\n\t<div data-dojo-attach-point=\"progressNode\" class=\"dojoxUploaderFileListProgress\">\n\t\t<div data-dojo-attach-point=\"percentBarNode\" class=\"dojoxUploaderFileListProgressBar\"></div>\n\t\t<div data-dojo-attach-point=\"percentTextNode\" class=\"dojoxUploaderFileListPercentText\">0%</div>\n\t</div>\n\t<table class=\"dojoxUploaderFileListTable\">\n\t\t<thead>\n\t\t\t<tr class=\"dojoxUploaderFileListHeader\">\n\t\t\t\t<th class=\"dojoxUploaderIndex\">${headerIndex}</th>\n\t\t\t\t<th class=\"dojoxUploaderIcon\">${headerType}</th>\n\t\t\t\t<th class=\"dojoxUploaderFileName\">${headerFilename}</th>\n\t\t\t\t<th class=\"dojoxUploaderFileSize\" data-dojo-attach-point=\"sizeHeader\">${headerFilesize}</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody class=\"dojoxUploaderFileListContent\" data-dojo-attach-point=\"listNode\"></tbody>\n\t</table>\n<div>","url:dijit/templates/Tree.html":"<div role=\"tree\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n\t<div class=\"dijitTreeExpando dijitTreeExpandoLoading\" data-dojo-attach-point=\"rootLoadingIndicator\"></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\">\n\t</div>\n</div>\n","url:dijit/layout/templates/ScrollingTabController.html":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\n\t\t class=\"tabStripButton-${tabPosition}\"\n\t\t id=\"${id}_menuBtn\"\n\t\t data-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\n\t\t data-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t class=\"tabStripButton-${tabPosition}\"\n\t\t id=\"${id}_leftBtn\"\n\t\t data-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\n\t\t data-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t class=\"tabStripButton-${tabPosition}\"\n\t\t id=\"${id}_rightBtn\"\n\t\t data-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\n\t\t data-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\n\t<div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\n\t\t<div role='tablist' data-dojo-attach-event='onkeydown:onkeydown'\n\t\t\t data-dojo-attach-point='containerNode' class='nowrapTabStrip'></div>\n\t</div>\n</div>","url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\n\t\t\t\trole=\"heading\" level=\"1\"></span>\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabindex=\"0\">\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n","url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,textDirNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<span data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<span class=\"dijitInline dijitIcon dijitMenuExpand\"></span>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</span>\n\t</td>\n</tr>\n","url:dijit/layout/templates/_ScrollingTabControllerButton.html":"<div data-dojo-attach-event=\"ondijitclick:_onClick\" class=\"dijitTabInnerDiv dijitTabContent dijitButtonContents\"  data-dojo-attach-point=\"focusNode\" role=\"button\">\n\t<span role=\"presentation\" class=\"dijitInline dijitTabStripIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t<span data-dojo-attach-point=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\n</div>","url:dijit/layout/templates/TabContainer.html":"<div class=\"dijitTabContainer\">\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\n</div>\n","url:dojox/editor/plugins/resources/modifyTable.html":"<div class=\"dijitDialog\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\">${modifyTableTitle}</span>\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"onclick: onCancel\" title=\"${buttonCancel}\">\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t</span>\n\t</div>\n    <div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\">\n        <table class=\"etdTable\">\n          <tr><td>\n                <label>${backgroundColor}</label>\n            </td><td colspan=\"2\">\n                <span class=\"colorSwatchBtn\" dojoAttachPoint=\"backgroundCol\"></span>\n            </td></tr><tr><td>\n                <label>${borderColor}</label>\n            </td><td colspan=\"2\">\n                <span class=\"colorSwatchBtn\" dojoAttachPoint=\"borderCol\"></span>\n            </td></tr><tr><td>\n                <label>${align}</label>\n            </td><td colspan=\"2\">\t\n                <select dojoAttachPoint=\"selectAlign\" dojoType=\"dijit.form.FilteringSelect\">\n                  <option value=\"default\">${default}</option>\n                  <option value=\"left\">${left}</option>\n                  <option value=\"center\">${center}</option>\n                  <option value=\"right\">${right}</option>\n                </select>\n            </td></tr>\n            <tr><td>\n                <label>${tableWidth}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectWidth\" dojoType=\"dijit.form.TextBox\" value=\"100\"></span>\n            </td><td>\n                <select dojoAttachPoint=\"selectWidthType\" hasDownArrow=\"true\" dojoType=\"dijit.form.FilteringSelect\">\n                  <option value=\"percent\">${percent}</option>\n                  <option value=\"pixels\">${pixels}</option>\n                </select></td></tr>\t\n            <tr><td>\n                <label>${borderThickness}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectBorder\" dojoType=\"dijit.form.TextBox\" value=\"1\"></span>\n            </td><td>\n                ${pixels}\n            </td></tr><tr><td>\n                <label>${cellPadding}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectPad\" dojoType=\"dijit.form.TextBox\" value=\"0\"></span>\n            </td><td class=\"cellpad\"></td></tr><tr><td>\n                <label>${cellSpacing}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectSpace\" dojoType=\"dijit.form.TextBox\" value=\"0\"></span>\n            </td><td class=\"cellspace\"></td></tr>\n        </table>\n        <div class=\"dialogButtonContainer\">\n            <div dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick: onSet\">${buttonSet}</div>\n            <div dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick: onCancel\">${buttonCancel}</div>\n        </div>\n\t</div>\n</div>\n","url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"${role}\" tabIndex=\"-1\" aria-checked=\"${checked}\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<span class=\"dijitInline dijitIcon dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t\t<span class=\"dijitMenuItemIconChar dijitCheckedMenuItemIconChar\">${checkedChar}</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode,textDirNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\n</tr>\n","url:dojox/editor/plugins/resources/insertTable.html":"<div class=\"dijitDialog\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\">${insertTableTitle}</span>\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"onclick: onCancel\" title=\"${buttonCancel}\">\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t</span>\n\t</div>\n    <div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\">\n        <table class=\"etdTable\"><tr>\n            <td>\n                <label>${rows}</label>\n\t\t\t</td><td>\n                <span dojoAttachPoint=\"selectRow\" dojoType=\"dijit.form.TextBox\" value=\"2\"></span>\n            </td><td><table><tr><td class=\"inner\">\n                <label>${columns}</label>\n\t\t\t</td><td class=\"inner\">\n                <span dojoAttachPoint=\"selectCol\" dojoType=\"dijit.form.TextBox\" value=\"2\"></span>\n            </td></tr></table></td></tr>\t\t\n\t\t\t<tr><td>\n                <label>${tableWidth}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectWidth\" dojoType=\"dijit.form.TextBox\" value=\"100\"></span>\n\t\t\t</td><td>\n                <select dojoAttachPoint=\"selectWidthType\" hasDownArrow=\"true\" dojoType=\"dijit.form.FilteringSelect\">\n                  <option value=\"percent\">${percent}</option>\n                  <option value=\"pixels\">${pixels}</option>\n                </select></td></tr>\t\n            <tr><td>\n                <label>${borderThickness}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectBorder\" dojoType=\"dijit.form.TextBox\" value=\"1\"></span>\n            </td><td>\n                ${pixels}\n            </td></tr><tr><td>\n                <label>${cellPadding}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectPad\" dojoType=\"dijit.form.TextBox\" value=\"0\"></span>\n            </td><td class=\"cellpad\"></td></tr><tr><td>\n                <label>${cellSpacing}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectSpace\" dojoType=\"dijit.form.TextBox\" value=\"0\"></span>\n            </td><td class=\"cellspace\"></td></tr></table>\n        <div class=\"dialogButtonContainer\">\n            <div dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick: onInsert\">${buttonInsert}</div>\n            <div dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick: onCancel\">${buttonCancel}</div>\n        </div>\n\t</div>\n</div>\n","url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n","*now":function(r){
r(["dojo/i18n!*preload*manager/nls/main*[]"]);
}}});
require(["dojo/_base/kernel","dojo/_base/loader"],function(dojo){
dojo.registerModulePath("manager","../manager");
});
require(["dojo/i18n!dojo/cldr/nls/pt/currency","dojo/i18n!dojo/cldr/nls/pt/number","dojo/i18n!dojo/cldr/nls/pt/gregorian"]);
require(["manager/Core"],function(Core){
window.manager=Core;
});
require(["manager/BoxPane"]);
require(["manager/Grid"]);
require(["manager/Lookup"]);
require(["manager/FormPopup"]);
