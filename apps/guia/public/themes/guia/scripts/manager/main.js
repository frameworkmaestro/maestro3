//>>built
require({cache:{"dojo/request/default":function(){
define(["exports","require","../has"],function(_1,_2,_3){
var _4=_3("config-requestProvider"),_5;
if(1){
_5="./xhr";
}else{
if(0){
_5="./node";
}
}
if(!_4){
_4=_5;
}
_1.getPlatformDefaultId=function(){
return _5;
};
_1.load=function(id,_6,_7,_8){
_2([id=="platform"?_5:_4],function(_9){
_7(_9);
});
};
});
},"dojo/date":function(){
define(["./has","./_base/lang"],function(_a,_b){
var _c={};
_c.getDaysInMonth=function(_d){
var _e=_d.getMonth();
var _f=[31,28,31,30,31,30,31,31,30,31,30,31];
if(_e==1&&_c.isLeapYear(_d)){
return 29;
}
return _f[_e];
};
_c.isLeapYear=function(_10){
var _11=_10.getFullYear();
return !(_11%400)||(!(_11%4)&&!!(_11%100));
};
_c.getTimezoneName=function(_12){
var str=_12.toString();
var tz="";
var _13;
var pos=str.indexOf("(");
if(pos>-1){
tz=str.substring(++pos,str.indexOf(")"));
}else{
var pat=/([A-Z\/]+) \d{4}$/;
if((_13=str.match(pat))){
tz=_13[1];
}else{
str=_12.toLocaleString();
pat=/ ([A-Z\/]+)$/;
if((_13=str.match(pat))){
tz=_13[1];
}
}
}
return (tz=="AM"||tz=="PM")?"":tz;
};
_c.compare=function(_14,_15,_16){
_14=new Date(+_14);
_15=new Date(+(_15||new Date()));
if(_16=="date"){
_14.setHours(0,0,0,0);
_15.setHours(0,0,0,0);
}else{
if(_16=="time"){
_14.setFullYear(0,0,0);
_15.setFullYear(0,0,0);
}
}
if(_14>_15){
return 1;
}
if(_14<_15){
return -1;
}
return 0;
};
_c.add=function(_17,_18,_19){
var sum=new Date(+_17);
var _1a=false;
var _1b="Date";
switch(_18){
case "day":
break;
case "weekday":
var _1c,_1d;
var mod=_19%5;
if(!mod){
_1c=(_19>0)?5:-5;
_1d=(_19>0)?((_19-5)/5):((_19+5)/5);
}else{
_1c=mod;
_1d=parseInt(_19/5);
}
var _1e=_17.getDay();
var adj=0;
if(_1e==6&&_19>0){
adj=1;
}else{
if(_1e==0&&_19<0){
adj=-1;
}
}
var _1f=_1e+_1c;
if(_1f==0||_1f==6){
adj=(_19>0)?2:-2;
}
_19=(7*_1d)+_1c+adj;
break;
case "year":
_1b="FullYear";
_1a=true;
break;
case "week":
_19*=7;
break;
case "quarter":
_19*=3;
case "month":
_1a=true;
_1b="Month";
break;
default:
_1b="UTC"+_18.charAt(0).toUpperCase()+_18.substring(1)+"s";
}
if(_1b){
sum["set"+_1b](sum["get"+_1b]()+_19);
}
if(_1a&&(sum.getDate()<_17.getDate())){
sum.setDate(0);
}
return sum;
};
_c.difference=function(_20,_21,_22){
_21=_21||new Date();
_22=_22||"day";
var _23=_21.getFullYear()-_20.getFullYear();
var _24=1;
switch(_22){
case "quarter":
var m1=_20.getMonth();
var m2=_21.getMonth();
var q1=Math.floor(m1/3)+1;
var q2=Math.floor(m2/3)+1;
q2+=(_23*4);
_24=q2-q1;
break;
case "weekday":
var _25=Math.round(_c.difference(_20,_21,"day"));
var _26=parseInt(_c.difference(_20,_21,"week"));
var mod=_25%7;
if(mod==0){
_25=_26*5;
}else{
var adj=0;
var _27=_20.getDay();
var _28=_21.getDay();
_26=parseInt(_25/7);
mod=_25%7;
var _29=new Date(_20);
_29.setDate(_29.getDate()+(_26*7));
var _2a=_29.getDay();
if(_25>0){
switch(true){
case _27==6:
adj=-1;
break;
case _27==0:
adj=0;
break;
case _28==6:
adj=-1;
break;
case _28==0:
adj=-2;
break;
case (_2a+mod)>5:
adj=-2;
}
}else{
if(_25<0){
switch(true){
case _27==6:
adj=0;
break;
case _27==0:
adj=1;
break;
case _28==6:
adj=2;
break;
case _28==0:
adj=1;
break;
case (_2a+mod)<0:
adj=2;
}
}
}
_25+=adj;
_25-=(_26*2);
}
_24=_25;
break;
case "year":
_24=_23;
break;
case "month":
_24=(_21.getMonth()-_20.getMonth())+(_23*12);
break;
case "week":
_24=parseInt(_c.difference(_20,_21,"day")/7);
break;
case "day":
_24/=24;
case "hour":
_24/=60;
case "minute":
_24/=60;
case "second":
_24/=1000;
case "millisecond":
_24*=_21.getTime()-_20.getTime();
}
return Math.round(_24);
};
1&&_b.mixin(_b.getObject("dojo.date",true),_c);
return _c;
});
},"dojo/currency":function(){
define(["./_base/array","./_base/lang","./number","./i18n","./i18n!./cldr/nls/currency","./cldr/monetary"],function(_2b,_2c,_2d,_2e,_2f,_30){
var _31={};
_2c.setObject("dojo.currency",_31);
_31._mixInDefaults=function(_32){
_32=_32||{};
_32.type="currency";
var _33=_2e.getLocalization("dojo.cldr","currency",_32.locale)||{};
var iso=_32.currency;
var _34=_30.getData(iso);
_2b.forEach(["displayName","symbol","group","decimal"],function(_35){
_34[_35]=_33[iso+"_"+_35];
});
_34.fractional=[true,false];
return _2c.mixin(_34,_32);
};
_31.format=function(_36,_37){
return _2d.format(_36,_31._mixInDefaults(_37));
};
_31.regexp=function(_38){
return _2d.regexp(_31._mixInDefaults(_38));
};
_31.parse=function(_39,_3a){
return _2d.parse(_39,_31._mixInDefaults(_3a));
};
return _31;
});
},"dijit/selection":function(){
define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/sniff","dojo/_base/window","dijit/focus"],function(_3b,dom,_3c,has,_3d,_3e){
var _3f=function(win){
var doc=win.document;
this.getType=function(){
if(doc.getSelection){
var _40="text";
var _41;
try{
_41=win.getSelection();
}
catch(e){
}
if(_41&&_41.rangeCount==1){
var _42=_41.getRangeAt(0);
if((_42.startContainer==_42.endContainer)&&((_42.endOffset-_42.startOffset)==1)&&(_42.startContainer.nodeType!=3)){
_40="control";
}
}
return _40;
}else{
return doc.selection.type.toLowerCase();
}
};
this.getSelectedText=function(){
if(doc.getSelection){
var _43=win.getSelection();
return _43?_43.toString():"";
}else{
if(this.getType()=="control"){
return null;
}
return doc.selection.createRange().text;
}
};
this.getSelectedHtml=function(){
if(doc.getSelection){
var _44=win.getSelection();
if(_44&&_44.rangeCount){
var i;
var _45="";
for(i=0;i<_44.rangeCount;i++){
var _46=_44.getRangeAt(i).cloneContents();
var div=doc.createElement("div");
div.appendChild(_46);
_45+=div.innerHTML;
}
return _45;
}
return null;
}else{
if(this.getType()=="control"){
return null;
}
return doc.selection.createRange().htmlText;
}
};
this.getSelectedElement=function(){
if(this.getType()=="control"){
if(doc.getSelection){
var _47=win.getSelection();
return _47.anchorNode.childNodes[_47.anchorOffset];
}else{
var _48=doc.selection.createRange();
if(_48&&_48.item){
return doc.selection.createRange().item(0);
}
}
}
return null;
};
this.getParentElement=function(){
if(this.getType()=="control"){
var p=this.getSelectedElement();
if(p){
return p.parentNode;
}
}else{
if(doc.getSelection){
var _49=doc.getSelection();
if(_49){
var _4a=_49.anchorNode;
while(_4a&&(_4a.nodeType!=1)){
_4a=_4a.parentNode;
}
return _4a;
}
}else{
var r=doc.selection.createRange();
r.collapse(true);
return r.parentElement();
}
}
return null;
};
this.hasAncestorElement=function(_4b){
return this.getAncestorElement.apply(this,arguments)!=null;
};
this.getAncestorElement=function(_4c){
var _4d=this.getSelectedElement()||this.getParentElement();
return this.getParentOfType(_4d,arguments);
};
this.isTag=function(_4e,_4f){
if(_4e&&_4e.tagName){
var _50=_4e.tagName.toLowerCase();
for(var i=0;i<_4f.length;i++){
var _51=String(_4f[i]).toLowerCase();
if(_50==_51){
return _51;
}
}
}
return "";
};
this.getParentOfType=function(_52,_53){
while(_52){
if(this.isTag(_52,_53).length){
return _52;
}
_52=_52.parentNode;
}
return null;
};
this.collapse=function(_54){
if(doc.getSelection){
var _55=win.getSelection();
if(_55.removeAllRanges){
if(_54){
_55.collapseToStart();
}else{
_55.collapseToEnd();
}
}else{
_55.collapse(_54);
}
}else{
var _56=doc.selection.createRange();
_56.collapse(_54);
_56.select();
}
};
this.remove=function(){
var sel=doc.selection;
if(doc.getSelection){
sel=win.getSelection();
sel.deleteFromDocument();
return sel;
}else{
if(sel.type.toLowerCase()!="none"){
sel.clear();
}
return sel;
}
};
this.selectElementChildren=function(_57,_58){
var _59;
_57=dom.byId(_57);
if(doc.getSelection){
var _5a=win.getSelection();
if(has("opera")){
if(_5a.rangeCount){
_59=_5a.getRangeAt(0);
}else{
_59=doc.createRange();
}
_59.setStart(_57,0);
_59.setEnd(_57,(_57.nodeType==3)?_57.length:_57.childNodes.length);
_5a.addRange(_59);
}else{
_5a.selectAllChildren(_57);
}
}else{
_59=_57.ownerDocument.body.createTextRange();
_59.moveToElementText(_57);
if(!_58){
try{
_59.select();
}
catch(e){
}
}
}
};
this.selectElement=function(_5b,_5c){
var _5d;
_5b=dom.byId(_5b);
if(doc.getSelection){
var _5e=doc.getSelection();
_5d=doc.createRange();
if(_5e.removeAllRanges){
if(has("opera")){
if(_5e.getRangeAt(0)){
_5d=_5e.getRangeAt(0);
}
}
_5d.selectNode(_5b);
_5e.removeAllRanges();
_5e.addRange(_5d);
}
}else{
try{
var tg=_5b.tagName?_5b.tagName.toLowerCase():"";
if(tg==="img"||tg==="table"){
_5d=_3d.body(doc).createControlRange();
}else{
_5d=_3d.body(doc).createRange();
}
_5d.addElement(_5b);
if(!_5c){
_5d.select();
}
}
catch(e){
this.selectElementChildren(_5b,_5c);
}
}
};
this.inSelection=function(_5f){
if(_5f){
var _60;
var _61;
if(doc.getSelection){
var sel=win.getSelection();
if(sel&&sel.rangeCount>0){
_61=sel.getRangeAt(0);
}
if(_61&&_61.compareBoundaryPoints&&doc.createRange){
try{
_60=doc.createRange();
_60.setStart(_5f,0);
if(_61.compareBoundaryPoints(_61.START_TO_END,_60)===1){
return true;
}
}
catch(e){
}
}
}else{
_61=doc.selection.createRange();
try{
_60=_5f.ownerDocument.body.createTextRange();
_60.moveToElementText(_5f);
}
catch(e2){
}
if(_61&&_60){
if(_61.compareEndPoints("EndToStart",_60)===1){
return true;
}
}
}
}
return false;
},this.getBookmark=function(){
var bm,rg,tg,sel=doc.selection,cf=_3e.curNode;
if(doc.getSelection){
sel=win.getSelection();
if(sel){
if(sel.isCollapsed){
tg=cf?cf.tagName:"";
if(tg){
tg=tg.toLowerCase();
if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){
sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};
return {isCollapsed:(sel.end<=sel.start),mark:sel};
}
}
bm={isCollapsed:true};
if(sel.rangeCount){
bm.mark=sel.getRangeAt(0).cloneRange();
}
}else{
rg=sel.getRangeAt(0);
bm={isCollapsed:false,mark:rg.cloneRange()};
}
}
}else{
if(sel){
tg=cf?cf.tagName:"";
tg=tg.toLowerCase();
if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){
if(sel.type&&sel.type.toLowerCase()=="none"){
return {isCollapsed:true,mark:null};
}else{
rg=sel.createRange();
return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};
}
}
bm={};
try{
rg=sel.createRange();
bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);
}
catch(e){
bm.isCollapsed=true;
return bm;
}
if(sel.type.toUpperCase()=="CONTROL"){
if(rg.length){
bm.mark=[];
var i=0,len=rg.length;
while(i<len){
bm.mark.push(rg.item(i++));
}
}else{
bm.isCollapsed=true;
bm.mark=null;
}
}else{
bm.mark=rg.getBookmark();
}
}else{
console.warn("No idea how to store the current selection for this browser!");
}
}
return bm;
};
this.moveToBookmark=function(_62){
var _63=_62.mark;
if(_63){
if(doc.getSelection){
var sel=win.getSelection();
if(sel&&sel.removeAllRanges){
if(_63.pRange){
var n=_63.node;
n.selectionStart=_63.start;
n.selectionEnd=_63.end;
}else{
sel.removeAllRanges();
sel.addRange(_63);
}
}else{
console.warn("No idea how to restore selection for this browser!");
}
}else{
if(doc.selection&&_63){
var rg;
if(_63.pRange){
rg=_63.range;
}else{
if(_3c.isArray(_63)){
rg=doc.body.createControlRange();
_3b.forEach(_63,function(n){
rg.addElement(n);
});
}else{
rg=doc.body.createTextRange();
rg.moveToBookmark(_63);
}
}
rg.select();
}
}
}
};
this.isCollapsed=function(){
return this.getBookmark().isCollapsed;
};
};
var _64=new _3f(window);
_64.SelectionManager=_3f;
return _64;
});
},"dojox/form/uploader/_HTML5":function(){
define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo"],function(_65,_66,_67,_68){
return _65("dojox.form.uploader._HTML5",[],{errMsg:"Error uploading files. Try checking permissions",uploadType:"html5",postMixInProperties:function(){
this.inherited(arguments);
if(this.uploadType==="html5"){
}
},postCreate:function(){
this.connectForm();
this.inherited(arguments);
if(this.uploadOnSelect){
this.connect(this,"onChange",function(_69){
this.upload(_69[0]);
});
}
},_drop:function(e){
_68.stopEvent(e);
var dt=e.dataTransfer;
this._files=dt.files;
this.onChange(this.getFileList());
},upload:function(_6a){
this.onBegin(this.getFileList());
this.uploadWithFormData(_6a);
},addDropTarget:function(_6b,_6c){
if(!_6c){
this.connect(_6b,"dragenter",_68.stopEvent);
this.connect(_6b,"dragover",_68.stopEvent);
this.connect(_6b,"dragleave",_68.stopEvent);
}
this.connect(_6b,"drop","_drop");
},uploadWithFormData:function(_6d){
if(!this.getUrl()){
console.error("No upload url found.",this);
return;
}
var fd=new FormData(),_6e=this._getFileFieldName();
_67.forEach(this._files,function(f,i){
fd.append(_6e,f);
},this);
if(_6d){
_6d.uploadType=this.uploadType;
for(var nm in _6d){
fd.append(nm,_6d[nm]);
}
}
var xhr=this.createXhr();
xhr.send(fd);
},_xhrProgress:function(evt){
if(evt.lengthComputable){
var o={bytesLoaded:evt.loaded,bytesTotal:evt.total,type:evt.type,timeStamp:evt.timeStamp};
if(evt.type=="load"){
o.percent="100%";
o.decimal=1;
}else{
o.decimal=evt.loaded/evt.total;
o.percent=Math.ceil((evt.loaded/evt.total)*100)+"%";
}
this.onProgress(o);
}
},createXhr:function(){
var xhr=new XMLHttpRequest();
var _6f;
xhr.upload.addEventListener("progress",_66.hitch(this,"_xhrProgress"),false);
xhr.addEventListener("load",_66.hitch(this,"_xhrProgress"),false);
xhr.addEventListener("error",_66.hitch(this,function(evt){
this.onError(evt);
clearInterval(_6f);
}),false);
xhr.addEventListener("abort",_66.hitch(this,function(evt){
this.onAbort(evt);
clearInterval(_6f);
}),false);
xhr.onreadystatechange=_66.hitch(this,function(){
if(xhr.readyState===4){
clearInterval(_6f);
try{
this.onComplete(JSON.parse(xhr.responseText.replace(/^\{\}&&/,"")));
}
catch(e){
var msg="Error parsing server result:";
console.error(msg,e);
console.error(xhr.responseText);
this.onError(msg,e);
}
}
});
xhr.open("POST",this.getUrl());
xhr.setRequestHeader("Accept","application/json");
_6f=setInterval(_66.hitch(this,function(){
try{
if(typeof (xhr.statusText)){
}
}
catch(e){
clearInterval(_6f);
}
}),250);
return xhr;
}});
});
},"dojox/grid/DataGrid":function(){
define(["../main","dojo/_base/array","dojo/_base/lang","dojo/_base/json","dojo/_base/sniff","dojo/_base/declare","./_Grid","./DataSelection","dojo/_base/html","dojo/has","dojo/has!dojo-bidi?./bidi/_BidiMixin"],function(_70,_71,_72,_73,has,_74,_75,_76,_77){
var _78=_74("dojox.grid.DataGrid",_75,{store:null,query:null,queryOptions:null,fetchText:"...",sortFields:null,updateDelay:1,items:null,_store_connects:null,_by_idty:null,_by_idx:null,_cache:null,_pages:null,_pending_requests:null,_bop:-1,_eop:-1,_requests:0,rowCount:0,_isLoaded:false,_isLoading:false,keepSelection:false,postCreate:function(){
this._pages=[];
this._store_connects=[];
this._by_idty={};
this._by_idx=[];
this._cache=[];
this._pending_requests={};
this._setStore(this.store);
this.inherited(arguments);
},destroy:function(){
this.selection.destroy();
this.inherited(arguments);
},createSelection:function(){
this.selection=new _76(this);
},get:function(_79,_7a){
if(_7a&&this.field=="_item"&&!this.fields){
return _7a;
}else{
if(_7a&&this.fields){
var ret=[];
var s=this.grid.store;
_71.forEach(this.fields,function(f){
ret=ret.concat(s.getValues(_7a,f));
});
return ret;
}else{
if(!_7a&&typeof _79==="string"){
return this.inherited(arguments);
}
}
}
return (!_7a?this.defaultValue:(!this.field?this.value:(this.field=="_item"?_7a:this.grid.store.getValue(_7a,this.field))));
},_checkUpdateStatus:function(){
if(this.updateDelay>0){
var _7b=false;
if(this._endUpdateDelay){
clearTimeout(this._endUpdateDelay);
delete this._endUpdateDelay;
_7b=true;
}
if(!this.updating){
this.beginUpdate();
_7b=true;
}
if(_7b){
var _7c=this;
this._endUpdateDelay=setTimeout(function(){
delete _7c._endUpdateDelay;
_7c.endUpdate();
},this.updateDelay);
}
}
},_onSet:function(_7d,_7e,_7f,_80){
this._checkUpdateStatus();
var idx=this.getItemIndex(_7d);
if(idx>-1){
this.updateRow(idx);
}
},_createItem:function(_81,_82){
var _83=this._hasIdentity?this.store.getIdentity(_81):_73.toJson(this.query)+":idx:"+_82+":sort:"+_73.toJson(this.getSortProps());
var o=this._by_idty[_83]={idty:_83,item:_81};
return o;
},_addItem:function(_84,_85,_86){
this._by_idx[_85]=this._createItem(_84,_85);
if(!_86){
this.updateRow(_85);
}
},_onNew:function(_87,_88){
this._checkUpdateStatus();
var _89=this.get("rowCount");
this._addingItem=true;
this.updateRowCount(_89+1);
this._addingItem=false;
this._addItem(_87,_89);
this.showMessage();
},_onDelete:function(_8a){
this._checkUpdateStatus();
var idx=this._getItemIndex(_8a,true);
if(idx>=0){
this._pages=[];
this._bop=-1;
this._eop=-1;
var o=this._by_idx[idx];
this._by_idx.splice(idx,1);
delete this._by_idty[o.idty];
this.updateRowCount(this.get("rowCount")-1);
if(this.get("rowCount")===0){
this.showMessage(this.noDataMessage);
}
}
if(this.selection.isSelected(idx)){
this.selection.deselect(idx);
this.selection.selected.splice(idx,1);
}
},_onRevert:function(){
this._refresh();
},setStore:function(_8b,_8c,_8d){
if(this._requestsPending(0)){
return;
}
this._setQuery(_8c,_8d);
this._setStore(_8b);
this._refresh(true);
},setQuery:function(_8e,_8f){
if(this._requestsPending(0)){
return;
}
this._setQuery(_8e,_8f);
this._refresh(true);
},setItems:function(_90){
this.items=_90;
this._setStore(this.store);
this._refresh(true);
},_setQuery:function(_91,_92){
this.query=_91;
this.queryOptions=_92||this.queryOptions;
},_setStore:function(_93){
if(this.store&&this._store_connects){
_71.forEach(this._store_connects,this.disconnect,this);
}
this.store=_93;
if(this.store){
var f=this.store.getFeatures();
var h=[];
this._canEdit=!!f["dojo.data.api.Write"]&&!!f["dojo.data.api.Identity"];
this._hasIdentity=!!f["dojo.data.api.Identity"];
if(!!f["dojo.data.api.Notification"]&&!this.items){
h.push(this.connect(this.store,"onSet","_onSet"));
h.push(this.connect(this.store,"onNew","_onNew"));
h.push(this.connect(this.store,"onDelete","_onDelete"));
}
if(this._canEdit){
h.push(this.connect(this.store,"revert","_onRevert"));
}
this._store_connects=h;
}
},_onFetchBegin:function(_94,req){
if(!this.scroller){
return;
}
if(this.rowCount!=_94){
if(req.isRender){
this.scroller.init(_94,this.keepRows,this.rowsPerPage);
this.rowCount=_94;
this._setAutoHeightAttr(this.autoHeight,true);
this._skipRowRenormalize=true;
this.prerender();
this._skipRowRenormalize=false;
}else{
this.updateRowCount(_94);
}
}
if(!_94){
this.views.render();
this._resize();
this.showMessage(this.noDataMessage);
this.focus.initFocusView();
}else{
this.showMessage();
}
},_onFetchComplete:function(_95,req){
if(!this.scroller){
return;
}
if(_95&&_95.length>0){
_71.forEach(_95,function(_96,idx){
this._addItem(_96,req.start+idx,true);
},this);
this.updateRows(req.start,_95.length);
if(req.isRender){
this.setScrollTop(0);
this.postrender();
}else{
if(this._lastScrollTop){
this.setScrollTop(this._lastScrollTop);
}
}
if(has("ie")){
_77.setSelectable(this.domNode,this.selectable);
}
}
delete this._lastScrollTop;
if(!this._isLoaded){
this._isLoading=false;
this._isLoaded=true;
}
this._pending_requests[req.start]=false;
},_onFetchError:function(err,req){
delete this._lastScrollTop;
if(!this._isLoaded){
this._isLoading=false;
this._isLoaded=true;
this.showMessage(this.errorMessage);
}
this._pending_requests[req.start]=false;
this.onFetchError(err,req);
},onFetchError:function(err,req){
},_fetch:function(_97,_98){
_97=_97||0;
if(this.store&&!this._pending_requests[_97]){
if(!this._isLoaded&&!this._isLoading){
this._isLoading=true;
this.showMessage(this.loadingMessage);
}
this._pending_requests[_97]=true;
try{
if(this.items){
var _99=this.items;
var _9a=this.store;
this.rowsPerPage=_99.length;
var req={start:_97,count:this.rowsPerPage,isRender:_98};
this._onFetchBegin(_99.length,req);
var _9b=0;
_71.forEach(_99,function(i){
if(!_9a.isItemLoaded(i)){
_9b++;
}
});
if(_9b===0){
this._onFetchComplete(_99,req);
}else{
var _9c=function(_9d){
_9b--;
if(_9b===0){
this._onFetchComplete(_99,req);
}
};
_71.forEach(_99,function(i){
if(!_9a.isItemLoaded(i)){
_9a.loadItem({item:i,onItem:_9c,scope:this});
}
},this);
}
}else{
this.store.fetch({start:_97,count:this.rowsPerPage,query:this.query,sort:this.getSortProps(),queryOptions:this.queryOptions,isRender:_98,onBegin:_72.hitch(this,"_onFetchBegin"),onComplete:_72.hitch(this,"_onFetchComplete"),onError:_72.hitch(this,"_onFetchError")});
}
}
catch(e){
this._onFetchError(e,{start:_97,count:this.rowsPerPage});
}
}
},_clearData:function(){
this.updateRowCount(0);
this._by_idty={};
this._by_idx=[];
this._pages=[];
this._bop=this._eop=-1;
this._isLoaded=false;
this._isLoading=false;
},getItem:function(idx){
var _9e=this._by_idx[idx];
if(!_9e||(_9e&&!_9e.item)){
this._preparePage(idx);
return null;
}
return _9e.item;
},getItemIndex:function(_9f){
return this._getItemIndex(_9f,false);
},_getItemIndex:function(_a0,_a1){
if(!_a1&&!this.store.isItem(_a0)){
return -1;
}
var _a2=this._hasIdentity?this.store.getIdentity(_a0):null;
for(var i=0,l=this._by_idx.length;i<l;i++){
var d=this._by_idx[i];
if(d&&((_a2&&d.idty==_a2)||(d.item===_a0))){
return i;
}
}
return -1;
},filter:function(_a3,_a4){
this.query=_a3;
if(_a4){
this._clearData();
}
this._fetch();
},_getItemAttr:function(idx,_a5){
var _a6=this.getItem(idx);
return (!_a6?this.fetchText:this.store.getValue(_a6,_a5));
},_render:function(){
if(this.domNode.parentNode){
this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);
this.prerender();
this._fetch(0,true);
}
},_requestsPending:function(_a7){
return this._pending_requests[_a7];
},_rowToPage:function(_a8){
return (this.rowsPerPage?Math.floor(_a8/this.rowsPerPage):_a8);
},_pageToRow:function(_a9){
return (this.rowsPerPage?this.rowsPerPage*_a9:_a9);
},_preparePage:function(_aa){
if((_aa<this._bop||_aa>=this._eop)&&!this._addingItem){
var _ab=this._rowToPage(_aa);
this._needPage(_ab);
this._bop=_ab*this.rowsPerPage;
this._eop=this._bop+(this.rowsPerPage||this.get("rowCount"));
}
},_needPage:function(_ac){
if(!this._pages[_ac]){
this._pages[_ac]=true;
this._requestPage(_ac);
}
},_requestPage:function(_ad){
var row=this._pageToRow(_ad);
var _ae=Math.min(this.rowsPerPage,this.get("rowCount")-row);
if(_ae>0){
this._requests++;
if(!this._requestsPending(row)){
setTimeout(_72.hitch(this,"_fetch",row,false),1);
}
}
},getCellName:function(_af){
return _af.field;
},_refresh:function(_b0){
this._clearData();
this._fetch(0,_b0);
},sort:function(){
this.edit.apply();
this._lastScrollTop=this.scrollTop;
this._refresh();
},canSort:function(){
return (!this._isLoading);
},getSortProps:function(){
var c=this.getCell(this.getSortIndex());
if(!c){
if(this.sortFields){
return this.sortFields;
}
return null;
}else{
var _b1=c["sortDesc"];
var si=!(this.sortInfo>0);
if(typeof _b1=="undefined"){
_b1=si;
}else{
_b1=si?!_b1:_b1;
}
return [{attribute:c.field,descending:_b1}];
}
},styleRowState:function(_b2){
if(this.store&&this.store.getState){
var _b3=this.store.getState(_b2.index),c="";
for(var i=0,ss=["inflight","error","inserting"],s;s=ss[i];i++){
if(_b3[s]){
c=" dojoxGridRow-"+s;
break;
}
}
_b2.customClasses+=c;
}
},onStyleRow:function(_b4){
this.styleRowState(_b4);
this.inherited(arguments);
},canEdit:function(_b5,_b6){
return this._canEdit;
},_copyAttr:function(idx,_b7){
var row={};
var _b8={};
var src=this.getItem(idx);
return this.store.getValue(src,_b7);
},doStartEdit:function(_b9,_ba){
if(!this._cache[_ba]){
this._cache[_ba]=this._copyAttr(_ba,_b9.field);
}
this.onStartEdit(_b9,_ba);
},doApplyCellEdit:function(_bb,_bc,_bd){
this.store.fetchItemByIdentity({identity:this._by_idx[_bc].idty,onItem:_72.hitch(this,function(_be){
var _bf=this.store.getValue(_be,_bd);
if(typeof _bf=="number"){
_bb=isNaN(_bb)?_bb:parseFloat(_bb);
}else{
if(typeof _bf=="boolean"){
_bb=_bb=="true"?true:_bb=="false"?false:_bb;
}else{
if(_bf instanceof Date){
var _c0=new Date(_bb);
_bb=isNaN(_c0.getTime())?_bb:_c0;
}
}
}
this.store.setValue(_be,_bd,_bb);
this.onApplyCellEdit(_bb,_bc,_bd);
})});
},doCancelEdit:function(_c1){
var _c2=this._cache[_c1];
if(_c2){
this.updateRow(_c1);
delete this._cache[_c1];
}
this.onCancelEdit.apply(this,arguments);
},doApplyEdit:function(_c3,_c4){
var _c5=this._cache[_c3];
this.onApplyEdit(_c3);
},removeSelectedRows:function(){
if(this._canEdit){
this.edit.apply();
var fx=_72.hitch(this,function(_c6){
if(_c6.length){
_71.forEach(_c6,this.store.deleteItem,this.store);
this.selection.clear();
}
});
if(this.allItemsSelected){
this.store.fetch({query:this.query,queryOptions:this.queryOptions,onComplete:fx});
}else{
fx(this.selection.getSelected());
}
}
}});
_78.cell_markupFactory=function(_c7,_c8,_c9){
var _ca=_72.trim(_77.attr(_c8,"field")||"");
if(_ca){
_c9.field=_ca;
}
_c9.field=_c9.field||_c9.name;
var _cb=_72.trim(_77.attr(_c8,"fields")||"");
if(_cb){
_c9.fields=_cb.split(",");
}
if(_c7){
_c7(_c8,_c9);
}
};
_78.markupFactory=function(_cc,_cd,_ce,_cf){
return _75.markupFactory(_cc,_cd,_ce,_72.partial(_78.cell_markupFactory,_cf));
};
return _78;
});
},"dijit/MenuBar":function(){
define(["dojo/_base/declare","dojo/keys","./_MenuBase","dojo/text!./templates/MenuBar.html"],function(_d0,_d1,_d2,_d3){
return _d0("dijit.MenuBar",_d2,{templateString:_d3,baseClass:"dijitMenuBar",popupDelay:0,_isMenuBar:true,_orient:["below"],_moveToPopup:function(evt){
if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){
this.onItemClick(this.focusedChild,evt);
}
},focusChild:function(_d4){
this.inherited(arguments);
if(this.activated&&_d4.popup&&!_d4.disabled){
this._openItemPopup(_d4,true);
}
},_onChildDeselect:function(_d5){
if(this.currentPopupItem==_d5){
this.currentPopupItem=null;
_d5._closePopup();
}
this.inherited(arguments);
},_onLeftArrow:function(){
this.focusPrev();
},_onRightArrow:function(){
this.focusNext();
},_onDownArrow:function(evt){
this._moveToPopup(evt);
},_onUpArrow:function(){
},onItemClick:function(_d6,evt){
if(_d6.popup&&_d6.popup.isShowingNow&&(!/^key/.test(evt.type)||evt.keyCode!==_d1.DOWN_ARROW)){
_d6.focusNode.focus();
this._cleanUp(true);
}else{
this.inherited(arguments);
}
}});
});
},"dijit/Viewport":function(){
define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(_d7,on,_d8,has,_d9){
var _da=new _d7();
var _db;
_d8(function(){
var _dc=_d9.getBox();
_da._rlh=on(window,"resize",function(){
var _dd=_d9.getBox();
if(_dc.h==_dd.h&&_dc.w==_dd.w){
return;
}
_dc=_dd;
_da.emit("resize");
});
if(has("ie")==8){
var _de=screen.deviceXDPI;
setInterval(function(){
if(screen.deviceXDPI!=_de){
_de=screen.deviceXDPI;
_da.emit("resize");
}
},500);
}
if(has("ios")){
on(document,"focusin",function(evt){
_db=evt.target;
});
on(document,"focusout",function(evt){
_db=null;
});
}
});
_da.getEffectiveBox=function(doc){
var box=_d9.getBox(doc);
var tag=_db&&_db.tagName&&_db.tagName.toLowerCase();
if(has("ios")&&_db&&!_db.readOnly&&(tag=="textarea"||(tag=="input"&&/^(color|email|number|password|search|tel|text|url)$/.test(_db.type)))){
box.h*=(orientation==0||orientation==180?0.66:0.4);
var _df=_db.getBoundingClientRect();
box.h=Math.max(box.h,_df.top+_df.height);
}
return box;
};
return _da;
});
},"dijit/_editor/range":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(_e0,_e1,_e2){
var _e3={getIndex:function(_e4,_e5){
var ret=[],_e6=[];
var _e7=_e4;
var _e8,n;
while(_e4!=_e5){
var i=0;
_e8=_e4.parentNode;
while((n=_e8.childNodes[i++])){
if(n===_e4){
--i;
break;
}
}
ret.unshift(i);
_e6.unshift(i-_e8.childNodes.length);
_e4=_e8;
}
if(ret.length>0&&_e7.nodeType==3){
n=_e7.previousSibling;
while(n&&n.nodeType==3){
ret[ret.length-1]--;
n=n.previousSibling;
}
n=_e7.nextSibling;
while(n&&n.nodeType==3){
_e6[_e6.length-1]++;
n=n.nextSibling;
}
}
return {o:ret,r:_e6};
},getNode:function(_e9,_ea){
if(!_e2.isArray(_e9)||_e9.length==0){
return _ea;
}
var _eb=_ea;
_e0.every(_e9,function(i){
if(i>=0&&i<_eb.childNodes.length){
_eb=_eb.childNodes[i];
}else{
_eb=null;
return false;
}
return true;
});
return _eb;
},getCommonAncestor:function(n1,n2,_ec){
_ec=_ec||n1.ownerDocument.body;
var _ed=function(n){
var as=[];
while(n){
as.unshift(n);
if(n!==_ec){
n=n.parentNode;
}else{
break;
}
}
return as;
};
var _ee=_ed(n1);
var _ef=_ed(n2);
var m=Math.min(_ee.length,_ef.length);
var com=_ee[0];
for(var i=1;i<m;i++){
if(_ee[i]===_ef[i]){
com=_ee[i];
}else{
break;
}
}
return com;
},getAncestor:function(_f0,_f1,_f2){
_f2=_f2||_f0.ownerDocument.body;
while(_f0&&_f0!==_f2){
var _f3=_f0.nodeName.toUpperCase();
if(_f1.test(_f3)){
return _f0;
}
_f0=_f0.parentNode;
}
return null;
},BlockTagNames:/^(?:P|DIV|H1|H2|H3|H4|H5|H6|ADDRESS|PRE|OL|UL|LI|DT|DE)$/,getBlockAncestor:function(_f4,_f5,_f6){
_f6=_f6||_f4.ownerDocument.body;
_f5=_f5||_e3.BlockTagNames;
var _f7=null,_f8;
while(_f4&&_f4!==_f6){
var _f9=_f4.nodeName.toUpperCase();
if(!_f7&&_f5.test(_f9)){
_f7=_f4;
}
if(!_f8&&(/^(?:BODY|TD|TH|CAPTION)$/).test(_f9)){
_f8=_f4;
}
_f4=_f4.parentNode;
}
return {blockNode:_f7,blockContainer:_f8||_f4.ownerDocument.body};
},atBeginningOfContainer:function(_fa,_fb,_fc){
var _fd=false;
var _fe=(_fc==0);
if(!_fe&&_fb.nodeType==3){
if(/^[\s\xA0]+$/.test(_fb.nodeValue.substr(0,_fc))){
_fe=true;
}
}
if(_fe){
var _ff=_fb;
_fd=true;
while(_ff&&_ff!==_fa){
if(_ff.previousSibling){
_fd=false;
break;
}
_ff=_ff.parentNode;
}
}
return _fd;
},atEndOfContainer:function(_100,node,_101){
var _102=false;
var _103=(_101==(node.length||node.childNodes.length));
if(!_103&&node.nodeType==3){
if(/^[\s\xA0]+$/.test(node.nodeValue.substr(_101))){
_103=true;
}
}
if(_103){
var _104=node;
_102=true;
while(_104&&_104!==_100){
if(_104.nextSibling){
_102=false;
break;
}
_104=_104.parentNode;
}
}
return _102;
},adjacentNoneTextNode:function(_105,next){
var node=_105;
var len=(0-_105.length)||0;
var prop=next?"nextSibling":"previousSibling";
while(node){
if(node.nodeType!=3){
break;
}
len+=node.length;
node=node[prop];
}
return [node,len];
},create:function(win){
win=win||window;
if(win.getSelection){
return win.document.createRange();
}else{
return new _106();
}
},getSelection:function(_107,_108){
if(_107.getSelection){
return _107.getSelection();
}else{
var s=new ie.selection(_107);
if(!_108){
s._getCurrentSelection();
}
return s;
}
}};
if(!window.getSelection){
var ie=_e3.ie={cachedSelection:{},selection:function(_109){
this._ranges=[];
this.addRange=function(r,_10a){
this._ranges.push(r);
if(!_10a){
r._select();
}
this.rangeCount=this._ranges.length;
};
this.removeAllRanges=function(){
this._ranges=[];
this.rangeCount=0;
};
var _10b=function(){
var r=_109.document.selection.createRange();
var type=_109.document.selection.type.toUpperCase();
if(type=="CONTROL"){
return new _106(ie.decomposeControlRange(r));
}else{
return new _106(ie.decomposeTextRange(r));
}
};
this.getRangeAt=function(i){
return this._ranges[i];
};
this._getCurrentSelection=function(){
this.removeAllRanges();
var r=_10b();
if(r){
this.addRange(r,true);
this.isCollapsed=r.collapsed;
}else{
this.isCollapsed=true;
}
};
},decomposeControlRange:function(_10c){
var _10d=_10c.item(0),_10e=_10c.item(_10c.length-1);
var _10f=_10d.parentNode,_110=_10e.parentNode;
var _111=_e3.getIndex(_10d,_10f).o[0];
var _112=_e3.getIndex(_10e,_110).o[0]+1;
return [_10f,_111,_110,_112];
},getEndPoint:function(_113,end){
var _114=_113.duplicate();
_114.collapse(!end);
var _115="EndTo"+(end?"End":"Start");
var _116=_114.parentElement();
var _117,_118,_119;
if(_116.childNodes.length>0){
_e0.every(_116.childNodes,function(node,i){
var _11a;
if(node.nodeType!=3){
_114.moveToElementText(node);
if(_114.compareEndPoints(_115,_113)>0){
if(_119&&_119.nodeType==3){
_117=_119;
_11a=true;
}else{
_117=_116;
_118=i;
return false;
}
}else{
if(i==_116.childNodes.length-1){
_117=_116;
_118=_116.childNodes.length;
return false;
}
}
}else{
if(i==_116.childNodes.length-1){
_117=node;
_11a=true;
}
}
if(_11a&&_117){
var _11b=_e3.adjacentNoneTextNode(_117)[0];
if(_11b){
_117=_11b.nextSibling;
}else{
_117=_116.firstChild;
}
var _11c=_e3.adjacentNoneTextNode(_117);
_11b=_11c[0];
var _11d=_11c[1];
if(_11b){
_114.moveToElementText(_11b);
_114.collapse(false);
}else{
_114.moveToElementText(_116);
}
_114.setEndPoint(_115,_113);
_118=_114.text.length-_11d;
return false;
}
_119=node;
return true;
});
}else{
_117=_116;
_118=0;
}
if(!end&&_117.nodeType==1&&_118==_117.childNodes.length){
var _11e=_117.nextSibling;
if(_11e&&_11e.nodeType==3){
_117=_11e;
_118=0;
}
}
return [_117,_118];
},setEndPoint:function(_11f,_120,_121){
var _122=_11f.duplicate(),node,len;
if(_120.nodeType!=3){
if(_121>0){
node=_120.childNodes[_121-1];
if(node){
if(node.nodeType==3){
_120=node;
_121=node.length;
}else{
if(node.nextSibling&&node.nextSibling.nodeType==3){
_120=node.nextSibling;
_121=0;
}else{
_122.moveToElementText(node.nextSibling?node:_120);
var _123=node.parentNode;
var _124=_123.insertBefore(node.ownerDocument.createTextNode(" "),node.nextSibling);
_122.collapse(false);
_123.removeChild(_124);
}
}
}
}else{
_122.moveToElementText(_120);
_122.collapse(true);
}
}
if(_120.nodeType==3){
var _125=_e3.adjacentNoneTextNode(_120);
var _126=_125[0];
len=_125[1];
if(_126){
_122.moveToElementText(_126);
_122.collapse(false);
if(_126.contentEditable!="inherit"){
len++;
}
}else{
_122.moveToElementText(_120.parentNode);
_122.collapse(true);
_122.move("character",1);
_122.move("character",-1);
}
_121+=len;
if(_121>0){
if(_122.move("character",_121)!=_121){
console.error("Error when moving!");
}
}
}
return _122;
},decomposeTextRange:function(_127){
var _128=ie.getEndPoint(_127);
var _129=_128[0],_12a=_128[1];
var _12b=_128[0],_12c=_128[1];
if(_127.htmlText.length){
if(_127.htmlText==_127.text){
_12c=_12a+_127.text.length;
}else{
_128=ie.getEndPoint(_127,true);
_12b=_128[0],_12c=_128[1];
}
}
return [_129,_12a,_12b,_12c];
},setRange:function(_12d,_12e,_12f,_130,_131,_132){
var _133=ie.setEndPoint(_12d,_12e,_12f);
_12d.setEndPoint("StartToStart",_133);
if(!_132){
var end=ie.setEndPoint(_12d,_130,_131);
}
_12d.setEndPoint("EndToEnd",end||_133);
return _12d;
}};
var _106=_e3.W3CRange=_e1(null,{constructor:function(){
if(arguments.length>0){
this.setStart(arguments[0][0],arguments[0][1]);
this.setEnd(arguments[0][2],arguments[0][3]);
}else{
this.commonAncestorContainer=null;
this.startContainer=null;
this.startOffset=0;
this.endContainer=null;
this.endOffset=0;
this.collapsed=true;
}
},_updateInternal:function(){
if(this.startContainer!==this.endContainer){
this.commonAncestorContainer=_e3.getCommonAncestor(this.startContainer,this.endContainer);
}else{
this.commonAncestorContainer=this.startContainer;
}
this.collapsed=(this.startContainer===this.endContainer)&&(this.startOffset==this.endOffset);
},setStart:function(node,_134){
_134=parseInt(_134);
if(this.startContainer===node&&this.startOffset==_134){
return;
}
delete this._cachedBookmark;
this.startContainer=node;
this.startOffset=_134;
if(!this.endContainer){
this.setEnd(node,_134);
}else{
this._updateInternal();
}
},setEnd:function(node,_135){
_135=parseInt(_135);
if(this.endContainer===node&&this.endOffset==_135){
return;
}
delete this._cachedBookmark;
this.endContainer=node;
this.endOffset=_135;
if(!this.startContainer){
this.setStart(node,_135);
}else{
this._updateInternal();
}
},setStartAfter:function(node,_136){
this._setPoint("setStart",node,_136,1);
},setStartBefore:function(node,_137){
this._setPoint("setStart",node,_137,0);
},setEndAfter:function(node,_138){
this._setPoint("setEnd",node,_138,1);
},setEndBefore:function(node,_139){
this._setPoint("setEnd",node,_139,0);
},_setPoint:function(what,node,_13a,ext){
var _13b=_e3.getIndex(node,node.parentNode).o;
this[what](node.parentNode,_13b.pop()+ext);
},_getIERange:function(){
var r=(this._body||this.endContainer.ownerDocument.body).createTextRange();
ie.setRange(r,this.startContainer,this.startOffset,this.endContainer,this.endOffset,this.collapsed);
return r;
},getBookmark:function(){
this._getIERange();
return this._cachedBookmark;
},_select:function(){
var r=this._getIERange();
r.select();
},deleteContents:function(){
var s=this.startContainer,r=this._getIERange();
if(s.nodeType===3&&!this.startOffset){
this.setStartBefore(s);
}
r.pasteHTML("");
this.endContainer=this.startContainer;
this.endOffset=this.startOffset;
this.collapsed=true;
},cloneRange:function(){
var r=new _106([this.startContainer,this.startOffset,this.endContainer,this.endOffset]);
r._body=this._body;
return r;
},detach:function(){
this._body=null;
this.commonAncestorContainer=null;
this.startContainer=null;
this.startOffset=0;
this.endContainer=null;
this.endOffset=0;
this.collapsed=true;
}});
}
_e2.setObject("dijit.range",_e3);
return _e3;
});
},"dijit/Dialog":function(){
define(["require","dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","dojo/text!./templates/Dialog.html","dojo/i18n!./nls/common"],function(_13c,_13d,_13e,_13f,_140,dom,_141,_142,_143,fx,i18n,keys,lang,on,_144,has,_145,_146,_147,_148,_149,_14a,_14b,_14c,_14d,_14e,_14f,_150,_151){
var _152=_13f("dijit._DialogBase"+(has("dojo-bidi")?"_NoBidi":""),[_14b,_14d,_14e,_14c],{templateString:_151,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:{node:"titleNode",type:"innerHTML"},open:false,duration:_149.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,_setDraggableAttr:function(val){
this._set("draggable",val);
},maxRatio:0.9,closable:true,_setClosableAttr:function(val){
this.closeButtonNode.style.display=val?"":"none";
this._set("closable",val);
},postMixInProperties:function(){
var _153=i18n.getLocalization("dijit","common");
lang.mixin(this,_153);
this.inherited(arguments);
},postCreate:function(){
_143.set(this.domNode,{display:"none",position:"absolute"});
this.ownerDocumentBody.appendChild(this.domNode);
this.inherited(arguments);
_13e.after(this,"onExecute",lang.hitch(this,"hide"),true);
_13e.after(this,"onCancel",lang.hitch(this,"hide"),true);
this._modalconnects=[];
},onLoad:function(){
this._size();
this._position();
if(this.autofocus&&_154.isTop(this)){
this._getFocusItems(this.domNode);
_148.focus(this._firstFocusItem);
}
this.inherited(arguments);
},focus:function(){
this._getFocusItems(this.domNode);
_148.focus(this._firstFocusItem);
},_endDrag:function(){
var _155=_142.position(this.domNode),_156=_145.getBox(this.ownerDocument);
_155.y=Math.min(Math.max(_155.y,0),(_156.h-_155.h));
_155.x=Math.min(Math.max(_155.x,0),(_156.w-_155.w));
this._relativePosition=_155;
this._position();
},_setup:function(){
var node=this.domNode;
if(this.titleBar&&this.draggable){
this._moveable=new ((has("ie")==6)?_147:_146)(node,{handle:this.titleBar});
_13e.after(this._moveable,"onMoveStop",lang.hitch(this,"_endDrag"),true);
}else{
_141.add(node,"dijitDialogFixed");
}
this.underlayAttrs={dialogId:this.id,"class":_13d.map(this["class"].split(/\s/),function(s){
return s+"_underlay";
}).join(" "),_onKeyDown:lang.hitch(this,"_onKey"),ownerDocument:this.ownerDocument};
},_size:function(){
this._checkIfSingleChild();
if(this._singleChild){
if(typeof this._singleChildOriginalStyle!="undefined"){
this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;
delete this._singleChildOriginalStyle;
}
}else{
_143.set(this.containerNode,{width:"auto",height:"auto"});
}
var bb=_142.position(this.domNode);
var _157=_145.getBox(this.ownerDocument);
_157.w*=this.maxRatio;
_157.h*=this.maxRatio;
if(bb.w>=_157.w||bb.h>=_157.h){
var _158=_142.position(this.containerNode),w=Math.min(bb.w,_157.w)-(bb.w-_158.w),h=Math.min(bb.h,_157.h)-(bb.h-_158.h);
if(this._singleChild&&this._singleChild.resize){
if(typeof this._singleChildOriginalStyle=="undefined"){
this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;
}
this._singleChild.resize({w:w,h:h});
}else{
_143.set(this.containerNode,{width:w+"px",height:h+"px",overflow:"auto",position:"relative"});
}
}else{
if(this._singleChild&&this._singleChild.resize){
this._singleChild.resize();
}
}
},_position:function(){
if(!_141.contains(this.ownerDocumentBody,"dojoMove")){
var node=this.domNode,_159=_145.getBox(this.ownerDocument),p=this._relativePosition,bb=p?null:_142.position(node),l=Math.floor(_159.l+(p?p.x:(_159.w-bb.w)/2)),t=Math.floor(_159.t+(p?p.y:(_159.h-bb.h)/2));
_143.set(node,{left:l+"px",top:t+"px"});
}
},_onKey:function(evt){
if(evt.keyCode==keys.TAB){
this._getFocusItems(this.domNode);
var node=evt.target;
if(this._firstFocusItem==this._lastFocusItem){
evt.stopPropagation();
evt.preventDefault();
}else{
if(node==this._firstFocusItem&&evt.shiftKey){
_148.focus(this._lastFocusItem);
evt.stopPropagation();
evt.preventDefault();
}else{
if(node==this._lastFocusItem&&!evt.shiftKey){
_148.focus(this._firstFocusItem);
evt.stopPropagation();
evt.preventDefault();
}
}
}
}else{
if(this.closable&&evt.keyCode==keys.ESCAPE){
this.onCancel();
evt.stopPropagation();
evt.preventDefault();
}
}
},show:function(){
if(this.open){
return;
}
if(!this._started){
this.startup();
}
if(!this._alreadyInitialized){
this._setup();
this._alreadyInitialized=true;
}
if(this._fadeOutDeferred){
this._fadeOutDeferred.cancel();
_154.hide(this);
}
var win=_145.get(this.ownerDocument);
this._modalconnects.push(on(win,"scroll",lang.hitch(this,"resize")));
this._modalconnects.push(on(this.domNode,"keydown",lang.hitch(this,"_onKey")));
_143.set(this.domNode,{opacity:0,display:""});
this._set("open",true);
this._onShow();
this._size();
this._position();
var _15a;
this._fadeInDeferred=new _140(lang.hitch(this,function(){
_15a.stop();
delete this._fadeInDeferred;
}));
var _15b=this._fadeInDeferred.promise;
_15a=fx.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:lang.hitch(this,function(){
_154.show(this,this.underlayAttrs);
}),onEnd:lang.hitch(this,function(){
if(this.autofocus&&_154.isTop(this)){
this._getFocusItems(this.domNode);
_148.focus(this._firstFocusItem);
}
this._fadeInDeferred.resolve(true);
delete this._fadeInDeferred;
})}).play();
return _15b;
},hide:function(){
if(!this._alreadyInitialized||!this.open){
return;
}
if(this._fadeInDeferred){
this._fadeInDeferred.cancel();
}
var _15c;
this._fadeOutDeferred=new _140(lang.hitch(this,function(){
_15c.stop();
delete this._fadeOutDeferred;
}));
this._fadeOutDeferred.then(lang.hitch(this,"onHide"));
var _15d=this._fadeOutDeferred.promise;
_15c=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,function(){
this.domNode.style.display="none";
_154.hide(this);
this._fadeOutDeferred.resolve(true);
delete this._fadeOutDeferred;
})}).play();
if(this._scrollConnected){
this._scrollConnected=false;
}
var h;
while(h=this._modalconnects.pop()){
h.remove();
}
if(this._relativePosition){
delete this._relativePosition;
}
this._set("open",false);
return _15d;
},resize:function(){
if(this.domNode.style.display!="none"){
this._size();
if(!has("touch")){
this._position();
}
}
},destroy:function(){
if(this._fadeInDeferred){
this._fadeInDeferred.cancel();
}
if(this._fadeOutDeferred){
this._fadeOutDeferred.cancel();
}
if(this._moveable){
this._moveable.destroy();
}
var h;
while(h=this._modalconnects.pop()){
h.remove();
}
_154.hide(this);
this.inherited(arguments);
}});
if(has("dojo-bidi")){
_152=_13f("dijit._DialogBase",_152,{_setTitleAttr:function(_15e){
this._set("title",_15e);
this.titleNode.innerHTML=_15e;
this.applyTextDir(this.titleNode);
},_setTextDirAttr:function(_15f){
if(this._created&&this.textDir!=_15f){
this._set("textDir",_15f);
this.set("title",this.title);
}
}});
}
var _160=_13f("dijit.Dialog",[_150,_152],{});
_160._DialogBase=_152;
var _154=_160._DialogLevelManager={_beginZIndex:950,show:function(_161,_162){
ds[ds.length-1].focus=_148.curNode;
var _163=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:_160._DialogLevelManager._beginZIndex;
_143.set(_161.domNode,"zIndex",_163);
_14f.show(_162,_163-1);
ds.push({dialog:_161,underlayAttrs:_162,zIndex:_163});
},hide:function(_164){
if(ds[ds.length-1].dialog==_164){
ds.pop();
var pd=ds[ds.length-1];
if(ds.length==1){
_14f.hide();
}else{
_14f.show(pd.underlayAttrs,pd.zIndex-1);
}
if(_164.refocus){
var _165=pd.focus;
if(pd.dialog&&(!_165||!dom.isDescendant(_165,pd.dialog.domNode))){
pd.dialog._getFocusItems(pd.dialog.domNode);
_165=pd.dialog._firstFocusItem;
}
if(_165){
try{
_165.focus();
}
catch(e){
}
}
}
}else{
var idx=_13d.indexOf(_13d.map(ds,function(elem){
return elem.dialog;
}),_164);
if(idx!=-1){
ds.splice(idx,1);
}
}
},isTop:function(_166){
return ds[ds.length-1].dialog==_166;
}};
var ds=_160._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];
_148.watch("curNode",function(attr,_167,node){
var _168=ds[ds.length-1].dialog;
if(node&&_168&&!_168._fadeOutDeferred&&node.ownerDocument==_168.ownerDocument){
do{
if(node==_168.domNode||_141.contains(node,"dijitPopup")){
return;
}
}while(node=node.parentNode);
_168.focus();
}
});
if(has("dijit-legacy-requires")){
_144(0,function(){
var _169=["dijit/TooltipDialog"];
_13c(_169);
});
}
return _160;
});
},"dojox/form/Uploader":function(){
define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/connect","dojo/_base/window","dojo/dom-style","dojo/dom-class","dojo/dom-geometry","dojo/dom-attr","dojo/dom-construct","dojo/dom-form","dijit","dijit/form/Button","./uploader/_Base","./uploader/_HTML5","./uploader/_IFrame","./uploader/_Flash","dojo/i18n!./nls/Uploader","dojo/text!./resources/Uploader.html"],function(_16a,_16b,lang,_16c,_16d,win,_16e,_16f,_170,_171,_172,_173,_174,_175,Base,_176,_177,_178,res,_179){
return _16b("dojox.form.Uploader",[Base,_175,_176,_177,_178],{uploadOnSelect:false,tabIndex:0,multiple:false,label:res.label,url:"",name:"uploadedfile",flashFieldName:"",force:"",uploadType:"",showInput:"",focusedClass:"dijitButtonHover",_nameIndex:0,templateString:_179,baseClass:"dijitUploader "+_175.prototype.baseClass,postMixInProperties:function(){
this._inputs=[];
this._cons=[];
this.force=this.force.toLowerCase();
if(this.supports("multiple")){
this.uploadType=this.force==="form"?"form":"html5";
}else{
this.uploadType=this.force==="flash"?"flash":"iframe";
}
this.inherited(arguments);
},buildRendering:function(){
this.inherited(arguments);
_16e.set(this.domNode,{overflow:"hidden",position:"relative"});
this._buildDisplay();
_171.set(this.titleNode,"tabIndex",-1);
},_buildDisplay:function(){
if(this.showInput){
this.displayInput=_172.create("input",{"class":"dijitUploadDisplayInput","tabIndex":-1,"autocomplete":"off","role":"presentation"},this.containerNode,this.showInput);
this._attachPoints.push("displayInput");
this.connect(this,"onChange",function(_17a){
var i=0,l=_17a.length,f,r=[];
while((f=_17a[i++])){
if(f&&f.name){
r.push(f.name);
}
}
this.displayInput.value=r.join(", ");
});
this.connect(this,"reset",function(){
this.displayInput.value="";
});
}
},startup:function(){
if(this._buildInitialized){
return;
}
this._buildInitialized=true;
this._getButtonStyle(this.domNode);
this._setButtonStyle();
this.inherited(arguments);
},onChange:function(_17b){
},onBegin:function(_17c){
},onProgress:function(_17d){
},onComplete:function(_17e){
this.reset();
},onCancel:function(){
},onAbort:function(){
},onError:function(_17f){
},upload:function(_180){
_180=_180||{};
_180.uploadType=this.uploadType;
this.inherited(arguments);
},submit:function(form){
form=!!form?form.tagName?form:this.getForm():this.getForm();
var data=_173.toObject(form);
data.uploadType=this.uploadType;
this.upload(data);
},reset:function(){
delete this._files;
this._disconnectButton();
_16c.forEach(this._inputs,_172.destroy,dojo);
this._inputs=[];
this._nameIndex=0;
this._createInput();
},getFileList:function(){
var _181=[];
if(this.supports("multiple")){
_16c.forEach(this._files,function(f,i){
_181.push({index:i,name:f.name,size:f.size,type:f.type});
},this);
}else{
_16c.forEach(this._inputs,function(n,i){
if(n.value){
_181.push({index:i,name:n.value.substring(n.value.lastIndexOf("\\")+1),size:0,type:n.value.substring(n.value.lastIndexOf(".")+1)});
}
},this);
}
return _181;
},_getValueAttr:function(){
return this.getFileList();
},_setValueAttr:function(_182){
console.error("Uploader value is read only");
},_setDisabledAttr:function(_183){
if(this.disabled==_183||!this.inputNode){
return;
}
this.inherited(arguments);
_16e.set(this.inputNode,"display",_183?"none":"");
},_getButtonStyle:function(node){
this.btnSize={w:_16e.get(node,"width"),h:_16e.get(node,"height")};
},_setButtonStyle:function(){
this.inputNodeFontSize=Math.max(2,Math.max(Math.ceil(this.btnSize.w/60),Math.ceil(this.btnSize.h/15)));
this._createInput();
},_getFileFieldName:function(){
var name;
if(this.supports("multiple")&&this.multiple){
name=this.name+"s[]";
}else{
name=this.name+(this.multiple?this._nameIndex:"");
}
return name;
},_createInput:function(){
if(this._inputs.length){
_16e.set(this.inputNode,{top:"500px"});
this._disconnectButton();
this._nameIndex++;
}
var name=this._getFileFieldName();
this.focusNode=this.inputNode=_172.create("input",{type:"file",name:name,"aria-labelledby":this.id+"_label"},this.domNode,"first");
if(this.supports("multiple")&&this.multiple){
_171.set(this.inputNode,"multiple",true);
}
this._inputs.push(this.inputNode);
_16e.set(this.inputNode,{position:"absolute",fontSize:this.inputNodeFontSize+"em",top:"-3px",right:"-3px",opacity:0});
this._connectButton();
},_connectButton:function(){
this._cons.push(_16d.connect(this.inputNode,"change",this,function(evt){
this._files=this.inputNode.files;
this.onChange(this.getFileList(evt));
if(!this.supports("multiple")&&this.multiple){
this._createInput();
}
}));
if(this.tabIndex>-1){
this.inputNode.tabIndex=this.tabIndex;
this._cons.push(_16d.connect(this.inputNode,"focus",this,function(){
_16f.add(this.domNode,this.focusedClass);
}));
this._cons.push(_16d.connect(this.inputNode,"blur",this,function(){
_16f.remove(this.domNode,this.focusedClass);
}));
}
},_disconnectButton:function(){
_16c.forEach(this._cons,_16d.disconnect);
this._cons.splice(0,this._cons.length);
}});
});
},"manager/ComboBox":function(){
define("manager/ComboBox",["dojo/_base/declare"],function(_184){
return _184("Manager.ComboBox",[],{constructor:function(name){
this.name=name;
},onTextChange:function(_185,_186,_187){
var tf=dijit.byId(_186);
var sl=dijit.byId(_187);
var text=tf.value;
sl.valueNode.value=text;
if(sl.textbox.value==""){
alert("!!! ATENÇÃO!!!\n\não existe uma opção correspondente ao valor '"+text+"'\ndo campo '"+_185+"'!");
tf.value="";
tf.focus();
}
},onSelectionChange:function(_188,_189,_18a){
var tf=dijit.byId(_18a);
var sl=dijit.byId(_189);
var _18b=sl.selectedIndex;
if(_18b!=-1){
tf.value=String(sl.options[_18b].value);
}
}});
});
},"dojox/html/metrics":function(){
define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/sniff","dojo/ready","dojo/_base/unload","dojo/_base/window","dojo/dom-geometry"],function(_18c,lang,has,_18d,_18e,_18f,_190){
var dhm=lang.getObject("dojox.html.metrics",true);
var _191=lang.getObject("dojox");
dhm.getFontMeasurements=function(){
var _192={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};
if(has("ie")){
_18f.doc.documentElement.style.fontSize="100%";
}
var div=_18f.doc.createElement("div");
var ds=div.style;
ds.position="absolute";
ds.left="-100px";
ds.top="0";
ds.width="30px";
ds.height="1000em";
ds.borderWidth="0";
ds.margin="0";
ds.padding="0";
ds.outline="0";
ds.lineHeight="1";
ds.overflow="hidden";
_18f.body().appendChild(div);
for(var p in _192){
ds.fontSize=p;
_192[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;
}
_18f.body().removeChild(div);
div=null;
return _192;
};
var _193=null;
dhm.getCachedFontMeasurements=function(_194){
if(_194||!_193){
_193=dhm.getFontMeasurements();
}
return _193;
};
var _195=null,_196={};
dhm.getTextBox=function(text,_197,_198){
var m,s;
if(!_195){
m=_195=_18f.doc.createElement("div");
var c=_18f.doc.createElement("div");
c.appendChild(m);
s=c.style;
s.overflow="scroll";
s.position="absolute";
s.left="0px";
s.top="-10000px";
s.width="1px";
s.height="1px";
s.visibility="hidden";
s.borderWidth="0";
s.margin="0";
s.padding="0";
s.outline="0";
_18f.body().appendChild(c);
}else{
m=_195;
}
m.className="";
s=m.style;
s.borderWidth="0";
s.margin="0";
s.padding="0";
s.outline="0";
if(arguments.length>1&&_197){
for(var i in _197){
if(i in _196){
continue;
}
s[i]=_197[i];
}
}
if(arguments.length>2&&_198){
m.className=_198;
}
m.innerHTML=text;
var box=_190.position(m);
box.w=m.parentNode.scrollWidth;
return box;
};
var _199={w:16,h:16};
dhm.getScrollbar=function(){
return {w:_199.w,h:_199.h};
};
dhm._fontResizeNode=null;
dhm.initOnFontResize=function(_19a){
var f=dhm._fontResizeNode=_18f.doc.createElement("iframe");
var fs=f.style;
fs.position="absolute";
fs.width="5em";
fs.height="10em";
fs.top="-10000px";
fs.display="none";
if(has("ie")){
f.onreadystatechange=function(){
if(f.contentWindow.document.readyState=="complete"){
f.onresize=f.contentWindow.parent[_191._scopeName].html.metrics._fontresize;
}
};
}else{
f.onload=function(){
f.contentWindow.onresize=f.contentWindow.parent[_191._scopeName].html.metrics._fontresize;
};
}
f.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}</script></head><body></body></html>'");
_18f.body().appendChild(f);
dhm.initOnFontResize=function(){
};
};
dhm.onFontResize=function(){
};
dhm._fontresize=function(){
dhm.onFontResize();
};
_18e.addOnUnload(function(){
var f=dhm._fontResizeNode;
if(f){
if(has("ie")&&f.onresize){
f.onresize=null;
}else{
if(f.contentWindow&&f.contentWindow.onresize){
f.contentWindow.onresize=null;
}
}
dhm._fontResizeNode=null;
}
});
_18d(function(){
try{
var n=_18f.doc.createElement("div");
n.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";
_18f.body().appendChild(n);
_199.w=n.offsetWidth-n.clientWidth;
_199.h=n.offsetHeight-n.clientHeight;
_18f.body().removeChild(n);
delete n;
}
catch(e){
}
if("fontSizeWatch" in _18c.config&&!!_18c.config.fontSizeWatch){
dhm.initOnFontResize();
}
});
return dhm;
});
},"dojo/date/locale":function(){
define(["../_base/lang","../_base/array","../date","../cldr/supplemental","../i18n","../regexp","../string","../i18n!../cldr/nls/gregorian","module"],function(lang,_19b,date,_19c,i18n,_19d,_19e,_19f,_1a0){
var _1a1={};
lang.setObject(_1a0.id.replace(/\//g,"."),_1a1);
function _1a2(_1a3,_1a4,_1a5,_1a6){
return _1a6.replace(/([a-z])\1*/ig,function(_1a7){
var s,pad,c=_1a7.charAt(0),l=_1a7.length,_1a8=["abbr","wide","narrow"];
switch(c){
case "G":
s=_1a4[(l<4)?"eraAbbr":"eraNames"][_1a3.getFullYear()<0?0:1];
break;
case "y":
s=_1a3.getFullYear();
switch(l){
case 1:
break;
case 2:
if(!_1a5.fullYear){
s=String(s);
s=s.substr(s.length-2);
break;
}
default:
pad=true;
}
break;
case "Q":
case "q":
s=Math.ceil((_1a3.getMonth()+1)/3);
pad=true;
break;
case "M":
case "L":
var m=_1a3.getMonth();
if(l<3){
s=m+1;
pad=true;
}else{
var _1a9=["months",c=="L"?"standAlone":"format",_1a8[l-3]].join("-");
s=_1a4[_1a9][m];
}
break;
case "w":
var _1aa=0;
s=_1a1._getWeekOfYear(_1a3,_1aa);
pad=true;
break;
case "d":
s=_1a3.getDate();
pad=true;
break;
case "D":
s=_1a1._getDayOfYear(_1a3);
pad=true;
break;
case "e":
case "c":
var d=_1a3.getDay();
if(l<2){
s=(d-_19c.getFirstDayOfWeek(_1a5.locale)+8)%7;
break;
}
case "E":
d=_1a3.getDay();
if(l<3){
s=d+1;
pad=true;
}else{
var _1ab=["days",c=="c"?"standAlone":"format",_1a8[l-3]].join("-");
s=_1a4[_1ab][d];
}
break;
case "a":
var _1ac=_1a3.getHours()<12?"am":"pm";
s=_1a5[_1ac]||_1a4["dayPeriods-format-wide-"+_1ac];
break;
case "h":
case "H":
case "K":
case "k":
var h=_1a3.getHours();
switch(c){
case "h":
s=(h%12)||12;
break;
case "H":
s=h;
break;
case "K":
s=(h%12);
break;
case "k":
s=h||24;
break;
}
pad=true;
break;
case "m":
s=_1a3.getMinutes();
pad=true;
break;
case "s":
s=_1a3.getSeconds();
pad=true;
break;
case "S":
s=Math.round(_1a3.getMilliseconds()*Math.pow(10,l-3));
pad=true;
break;
case "v":
case "z":
s=_1a1._getZone(_1a3,true,_1a5);
if(s){
break;
}
l=4;
case "Z":
var _1ad=_1a1._getZone(_1a3,false,_1a5);
var tz=[(_1ad<=0?"+":"-"),_19e.pad(Math.floor(Math.abs(_1ad)/60),2),_19e.pad(Math.abs(_1ad)%60,2)];
if(l==4){
tz.splice(0,0,"GMT");
tz.splice(3,0,":");
}
s=tz.join("");
break;
default:
throw new Error("dojo.date.locale.format: invalid pattern char: "+_1a6);
}
if(pad){
s=_19e.pad(s,l);
}
return s;
});
};
_1a1._getZone=function(_1ae,_1af,_1b0){
if(_1af){
return date.getTimezoneName(_1ae);
}else{
return _1ae.getTimezoneOffset();
}
};
_1a1.format=function(_1b1,_1b2){
_1b2=_1b2||{};
var _1b3=i18n.normalizeLocale(_1b2.locale),_1b4=_1b2.formatLength||"short",_1b5=_1a1._getGregorianBundle(_1b3),str=[],_1b6=lang.hitch(this,_1a2,_1b1,_1b5,_1b2);
if(_1b2.selector=="year"){
return _1b7(_1b5["dateFormatItem-yyyy"]||"yyyy",_1b6);
}
var _1b8;
if(_1b2.selector!="date"){
_1b8=_1b2.timePattern||_1b5["timeFormat-"+_1b4];
if(_1b8){
str.push(_1b7(_1b8,_1b6));
}
}
if(_1b2.selector!="time"){
_1b8=_1b2.datePattern||_1b5["dateFormat-"+_1b4];
if(_1b8){
str.push(_1b7(_1b8,_1b6));
}
}
return str.length==1?str[0]:_1b5["dateTimeFormat-"+_1b4].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(_1b9,key){
return str[key];
});
};
_1a1.regexp=function(_1ba){
return _1a1._parseInfo(_1ba).regexp;
};
_1a1._parseInfo=function(_1bb){
_1bb=_1bb||{};
var _1bc=i18n.normalizeLocale(_1bb.locale),_1bd=_1a1._getGregorianBundle(_1bc),_1be=_1bb.formatLength||"short",_1bf=_1bb.datePattern||_1bd["dateFormat-"+_1be],_1c0=_1bb.timePattern||_1bd["timeFormat-"+_1be],_1c1;
if(_1bb.selector=="date"){
_1c1=_1bf;
}else{
if(_1bb.selector=="time"){
_1c1=_1c0;
}else{
_1c1=_1bd["dateTimeFormat-"+_1be].replace(/\{(\d+)\}/g,function(_1c2,key){
return [_1c0,_1bf][key];
});
}
}
var _1c3=[],re=_1b7(_1c1,lang.hitch(this,_1c4,_1c3,_1bd,_1bb));
return {regexp:re,tokens:_1c3,bundle:_1bd};
};
_1a1.parse=function(_1c5,_1c6){
var _1c7=/[\u200E\u200F\u202A\u202E]/g,info=_1a1._parseInfo(_1c6),_1c8=info.tokens,_1c9=info.bundle,re=new RegExp("^"+info.regexp.replace(_1c7,"")+"$",info.strict?"":"i"),_1ca=re.exec(_1c5&&_1c5.replace(_1c7,""));
if(!_1ca){
return null;
}
var _1cb=["abbr","wide","narrow"],_1cc=[1970,0,1,0,0,0,0],amPm="",_1cd=_19b.every(_1ca,function(v,i){
if(!i){
return true;
}
var _1ce=_1c8[i-1],l=_1ce.length,c=_1ce.charAt(0);
switch(c){
case "y":
if(l!=2&&_1c6.strict){
_1cc[0]=v;
}else{
if(v<100){
v=Number(v);
var year=""+new Date().getFullYear(),_1cf=year.substring(0,2)*100,_1d0=Math.min(Number(year.substring(2,4))+20,99);
_1cc[0]=(v<_1d0)?_1cf+v:_1cf-100+v;
}else{
if(_1c6.strict){
return false;
}
_1cc[0]=v;
}
}
break;
case "M":
case "L":
if(l>2){
var _1d1=_1c9["months-"+(c=="L"?"standAlone":"format")+"-"+_1cb[l-3]].concat();
if(!_1c6.strict){
v=v.replace(".","").toLowerCase();
_1d1=_19b.map(_1d1,function(s){
return s.replace(".","").toLowerCase();
});
}
v=_19b.indexOf(_1d1,v);
if(v==-1){
return false;
}
}else{
v--;
}
_1cc[1]=v;
break;
case "E":
case "e":
case "c":
var days=_1c9["days-"+(c=="c"?"standAlone":"format")+"-"+_1cb[l-3]].concat();
if(!_1c6.strict){
v=v.toLowerCase();
days=_19b.map(days,function(d){
return d.toLowerCase();
});
}
v=_19b.indexOf(days,v);
if(v==-1){
return false;
}
break;
case "D":
_1cc[1]=0;
case "d":
_1cc[2]=v;
break;
case "a":
var am=_1c6.am||_1c9["dayPeriods-format-wide-am"],pm=_1c6.pm||_1c9["dayPeriods-format-wide-pm"];
if(!_1c6.strict){
var _1d2=/\./g;
v=v.replace(_1d2,"").toLowerCase();
am=am.replace(_1d2,"").toLowerCase();
pm=pm.replace(_1d2,"").toLowerCase();
}
if(_1c6.strict&&v!=am&&v!=pm){
return false;
}
amPm=(v==pm)?"p":(v==am)?"a":"";
break;
case "K":
if(v==24){
v=0;
}
case "h":
case "H":
case "k":
if(v>23){
return false;
}
_1cc[3]=v;
break;
case "m":
_1cc[4]=v;
break;
case "s":
_1cc[5]=v;
break;
case "S":
_1cc[6]=v;
}
return true;
});
var _1d3=+_1cc[3];
if(amPm==="p"&&_1d3<12){
_1cc[3]=_1d3+12;
}else{
if(amPm==="a"&&_1d3==12){
_1cc[3]=0;
}
}
var _1d4=new Date(_1cc[0],_1cc[1],_1cc[2],_1cc[3],_1cc[4],_1cc[5],_1cc[6]);
if(_1c6.strict){
_1d4.setFullYear(_1cc[0]);
}
var _1d5=_1c8.join(""),_1d6=_1d5.indexOf("d")!=-1,_1d7=_1d5.indexOf("M")!=-1;
if(!_1cd||(_1d7&&_1d4.getMonth()>_1cc[1])||(_1d6&&_1d4.getDate()>_1cc[2])){
return null;
}
if((_1d7&&_1d4.getMonth()<_1cc[1])||(_1d6&&_1d4.getDate()<_1cc[2])){
_1d4=date.add(_1d4,"hour",1);
}
return _1d4;
};
function _1b7(_1d8,_1d9,_1da,_1db){
var _1dc=function(x){
return x;
};
_1d9=_1d9||_1dc;
_1da=_1da||_1dc;
_1db=_1db||_1dc;
var _1dd=_1d8.match(/(''|[^'])+/g),_1de=_1d8.charAt(0)=="'";
_19b.forEach(_1dd,function(_1df,i){
if(!_1df){
_1dd[i]="";
}else{
_1dd[i]=(_1de?_1da:_1d9)(_1df.replace(/''/g,"'"));
_1de=!_1de;
}
});
return _1db(_1dd.join(""));
};
function _1c4(_1e0,_1e1,_1e2,_1e3){
_1e3=_19d.escapeString(_1e3);
if(!_1e2.strict){
_1e3=_1e3.replace(" a"," ?a");
}
return _1e3.replace(/([a-z])\1*/ig,function(_1e4){
var s,c=_1e4.charAt(0),l=_1e4.length,p2="",p3="";
if(_1e2.strict){
if(l>1){
p2="0"+"{"+(l-1)+"}";
}
if(l>2){
p3="0"+"{"+(l-2)+"}";
}
}else{
p2="0?";
p3="0{0,2}";
}
switch(c){
case "y":
s="\\d{2,4}";
break;
case "M":
case "L":
s=(l>2)?"\\S+?":"1[0-2]|"+p2+"[1-9]";
break;
case "D":
s="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+p2+"[1-9][0-9]|"+p3+"[1-9]";
break;
case "d":
s="3[01]|[12]\\d|"+p2+"[1-9]";
break;
case "w":
s="[1-4][0-9]|5[0-3]|"+p2+"[1-9]";
break;
case "E":
case "e":
case "c":
s=".+?";
break;
case "h":
s="1[0-2]|"+p2+"[1-9]";
break;
case "k":
s="1[01]|"+p2+"\\d";
break;
case "H":
s="1\\d|2[0-3]|"+p2+"\\d";
break;
case "K":
s="1\\d|2[0-4]|"+p2+"[1-9]";
break;
case "m":
case "s":
s="[0-5]\\d";
break;
case "S":
s="\\d{"+l+"}";
break;
case "a":
var am=_1e2.am||_1e1["dayPeriods-format-wide-am"],pm=_1e2.pm||_1e1["dayPeriods-format-wide-pm"];
s=am+"|"+pm;
if(!_1e2.strict){
if(am!=am.toLowerCase()){
s+="|"+am.toLowerCase();
}
if(pm!=pm.toLowerCase()){
s+="|"+pm.toLowerCase();
}
if(s.indexOf(".")!=-1){
s+="|"+s.replace(/\./g,"");
}
}
s=s.replace(/\./g,"\\.");
break;
default:
s=".*";
}
if(_1e0){
_1e0.push(_1e4);
}
return "("+s+")";
}).replace(/[\xa0 ]/g,"[\\s\\xa0]");
};
var _1e5=[];
_1a1.addCustomFormats=function(_1e6,_1e7){
_1e5.push({pkg:_1e6,name:_1e7});
};
_1a1._getGregorianBundle=function(_1e8){
var _1e9={};
_19b.forEach(_1e5,function(desc){
var _1ea=i18n.getLocalization(desc.pkg,desc.name,_1e8);
_1e9=lang.mixin(_1e9,_1ea);
},this);
return _1e9;
};
_1a1.addCustomFormats(_1a0.id.replace(/\/date\/locale$/,".cldr"),"gregorian");
_1a1.getNames=function(item,type,_1eb,_1ec){
var _1ed,_1ee=_1a1._getGregorianBundle(_1ec),_1ef=[item,_1eb,type];
if(_1eb=="standAlone"){
var key=_1ef.join("-");
_1ed=_1ee[key];
if(_1ed[0]==1){
_1ed=undefined;
}
}
_1ef[1]="format";
return (_1ed||_1ee[_1ef.join("-")]).concat();
};
_1a1.isWeekend=function(_1f0,_1f1){
var _1f2=_19c.getWeekend(_1f1),day=(_1f0||new Date()).getDay();
if(_1f2.end<_1f2.start){
_1f2.end+=7;
if(day<_1f2.start){
day+=7;
}
}
return day>=_1f2.start&&day<=_1f2.end;
};
_1a1._getDayOfYear=function(_1f3){
return date.difference(new Date(_1f3.getFullYear(),0,1,_1f3.getHours()),_1f3)+1;
};
_1a1._getWeekOfYear=function(_1f4,_1f5){
if(arguments.length==1){
_1f5=0;
}
var _1f6=new Date(_1f4.getFullYear(),0,1).getDay(),adj=(_1f6-_1f5+7)%7,week=Math.floor((_1a1._getDayOfYear(_1f4)+adj-1)/7);
if(_1f6==_1f5){
week++;
}
return week;
};
return _1a1;
});
},"dijit/_Templated":function(){
define(["./_WidgetBase","./_TemplatedMixin","./_WidgetsInTemplateMixin","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/_base/kernel"],function(_1f7,_1f8,_1f9,_1fa,_1fb,lang,_1fc){
lang.extend(_1f7,{waiRole:"",waiState:""});
return _1fb("dijit._Templated",[_1f8,_1f9],{widgetsInTemplate:false,constructor:function(){
_1fc.deprecated(this.declaredClass+": dijit._Templated deprecated, use dijit._TemplatedMixin and if necessary dijit._WidgetsInTemplateMixin","","2.0");
},_processNode:function(_1fd,_1fe){
var ret=this.inherited(arguments);
var role=_1fe(_1fd,"waiRole");
if(role){
_1fd.setAttribute("role",role);
}
var _1ff=_1fe(_1fd,"waiState");
if(_1ff){
_1fa.forEach(_1ff.split(/\s*,\s*/),function(_200){
if(_200.indexOf("-")!=-1){
var pair=_200.split("-");
_1fd.setAttribute("aria-"+pair[0],pair[1]);
}
});
}
return ret;
}});
});
},"dgrid/extensions/nls/pagination":function(){
define({root:{status:"${start} - ${end} of ${total} results",gotoFirst:"Go to first page",gotoNext:"Go to next page",gotoPrev:"Go to previous page",gotoLast:"Go to last page",gotoPage:"Go to page",jumpPage:"Jump to page"},es:true,fr:true,pt:true,ja:true,sk:true});
},"dgrid/extensions/nls/pt/pagination":function(){
define({status:"${start} - ${end} de ${total} resultados",gotoFirst:"Primeira página",gotoNext:"Próxima página",gotoPrev:"Página anterior",gotoLast:"Última página",gotoPage:"Ir para página",jumpPage:"Pular para página"});
},"dgrid/extensions/nls/pt/pagination":function(){
define({status:"${start} - ${end} de ${total} resultados",gotoFirst:"Primeira página",gotoNext:"Próxima página",gotoPrev:"Página anterior",gotoLast:"Última página",gotoPage:"Ir para página",jumpPage:"Pular para página"});
},"dijit/_editor/RichText":function(){
define(["dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/query","dojo/domReady","dojo/sniff","dojo/topic","dojo/_base/unload","dojo/_base/url","dojo/window","../_Widget","../_CssStateMixin","../selection","./range","./html","../focus","../main"],function(_201,_202,_203,_204,dom,_205,_206,_207,_208,_209,_20a,keys,lang,on,_20b,_20c,has,_20d,_20e,_20f,_210,_211,_212,_213,_214,_215,_216,_217){
var _218=_203("dijit._editor.RichText",[_211,_212],{constructor:function(_219){
this.contentPreFilters=[];
this.contentPostFilters=[];
this.contentDomPreFilters=[];
this.contentDomPostFilters=[];
this.editingAreaStyleSheets=[];
this.events=[].concat(this.events);
this._keyHandlers={};
if(_219&&lang.isString(_219.value)){
this.value=_219.value;
}
this.onLoadDeferred=new _204();
},baseClass:"dijitEditor",inheritWidth:false,focusOnLoad:false,name:"",styleSheets:"",height:"300px",minHeight:"1em",isClosed:true,isLoaded:false,_SEPARATOR:"@@**%%__RICHTEXTBOUNDRY__%%**@@",_NAME_CONTENT_SEP:"@@**%%:%%**@@",onLoadDeferred:null,isTabIndent:false,disableSpellCheck:false,postCreate:function(){
if("textarea"===this.domNode.tagName.toLowerCase()){
console.warn("RichText should not be used with the TEXTAREA tag.  See dijit._editor.RichText docs.");
}
this.contentPreFilters=[lang.hitch(this,"_preFixUrlAttributes")].concat(this.contentPreFilters);
if(has("mozilla")){
this.contentPreFilters=[this._normalizeFontStyle].concat(this.contentPreFilters);
this.contentPostFilters=[this._removeMozBogus].concat(this.contentPostFilters);
}
if(has("webkit")){
this.contentPreFilters=[this._removeWebkitBogus].concat(this.contentPreFilters);
this.contentPostFilters=[this._removeWebkitBogus].concat(this.contentPostFilters);
}
if(has("ie")||has("trident")){
this.contentPostFilters=[this._normalizeFontStyle].concat(this.contentPostFilters);
this.contentDomPostFilters=[lang.hitch(this,"_stripBreakerNodes")].concat(this.contentDomPostFilters);
}
this.contentDomPostFilters=[lang.hitch(this,"_stripTrailingEmptyNodes")].concat(this.contentDomPostFilters);
this.inherited(arguments);
_20d.publish(_217._scopeName+"._editor.RichText::init",this);
},startup:function(){
this.inherited(arguments);
this.open();
this.setupDefaultShortcuts();
},setupDefaultShortcuts:function(){
var exec=lang.hitch(this,function(cmd,arg){
return function(){
return !this.execCommand(cmd,arg);
};
});
var _21a={b:exec("bold"),i:exec("italic"),u:exec("underline"),a:exec("selectall"),s:function(){
this.save(true);
},m:function(){
this.isTabIndent=!this.isTabIndent;
},"1":exec("formatblock","h1"),"2":exec("formatblock","h2"),"3":exec("formatblock","h3"),"4":exec("formatblock","h4"),"\\":exec("insertunorderedlist")};
if(!has("ie")){
_21a.Z=exec("redo");
}
var key;
for(key in _21a){
this.addKeyHandler(key,true,false,_21a[key]);
}
},events:["onKeyDown","onKeyUp"],captureEvents:[],_editorCommandsLocalized:false,_localizeEditorCommands:function(){
if(_218._editorCommandsLocalized){
this._local2NativeFormatNames=_218._local2NativeFormatNames;
this._native2LocalFormatNames=_218._native2LocalFormatNames;
return;
}
_218._editorCommandsLocalized=true;
_218._local2NativeFormatNames={};
_218._native2LocalFormatNames={};
this._local2NativeFormatNames=_218._local2NativeFormatNames;
this._native2LocalFormatNames=_218._native2LocalFormatNames;
var _21b=["div","p","pre","h1","h2","h3","h4","h5","h6","ol","ul","address"];
var _21c="",_21d,i=0;
while((_21d=_21b[i++])){
if(_21d.charAt(1)!=="l"){
_21c+="<"+_21d+"><span>content</span></"+_21d+"><br/>";
}else{
_21c+="<"+_21d+"><li>content</li></"+_21d+"><br/>";
}
}
var _21e={position:"absolute",top:"0px",zIndex:10,opacity:0.01};
var div=_207.create("div",{style:_21e,innerHTML:_21c});
this.ownerDocumentBody.appendChild(div);
var _21f=lang.hitch(this,function(){
var node=div.firstChild;
while(node){
try{
this.selection.selectElement(node.firstChild);
var _220=node.tagName.toLowerCase();
this._local2NativeFormatNames[_220]=document.queryCommandValue("formatblock");
this._native2LocalFormatNames[this._local2NativeFormatNames[_220]]=_220;
node=node.nextSibling.nextSibling;
}
catch(e){
}
}
_207.destroy(div);
});
this.defer(_21f);
},open:function(_221){
if(!this.onLoadDeferred||this.onLoadDeferred.fired>=0){
this.onLoadDeferred=new _204();
}
if(!this.isClosed){
this.close();
}
_20d.publish(_217._scopeName+"._editor.RichText::open",this);
if(arguments.length===1&&_221.nodeName){
this.domNode=_221;
}
var dn=this.domNode;
var html;
if(lang.isString(this.value)){
html=this.value;
delete this.value;
dn.innerHTML="";
}else{
if(dn.nodeName&&dn.nodeName.toLowerCase()=="textarea"){
var ta=(this.textarea=dn);
this.name=ta.name;
html=ta.value;
dn=this.domNode=this.ownerDocument.createElement("div");
dn.setAttribute("widgetId",this.id);
ta.removeAttribute("widgetId");
dn.cssText=ta.cssText;
dn.className+=" "+ta.className;
_207.place(dn,ta,"before");
var _222=lang.hitch(this,function(){
_209.set(ta,{display:"block",position:"absolute",top:"-1000px"});
if(has("ie")){
var s=ta.style;
this.__overflow=s.overflow;
s.overflow="hidden";
}
});
if(has("ie")){
this.defer(_222,10);
}else{
_222();
}
if(ta.form){
var _223=ta.value;
this.reset=function(){
var _224=this.getValue();
if(_224!==_223){
this.replaceValue(_223);
}
};
on(ta.form,"submit",lang.hitch(this,function(){
_205.set(ta,"disabled",this.disabled);
ta.value=this.getValue();
}));
}
}else{
html=_215.getChildrenHtml(dn);
dn.innerHTML="";
}
}
this.value=html;
if(dn.nodeName&&dn.nodeName==="LI"){
dn.innerHTML=" <br>";
}
this.header=dn.ownerDocument.createElement("div");
dn.appendChild(this.header);
this.editingArea=dn.ownerDocument.createElement("div");
dn.appendChild(this.editingArea);
this.footer=dn.ownerDocument.createElement("div");
dn.appendChild(this.footer);
if(!this.name){
this.name=this.id+"_AUTOGEN";
}
if(this.name!==""&&(!_202["useXDomain"]||_202["allowXdRichTextSave"])){
var _225=dom.byId(_217._scopeName+"._editor.RichText.value");
if(_225&&_225.value!==""){
var _226=_225.value.split(this._SEPARATOR),i=0,dat;
while((dat=_226[i++])){
var data=dat.split(this._NAME_CONTENT_SEP);
if(data[0]===this.name){
html=data[1];
_226=_226.splice(i,1);
_225.value=_226.join(this._SEPARATOR);
break;
}
}
}
if(!_218._globalSaveHandler){
_218._globalSaveHandler={};
_20e.addOnUnload(function(){
var id;
for(id in _218._globalSaveHandler){
var f=_218._globalSaveHandler[id];
if(lang.isFunction(f)){
f();
}
}
});
}
_218._globalSaveHandler[this.id]=lang.hitch(this,"_saveContent");
}
this.isClosed=false;
var ifr=(this.editorObject=this.iframe=this.ownerDocument.createElement("iframe"));
ifr.id=this.id+"_iframe";
ifr.style.border="none";
ifr.style.width="100%";
if(this._layoutMode){
ifr.style.height="100%";
}else{
if(has("ie")>=7){
if(this.height){
ifr.style.height=this.height;
}
if(this.minHeight){
ifr.style.minHeight=this.minHeight;
}
}else{
ifr.style.height=this.height?this.height:this.minHeight;
}
}
ifr.frameBorder=0;
ifr._loadFunc=lang.hitch(this,function(w){
this.window=w;
this.document=w.document;
this.selection=new _213.SelectionManager(w);
if(has("ie")){
this._localizeEditorCommands();
}
this.onLoad(html);
});
var src=this._getIframeDocTxt().replace(/\\/g,"\\\\").replace(/'/g,"\\'"),s;
if(has("ie")<11){
s="javascript:document.open();try{parent.window;}catch(e){document.domain=\""+document.domain+"\";}"+"document.write('"+src+"');document.close()";
}else{
s="javascript: '"+src+"'";
}
if(has("ie")==9){
this.editingArea.appendChild(ifr);
ifr.src=s;
}else{
ifr.setAttribute("src",s);
this.editingArea.appendChild(ifr);
}
if(dn.nodeName==="LI"){
dn.lastChild.style.marginTop="-1.2em";
}
_206.add(this.domNode,this.baseClass);
},_local2NativeFormatNames:{},_native2LocalFormatNames:{},_getIframeDocTxt:function(){
var _227=_209.getComputedStyle(this.domNode);
var html="<div id='dijitEditorBody'></div>";
var font=[_227.fontWeight,_227.fontSize,_227.fontFamily].join(" ");
var _228=_227.lineHeight;
if(_228.indexOf("px")>=0){
_228=parseFloat(_228)/parseFloat(_227.fontSize);
}else{
if(_228.indexOf("em")>=0){
_228=parseFloat(_228);
}else{
_228="normal";
}
}
var _229="";
var self=this;
this.style.replace(/(^|;)\s*(line-|font-?)[^;]+/ig,function(_22a){
_22a=_22a.replace(/^;/ig,"")+";";
var s=_22a.split(":")[0];
if(s){
s=lang.trim(s);
s=s.toLowerCase();
var i;
var sC="";
for(i=0;i<s.length;i++){
var c=s.charAt(i);
switch(c){
case "-":
i++;
c=s.charAt(i).toUpperCase();
default:
sC+=c;
}
}
_209.set(self.domNode,sC,"");
}
_229+=_22a+";";
});
var _22b=_20b("label[for=\""+this.id+"\"]");
var _22c="";
if(_22b.length){
_22c=_22b[0].innerHTML;
}else{
if(this["aria-label"]){
_22c=this["aria-label"];
}else{
if(this["aria-labelledby"]){
_22c=dom.byId(this["aria-labelledby"]).innerHTML;
}
}
}
this.iframe.setAttribute("title",_22c);
return ["<!DOCTYPE html>",this.isLeftToRight()?"<html lang='"+this.lang+"'>\n<head>\n":"<html dir='rtl' lang='"+this.lang+"'>\n<head>\n",_22c?"<title>"+_22c+"</title>":"","<meta http-equiv='Content-Type' content='text/html'>\n","<style>\n","\tbody,html {\n","\t\tbackground:transparent;\n","\t\tpadding: 1px 0 0 0;\n","\t\tmargin: -1px 0 0 0;\n","\t}\n","\tbody,html,#dijitEditorBody { outline: none; }","html { height: 100%; width: 100%; overflow: hidden; }\n",this.height?"\tbody,#dijitEditorBody { height: 100%; width: 100%; overflow: auto; }\n":"\tbody,#dijitEditorBody { min-height: "+this.minHeight+"; width: 100%; overflow-x: auto; overflow-y: hidden; }\n","\tbody{\n","\t\ttop:0px;\n","\t\tleft:0px;\n","\t\tright:0px;\n","\t\tfont:",font,";\n",((this.height||has("opera"))?"":"\t\tposition: fixed;\n"),"\t\tline-height:",_228,";\n","\t}\n","\tp{ margin: 1em 0; }\n","\tli > ul:-moz-first-node, li > ol:-moz-first-node{ padding-top: 1.2em; }\n",(!has("ie")?"\tli{ min-height:1.2em; }\n":""),"</style>\n",this._applyEditingAreaStyleSheets(),"\n","</head>\n<body role='main' ","onload='frameElement && frameElement._loadFunc(window,document)' ","style='"+_229+"'>",html,"</body>\n</html>"].join("");
},_applyEditingAreaStyleSheets:function(){
var _22d=[];
if(this.styleSheets){
_22d=this.styleSheets.split(";");
this.styleSheets="";
}
_22d=_22d.concat(this.editingAreaStyleSheets);
this.editingAreaStyleSheets=[];
var text="",i=0,url,_22e=_210.get(this.ownerDocument);
while((url=_22d[i++])){
var _22f=(new _20f(_22e.location,url)).toString();
this.editingAreaStyleSheets.push(_22f);
text+="<link rel=\"stylesheet\" type=\"text/css\" href=\""+_22f+"\"/>";
}
return text;
},addStyleSheet:function(uri){
var url=uri.toString(),_230=_210.get(this.ownerDocument);
if(url.charAt(0)==="."||(url.charAt(0)!=="/"&&!uri.host)){
url=(new _20f(_230.location,url)).toString();
}
if(_201.indexOf(this.editingAreaStyleSheets,url)>-1){
return;
}
this.editingAreaStyleSheets.push(url);
this.onLoadDeferred.then(lang.hitch(this,function(){
if(this.document.createStyleSheet){
this.document.createStyleSheet(url);
}else{
var head=this.document.getElementsByTagName("head")[0];
var _231=this.document.createElement("link");
_231.rel="stylesheet";
_231.type="text/css";
_231.href=url;
head.appendChild(_231);
}
}));
},removeStyleSheet:function(uri){
var url=uri.toString(),_232=_210.get(this.ownerDocument);
if(url.charAt(0)==="."||(url.charAt(0)!=="/"&&!uri.host)){
url=(new _20f(_232.location,url)).toString();
}
var _233=_201.indexOf(this.editingAreaStyleSheets,url);
if(_233===-1){
return;
}
delete this.editingAreaStyleSheets[_233];
_20b("link[href=\""+url+"\"]",this.window.document).orphan();
},disabled:false,_mozSettingProps:{"styleWithCSS":false},_setDisabledAttr:function(_234){
_234=!!_234;
this._set("disabled",_234);
if(!this.isLoaded){
return;
}
var _235=has("ie")&&(this.isLoaded||!this.focusOnLoad);
if(_235){
this.editNode.unselectable="on";
}
this.editNode.contentEditable=!_234;
this.editNode.tabIndex=_234?"-1":this.tabIndex;
if(_235){
this.defer(function(){
if(this.editNode){
this.editNode.unselectable="off";
}
});
}
if(has("mozilla")&&!_234&&this._mozSettingProps){
var ps=this._mozSettingProps;
var n;
for(n in ps){
if(ps.hasOwnProperty(n)){
try{
this.document.execCommand(n,false,ps[n]);
}
catch(e2){
}
}
}
}
this._disabledOK=true;
},onLoad:function(html){
if(!this.window.__registeredWindow){
this.window.__registeredWindow=true;
this._iframeRegHandle=_216.registerIframe(this.iframe);
}
this.editNode=this.document.body.firstChild;
var _236=this;
this.beforeIframeNode=_207.place("<div tabIndex=-1></div>",this.iframe,"before");
this.afterIframeNode=_207.place("<div tabIndex=-1></div>",this.iframe,"after");
this.iframe.onfocus=this.document.onfocus=function(){
_236.editNode.focus();
};
this.focusNode=this.editNode;
var _237=this.events.concat(this.captureEvents);
var ap=this.iframe?this.document:this.editNode;
this.own(_201.map(_237,function(item){
var type=item.toLowerCase().replace(/^on/,"");
on(ap,type,lang.hitch(this,item));
},this));
this.own(on(ap,"mouseup",lang.hitch(this,"onClick")));
if(has("ie")){
this.own(on(this.document,"mousedown",lang.hitch(this,"_onIEMouseDown")));
this.editNode.style.zoom=1;
}else{
this.own(on(this.document,"mousedown",lang.hitch(this,function(){
delete this._cursorToStart;
})));
}
if(has("webkit")){
this._webkitListener=this.own(on(this.document,"mouseup",lang.hitch(this,"onDisplayChanged")))[0];
this.own(on(this.document,"mousedown",lang.hitch(this,function(e){
var t=e.target;
if(t&&(t===this.document.body||t===this.document)){
this.defer("placeCursorAtEnd");
}
})));
}
if(has("ie")){
try{
this.document.execCommand("RespectVisibilityInDesign",true,null);
}
catch(e){
}
}
this.isLoaded=true;
this.set("disabled",this.disabled);
var _238=lang.hitch(this,function(){
this.setValue(html);
if(this.onLoadDeferred){
this.onLoadDeferred.resolve(true);
}
this.onDisplayChanged();
if(this.focusOnLoad){
_20c(lang.hitch(this,"defer","focus",this.updateInterval));
}
this.value=this.getValue(true);
});
if(this.setValueDeferred){
this.setValueDeferred.then(_238);
}else{
_238();
}
},onKeyDown:function(e){
if(e.keyCode===keys.TAB&&this.isTabIndent){
e.stopPropagation();
e.preventDefault();
if(this.queryCommandEnabled((e.shiftKey?"outdent":"indent"))){
this.execCommand((e.shiftKey?"outdent":"indent"));
}
}
if(e.keyCode==keys.TAB&&!this.isTabIndent){
if(e.shiftKey&&!e.ctrlKey&&!e.altKey){
this.beforeIframeNode.focus();
}else{
if(!e.shiftKey&&!e.ctrlKey&&!e.altKey){
this.afterIframeNode.focus();
}
}
}
if(has("ie")<9&&e.keyCode===keys.BACKSPACE&&this.document.selection.type==="Control"){
e.stopPropagation();
e.preventDefault();
this.execCommand("delete");
}
if(has("ff")){
if(e.keyCode===keys.PAGE_UP||e.keyCode===keys.PAGE_DOWN){
if(this.editNode.clientHeight>=this.editNode.scrollHeight){
e.preventDefault();
}
}
}
var _239=this._keyHandlers[e.keyCode],args=arguments;
if(_239&&!e.altKey){
_201.some(_239,function(h){
if(!(h.shift^e.shiftKey)&&!(h.ctrl^(e.ctrlKey||e.metaKey))){
if(!h.handler.apply(this,args)){
e.preventDefault();
}
return true;
}
},this);
}
this.defer("onKeyPressed",1);
return true;
},onKeyUp:function(){
},setDisabled:function(_23a){
_20a.deprecated("dijit.Editor::setDisabled is deprecated","use dijit.Editor::attr(\"disabled\",boolean) instead",2);
this.set("disabled",_23a);
},_setValueAttr:function(_23b){
this.setValue(_23b);
},_setDisableSpellCheckAttr:function(_23c){
if(this.document){
_205.set(this.document.body,"spellcheck",!_23c);
}else{
this.onLoadDeferred.then(lang.hitch(this,function(){
_205.set(this.document.body,"spellcheck",!_23c);
}));
}
this._set("disableSpellCheck",_23c);
},addKeyHandler:function(key,ctrl,_23d,_23e){
if(typeof key=="string"){
key=key.toUpperCase().charCodeAt(0);
}
if(!lang.isArray(this._keyHandlers[key])){
this._keyHandlers[key]=[];
}
this._keyHandlers[key].push({shift:_23d||false,ctrl:ctrl||false,handler:_23e});
},onKeyPressed:function(){
this.onDisplayChanged();
},onClick:function(e){
this.onDisplayChanged(e);
},_onIEMouseDown:function(){
if(!this.focused&&!this.disabled){
this.focus();
}
},_onBlur:function(e){
if(has("ie")>=9){
this.defer(function(){
if(!_216.curNode){
this.ownerDocumentBody.focus();
}
});
}
this.inherited(arguments);
var _23f=this.getValue(true);
if(_23f!==this.value){
this.onChange(_23f);
}
this._set("value",_23f);
},_onFocus:function(e){
if(!this.disabled){
if(!this._disabledOK){
this.set("disabled",false);
}
this.inherited(arguments);
}
},blur:function(){
if(!has("ie")&&this.window.document.documentElement&&this.window.document.documentElement.focus){
this.window.document.documentElement.focus();
}else{
if(this.ownerDocumentBody.focus){
this.ownerDocumentBody.focus();
}
}
},focus:function(){
if(!this.isLoaded){
this.focusOnLoad=true;
return;
}
if(this._cursorToStart){
delete this._cursorToStart;
if(this.editNode.childNodes){
this.placeCursorAtStart();
return;
}
}
if(has("ie")<9){
this.iframe.fireEvent("onfocus",document.createEventObject());
}else{
this.editNode.focus();
}
},updateInterval:200,_updateTimer:null,onDisplayChanged:function(){
if(this._updateTimer){
this._updateTimer.remove();
}
this._updateTimer=this.defer("onNormalizedDisplayChanged",this.updateInterval);
},onNormalizedDisplayChanged:function(){
delete this._updateTimer;
},onChange:function(){
},_normalizeCommand:function(cmd,_240){
var _241=cmd.toLowerCase();
if(_241==="formatblock"){
if(has("safari")&&_240===undefined){
_241="heading";
}
}else{
if(_241==="hilitecolor"&&!has("mozilla")){
_241="backcolor";
}
}
return _241;
},_qcaCache:{},queryCommandAvailable:function(_242){
var ca=this._qcaCache[_242];
if(ca!==undefined){
return ca;
}
return (this._qcaCache[_242]=this._queryCommandAvailable(_242));
},_queryCommandAvailable:function(_243){
var ie=1;
var _244=1<<1;
var _245=1<<2;
var _246=1<<3;
function _247(_248){
return {ie:Boolean(_248&ie),mozilla:Boolean(_248&_244),webkit:Boolean(_248&_245),opera:Boolean(_248&_246)};
};
var _249=null;
switch(_243.toLowerCase()){
case "bold":
case "italic":
case "underline":
case "subscript":
case "superscript":
case "fontname":
case "fontsize":
case "forecolor":
case "hilitecolor":
case "justifycenter":
case "justifyfull":
case "justifyleft":
case "justifyright":
case "delete":
case "selectall":
case "toggledir":
_249=_247(_244|ie|_245|_246);
break;
case "createlink":
case "unlink":
case "removeformat":
case "inserthorizontalrule":
case "insertimage":
case "insertorderedlist":
case "insertunorderedlist":
case "indent":
case "outdent":
case "formatblock":
case "inserthtml":
case "undo":
case "redo":
case "strikethrough":
case "tabindent":
_249=_247(_244|ie|_246|_245);
break;
case "blockdirltr":
case "blockdirrtl":
case "dirltr":
case "dirrtl":
case "inlinedirltr":
case "inlinedirrtl":
_249=_247(ie);
break;
case "cut":
case "copy":
case "paste":
_249=_247(ie|_244|_245|_246);
break;
case "inserttable":
_249=_247(_244|ie);
break;
case "insertcell":
case "insertcol":
case "insertrow":
case "deletecells":
case "deletecols":
case "deleterows":
case "mergecells":
case "splitcell":
_249=_247(ie|_244);
break;
default:
return false;
}
return ((has("ie")||has("trident"))&&_249.ie)||(has("mozilla")&&_249.mozilla)||(has("webkit")&&_249.webkit)||(has("opera")&&_249.opera);
},execCommand:function(_24a,_24b){
var _24c;
if(this.focused){
this.focus();
}
_24a=this._normalizeCommand(_24a,_24b);
if(_24b!==undefined){
if(_24a==="heading"){
throw new Error("unimplemented");
}else{
if(_24a==="formatblock"&&(has("ie")||has("trident"))){
_24b="<"+_24b+">";
}
}
}
var _24d="_"+_24a+"Impl";
if(this[_24d]){
_24c=this[_24d](_24b);
}else{
_24b=arguments.length>1?_24b:null;
if(_24b||_24a!=="createlink"){
_24c=this.document.execCommand(_24a,false,_24b);
}
}
this.onDisplayChanged();
return _24c;
},queryCommandEnabled:function(_24e){
if(this.disabled||!this._disabledOK){
return false;
}
_24e=this._normalizeCommand(_24e);
var _24f="_"+_24e+"EnabledImpl";
if(this[_24f]){
return this[_24f](_24e);
}else{
return this._browserQueryCommandEnabled(_24e);
}
},queryCommandState:function(_250){
if(this.disabled||!this._disabledOK){
return false;
}
_250=this._normalizeCommand(_250);
try{
return this.document.queryCommandState(_250);
}
catch(e){
return false;
}
},queryCommandValue:function(_251){
if(this.disabled||!this._disabledOK){
return false;
}
var r;
_251=this._normalizeCommand(_251);
if((has("ie")||has("trident"))&&_251==="formatblock"){
r=this._native2LocalFormatNames[this.document.queryCommandValue(_251)];
}else{
if(has("mozilla")&&_251==="hilitecolor"){
var _252;
try{
_252=this.document.queryCommandValue("styleWithCSS");
}
catch(e){
_252=false;
}
this.document.execCommand("styleWithCSS",false,true);
r=this.document.queryCommandValue(_251);
this.document.execCommand("styleWithCSS",false,_252);
}else{
r=this.document.queryCommandValue(_251);
}
}
return r;
},_sCall:function(name,args){
return this.selection[name].apply(this.selection,args);
},placeCursorAtStart:function(){
this.focus();
var _253=false;
if(has("mozilla")){
var _254=this.editNode.firstChild;
while(_254){
if(_254.nodeType===3){
if(_254.nodeValue.replace(/^\s+|\s+$/g,"").length>0){
_253=true;
this.selection.selectElement(_254);
break;
}
}else{
if(_254.nodeType===1){
_253=true;
var tg=_254.tagName?_254.tagName.toLowerCase():"";
if(/br|input|img|base|meta|area|basefont|hr|link/.test(tg)){
this.selection.selectElement(_254);
}else{
this.selection.selectElementChildren(_254);
}
break;
}
}
_254=_254.nextSibling;
}
}else{
_253=true;
this.selection.selectElementChildren(this.editNode);
}
if(_253){
this.selection.collapse(true);
}
},placeCursorAtEnd:function(){
this.focus();
var _255=false;
if(has("mozilla")){
var last=this.editNode.lastChild;
while(last){
if(last.nodeType===3){
if(last.nodeValue.replace(/^\s+|\s+$/g,"").length>0){
_255=true;
this.selection.selectElement(last);
break;
}
}else{
if(last.nodeType===1){
_255=true;
this.selection.selectElement(last.lastChild||last);
break;
}
}
last=last.previousSibling;
}
}else{
_255=true;
this.selection.selectElementChildren(this.editNode);
}
if(_255){
this.selection.collapse(false);
}
},getValue:function(_256){
if(this.textarea){
if(this.isClosed||!this.isLoaded){
return this.textarea.value;
}
}
return this._postFilterContent(null,_256);
},_getValueAttr:function(){
return this.getValue(true);
},setValue:function(html){
if(!this.isLoaded){
this.onLoadDeferred.then(lang.hitch(this,function(){
this.setValue(html);
}));
return;
}
this._cursorToStart=true;
if(this.textarea&&(this.isClosed||!this.isLoaded)){
this.textarea.value=html;
}else{
html=this._preFilterContent(html);
var node=this.isClosed?this.domNode:this.editNode;
if(!html&&has("webkit")){
html="&#160;";
}
node.innerHTML=html;
this._preDomFilterContent(node);
}
this.onDisplayChanged();
this._set("value",this.getValue(true));
},replaceValue:function(html){
if(this.isClosed){
this.setValue(html);
}else{
if(this.window&&this.window.getSelection&&!has("mozilla")){
this.setValue(html);
}else{
if(this.window&&this.window.getSelection){
html=this._preFilterContent(html);
this.execCommand("selectall");
this.execCommand("inserthtml",html);
this._preDomFilterContent(this.editNode);
}else{
if(this.document&&this.document.selection){
this.setValue(html);
}
}
}
}
this._set("value",this.getValue(true));
},_preFilterContent:function(html){
var ec=html;
_201.forEach(this.contentPreFilters,function(ef){
if(ef){
ec=ef(ec);
}
});
return ec;
},_preDomFilterContent:function(dom){
dom=dom||this.editNode;
_201.forEach(this.contentDomPreFilters,function(ef){
if(ef&&lang.isFunction(ef)){
ef(dom);
}
},this);
},_postFilterContent:function(dom,_257){
var ec;
if(!lang.isString(dom)){
dom=dom||this.editNode;
if(this.contentDomPostFilters.length){
if(_257){
dom=lang.clone(dom);
}
_201.forEach(this.contentDomPostFilters,function(ef){
dom=ef(dom);
});
}
ec=_215.getChildrenHtml(dom);
}else{
ec=dom;
}
if(!lang.trim(ec.replace(/^\xA0\xA0*/,"").replace(/\xA0\xA0*$/,"")).length){
ec="";
}
_201.forEach(this.contentPostFilters,function(ef){
ec=ef(ec);
});
return ec;
},_saveContent:function(){
var _258=dom.byId(_217._scopeName+"._editor.RichText.value");
if(_258){
if(_258.value){
_258.value+=this._SEPARATOR;
}
_258.value+=this.name+this._NAME_CONTENT_SEP+this.getValue(true);
}
},escapeXml:function(str,_259){
str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");
if(!_259){
str=str.replace(/'/gm,"&#39;");
}
return str;
},getNodeHtml:function(node){
_20a.deprecated("dijit.Editor::getNodeHtml is deprecated","use dijit/_editor/html::getNodeHtml instead",2);
return _215.getNodeHtml(node);
},getNodeChildrenHtml:function(dom){
_20a.deprecated("dijit.Editor::getNodeChildrenHtml is deprecated","use dijit/_editor/html::getChildrenHtml instead",2);
return _215.getChildrenHtml(dom);
},close:function(save){
if(this.isClosed){
return;
}
if(!arguments.length){
save=true;
}
if(save){
this._set("value",this.getValue(true));
}
if(this.interval){
clearInterval(this.interval);
}
if(this._webkitListener){
this._webkitListener.remove();
delete this._webkitListener;
}
if(has("ie")){
this.iframe.onfocus=null;
}
this.iframe._loadFunc=null;
if(this._iframeRegHandle){
this._iframeRegHandle.remove();
delete this._iframeRegHandle;
}
if(this.textarea){
var s=this.textarea.style;
s.position="";
s.left=s.top="";
if(has("ie")){
s.overflow=this.__overflow;
this.__overflow=null;
}
this.textarea.value=this.value;
_207.destroy(this.domNode);
this.domNode=this.textarea;
}else{
this.domNode.innerHTML=this.value;
}
delete this.iframe;
_206.remove(this.domNode,this.baseClass);
this.isClosed=true;
this.isLoaded=false;
delete this.editNode;
delete this.focusNode;
if(this.window&&this.window._frameElement){
this.window._frameElement=null;
}
this.window=null;
this.document=null;
this.editingArea=null;
this.editorObject=null;
},destroy:function(){
if(!this.isClosed){
this.close(false);
}
if(this._updateTimer){
this._updateTimer.remove();
}
this.inherited(arguments);
if(_218._globalSaveHandler){
delete _218._globalSaveHandler[this.id];
}
},_removeMozBogus:function(html){
return html.replace(/\stype="_moz"/gi,"").replace(/\s_moz_dirty=""/gi,"").replace(/_moz_resizing="(true|false)"/gi,"");
},_removeWebkitBogus:function(html){
html=html.replace(/\sclass="webkit-block-placeholder"/gi,"");
html=html.replace(/\sclass="apple-style-span"/gi,"");
html=html.replace(/<meta charset=\"utf-8\" \/>/gi,"");
return html;
},_normalizeFontStyle:function(html){
return html.replace(/<(\/)?strong([ \>])/gi,"<$1b$2").replace(/<(\/)?em([ \>])/gi,"<$1i$2");
},_preFixUrlAttributes:function(html){
return html.replace(/(?:(<a(?=\s).*?\shref=)("|')(.*?)\2)|(?:(<a\s.*?href=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2").replace(/(?:(<img(?=\s).*?\ssrc=)("|')(.*?)\2)|(?:(<img\s.*?src=)([^"'][^ >]+))/gi,"$1$4$2$3$5$2 _djrealurl=$2$3$5$2");
},_browserQueryCommandEnabled:function(_25a){
if(!_25a){
return false;
}
var elem=has("ie")<9?this.document.selection.createRange():this.document;
try{
return elem.queryCommandEnabled(_25a);
}
catch(e){
return false;
}
},_createlinkEnabledImpl:function(){
var _25b=true;
if(has("opera")){
var sel=this.window.getSelection();
if(sel.isCollapsed){
_25b=true;
}else{
_25b=this.document.queryCommandEnabled("createlink");
}
}else{
_25b=this._browserQueryCommandEnabled("createlink");
}
return _25b;
},_unlinkEnabledImpl:function(){
var _25c=true;
if(has("mozilla")||has("webkit")){
_25c=this.selection.hasAncestorElement("a");
}else{
_25c=this._browserQueryCommandEnabled("unlink");
}
return _25c;
},_inserttableEnabledImpl:function(){
var _25d=true;
if(has("mozilla")||has("webkit")){
_25d=true;
}else{
_25d=this._browserQueryCommandEnabled("inserttable");
}
return _25d;
},_cutEnabledImpl:function(){
var _25e=true;
if(has("webkit")){
var sel=this.window.getSelection();
if(sel){
sel=sel.toString();
}
_25e=!!sel;
}else{
_25e=this._browserQueryCommandEnabled("cut");
}
return _25e;
},_copyEnabledImpl:function(){
var _25f=true;
if(has("webkit")){
var sel=this.window.getSelection();
if(sel){
sel=sel.toString();
}
_25f=!!sel;
}else{
_25f=this._browserQueryCommandEnabled("copy");
}
return _25f;
},_pasteEnabledImpl:function(){
var _260=true;
if(has("webkit")){
return true;
}else{
_260=this._browserQueryCommandEnabled("paste");
}
return _260;
},_inserthorizontalruleImpl:function(_261){
if(has("ie")){
return this._inserthtmlImpl("<hr>");
}
return this.document.execCommand("inserthorizontalrule",false,_261);
},_unlinkImpl:function(_262){
if((this.queryCommandEnabled("unlink"))&&(has("mozilla")||has("webkit"))){
var a=this.selection.getAncestorElement("a");
this.selection.selectElement(a);
return this.document.execCommand("unlink",false,null);
}
return this.document.execCommand("unlink",false,_262);
},_hilitecolorImpl:function(_263){
var _264;
var _265=this._handleTextColorOrProperties("hilitecolor",_263);
if(!_265){
if(has("mozilla")){
this.document.execCommand("styleWithCSS",false,true);
_264=this.document.execCommand("hilitecolor",false,_263);
this.document.execCommand("styleWithCSS",false,false);
}else{
_264=this.document.execCommand("hilitecolor",false,_263);
}
}
return _264;
},_backcolorImpl:function(_266){
if(has("ie")){
_266=_266?_266:null;
}
var _267=this._handleTextColorOrProperties("backcolor",_266);
if(!_267){
_267=this.document.execCommand("backcolor",false,_266);
}
return _267;
},_forecolorImpl:function(_268){
if(has("ie")){
_268=_268?_268:null;
}
var _269=false;
_269=this._handleTextColorOrProperties("forecolor",_268);
if(!_269){
_269=this.document.execCommand("forecolor",false,_268);
}
return _269;
},_inserthtmlImpl:function(_26a){
_26a=this._preFilterContent(_26a);
var rv=true;
if(has("ie")<9){
var _26b=this.document.selection.createRange();
if(this.document.selection.type.toUpperCase()==="CONTROL"){
var n=_26b.item(0);
while(_26b.length){
_26b.remove(_26b.item(0));
}
n.outerHTML=_26a;
}else{
_26b.pasteHTML(_26a);
}
_26b.select();
}else{
if(has("trident")<8){
var _26b;
var _26c=_214.getSelection(this.window);
if(_26c&&_26c.rangeCount&&_26c.getRangeAt){
_26b=_26c.getRangeAt(0);
_26b.deleteContents();
var div=_207.create("div");
div.innerHTML=_26a;
var node,_26d;
var n=this.document.createDocumentFragment();
while((node=div.firstChild)){
_26d=n.appendChild(node);
}
_26b.insertNode(n);
if(_26d){
_26b=_26b.cloneRange();
_26b.setStartAfter(_26d);
_26b.collapse(false);
_26c.removeAllRanges();
_26c.addRange(_26b);
}
}
}else{
if(has("mozilla")&&!_26a.length){
this.selection.remove();
}else{
rv=this.document.execCommand("inserthtml",false,_26a);
}
}
}
return rv;
},_boldImpl:function(_26e){
var _26f=false;
if(has("ie")){
this._adaptIESelection();
_26f=this._adaptIEFormatAreaAndExec("bold");
}
if(!_26f){
_26f=this.document.execCommand("bold",false,_26e);
}
return _26f;
},_italicImpl:function(_270){
var _271=false;
if(has("ie")){
this._adaptIESelection();
_271=this._adaptIEFormatAreaAndExec("italic");
}
if(!_271){
_271=this.document.execCommand("italic",false,_270);
}
return _271;
},_underlineImpl:function(_272){
var _273=false;
if(has("ie")){
this._adaptIESelection();
_273=this._adaptIEFormatAreaAndExec("underline");
}
if(!_273){
_273=this.document.execCommand("underline",false,_272);
}
return _273;
},_strikethroughImpl:function(_274){
var _275=false;
if(has("ie")){
this._adaptIESelection();
_275=this._adaptIEFormatAreaAndExec("strikethrough");
}
if(!_275){
_275=this.document.execCommand("strikethrough",false,_274);
}
return _275;
},_superscriptImpl:function(_276){
var _277=false;
if(has("ie")){
this._adaptIESelection();
_277=this._adaptIEFormatAreaAndExec("superscript");
}
if(!_277){
_277=this.document.execCommand("superscript",false,_276);
}
return _277;
},_subscriptImpl:function(_278){
var _279=false;
if(has("ie")){
this._adaptIESelection();
_279=this._adaptIEFormatAreaAndExec("subscript");
}
if(!_279){
_279=this.document.execCommand("subscript",false,_278);
}
return _279;
},_fontnameImpl:function(_27a){
var _27b;
if(has("ie")){
_27b=this._handleTextColorOrProperties("fontname",_27a);
}
if(!_27b){
_27b=this.document.execCommand("fontname",false,_27a);
}
return _27b;
},_fontsizeImpl:function(_27c){
var _27d;
if(has("ie")){
_27d=this._handleTextColorOrProperties("fontsize",_27c);
}
if(!_27d){
_27d=this.document.execCommand("fontsize",false,_27c);
}
return _27d;
},_insertorderedlistImpl:function(_27e){
var _27f=false;
if(has("ie")){
_27f=this._adaptIEList("insertorderedlist",_27e);
}
if(!_27f){
_27f=this.document.execCommand("insertorderedlist",false,_27e);
}
return _27f;
},_insertunorderedlistImpl:function(_280){
var _281=false;
if(has("ie")){
_281=this._adaptIEList("insertunorderedlist",_280);
}
if(!_281){
_281=this.document.execCommand("insertunorderedlist",false,_280);
}
return _281;
},getHeaderHeight:function(){
return this._getNodeChildrenHeight(this.header);
},getFooterHeight:function(){
return this._getNodeChildrenHeight(this.footer);
},_getNodeChildrenHeight:function(node){
var h=0;
if(node&&node.childNodes){
var i;
for(i=0;i<node.childNodes.length;i++){
var size=_208.position(node.childNodes[i]);
h+=size.h;
}
}
return h;
},_isNodeEmpty:function(node,_282){
if(node.nodeType===1){
if(node.childNodes.length>0){
return this._isNodeEmpty(node.childNodes[0],_282);
}
return true;
}else{
if(node.nodeType===3){
return (node.nodeValue.substring(_282)==="");
}
}
return false;
},_removeStartingRangeFromRange:function(node,_283){
if(node.nextSibling){
_283.setStart(node.nextSibling,0);
}else{
var _284=node.parentNode;
while(_284&&_284.nextSibling==null){
_284=_284.parentNode;
}
if(_284){
_283.setStart(_284.nextSibling,0);
}
}
return _283;
},_adaptIESelection:function(){
var _285=_214.getSelection(this.window);
if(_285&&_285.rangeCount&&!_285.isCollapsed){
var _286=_285.getRangeAt(0);
var _287=_286.startContainer;
var _288=_286.startOffset;
while(_287.nodeType===3&&_288>=_287.length&&_287.nextSibling){
_288=_288-_287.length;
_287=_287.nextSibling;
}
var _289=null;
while(this._isNodeEmpty(_287,_288)&&_287!==_289){
_289=_287;
_286=this._removeStartingRangeFromRange(_287,_286);
_287=_286.startContainer;
_288=0;
}
_285.removeAllRanges();
_285.addRange(_286);
}
},_adaptIEFormatAreaAndExec:function(_28a){
var _28b=_214.getSelection(this.window);
var doc=this.document;
var rs,ret,_28c,txt,_28d,_28e,_28f,_290;
if(_28a&&_28b&&_28b.isCollapsed){
var _291=this.queryCommandValue(_28a);
if(_291){
var _292=this._tagNamesForCommand(_28a);
_28c=_28b.getRangeAt(0);
var fs=_28c.startContainer;
if(fs.nodeType===3){
var _293=_28c.endOffset;
if(fs.length<_293){
ret=this._adjustNodeAndOffset(rs,_293);
fs=ret.node;
_293=ret.offset;
}
}
var _294;
while(fs&&fs!==this.editNode){
var _295=fs.tagName?fs.tagName.toLowerCase():"";
if(_201.indexOf(_292,_295)>-1){
_294=fs;
break;
}
fs=fs.parentNode;
}
if(_294){
rs=_28c.startContainer;
var _296=doc.createElement(_294.tagName);
_207.place(_296,_294,"after");
if(rs&&rs.nodeType===3){
var _297,_298;
var _299=_28c.endOffset;
if(rs.length<_299){
ret=this._adjustNodeAndOffset(rs,_299);
rs=ret.node;
_299=ret.offset;
}
txt=rs.nodeValue;
_28d=doc.createTextNode(txt.substring(0,_299));
var _29a=txt.substring(_299,txt.length);
if(_29a){
_28e=doc.createTextNode(_29a);
}
_207.place(_28d,rs,"before");
if(_28e){
_28f=doc.createElement("span");
_28f.className="ieFormatBreakerSpan";
_207.place(_28f,rs,"after");
_207.place(_28e,_28f,"after");
_28e=_28f;
}
_207.destroy(rs);
var _29b=_28d.parentNode;
var _29c=[];
var _29d;
while(_29b!==_294){
var tg=_29b.tagName;
_29d={tagName:tg};
_29c.push(_29d);
var _29e=doc.createElement(tg);
if(_29b.style){
if(_29e.style){
if(_29b.style.cssText){
_29e.style.cssText=_29b.style.cssText;
_29d.cssText=_29b.style.cssText;
}
}
}
if(_29b.tagName==="FONT"){
if(_29b.color){
_29e.color=_29b.color;
_29d.color=_29b.color;
}
if(_29b.face){
_29e.face=_29b.face;
_29d.face=_29b.face;
}
if(_29b.size){
_29e.size=_29b.size;
_29d.size=_29b.size;
}
}
if(_29b.className){
_29e.className=_29b.className;
_29d.className=_29b.className;
}
if(_28e){
_297=_28e;
while(_297){
_298=_297.nextSibling;
_29e.appendChild(_297);
_297=_298;
}
}
if(_29e.tagName==_29b.tagName){
_28f=doc.createElement("span");
_28f.className="ieFormatBreakerSpan";
_207.place(_28f,_29b,"after");
_207.place(_29e,_28f,"after");
}else{
_207.place(_29e,_29b,"after");
}
_28d=_29b;
_28e=_29e;
_29b=_29b.parentNode;
}
if(_28e){
_297=_28e;
if(_297.nodeType===1||(_297.nodeType===3&&_297.nodeValue)){
_296.innerHTML="";
}
while(_297){
_298=_297.nextSibling;
_296.appendChild(_297);
_297=_298;
}
}
var _29f;
if(_29c.length){
_29d=_29c.pop();
var _2a0=doc.createElement(_29d.tagName);
if(_29d.cssText&&_2a0.style){
_2a0.style.cssText=_29d.cssText;
}
if(_29d.className){
_2a0.className=_29d.className;
}
if(_29d.tagName==="FONT"){
if(_29d.color){
_2a0.color=_29d.color;
}
if(_29d.face){
_2a0.face=_29d.face;
}
if(_29d.size){
_2a0.size=_29d.size;
}
}
_207.place(_2a0,_296,"before");
while(_29c.length){
_29d=_29c.pop();
var _2a1=doc.createElement(_29d.tagName);
if(_29d.cssText&&_2a1.style){
_2a1.style.cssText=_29d.cssText;
}
if(_29d.className){
_2a1.className=_29d.className;
}
if(_29d.tagName==="FONT"){
if(_29d.color){
_2a1.color=_29d.color;
}
if(_29d.face){
_2a1.face=_29d.face;
}
if(_29d.size){
_2a1.size=_29d.size;
}
}
_2a0.appendChild(_2a1);
_2a0=_2a1;
}
_290=doc.createTextNode(".");
_28f.appendChild(_290);
_2a0.appendChild(_290);
_29f=_214.create(this.window);
_29f.setStart(_290,0);
_29f.setEnd(_290,_290.length);
_28b.removeAllRanges();
_28b.addRange(_29f);
this.selection.collapse(false);
_290.parentNode.innerHTML="";
}else{
_28f=doc.createElement("span");
_28f.className="ieFormatBreakerSpan";
_290=doc.createTextNode(".");
_28f.appendChild(_290);
_207.place(_28f,_296,"before");
_29f=_214.create(this.window);
_29f.setStart(_290,0);
_29f.setEnd(_290,_290.length);
_28b.removeAllRanges();
_28b.addRange(_29f);
this.selection.collapse(false);
_290.parentNode.innerHTML="";
}
if(!_296.firstChild){
_207.destroy(_296);
}
return true;
}
}
return false;
}else{
_28c=_28b.getRangeAt(0);
rs=_28c.startContainer;
if(rs&&rs.nodeType===3){
var _293=_28c.startOffset;
if(rs.length<_293){
ret=this._adjustNodeAndOffset(rs,_293);
rs=ret.node;
_293=ret.offset;
}
txt=rs.nodeValue;
_28d=doc.createTextNode(txt.substring(0,_293));
var _29a=txt.substring(_293);
if(_29a!==""){
_28e=doc.createTextNode(txt.substring(_293));
}
_28f=doc.createElement("span");
_290=doc.createTextNode(".");
_28f.appendChild(_290);
if(_28d.length){
_207.place(_28d,rs,"after");
}else{
_28d=rs;
}
_207.place(_28f,_28d,"after");
if(_28e){
_207.place(_28e,_28f,"after");
}
_207.destroy(rs);
var _29f=_214.create(this.window);
_29f.setStart(_290,0);
_29f.setEnd(_290,_290.length);
_28b.removeAllRanges();
_28b.addRange(_29f);
doc.execCommand(_28a);
_207.place(_28f.firstChild,_28f,"before");
_207.destroy(_28f);
_29f.setStart(_290,0);
_29f.setEnd(_290,_290.length);
_28b.removeAllRanges();
_28b.addRange(_29f);
this.selection.collapse(false);
_290.parentNode.innerHTML="";
return true;
}
}
}else{
return false;
}
},_adaptIEList:function(_2a2){
var _2a3=_214.getSelection(this.window);
if(_2a3.isCollapsed){
if(_2a3.rangeCount&&!this.queryCommandValue(_2a2)){
var _2a4=_2a3.getRangeAt(0);
var sc=_2a4.startContainer;
if(sc&&sc.nodeType==3){
if(!_2a4.startOffset){
var _2a5="ul";
if(_2a2==="insertorderedlist"){
_2a5="ol";
}
var list=this.document.createElement(_2a5);
var li=_207.create("li",null,list);
_207.place(list,sc,"before");
li.appendChild(sc);
_207.create("br",null,list,"after");
var _2a6=_214.create(this.window);
_2a6.setStart(sc,0);
_2a6.setEnd(sc,sc.length);
_2a3.removeAllRanges();
_2a3.addRange(_2a6);
this.selection.collapse(true);
return true;
}
}
}
}
return false;
},_handleTextColorOrProperties:function(_2a7,_2a8){
var _2a9=_214.getSelection(this.window);
var doc=this.document;
var rs,ret,_2aa,txt,_2ab,_2ac,_2ad,_2ae;
_2a8=_2a8||null;
if(_2a7&&_2a9&&_2a9.isCollapsed){
if(_2a9.rangeCount){
_2aa=_2a9.getRangeAt(0);
rs=_2aa.startContainer;
if(rs&&rs.nodeType===3){
var _2af=_2aa.startOffset;
if(rs.length<_2af){
ret=this._adjustNodeAndOffset(rs,_2af);
rs=ret.node;
_2af=ret.offset;
}
txt=rs.nodeValue;
_2ab=doc.createTextNode(txt.substring(0,_2af));
var _2b0=txt.substring(_2af);
if(_2b0!==""){
_2ac=doc.createTextNode(txt.substring(_2af));
}
_2ad=doc.createElement("span");
_2ae=doc.createTextNode(".");
_2ad.appendChild(_2ae);
var _2b1=doc.createElement("span");
_2ad.appendChild(_2b1);
if(_2ab.length){
_207.place(_2ab,rs,"after");
}else{
_2ab=rs;
}
_207.place(_2ad,_2ab,"after");
if(_2ac){
_207.place(_2ac,_2ad,"after");
}
_207.destroy(rs);
var _2b2=_214.create(this.window);
_2b2.setStart(_2ae,0);
_2b2.setEnd(_2ae,_2ae.length);
_2a9.removeAllRanges();
_2a9.addRange(_2b2);
if(has("webkit")){
var _2b3="color";
if(_2a7==="hilitecolor"||_2a7==="backcolor"){
_2b3="backgroundColor";
}
_209.set(_2ad,_2b3,_2a8);
this.selection.remove();
_207.destroy(_2b1);
_2ad.innerHTML="&#160;";
this.selection.selectElement(_2ad);
this.focus();
}else{
this.execCommand(_2a7,_2a8);
_207.place(_2ad.firstChild,_2ad,"before");
_207.destroy(_2ad);
_2b2.setStart(_2ae,0);
_2b2.setEnd(_2ae,_2ae.length);
_2a9.removeAllRanges();
_2a9.addRange(_2b2);
this.selection.collapse(false);
_2ae.parentNode.removeChild(_2ae);
}
return true;
}
}
}
return false;
},_adjustNodeAndOffset:function(node,_2b4){
while(node.length<_2b4&&node.nextSibling&&node.nextSibling.nodeType===3){
_2b4=_2b4-node.length;
node=node.nextSibling;
}
return {"node":node,"offset":_2b4};
},_tagNamesForCommand:function(_2b5){
if(_2b5==="bold"){
return ["b","strong"];
}else{
if(_2b5==="italic"){
return ["i","em"];
}else{
if(_2b5==="strikethrough"){
return ["s","strike"];
}else{
if(_2b5==="superscript"){
return ["sup"];
}else{
if(_2b5==="subscript"){
return ["sub"];
}else{
if(_2b5==="underline"){
return ["u"];
}
}
}
}
}
}
return [];
},_stripBreakerNodes:function(node){
if(!this.isLoaded){
return;
}
_20b(".ieFormatBreakerSpan",node).forEach(function(b){
while(b.firstChild){
_207.place(b.firstChild,b,"before");
}
_207.destroy(b);
});
return node;
},_stripTrailingEmptyNodes:function(node){
function _2b6(node){
return (/^(p|div|br)$/i.test(node.nodeName)&&node.children.length==0&&lang.trim(node.textContent||node.innerText||"")=="")||(node.nodeType===3&&lang.trim(node.nodeValue)=="");
};
while(node.lastChild&&_2b6(node.lastChild)){
_207.destroy(node.lastChild);
}
return node;
}});
return _218;
});
},"dijit/ToolbarSeparator":function(){
define(["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],function(_2b7,dom,_2b8,_2b9){
return _2b7("dijit.ToolbarSeparator",[_2b8,_2b9],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\" role=\"presentation\"></div>",buildRendering:function(){
this.inherited(arguments);
dom.setSelectable(this.domNode,false);
},isFocusable:function(){
return false;
}});
});
},"dijit/form/RadioButton":function(){
define(["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(_2ba,_2bb,_2bc){
return _2ba("dijit.form.RadioButton",[_2bb,_2bc],{baseClass:"dijitRadio"});
});
},"dijit/MenuSeparator":function(){
define(["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(_2bd,dom,_2be,_2bf,_2c0,_2c1){
return _2bd("dijit.MenuSeparator",[_2be,_2bf,_2c0],{templateString:_2c1,buildRendering:function(){
this.inherited(arguments);
dom.setSelectable(this.domNode,false);
},isFocusable:function(){
return false;
}});
});
},"dijit/form/ToggleButton":function(){
define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_2c2,_2c3,_2c4,_2c5){
return _2c2("dijit.form.ToggleButton",[_2c4,_2c5],{baseClass:"dijitToggleButton",setChecked:function(_2c6){
_2c3.deprecated("setChecked("+_2c6+") is deprecated. Use set('checked',"+_2c6+") instead.","","2.0");
this.set("checked",_2c6);
}});
});
},"dijit/CheckedMenuItem":function(){
define(["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(_2c7,_2c8,_2c9,_2ca){
return _2c7("dijit.CheckedMenuItem",_2c9,{baseClass:"dijitMenuItem dijitCheckedMenuItem",templateString:_2ca,checked:false,_setCheckedAttr:function(_2cb){
this.domNode.setAttribute("aria-checked",_2cb?"true":"false");
this._set("checked",_2cb);
},iconClass:"",role:"menuitemcheckbox",checkedChar:"&#10003;",onChange:function(){
},_onClick:function(evt){
if(!this.disabled){
this.set("checked",!this.checked);
this.onChange(this.checked);
}
this.onClick(evt);
}});
});
},"dojox/html/_base":function(){
define(["dojo/_base/declare","dojo/Deferred","dojo/dom-construct","dojo/html","dojo/_base/kernel","dojo/_base/lang","dojo/ready","dojo/_base/sniff","dojo/_base/url","dojo/_base/xhr","dojo/when","dojo/_base/window"],function(_2cc,_2cd,_2ce,_2cf,_2d0,lang,_2d1,has,_2d2,_2d3,when,_2d4){
var html=_2d0.getObject("dojox.html",true);
if(has("ie")){
var _2d5=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;
}
var _2d6=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;
var _2d7=html._adjustCssPaths=function(_2d8,_2d9){
if(!_2d9||!_2d8){
return;
}
if(_2d5){
_2d9=_2d9.replace(_2d5,function(_2da,pre,_2db,url,post){
return pre+(new _2d2(_2d8,"./"+url).toString())+post;
});
}
return _2d9.replace(_2d6,function(_2dc,_2dd,_2de,_2df,_2e0,_2e1){
if(_2de){
return "@import \""+(new _2d2(_2d8,"./"+_2de).toString())+"\""+_2e1;
}else{
return "url("+(new _2d2(_2d8,"./"+_2e0).toString())+")"+_2e1;
}
});
};
var _2e2=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;
var _2e3=html._adjustHtmlPaths=function(_2e4,cont){
var url=_2e4||"./";
return cont.replace(_2e2,function(tag,_2e5,name,_2e6,_2e7,_2e8,_2e9,end){
return _2e5+(name?(name+"="+_2e6+(new _2d2(url,_2e7).toString())+_2e6):("style="+_2e8+_2d7(url,_2e9)+_2e8))+end;
});
};
var _2ea=html._snarfStyles=function(_2eb,cont,_2ec){
_2ec.attributes=[];
cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_2ed){
return _2ed.replace(/<(\/?)style\b/ig,"&lt;$1Style").replace(/<(\/?)link\b/ig,"&lt;$1Link").replace(/@import "/ig,"@ import \"");
});
return cont.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_2ee,_2ef,_2f0,_2f1,_2f2,href){
var i,attr=(_2ef||_2f1||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");
if(_2f0){
i=_2ec.push(_2eb?_2d7(_2eb,_2f0):_2f0);
}else{
i=_2ec.push("@import \""+href+"\";");
attr=attr.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");
}
if(attr){
attr=attr.split(/\s+/);
var _2f3={},tmp;
for(var j=0,e=attr.length;j<e;j++){
tmp=attr[j].split("=");
_2f3[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");
}
_2ec.attributes[i-1]=_2f3;
}
return "";
});
};
var _2f4=html._snarfScripts=function(cont,_2f5){
_2f5.code="";
cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_2f6){
return _2f6.replace(/<(\/?)script\b/ig,"&lt;$1Script");
});
function _2f7(src){
if(_2f5.downloadRemote){
src=src.replace(/&([a-z0-9#]+);/g,function(m,name){
switch(name){
case "amp":
return "&";
case "gt":
return ">";
case "lt":
return "<";
default:
return name.charAt(0)=="#"?String.fromCharCode(name.substring(1)):"&"+name+";";
}
});
_2d3.get({url:src,sync:true,load:function(code){
_2f5.code+=code+";";
},error:_2f5.errBack});
}
};
return cont.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,function(_2f8,_2f9,src,code){
if(src){
_2f7(src);
}else{
_2f5.code+=code;
}
return "";
});
};
var _2fa=html.evalInGlobal=function(code,_2fb){
_2fb=_2fb||_2d4.doc.body;
var n=_2fb.ownerDocument.createElement("script");
n.type="text/javascript";
_2fb.appendChild(n);
n.text=code;
};
html._ContentSetter=_2cc(_2cf._ContentSetter,{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function(_2fc){
this._styleNodes=[];
var st,att,_2fd,doc=this.node.ownerDocument;
var head=doc.getElementsByTagName("head")[0];
for(var i=0,e=_2fc.length;i<e;i++){
_2fd=_2fc[i];
att=_2fc.attributes[i];
st=doc.createElement("style");
st.setAttribute("type","text/css");
for(var x in att){
st.setAttribute(x,att[x]);
}
this._styleNodes.push(st);
head.appendChild(st);
if(st.styleSheet){
st.styleSheet.cssText=_2fd;
}else{
st.appendChild(doc.createTextNode(_2fd));
}
}
},empty:function(){
this.inherited("empty",arguments);
this._styles=[];
},onBegin:function(){
this.inherited("onBegin",arguments);
var cont=this.content,node=this.node;
var _2fe=this._styles;
if(lang.isString(cont)){
if(this.adjustPaths&&this.referencePath){
cont=_2e3(this.referencePath,cont);
}
if(this.renderStyles||this.cleanContent){
cont=_2ea(this.referencePath,cont,_2fe);
}
if(this.executeScripts){
var _2ff=this;
var _300={downloadRemote:true,errBack:function(e){
_2ff._onError.call(_2ff,"Exec","Error downloading remote script in \""+_2ff.id+"\"",e);
}};
cont=_2f4(cont,_300);
this._code=_300.code;
}
}
this.content=cont;
},onEnd:function(){
var code=this._code,_301=this._styles;
if(this._styleNodes&&this._styleNodes.length){
while(this._styleNodes.length){
_2ce.destroy(this._styleNodes.pop());
}
}
if(this.renderStyles&&_301&&_301.length){
this._renderStyles(_301);
}
var d=new _2cd();
var _302=this.getInherited(arguments),args=arguments,_303=lang.hitch(this,function(){
_302.apply(this,args);
when(this.parseDeferred,function(){
d.resolve();
});
});
if(this.executeScripts&&code){
if(this.cleanContent){
code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");
}
if(this.scriptHasHooks){
code=code.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);
}
try{
_2fa(code,this.node);
}
catch(e){
this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);
}
_2d1(_303);
}else{
_303();
}
return d.promise;
},tearDown:function(){
this.inherited(arguments);
delete this._styles;
if(this._styleNodes&&this._styleNodes.length){
while(this._styleNodes.length){
_2ce.destroy(this._styleNodes.pop());
}
}
delete this._styleNodes;
lang.mixin(this,html._ContentSetter.prototype);
}});
html.set=function(node,cont,_304){
if(!_304){
return _2cf._setNodeContent(node,cont,true);
}else{
var op=new html._ContentSetter(lang.mixin(_304,{content:cont,node:node}));
return op.set();
}
};
return html;
});
},"dijit/_editor/nls/FontChoice":function(){
define({root:({fontSize:"Size",fontName:"Font",formatBlock:"Format",serif:"serif","sans-serif":"sans-serif",monospace:"monospace",cursive:"cursive",fantasy:"fantasy",noFormat:"None",p:"Paragraph",h1:"Heading",h2:"Subheading",h3:"Sub-subheading",pre:"Pre-formatted",1:"xx-small",2:"x-small",3:"small",4:"medium",5:"large",6:"x-large",7:"xx-large"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});
},"dijit/_editor/nls/pt/FontChoice":function(){
define(({fontSize:"Tamanho",fontName:"Fonte",formatBlock:"Formatar",serif:"serif","sans-serif":"sans-serif",monospace:"espaço simples",cursive:"cursiva",fantasy:"fantasy",noFormat:"Nenhum",p:"Parágrafo",h1:"Título",h2:"Subtítulo",h3:"Sub-subtítulo",pre:"Pré-formatado",1:"extra-extra-pequeno",2:"extra-pequeno",3:"pequena",4:"médio",5:"grande",6:"extra-grande",7:"extra-extra-grande"}));
},"dijit/_editor/nls/pt/FontChoice":function(){
define(({fontSize:"Tamanho",fontName:"Fonte",formatBlock:"Formatar",serif:"serif","sans-serif":"sans-serif",monospace:"espaço simples",cursive:"cursiva",fantasy:"fantasy",noFormat:"Nenhum",p:"Parágrafo",h1:"Título",h2:"Subtítulo",h3:"Sub-subtítulo",pre:"Pré-formatado",1:"extra-extra-pequeno",2:"extra-pequeno",3:"pequena",4:"médio",5:"grande",6:"extra-grande",7:"extra-extra-grande"}));
},"dgrid/_StoreMixin":function(){
define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","dojo/aspect","put-selector/put"],function(_305,_306,lang,_307,_308,_309,put){
function noop(_30a){
return _30a;
};
function _30b(err){
if(typeof err!=="object"){
err=new Error(err);
}
err.grid=this;
if(_308.emit(this.domNode,"dgrid-error",{grid:this,error:err,cancelable:true,bubbles:true})){
console.error(err);
}
};
return _306(null,{store:null,query:null,queryOptions:null,getBeforePut:true,noDataMessage:"",loadingMessage:"",constructor:function(){
this.query={};
this.queryOptions={};
this.dirty={};
this._updating={};
this._columnsWithSet={};
_309.before(this,"configStructure",lang.hitch(this,function(){
this._columnsWithSet={};
}));
},_configColumn:function(_30c){
if(_30c.set){
this._columnsWithSet[_30c.field]=_30c;
}
},_setStore:function(_30d,_30e,_30f){
this.store=_30d;
this.dirty={};
this.set("query",_30e,_30f);
},_setQuery:function(_310,_311){
var sort=_311&&_311.sort;
this.query=_310!==undefined?_310:this.query;
this.queryOptions=_311||this.queryOptions;
sort?this.set("sort",sort):this.refresh();
},setStore:function(_312,_313,_314){
_305.deprecated("setStore(...)","use set(\"store\", ...) instead","dgrid 1.0");
this.set("store",_312,_313,_314);
},setQuery:function(_315,_316){
_305.deprecated("setQuery(...)","use set(\"query\", ...) instead","dgrid 1.0");
this.set("query",_315,_316);
},_getQueryOptions:function(){
var _317=lang.delegate(this.queryOptions,{});
if(this._sort.length){
_317.sort=this._sort;
}
return _317;
},_getQuery:function(){
var q=this.query;
return typeof q=="object"&&q!=null?lang.delegate(q,{}):q;
},_setSort:function(_318,_319){
if(this.store){
this._lastCollection=null;
}
this.inherited(arguments);
},insertRow:function(_31a,_31b,_31c,i,_31d){
var _31e=this.store,_31f=this.dirty,id=_31e&&_31e.getIdentity(_31a),_320;
if(id in _31f&&!(id in this._updating)){
_320=_31f[id];
}
if(_320){
_31a=lang.delegate(_31a,_320);
}
return this.inherited(arguments);
},updateDirty:function(id,_321,_322){
var _323=this.dirty,_324=_323[id];
if(!_324){
_324=_323[id]={};
}
_324[_321]=_322;
},setDirty:function(id,_325,_326){
_305.deprecated("setDirty(...)","use updateDirty() instead","dgrid 1.0");
this.updateDirty(id,_325,_326);
},save:function(){
var self=this,_327=this.store,_328=this.dirty,dfd=new _307(),_329=dfd.promise,_32a=function(id){
var data;
return (self.getBeforePut||!(data=self.row(id).data))?function(){
return _327.get(id);
}:function(){
return data;
};
};
function _32b(id,_32c){
return function(_32d){
var _32e=self._columnsWithSet,_32f=self._updating,key,data;
if(typeof _32d.set==="function"){
_32d.set(_32c);
}else{
for(key in _32c){
_32d[key]=_32c[key];
}
}
for(key in _32e){
data=_32e[key].set(_32d);
if(data!==undefined){
_32d[key]=data;
}
}
_32f[id]=true;
return _307.when(_327.put(_32d),function(){
delete _328[id];
delete _32f[id];
});
};
};
for(var id in _328){
var put=_32b(id,_328[id]);
_329=_329.then(_32a(id)).then(put);
}
dfd.resolve();
return _329;
},revert:function(){
this.dirty={};
this.refresh();
},_trackError:function(func){
var _330;
if(typeof func=="string"){
func=lang.hitch(this,func);
}
try{
_330=func();
}
catch(err){
_30b.call(this,err);
}
return _307.when(_330,noop,lang.hitch(this,_30b));
},newRow:function(){
if(this.noDataNode){
put(this.noDataNode,"!");
delete this.noDataNode;
}
return this.inherited(arguments);
},removeRow:function(_331,_332){
var row={element:_331};
if(!_332&&this.noDataMessage&&(this.up(row).element===_331)&&(this.down(row).element===_331)){
this.noDataNode=put(this.contentNode,"div.dgrid-no-data");
this.noDataNode.innerHTML=this.noDataMessage;
}
return this.inherited(arguments);
}});
});
},"manager/Ajax":function(){
define("manager/Ajax",["dojo/_base/declare","dojo/_base/lang","dojo/request","dojo/request/iframe"],function(_333,lang,_334,_335){
return _333("Manager.Ajax",[],{loading:"<img src=\"images/loading.gif\" border=\"0\" alt=\"\">",url:null,form:null,response_type:"JSON",updateElement:null,parameters:null,content:null,remote_method:"",load:null,sync:false,constructor:function(obj){
if(obj.url){
this.url=obj.url;
}
if(obj.form){
this.form=obj.form;
}
if(obj.content){
this.content=obj.content;
}
if(obj.response_type){
this.response_type=obj.response_type;
}
if(obj.updateElement){
this.updateElement=obj.updateElement;
}
if(obj.parameters){
this.parameters=obj.parameters;
}
if(obj.remote_method){
this.remote_method=obj.remote_method;
}
if(obj.callback_function){
this.callback_function=obj.callback_function;
}
if(obj.load){
this.load=obj.load;
}
if(obj.sync){
this.sync=obj.sync;
}
},update:function(_336,_337){
manager.getElementById(this.updateElement).innerHTML=_336;
},error:function(_338,_339){
if(errDiv=manager.getElementById("stdout")){
errDiv.innerHTML=_339.xhr.responseText;
}
},ioerror:function(_33a,_33b){
},getParameters:function(){
var _33c={};
if(this.parameters!=null){
if(lang.isFunction(this.parameters)){
_33c=this.parameters();
if(!lang.isObject(_33c)){
_33c={__EVENTARGUMENT:_33c};
}
}else{
_33c=this.parameters;
}
}
_33c.__ISAJAXCALL="yes";
_33c.__EVENTTARGETVALUE=this.remote_method;
_33c.ajaxResponseType=response_type;
return _33c;
},get:function(){
var _33d=this.callback_function?this.callback_function:this.update;
var _33e=this.response_type.toLowerCase();
var _33f=this.url?this.url:manager.getCurrentURL();
var _340={};
_340.args={query:this.getParameters(),handleAs:_33e,sync:this.sync};
_334.get(_33f,_340.args).then(function(data){
_33d(data,_340);
});
},call:function(){
var _341=this.response_type.toLowerCase();
if(this.updateElement){
this.update(this.loading);
}
var _342=this.url?this.url:manager.getAction();
var _343=this.callback_function?this.callback_function:this.update;
var _344={};
if(this.form!=null){
this.content.ajaxResponseType=_341;
_344.args={form:this.form,data:this.content,content:this.content,handleAs:_341};
if(manager.page.fileUpload=="yes"){
_335.post(_342,_344.args).then(function(data){
_343(data,_344);
});
}else{
_334.post(_342,_344.args).then(function(data){
_343(data,_344);
});
}
}else{
_344.args={updateElement:this.updateElement,data:this.content,content:this.content,handleAs:_341};
_334.post(_342,_344.args).then(function(data){
_343(data,_344);
});
}
}});
});
},"manager/MultiTextField2":function(){
define("manager/MultiTextField2",["dojo/_base/declare"],function(_345){
return _345("Manager.MultiTextField2",[],{mtfName:"",constructor:function(_346){
this.mtfName=_346;
this.leftSeparator="[";
this.rightSeparator="]";
this.separator=this.rightSeparator+" "+this.leftSeparator;
this.emptyField=this.leftSeparator+this.rightSeparator;
},onSubmit:function(_347,name){
var list=manager.getElementById(this.mtfName+this.emptyField);
if(list!=null&&list.options!=null){
for(var i=0;i<list.length;i++){
list.options[i].value=list.options[i].text;
list.options[i].selected=true;
}
}
return true;
},split:function(_348){
return _348.substring(1,_348.length-1).split(this.separator);
},join:function(_349){
var _34a=this.leftSeparator;
for(var i=0;i<_349.length;i++){
if(i>0){
_34a+=this.separator;
}
_34a+=_349[i];
}
_34a+=this.rightSeparator;
return _34a;
},onKeyDown:function(_34b,_34c,_34d,_34e,_34f){
var key=(document.all!=null)?_34e.keyCode:_34e.which;
var name=_34d+"_text";
var len=name.length;
if(_34b.name.substring(0,len)==name){
if(key==13){
this.add(_34c,_34d,_34f);
return false;
}
}else{
if(_34b.name==_34d+this.emptyField){
if(key==46){
this.remove(_34c,_34d,_34f);
return false;
}
}
}
},onSelect:function(_350){
var list=manager.getElementById(this.mtfName+this.emptyField);
var i=list.selectedIndex;
if(i!=-1){
var a=this.split(list.options[i].text);
for(var j=1;j<=_350;j++){
var tf=manager.getElementById(this.mtfName+"_text"+j);
if(tf!=null){
tf.value=a[j-1];
}else{
var op=manager.getElementById(this.mtfName+"_options"+j);
if(op!=null){
for(var n=0;n<op.options.length;n++){
if(op.options[n].text==a[j-1]){
op.selectedIndex=n;
break;
}
}
}
}
}
}else{
for(var j=1;j<=_350;j++){
var tf=manager.getElementById(this.mtfName+"_text"+j);
if(tf!=null){
tf.value="";
}else{
var op=manager.getElementById(this.mtfName+"_options"+j);
if(op!=null){
op.selectedIndex=-1;
}
}
}
}
},getInput:function(_351){
var list=manager.getElementById(this.mtfName+this.emptyField);
var _352=new Array(_351);
var _353="";
for(var i=1;i<=_351;i++){
var tf=manager.getElementById(this.mtfName+"_text"+i);
_352[i-1]="";
if(tf!=null){
_352[i-1]=tf.value;
}else{
var list=manager.getElementById(this.mtfName+"_options"+i);
if(list!=null){
_352[i-1]=list.options[list.selectedIndex].text;
}
}
}
return this.join(_352);
},add:function(_354){
var list=manager.getElementById(this.mtfName+this.emptyField);
var i=list.length;
list.options[i]=new Option(this.getInput(_354));
list.selectedIndex=i;
},remove:function(_355){
var list=manager.getElementById(this.mtfName+this.emptyField);
for(var i=0;i<list.length;i++){
if(list.options[i].selected){
list.options[i]=null;
if(i>=list.length){
i=list.length-1;
}
if(i>=0){
list.options[i].selected=true;
}
break;
}
}
},modify:function(_356){
var list=manager.getElementById(this.mtfName+this.emptyField);
var i=list.selectedIndex;
if(i!=-1){
list.options[i].text=this.getInput(_356);
}else{
alert("É preciso selecionar o item a ser modificado!");
}
},moveUp:function(_357){
var list=manager.getElementById(this.mtfName+this.emptyField);
var i=list.selectedIndex;
if(i!=-1){
if(i>0){
var u=list.options[i-1].text;
list.options[i-1].text=list.options[i].text;
list.options[i-1].selected=true;
list.options[i].text=u;
list.options[i].selected=false;
list.selectedIndex=i-1;
}
}else{
alert("É preciso selecionar o item a ser modificado!");
}
},moveDown:function(_358){
var list=manager.getElementById(this.mtfName+this.emptyField);
var i=list.selectedIndex;
if(i!=-1){
if(i<list.options.length-1){
var u=list.options[i+1].text;
list.options[i+1].text=list.options[i].text;
list.options[i+1].selected=true;
list.options[i].text=u;
list.options[i].selected=false;
list.selectedIndex=i+1;
}
}else{
alert("É preciso selecionar o item a ser modificado!");
}
}});
});
},"dijit/_DialogMixin":function(){
define(["dojo/_base/declare","./a11y"],function(_359,a11y){
return _359("dijit._DialogMixin",null,{execute:function(){
},onCancel:function(){
},onExecute:function(){
},_onSubmit:function(){
this.onExecute();
this.execute(this.get("value"));
},_getFocusItems:function(){
var _35a=a11y._getTabNavigable(this.containerNode);
this._firstFocusItem=_35a.lowest||_35a.first||this.closeButtonNode||this.domNode;
this._lastFocusItem=_35a.last||_35a.highest||this._firstFocusItem;
}});
});
},"dijit/_Widget":function(){
define(["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_35b,_35c,_35d,_35e,has,_35f,lang,_360,_361,_362,_363,_364,_365){
function _366(){
};
function _367(_368){
return function(obj,_369,_36a,_36b){
if(obj&&typeof _369=="string"&&obj[_369]==_366){
return obj.on(_369.substring(2).toLowerCase(),lang.hitch(_36a,_36b));
}
return _368.apply(_35d,arguments);
};
};
_35b.around(_35d,"connect",_367);
if(_35f.connect){
_35b.around(_35f,"connect",_367);
}
var _36c=_35e("dijit._Widget",[_363,_364,_365],{onClick:_366,onDblClick:_366,onKeyDown:_366,onKeyPress:_366,onKeyUp:_366,onMouseDown:_366,onMouseMove:_366,onMouseOut:_366,onMouseOver:_366,onMouseLeave:_366,onMouseEnter:_366,onMouseUp:_366,constructor:function(_36d){
this._toConnect={};
for(var name in _36d){
if(this[name]===_366){
this._toConnect[name.replace(/^on/,"").toLowerCase()]=_36d[name];
delete _36d[name];
}
}
},postCreate:function(){
this.inherited(arguments);
for(var name in this._toConnect){
this.on(name,this._toConnect[name]);
}
delete this._toConnect;
},on:function(type,func){
if(this[this._onMap(type)]===_366){
return _35d.connect(this.domNode,type.toLowerCase(),this,func);
}
return this.inherited(arguments);
},_setFocusedAttr:function(val){
this._focused=val;
this._set("focused",val);
},setAttribute:function(attr,_36e){
_35f.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");
this.set(attr,_36e);
},attr:function(name,_36f){
var args=arguments.length;
if(args>=2||typeof name==="object"){
return this.set.apply(this,arguments);
}else{
return this.get(name);
}
},getDescendants:function(){
_35f.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");
return this.containerNode?_360("[widgetId]",this.containerNode).map(_362.byNode):[];
},_onShow:function(){
this.onShow();
},onShow:function(){
},onHide:function(){
},onClose:function(){
return true;
}});
if(has("dijit-legacy-requires")){
_361(0,function(){
var _370=["dijit/_base"];
require(_370);
});
}
return _36c;
});
},"dijit/form/_SearchMixin":function(){
define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/query","dojo/string","dojo/when","../registry"],function(_371,keys,lang,_372,_373,when,_374){
return _371("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:true,_patternToRegExp:function(_375){
return new RegExp("^"+_375.replace(/(\\.)|(\*)|(\?)|\W/g,function(str,_376,star,_377){
return star?".*":_377?".":_376?_376:"\\"+str;
})+"$",this.ignoreCase?"mi":"m");
},_abortQuery:function(){
if(this.searchTimer){
this.searchTimer=this.searchTimer.remove();
}
if(this._queryDeferHandle){
this._queryDeferHandle=this._queryDeferHandle.remove();
}
if(this._fetchHandle){
if(this._fetchHandle.abort){
this._cancelingQuery=true;
this._fetchHandle.abort();
this._cancelingQuery=false;
}
if(this._fetchHandle.cancel){
this._cancelingQuery=true;
this._fetchHandle.cancel();
this._cancelingQuery=false;
}
this._fetchHandle=null;
}
},_processInput:function(evt){
if(this.disabled||this.readOnly){
return;
}
var key=evt.charOrCode;
if("type" in evt&&evt.type.substring(0,3)=="key"&&(evt.altKey||((evt.ctrlKey||evt.metaKey)&&(key!="x"&&key!="v"))||key==keys.SHIFT)){
return;
}
var _378=false;
this._prev_key_backspace=false;
switch(key){
case keys.DELETE:
case keys.BACKSPACE:
this._prev_key_backspace=true;
this._maskValidSubsetError=true;
_378=true;
break;
default:
_378=typeof key=="string"||key==229;
}
if(_378){
if(!this.store){
this.onSearch();
}else{
this.searchTimer=this.defer("_startSearchFromInput",1);
}
}
},onSearch:function(){
},_startSearchFromInput:function(){
this._startSearch(this.focusNode.value);
},_startSearch:function(text){
this._abortQuery();
var _379=this,_372=lang.clone(this.query),_37a={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:true}},qs=_373.substitute(this.queryExpr,[text.replace(/([\\\*\?])/g,"\\$1")]),q,_37b=function(){
var _37c=_379._fetchHandle=_379.store.query(_372,_37a);
if(_379.disabled||_379.readOnly||(q!==_379._lastQuery)){
return;
}
when(_37c,function(res){
_379._fetchHandle=null;
if(!_379.disabled&&!_379.readOnly&&(q===_379._lastQuery)){
when(_37c.total,function(_37d){
res.total=_37d;
var _37e=_379.pageSize;
if(isNaN(_37e)||_37e>res.total){
_37e=res.total;
}
res.nextPage=function(_37f){
_37a.direction=_37f=_37f!==false;
_37a.count=_37e;
if(_37f){
_37a.start+=res.length;
if(_37a.start>=res.total){
_37a.count=0;
}
}else{
_37a.start-=_37e;
if(_37a.start<0){
_37a.count=Math.max(_37e+_37a.start,0);
_37a.start=0;
}
}
if(_37a.count<=0){
res.length=0;
_379.onSearch(res,_372,_37a);
}else{
_37b();
}
};
_379.onSearch(res,_372,_37a);
});
}
},function(err){
_379._fetchHandle=null;
if(!_379._cancelingQuery){
console.error(_379.declaredClass+" "+err.toString());
}
});
};
lang.mixin(_37a,this.fetchProperties);
if(this.store._oldAPI){
q=qs;
}else{
q=this._patternToRegExp(qs);
q.toString=function(){
return qs;
};
}
this._lastQuery=_372[this.searchAttr]=q;
this._queryDeferHandle=this.defer(_37b,this.searchDelay);
},constructor:function(){
this.query={};
this.fetchProperties={};
},postMixInProperties:function(){
if(!this.store){
var list=this.list;
if(list){
this.store=_374.byId(list);
}
}
this.inherited(arguments);
}});
});
},"dijit/layout/AccordionContainer":function(){
define(["require","dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/topic","../focus","../_base/manager","dojo/ready","../_Widget","../_Container","../_TemplatedMixin","../_CssStateMixin","./StackContainer","./ContentPane","dojo/text!./templates/AccordionButton.html","../a11yclick"],function(_380,_381,_382,fx,dom,_383,_384,_385,_386,keys,lang,has,_387,_388,_389,_38a,_38b,_38c,_38d,_38e,_38f,_390,_391){
var _392=_382("dijit.layout._AccordionButton",[_38b,_38d,_38e],{templateString:_391,label:"",_setLabelAttr:{node:"titleTextNode",type:"innerHTML"},title:"",_setTitleAttr:{node:"titleTextNode",type:"attribute",attribute:"title"},iconClassAttr:"",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitAccordionTitle",getParent:function(){
return this.parent;
},buildRendering:function(){
this.inherited(arguments);
var _393=this.id.replace(" ","_");
_383.set(this.titleTextNode,"id",_393+"_title");
this.focusNode.setAttribute("aria-labelledby",_383.get(this.titleTextNode,"id"));
dom.setSelectable(this.domNode,false);
},getTitleHeight:function(){
return _386.getMarginSize(this.domNode).h;
},_onTitleClick:function(){
var _394=this.getParent();
_394.selectChild(this.contentWidget,true);
_388.focus(this.focusNode);
},_onTitleKeyDown:function(evt){
return this.getParent()._onKeyDown(evt,this.contentWidget);
},_setSelectedAttr:function(_395){
this._set("selected",_395);
this.focusNode.setAttribute("aria-expanded",_395?"true":"false");
this.focusNode.setAttribute("aria-selected",_395?"true":"false");
this.focusNode.setAttribute("tabIndex",_395?"0":"-1");
}});
if(has("dojo-bidi")){
_392.extend({_setLabelAttr:function(_396){
this._set("label",_396);
_383.set(this.titleTextNode,"innerHTML",_396);
this.applyTextDir(this.titleTextNode);
},_setTitleAttr:function(_397){
this._set("title",_397);
_383.set(this.titleTextNode,"title",_397);
this.applyTextDir(this.titleTextNode);
}});
}
var _398=_382("dijit.layout._AccordionInnerContainer"+(has("dojo-bidi")?"_NoBidi":""),[_38b,_38e],{baseClass:"dijitAccordionInnerContainer",isLayoutContainer:true,buildRendering:function(){
this.domNode=_385.place("<div class='"+this.baseClass+"' role='presentation'>",this.contentWidget.domNode,"after");
var _399=this.contentWidget,cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;
this.button=_399._buttonWidget=(new cls({contentWidget:_399,label:_399.title,title:_399.tooltip,dir:_399.dir,lang:_399.lang,textDir:_399.textDir||this.textDir,iconClass:_399.iconClass,id:_399.id+"_button",parent:this.parent})).placeAt(this.domNode);
this.containerNode=_385.place("<div class='dijitAccordionChildWrapper' role='tabpanel' style='display:none'>",this.domNode);
this.containerNode.setAttribute("aria-labelledby",this.button.id);
_385.place(this.contentWidget.domNode,this.containerNode);
},postCreate:function(){
this.inherited(arguments);
var _39a=this.button,cw=this.contentWidget;
this._contentWidgetWatches=[cw.watch("title",lang.hitch(this,function(name,_39b,_39c){
_39a.set("label",_39c);
})),cw.watch("tooltip",lang.hitch(this,function(name,_39d,_39e){
_39a.set("title",_39e);
})),cw.watch("iconClass",lang.hitch(this,function(name,_39f,_3a0){
_39a.set("iconClass",_3a0);
}))];
},_setSelectedAttr:function(_3a1){
this._set("selected",_3a1);
this.button.set("selected",_3a1);
if(_3a1){
var cw=this.contentWidget;
if(cw.onSelected){
cw.onSelected();
}
}
},startup:function(){
this.contentWidget.startup();
},destroy:function(){
this.button.destroyRecursive();
_381.forEach(this._contentWidgetWatches||[],function(w){
w.unwatch();
});
delete this.contentWidget._buttonWidget;
delete this.contentWidget._wrapperWidget;
this.inherited(arguments);
},destroyDescendants:function(_3a2){
this.contentWidget.destroyRecursive(_3a2);
}});
if(has("dojo-bidi")){
_398=_382("dijit.layout._AccordionInnerContainer",_398,{postCreate:function(){
this.inherited(arguments);
var _3a3=this.button;
this._contentWidgetWatches.push(this.contentWidget.watch("textDir",function(name,_3a4,_3a5){
_3a3.set("textDir",_3a5);
}));
}});
}
var _3a6=_382("dijit.layout.AccordionContainer",_38f,{duration:_389.defaultDuration,buttonWidget:_392,baseClass:"dijitAccordionContainer",buildRendering:function(){
this.inherited(arguments);
this.domNode.style.overflow="hidden";
this.domNode.setAttribute("role","tablist");
},startup:function(){
if(this._started){
return;
}
this.inherited(arguments);
if(this.selectedChildWidget){
this.selectedChildWidget._wrapperWidget.set("selected",true);
}
},layout:function(){
var _3a7=this.selectedChildWidget;
if(!_3a7){
return;
}
var _3a8=_3a7._wrapperWidget.domNode,_3a9=_386.getMarginExtents(_3a8),_3aa=_386.getPadBorderExtents(_3a8),_3ab=_3a7._wrapperWidget.containerNode,_3ac=_386.getMarginExtents(_3ab),_3ad=_386.getPadBorderExtents(_3ab),_3ae=this._contentBox;
var _3af=0;
_381.forEach(this.getChildren(),function(_3b0){
if(_3b0!=_3a7){
_3af+=_386.getMarginSize(_3b0._wrapperWidget.domNode).h;
}
});
this._verticalSpace=_3ae.h-_3af-_3a9.h-_3aa.h-_3ac.h-_3ad.h-_3a7._buttonWidget.getTitleHeight();
this._containerContentBox={h:this._verticalSpace,w:this._contentBox.w-_3a9.w-_3aa.w-_3ac.w-_3ad.w};
if(_3a7){
_3a7.resize(this._containerContentBox);
}
},_setupChild:function(_3b1){
_3b1._wrapperWidget=_398({contentWidget:_3b1,buttonWidget:this.buttonWidget,id:_3b1.id+"_wrapper",dir:_3b1.dir,lang:_3b1.lang,textDir:_3b1.textDir||this.textDir,parent:this});
this.inherited(arguments);
_385.place(_3b1.domNode,_3b1._wrapper,"replace");
},removeChild:function(_3b2){
if(_3b2._wrapperWidget){
_385.place(_3b2.domNode,_3b2._wrapperWidget.domNode,"after");
_3b2._wrapperWidget.destroy();
delete _3b2._wrapperWidget;
}
_384.remove(_3b2.domNode,"dijitHidden");
this.inherited(arguments);
},getChildren:function(){
return _381.map(this.inherited(arguments),function(_3b3){
return _3b3.declaredClass=="dijit.layout._AccordionInnerContainer"?_3b3.contentWidget:_3b3;
},this);
},destroy:function(){
if(this._animation){
this._animation.stop();
}
_381.forEach(this.getChildren(),function(_3b4){
if(_3b4._wrapperWidget){
_3b4._wrapperWidget.destroy();
}else{
_3b4.destroyRecursive();
}
});
this.inherited(arguments);
},_showChild:function(_3b5){
_3b5._wrapperWidget.containerNode.style.display="block";
return this.inherited(arguments);
},_hideChild:function(_3b6){
_3b6._wrapperWidget.containerNode.style.display="none";
this.inherited(arguments);
},_transition:function(_3b7,_3b8,_3b9){
if(has("ie")<8){
_3b9=false;
}
if(this._animation){
this._animation.stop(true);
delete this._animation;
}
var self=this;
if(_3b7){
_3b7._wrapperWidget.set("selected",true);
var d=this._showChild(_3b7);
if(this.doLayout&&_3b7.resize){
_3b7.resize(this._containerContentBox);
}
}
if(_3b8){
_3b8._wrapperWidget.set("selected",false);
if(!_3b9){
this._hideChild(_3b8);
}
}
if(_3b9){
var _3ba=_3b7._wrapperWidget.containerNode,_3bb=_3b8._wrapperWidget.containerNode;
var _3bc=_3b7._wrapperWidget.containerNode,_3bd=_386.getMarginExtents(_3bc),_3be=_386.getPadBorderExtents(_3bc),_3bf=_3bd.h+_3be.h;
_3bb.style.height=(self._verticalSpace-_3bf)+"px";
this._animation=new fx.Animation({node:_3ba,duration:this.duration,curve:[1,this._verticalSpace-_3bf-1],onAnimate:function(_3c0){
_3c0=Math.floor(_3c0);
_3ba.style.height=_3c0+"px";
_3bb.style.height=(self._verticalSpace-_3bf-_3c0)+"px";
},onEnd:function(){
delete self._animation;
_3ba.style.height="auto";
_3b8._wrapperWidget.containerNode.style.display="none";
_3bb.style.height="auto";
self._hideChild(_3b8);
}});
this._animation.onStop=this._animation.onEnd;
this._animation.play();
}
return d;
},_onKeyDown:function(e,_3c1){
if(this.disabled||e.altKey||!(_3c1||e.ctrlKey)){
return;
}
var c=e.keyCode;
if((_3c1&&(c==keys.LEFT_ARROW||c==keys.UP_ARROW))||(e.ctrlKey&&c==keys.PAGE_UP)){
this._adjacent(false)._buttonWidget._onTitleClick();
e.stopPropagation();
e.preventDefault();
}else{
if((_3c1&&(c==keys.RIGHT_ARROW||c==keys.DOWN_ARROW))||(e.ctrlKey&&(c==keys.PAGE_DOWN||c==keys.TAB))){
this._adjacent(true)._buttonWidget._onTitleClick();
e.stopPropagation();
e.preventDefault();
}
}
}});
if(has("dijit-legacy-requires")){
_38a(0,function(){
var _3c2=["dijit/layout/AccordionPane"];
_380(_3c2);
});
}
_3a6._InnerContainer=_398;
_3a6._Button=_392;
return _3a6;
});
},"dgrid/Keyboard":function(){
define(["dojo/_base/declare","dojo/aspect","dojo/on","dojo/_base/lang","dojo/has","put-selector/put","dojo/_base/Deferred","dojo/_base/sniff"],function(_3c3,_3c4,on,lang,has,put,_3c5){
var _3c6={checkbox:1,radio:1,button:1},_3c7=/\bdgrid-cell\b/,_3c8=/\bdgrid-row\b/;
has.add("dom-contains",function(_3c9,doc,_3ca){
return !!_3ca.contains;
});
function _3cb(_3cc,node){
if(has("dom-contains")){
return _3cc.contains(node);
}else{
return _3cc.compareDocumentPosition(node)&8;
}
};
var _3cd=_3c3(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){
this.inherited(arguments);
if(!this.keyMap){
this.keyMap=lang.mixin({},_3cd.defaultKeyMap);
}
if(!this.headerKeyMap){
this.headerKeyMap=lang.mixin({},_3cd.defaultHeaderKeyMap);
}
},postCreate:function(){
this.inherited(arguments);
var grid=this;
function _3ce(_3cf){
var _3d0=_3cf.target;
return _3d0.type&&(!_3c6[_3d0.type]||_3cf.keyCode==32);
};
function _3d1(_3d2){
var _3d3=grid.cellNavigation,_3d4=_3d3?_3c7:_3c8,_3d5=_3d2===grid.headerNode,_3d6=_3d2;
function _3d7(){
grid._focusedHeaderNode=_3d6=_3d3?grid.headerNode.getElementsByTagName("th")[0]:grid.headerNode;
if(_3d6){
_3d6.tabIndex=grid.tabIndex;
}
};
if(_3d5){
_3d7();
_3c4.after(grid,"renderHeader",_3d7,true);
}else{
_3c4.after(grid,"renderArray",function(ret){
return _3c5.when(ret,function(ret){
var _3d8=grid._focusedNode||_3d6;
if(_3d4.test(_3d8.className)&&_3cb(_3d2,_3d8)){
return ret;
}
for(var i=0,_3d9=_3d2.getElementsByTagName("*"),_3da;(_3da=_3d9[i]);++i){
if(_3d4.test(_3da.className)){
_3d8=grid._focusedNode=_3da;
break;
}
}
_3d8.tabIndex=grid.tabIndex;
return ret;
});
});
}
grid._listeners.push(on(_3d2,"mousedown",function(_3db){
if(!_3ce(_3db)){
grid._focusOnNode(_3db.target,_3d5,_3db);
}
}));
grid._listeners.push(on(_3d2,"keydown",function(_3dc){
if(_3dc.metaKey||_3dc.altKey){
return;
}
var _3dd=grid[_3d5?"headerKeyMap":"keyMap"][_3dc.keyCode];
if(_3dd&&!_3ce(_3dc)){
_3dd.call(grid,_3dc);
}
}));
};
if(this.tabableHeader){
_3d1(this.headerNode);
on(this.headerNode,"dgrid-cellfocusin",function(){
grid.scrollTo({x:this.scrollLeft});
});
}
_3d1(this.contentNode);
},addKeyHandler:function(key,_3de,_3df){
return _3c4.after(this[_3df?"headerKeyMap":"keyMap"],key,_3de,true);
},_focusOnNode:function(_3e0,_3e1,_3e2){
var _3e3="_focused"+(_3e1?"Header":"")+"Node",_3e4=this[_3e3],_3e5=this.cellNavigation?"cell":"row",cell=this[_3e5](_3e0),_3e6,_3e7,_3e8,_3e9,i;
_3e0=cell&&cell.element;
if(!_3e0){
return;
}
if(this.cellNavigation){
_3e6=_3e0.getElementsByTagName("input");
for(i=0,_3e8=_3e6.length;i<_3e8;i++){
_3e7=_3e6[i];
if((_3e7.tabIndex!=-1||"lastValue" in _3e7)&&!_3e7.disabled){
if(has("ie")<8){
_3e7.style.position="relative";
}
_3e7.focus();
if(has("ie")<8){
_3e7.style.position="";
}
_3e9=true;
break;
}
}
}
_3e2=lang.mixin({grid:this},_3e2);
if(_3e2.type){
_3e2.parentType=_3e2.type;
}
if(!_3e2.bubbles){
_3e2.bubbles=true;
}
if(_3e4){
put(_3e4,"!dgrid-focus[!tabIndex]");
if(has("ie")<8){
_3e4.style.position="";
}
_3e2[_3e5]=this[_3e5](_3e4);
on.emit(_3e0,"dgrid-cellfocusout",_3e2);
}
_3e4=this[_3e3]=_3e0;
_3e2[_3e5]=cell;
if(!_3e9){
if(has("ie")<8){
_3e0.style.position="relative";
}
_3e0.tabIndex=this.tabIndex;
_3e0.focus();
}
put(_3e0,".dgrid-focus");
on.emit(_3e4,"dgrid-cellfocusin",_3e2);
},focusHeader:function(_3ea){
this._focusOnNode(_3ea||this._focusedHeaderNode,true);
},focus:function(_3eb){
this._focusOnNode(_3eb||this._focusedNode,false);
}});
var _3ec=_3cd.moveFocusVertical=function(_3ed,_3ee){
var _3ef=this.cellNavigation,_3f0=this[_3ef?"cell":"row"](_3ed),_3f1=_3ef&&_3f0.column.id,next=this.down(this._focusedNode,_3ee,true);
if(_3ef){
next=this.cell(next,_3f1);
}
this._focusOnNode(next,false,_3ed);
_3ed.preventDefault();
};
var _3f2=_3cd.moveFocusUp=function(_3f3){
_3ec.call(this,_3f3,-1);
};
var _3f4=_3cd.moveFocusDown=function(_3f5){
_3ec.call(this,_3f5,1);
};
var _3f6=_3cd.moveFocusPageUp=function(_3f7){
_3ec.call(this,_3f7,-this.pageSkip);
};
var _3f8=_3cd.moveFocusPageDown=function(_3f9){
_3ec.call(this,_3f9,this.pageSkip);
};
var _3fa=_3cd.moveFocusHorizontal=function(_3fb,_3fc){
if(!this.cellNavigation){
return;
}
var _3fd=!this.row(_3fb),_3fe=this["_focused"+(_3fd?"Header":"")+"Node"];
this._focusOnNode(this.right(_3fe,_3fc),_3fd,_3fb);
_3fb.preventDefault();
};
var _3ff=_3cd.moveFocusLeft=function(_400){
_3fa.call(this,_400,-1);
};
var _401=_3cd.moveFocusRight=function(_402){
_3fa.call(this,_402,1);
};
var _403=_3cd.moveHeaderFocusEnd=function(_404,_405){
var _406;
if(this.cellNavigation){
_406=this.headerNode.getElementsByTagName("th");
this._focusOnNode(_406[_405?0:_406.length-1],true,_404);
}
_404.preventDefault();
};
var _407=_3cd.moveHeaderFocusHome=function(_408){
_403.call(this,_408,true);
};
var _409=_3cd.moveFocusEnd=function(_40a,_40b){
var self=this,_40c=this.cellNavigation,_40d=this.contentNode,_40e=_40b?0:_40d.scrollHeight,_40f=_40d.scrollTop+_40e,_410=_40d[_40b?"firstChild":"lastChild"],_411=_410.className.indexOf("dgrid-preload")>-1,_412=_411?_410[(_40b?"next":"previous")+"Sibling"]:_410,_413=_412.offsetTop+(_40b?0:_412.offsetHeight),_414;
if(_411){
while(_412&&_412.className.indexOf("dgrid-row")<0){
_412=_412[(_40b?"next":"previous")+"Sibling"];
}
if(!_412){
return;
}
}
if(!_411||_410.offsetHeight<1){
if(_40c){
_412=this.cell(_412,this.cell(_40a).column.id);
}
this._focusOnNode(_412,false,_40a);
}else{
if(!has("dom-addeventlistener")){
_40a=lang.mixin({},_40a);
}
_414=_3c4.after(this,"renderArray",function(rows){
_414.remove();
return _3c5.when(rows,function(rows){
var _415=rows[_40b?0:rows.length-1];
if(_40c){
_415=self.cell(_415,self.cell(_40a).column.id);
}
self._focusOnNode(_415,false,_40a);
});
});
}
if(_40f===_413){
_40a.preventDefault();
}
};
var _416=_3cd.moveFocusHome=function(_417){
_409.call(this,_417,true);
};
function _418(_419){
_419.preventDefault();
};
_3cd.defaultKeyMap={32:_418,33:_3f6,34:_3f8,35:_409,36:_416,37:_3ff,38:_3f2,39:_401,40:_3f4};
_3cd.defaultHeaderKeyMap={32:_418,35:_403,36:_407,37:_3ff,39:_401};
return _3cd;
});
},"dijit/form/SimpleTextarea":function(){
define(["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(_41a,_41b,has,_41c){
return _41a("dijit.form.SimpleTextarea",_41c,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} data-dojo-attach-point='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){
if(!this.value&&this.srcNodeRef){
this.value=this.srcNodeRef.value;
}
this.inherited(arguments);
},buildRendering:function(){
this.inherited(arguments);
if(has("ie")&&this.cols){
_41b.add(this.textbox,"dijitTextAreaCols");
}
},filter:function(_41d){
if(_41d){
_41d=_41d.replace(/\r/g,"");
}
return this.inherited(arguments);
},_onInput:function(e){
if(this.maxLength){
var _41e=parseInt(this.maxLength);
var _41f=this.textbox.value.replace(/\r/g,"");
var _420=_41f.length-_41e;
if(_420>0){
var _421=this.textbox;
if(_421.selectionStart){
var pos=_421.selectionStart;
var cr=0;
if(has("opera")){
cr=(this.textbox.value.substring(0,pos).match(/\r/g)||[]).length;
}
this.textbox.value=_41f.substring(0,pos-_420-cr)+_41f.substring(pos-cr);
_421.setSelectionRange(pos-_420,pos-_420);
}else{
if(this.ownerDocument.selection){
_421.focus();
var _422=this.ownerDocument.selection.createRange();
_422.moveStart("character",-_420);
_422.text="";
_422.select();
}
}
}
}
this.inherited(arguments);
}});
});
},"manager/MD5":function(){
function _423(n){
for(i=0;i<n;i++){
this[i]=0;
}
this.length=n;
};
define("manager/MD5",["dojo/_base/declare"],function(_424){
return _424("Manager.MD5",[],{constructor:function(){
},array:function(n){
var a;
for(i=0;i<n;i++){
a[i]=0;
}
a.length=n;
return a;
},integer:function(n){
return n%(4294967295+1);
},shr:function(a,b){
a=this.integer(a);
b=this.integer(b);
if(a-2147483648>=0){
a=a%2147483648;
a>>=b;
a+=1073741824>>(b-1);
}else{
a>>=b;
}
return a;
},shl1:function(a){
a=a%2147483648;
if(a&1073741824==1073741824){
a-=1073741824;
a*=2;
a+=2147483648;
}else{
a*=2;
}
return a;
},shl:function(a,b){
a=this.integer(a);
b=this.integer(b);
for(var i=0;i<b;i++){
a=this.shl1(a);
}
return a;
},and:function(a,b){
a=this.integer(a);
b=this.integer(b);
var t1=(a-2147483648);
var t2=(b-2147483648);
if(t1>=0){
if(t2>=0){
return ((t1&t2)+2147483648);
}else{
return (t1&b);
}
}else{
if(t2>=0){
return (a&t2);
}else{
return (a&b);
}
}
},or:function(a,b){
a=this.integer(a);
b=this.integer(b);
var t1=(a-2147483648);
var t2=(b-2147483648);
if(t1>=0){
if(t2>=0){
return ((t1|t2)+2147483648);
}else{
return ((t1|b)+2147483648);
}
}else{
if(t2>=0){
return ((a|t2)+2147483648);
}else{
return (a|b);
}
}
},xor:function(a,b){
a=this.integer(a);
b=this.integer(b);
var t1=(a-2147483648);
var t2=(b-2147483648);
if(t1>=0){
if(t2>=0){
return (t1^t2);
}else{
return ((t1^b)+2147483648);
}
}else{
if(t2>=0){
return ((a^t2)+2147483648);
}else{
return (a^b);
}
}
},not:function(a){
a=this.integer(a);
return (4294967295-a);
},state:new _423(4),count:new _423(2),buffer:new _423(64),transformBuffer:new _423(16),digestBits:new _423(16),S11:7,S12:12,S13:17,S14:22,S21:5,S22:9,S23:14,S24:20,S31:4,S32:11,S33:16,S34:23,S41:6,S42:10,S43:15,S44:21,F:function(x,y,z){
return this.or(this.and(x,y),this.and(this.not(x),z));
},G:function(x,y,z){
return this.or(this.and(x,z),this.and(y,this.not(z)));
},H:function(x,y,z){
return this.xor(this.xor(x,y),z);
},I:function(x,y,z){
return this.xor(y,this.or(x,this.not(z)));
},rotateLeft:function(a,n){
return this.or(this.shl(a,n),(this.shr(a,(32-n))));
},FF:function(a,b,c,d,x,s,ac){
a=a+this.F(b,c,d)+x+ac;
a=this.rotateLeft(a,s);
a=a+b;
return a;
},GG:function(a,b,c,d,x,s,ac){
a=a+this.G(b,c,d)+x+ac;
a=this.rotateLeft(a,s);
a=a+b;
return a;
},HH:function(a,b,c,d,x,s,ac){
a=a+this.H(b,c,d)+x+ac;
a=this.rotateLeft(a,s);
a=a+b;
return a;
},II:function(a,b,c,d,x,s,ac){
a=a+this.I(b,c,d)+x+ac;
a=this.rotateLeft(a,s);
a=a+b;
return a;
},transform:function(buf,_425){
var a=0,b=0,c=0,d=0;
var x=this.transformBuffer;
a=this.state[0];
b=this.state[1];
c=this.state[2];
d=this.state[3];
for(i=0;i<16;i++){
x[i]=this.and(buf[i*4+_425],255);
for(j=1;j<4;j++){
x[i]+=this.shl(this.and(buf[i*4+j+_425],255),j*8);
}
}
a=this.FF(a,b,c,d,x[0],this.S11,3614090360);
d=this.FF(d,a,b,c,x[1],this.S12,3905402710);
c=this.FF(c,d,a,b,x[2],this.S13,606105819);
b=this.FF(b,c,d,a,x[3],this.S14,3250441966);
a=this.FF(a,b,c,d,x[4],this.S11,4118548399);
d=this.FF(d,a,b,c,x[5],this.S12,1200080426);
c=this.FF(c,d,a,b,x[6],this.S13,2821735955);
b=this.FF(b,c,d,a,x[7],this.S14,4249261313);
a=this.FF(a,b,c,d,x[8],this.S11,1770035416);
d=this.FF(d,a,b,c,x[9],this.S12,2336552879);
c=this.FF(c,d,a,b,x[10],this.S13,4294925233);
b=this.FF(b,c,d,a,x[11],this.S14,2304563134);
a=this.FF(a,b,c,d,x[12],this.S11,1804603682);
d=this.FF(d,a,b,c,x[13],this.S12,4254626195);
c=this.FF(c,d,a,b,x[14],this.S13,2792965006);
b=this.FF(b,c,d,a,x[15],this.S14,1236535329);
a=this.GG(a,b,c,d,x[1],this.S21,4129170786);
d=this.GG(d,a,b,c,x[6],this.S22,3225465664);
c=this.GG(c,d,a,b,x[11],this.S23,643717713);
b=this.GG(b,c,d,a,x[0],this.S24,3921069994);
a=this.GG(a,b,c,d,x[5],this.S21,3593408605);
d=this.GG(d,a,b,c,x[10],this.S22,38016083);
c=this.GG(c,d,a,b,x[15],this.S23,3634488961);
b=this.GG(b,c,d,a,x[4],this.S24,3889429448);
a=this.GG(a,b,c,d,x[9],this.S21,568446438);
d=this.GG(d,a,b,c,x[14],this.S22,3275163606);
c=this.GG(c,d,a,b,x[3],this.S23,4107603335);
b=this.GG(b,c,d,a,x[8],this.S24,1163531501);
a=this.GG(a,b,c,d,x[13],this.S21,2850285829);
d=this.GG(d,a,b,c,x[2],this.S22,4243563512);
c=this.GG(c,d,a,b,x[7],this.S23,1735328473);
b=this.GG(b,c,d,a,x[12],this.S24,2368359562);
a=this.HH(a,b,c,d,x[5],this.S31,4294588738);
d=this.HH(d,a,b,c,x[8],this.S32,2272392833);
c=this.HH(c,d,a,b,x[11],this.S33,1839030562);
b=this.HH(b,c,d,a,x[14],this.S34,4259657740);
a=this.HH(a,b,c,d,x[1],this.S31,2763975236);
d=this.HH(d,a,b,c,x[4],this.S32,1272893353);
c=this.HH(c,d,a,b,x[7],this.S33,4139469664);
b=this.HH(b,c,d,a,x[10],this.S34,3200236656);
a=this.HH(a,b,c,d,x[13],this.S31,681279174);
d=this.HH(d,a,b,c,x[0],this.S32,3936430074);
c=this.HH(c,d,a,b,x[3],this.S33,3572445317);
b=this.HH(b,c,d,a,x[6],this.S34,76029189);
a=this.HH(a,b,c,d,x[9],this.S31,3654602809);
d=this.HH(d,a,b,c,x[12],this.S32,3873151461);
c=this.HH(c,d,a,b,x[15],this.S33,530742520);
b=this.HH(b,c,d,a,x[2],this.S34,3299628645);
a=this.II(a,b,c,d,x[0],this.S41,4096336452);
d=this.II(d,a,b,c,x[7],this.S42,1126891415);
c=this.II(c,d,a,b,x[14],this.S43,2878612391);
b=this.II(b,c,d,a,x[5],this.S44,4237533241);
a=this.II(a,b,c,d,x[12],this.S41,1700485571);
d=this.II(d,a,b,c,x[3],this.S42,2399980690);
c=this.II(c,d,a,b,x[10],this.S43,4293915773);
b=this.II(b,c,d,a,x[1],this.S44,2240044497);
a=this.II(a,b,c,d,x[8],this.S41,1873313359);
d=this.II(d,a,b,c,x[15],this.S42,4264355552);
c=this.II(c,d,a,b,x[6],this.S43,2734768916);
b=this.II(b,c,d,a,x[13],this.S44,1309151649);
a=this.II(a,b,c,d,x[4],this.S41,4149444226);
d=this.II(d,a,b,c,x[11],this.S42,3174756917);
c=this.II(c,d,a,b,x[2],this.S43,718787259);
b=this.II(b,c,d,a,x[9],this.S44,3951481745);
this.state[0]+=a;
this.state[1]+=b;
this.state[2]+=c;
this.state[3]+=d;
},init:function(){
this.count[0]=this.count[1]=0;
this.state[0]=1732584193;
this.state[1]=4023233417;
this.state[2]=2562383102;
this.state[3]=271733878;
for(i=0;i<this.digestBits.length;i++){
this.digestBits[i]=0;
}
},update:function(b){
var _426,i;
_426=this.and(this.shr(this.count[0],3),63);
if(this.count[0]<4294967295-7){
this.count[0]+=8;
}else{
this.count[1]++;
this.count[0]-=4294967295+1;
this.count[0]+=8;
}
this.buffer[_426]=this.and(b,255);
if(_426>=63){
this.transform(this.buffer,0);
}
},finish:function(){
var bits=new _423(8);
var _427;
var i=0,_428=0,_429=0;
for(i=0;i<4;i++){
bits[i]=this.and(this.shr(this.count[0],(i*8)),255);
}
for(i=0;i<4;i++){
bits[i+4]=this.and(this.shr(this.count[1],(i*8)),255);
}
_428=this.and(this.shr(this.count[0],3),63);
_429=(_428<56)?(56-_428):(120-_428);
_427=new _423(64);
_427[0]=128;
for(i=0;i<_429;i++){
this.update(_427[i]);
}
for(i=0;i<8;i++){
this.update(bits[i]);
}
for(i=0;i<4;i++){
for(j=0;j<4;j++){
this.digestBits[i*4+j]=this.and(this.shr(this.state[i],(j*8)),255);
}
}
},hexa:function(n){
var _42a="0123456789abcdef";
var _42b="";
var _42c=n;
for(hexa_i=0;hexa_i<8;hexa_i++){
_42b=_42a.charAt(Math.abs(_42c)%16)+_42b;
_42c=Math.floor(_42c/16);
}
return _42b;
},ascii:"01234567890123456789012345678901"+" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ"+"[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",MD5:function(_42d){
var l,s,k,ka,kb,kc,kd;
this.init();
for(k=0;k<_42d.length;k++){
l=_42d.charAt(k);
this.update(this.ascii.lastIndexOf(l));
}
this.finish();
ka=kb=kc=kd=0;
for(i=0;i<4;i++){
ka+=this.shl(this.digestBits[15-i],(i*8));
}
for(i=4;i<8;i++){
kb+=this.shl(this.digestBits[15-i],((i-4)*8));
}
for(i=8;i<12;i++){
kc+=this.shl(this.digestBits[15-i],((i-8)*8));
}
for(i=12;i<16;i++){
kd+=this.shl(this.digestBits[15-i],((i-12)*8));
}
s=this.hexa(kd)+this.hexa(kc)+this.hexa(kb)+this.hexa(ka);
return s;
}});
});
},"dijit/Destroyable":function(){
define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_42e,_42f,_430){
return _430("dijit.Destroyable",null,{destroy:function(_431){
this._destroyed=true;
},own:function(){
_42e.forEach(arguments,function(_432){
var _433="destroyRecursive" in _432?"destroyRecursive":"destroy" in _432?"destroy":"remove";
var odh=_42f.before(this,"destroy",function(_434){
_432[_433](_434);
});
var hdh=_42f.after(_432,_433,function(){
odh.remove();
hdh.remove();
},true);
},this);
return arguments;
}});
});
},"dojo/request":function(){
define(["./request/default!"],function(_435){
return _435;
});
},"dojox/grid/_RowSelector":function(){
define(["dojo/_base/declare","./_View"],function(_436,_437){
return _436("dojox.grid._RowSelector",_437,{defaultWidth:"2em",noscroll:true,padBorderWidth:2,buildRendering:function(){
this.inherited("buildRendering",arguments);
this.scrollboxNode.style.overflow="hidden";
this.headerNode.style.visibility="hidden";
},getWidth:function(){
return this.viewWidth||this.defaultWidth;
},buildRowContent:function(_438,_439){
var w=this.contentWidth||0;
_439.innerHTML="<table class=\"dojoxGridRowbarTable\" style=\"width:"+w+"px;height:1px;\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"><tr><td class=\"dojoxGridRowbarInner\">&nbsp;</td></tr></table>";
},renderHeader:function(){
},updateRow:function(){
},resize:function(){
this.adaptHeight();
},adaptWidth:function(){
if(!("contentWidth" in this)&&this.contentNode&&this.contentNode.offsetWidth>0){
this.contentWidth=this.contentNode.offsetWidth-this.padBorderWidth;
}
},doStyleRowNode:function(_43a,_43b){
var n=["dojoxGridRowbar dojoxGridNonNormalizedCell"];
if(this.grid.rows.isOver(_43a)){
n.push("dojoxGridRowbarOver");
}
if(this.grid.selection.isSelected(_43a)){
n.push("dojoxGridRowbarSelected");
}
_43b.className=n.join(" ");
},domouseover:function(e){
this.grid.onMouseOverRow(e);
},domouseout:function(e){
if(!this.isIntraRowEvent(e)){
this.grid.onMouseOutRow(e);
}
}});
});
},"dijit/form/MultiSelect":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-geometry","dojo/has","dojo/query","./_FormValueWidget"],function(_43c,_43d,_43e,has,_43f,_440){
var _441=_43d("dijit.form.MultiSelect"+(has("dojo-bidi")?"_NoBidi":""),_440,{size:7,baseClass:"dijitMultiSelect",templateString:"<select multiple='true' ${!nameAttrSetting} data-dojo-attach-point='containerNode,focusNode' data-dojo-attach-event='onchange: _onChange'></select>",addSelected:function(_442){
_442.getSelected().forEach(function(n){
this.containerNode.appendChild(n);
this.domNode.scrollTop=this.domNode.offsetHeight;
var _443=_442.domNode.scrollTop;
_442.domNode.scrollTop=0;
_442.domNode.scrollTop=_443;
},this);
this._set("value",this.get("value"));
},getSelected:function(){
return _43f("option",this.containerNode).filter(function(n){
return n.selected;
});
},_getValueAttr:function(){
return _43c.map(this.getSelected(),function(n){
return n.value;
});
},multiple:true,_setValueAttr:function(_444,_445){
_43f("option",this.containerNode).forEach(function(n){
n.selected=(_43c.indexOf(_444,n.value)!=-1);
});
this.inherited(arguments);
},invertSelection:function(_446){
var val=[];
_43f("option",this.containerNode).forEach(function(n){
if(!n.selected){
val.push(n.value);
}
});
this._setValueAttr(val,!(_446===false||_446==null));
},_onChange:function(){
this._handleOnChange(this.get("value"),true);
},resize:function(size){
if(size){
_43e.setMarginBox(this.domNode,size);
}
},postCreate:function(){
this._set("value",this.get("value"));
this.inherited(arguments);
}});
if(has("dojo-bidi")){
_441=_43d("dijit.form.MultiSelect",_441,{addSelected:function(_447){
_447.getSelected().forEach(function(n){
n.text=this.enforceTextDirWithUcc(this.restoreOriginalText(n),n.text);
},this);
this.inherited(arguments);
},_setTextDirAttr:function(_448){
if((this.textDir!=_448||!this._created)&&this.enforceTextDirWithUcc){
this._set("textDir",_448);
_43f("option",this.containerNode).forEach(function(_449){
if(!this._created&&_449.value===_449.text){
_449.value=_449.text;
}
_449.text=this.enforceTextDirWithUcc(_449,_449.originalText||_449.text);
},this);
}
}});
}
return _441;
});
},"xstyle/has-class":function(){
define(["dojo/has"],function(has){
var _44a={};
return function(){
var test,args=arguments;
for(var i=0;i<args.length;i++){
var test=args[i];
if(!_44a[test]){
_44a[test]=true;
var _44b=test.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),_44c=has(_44b[2]),_44d=-_44b[4];
if((_44d>0?_44d<=_44c&&(-_44b[5]||_44d)>=_44c:!!_44c)==!_44b[1]){
document.documentElement.className+=" has-"+test;
}
}
}
};
});
},"dojox/form/uploader/plugins/IFrame":function(){
define([],function(){
console.warn("dojox.form.uploader.plugins.IFrame has been removed. You can use Uploader directly and it will contain all necessary functionality.");
return {};
});
},"dojox/grid/_Layout":function(){
define(["dojo/_base/kernel","../main","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-geometry","./cells","./_RowSelector"],function(dojo,_44e,_44f,_450,lang,_451){
return _44f("dojox.grid._Layout",null,{constructor:function(_452){
this.grid=_452;
},cells:[],structure:null,defaultWidth:"6em",moveColumn:function(_453,_454,_455,_456,_457){
var _458=this.structure[_453].cells[0];
var _459=this.structure[_454].cells[0];
var cell=null;
var _45a=0;
var _45b=0;
for(var i=0,c;c=_458[i];i++){
if(c.index==_455){
_45a=i;
break;
}
}
cell=_458.splice(_45a,1)[0];
cell.view=this.grid.views.views[_454];
for(i=0,c=null;c=_459[i];i++){
if(c.index==_456){
_45b=i;
break;
}
}
if(!_457){
_45b+=1;
}
_459.splice(_45b,0,cell);
var _45c=this.grid.getCell(this.grid.getSortIndex());
if(_45c){
_45c._currentlySorted=this.grid.getSortAsc();
}
this.cells=[];
_455=0;
var v;
for(i=0;v=this.structure[i];i++){
for(var j=0,cs;cs=v.cells[j];j++){
for(var k=0;c=cs[k];k++){
c.index=_455;
this.cells.push(c);
if("_currentlySorted" in c){
var si=_455+1;
si*=c._currentlySorted?1:-1;
this.grid.sortInfo=si;
delete c._currentlySorted;
}
_455++;
}
}
}
_450.forEach(this.cells,function(c){
var _45d=c.markup[2].split(" ");
var _45e=parseInt(_45d[1].substring(5));
if(_45e!=c.index){
_45d[1]="idx=\""+c.index+"\"";
c.markup[2]=_45d.join(" ");
}
});
this.grid.setupHeaderMenu();
},setColumnVisibility:function(_45f,_460){
var cell=this.cells[_45f];
if(cell.hidden==_460){
cell.hidden=!_460;
var v=cell.view,w=v.viewWidth;
if(w&&w!="auto"){
v._togglingColumn=_451.getMarginBox(cell.getHeaderNode()).w||0;
}
v.update();
return true;
}else{
return false;
}
},addCellDef:function(_461,_462,_463){
var self=this;
var _464=function(_465){
var w=0;
if(_465.colSpan>1){
w=0;
}else{
w=_465.width||self._defaultCellProps.width||self.defaultWidth;
if(!isNaN(w)){
w=w+"em";
}
}
return w;
};
var _466={grid:this.grid,subrow:_461,layoutIndex:_462,index:this.cells.length};
if(_463&&_463 instanceof _44e.grid.cells._Base){
var _467=lang.clone(_463);
_466.unitWidth=_464(_467._props);
_467=lang.mixin(_467,this._defaultCellProps,_463._props,_466);
return _467;
}
var _468=_463.type||_463.cellType||this._defaultCellProps.type||this._defaultCellProps.cellType||_44e.grid.cells.Cell;
if(lang.isString(_468)){
_468=lang.getObject(_468);
}
_466.unitWidth=_464(_463);
return new _468(lang.mixin({},this._defaultCellProps,_463,_466));
},addRowDef:function(_469,_46a){
var _46b=[];
var _46c=0,_46d=0,_46e=true;
for(var i=0,def,cell;(def=_46a[i]);i++){
cell=this.addCellDef(_469,i,def);
_46b.push(cell);
this.cells.push(cell);
if(_46e&&cell.relWidth){
_46c+=cell.relWidth;
}else{
if(cell.width){
var w=cell.width;
if(typeof w=="string"&&w.slice(-1)=="%"){
_46d+=window.parseInt(w,10);
}else{
if(w=="auto"){
_46e=false;
}
}
}
}
}
if(_46c&&_46e){
_450.forEach(_46b,function(cell){
if(cell.relWidth){
cell.width=cell.unitWidth=((cell.relWidth/_46c)*(100-_46d))+"%";
}
});
}
return _46b;
},addRowsDef:function(_46f){
var _470=[];
if(lang.isArray(_46f)){
if(lang.isArray(_46f[0])){
for(var i=0,row;_46f&&(row=_46f[i]);i++){
_470.push(this.addRowDef(i,row));
}
}else{
_470.push(this.addRowDef(0,_46f));
}
}
return _470;
},addViewDef:function(_471){
this._defaultCellProps=_471.defaultCell||{};
if(_471.width&&_471.width=="auto"){
delete _471.width;
}
return lang.mixin({},_471,{cells:this.addRowsDef(_471.rows||_471.cells)});
},setStructure:function(_472){
this.fieldIndex=0;
this.cells=[];
var s=this.structure=[];
if(this.grid.rowSelector){
var sel={type:_44e._scopeName+".grid._RowSelector"};
if(lang.isString(this.grid.rowSelector)){
var _473=this.grid.rowSelector;
if(_473=="false"){
sel=null;
}else{
if(_473!="true"){
sel["width"]=_473;
}
}
}else{
if(!this.grid.rowSelector){
sel=null;
}
}
if(sel){
s.push(this.addViewDef(sel));
}
}
var _474=function(def){
return ("name" in def||"field" in def||"get" in def);
};
var _475=function(def){
if(lang.isArray(def)){
if(lang.isArray(def[0])||_474(def[0])){
return true;
}
}
return false;
};
var _476=function(def){
return (def!==null&&lang.isObject(def)&&("cells" in def||"rows" in def||("type" in def&&!_474(def))));
};
if(lang.isArray(_472)){
var _477=false;
for(var i=0,st;(st=_472[i]);i++){
if(_476(st)){
_477=true;
break;
}
}
if(!_477){
s.push(this.addViewDef({cells:_472}));
}else{
for(i=0;(st=_472[i]);i++){
if(_475(st)){
s.push(this.addViewDef({cells:st}));
}else{
if(_476(st)){
s.push(this.addViewDef(st));
}
}
}
}
}else{
if(_476(_472)){
s.push(this.addViewDef(_472));
}
}
this.cellCount=this.cells.length;
this.grid.setupHeaderMenu();
}});
});
},"dojo/dnd/common":function(){
define(["../sniff","../_base/kernel","../_base/lang","../dom"],function(has,_478,lang,dom){
var _479=lang.getObject("dojo.dnd",true);
_479.getCopyKeyState=function(evt){
return evt[has("mac")?"metaKey":"ctrlKey"];
};
_479._uniqueId=0;
_479.getUniqueId=function(){
var id;
do{
id=_478._scopeName+"Unique"+(++_479._uniqueId);
}while(dom.byId(id));
return id;
};
_479._empty={};
_479.isFormElement=function(e){
var t=e.target;
if(t.nodeType==3){
t=t.parentNode;
}
return " a button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;
};
return _479;
});
},"dijit/tree/ObjectStoreModel":function(){
define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/when"],function(_47a,_47b,_47c,lang,when){
return _47c("dijit.tree.ObjectStoreModel",null,{store:null,labelAttr:"name",labelType:"text",root:null,query:null,constructor:function(args){
lang.mixin(this,args);
this.childrenCache={};
},destroy:function(){
for(var id in this.childrenCache){
this.childrenCache[id].close&&this.childrenCache[id].close();
}
},getRoot:function(_47d,_47e){
if(this.root){
_47d(this.root);
}else{
var res;
when(res=this.store.query(this.query),lang.hitch(this,function(_47f){
if(_47f.length!=1){
throw new Error("dijit.tree.ObjectStoreModel: root query returned "+_47f.length+" items, but must return exactly one");
}
this.root=_47f[0];
_47d(this.root);
if(res.observe){
res.observe(lang.hitch(this,function(obj){
this.onChange(obj);
}),true);
}
}),_47e);
}
},mayHaveChildren:function(){
return true;
},getChildren:function(_480,_481,_482){
var id=this.store.getIdentity(_480);
if(this.childrenCache[id]){
when(this.childrenCache[id],_481,_482);
return;
}
var res=this.childrenCache[id]=this.store.getChildren(_480);
when(res,_481,_482);
if(res.observe){
res.observe(lang.hitch(this,function(obj,_483,_484){
this.onChange(obj);
if(_483!=_484){
when(res,lang.hitch(this,"onChildrenChange",_480));
}
}),true);
}
},isItem:function(){
return true;
},getIdentity:function(item){
return this.store.getIdentity(item);
},getLabel:function(item){
return item[this.labelAttr];
},newItem:function(args,_485,_486,_487){
return this.store.put(args,{parent:_485,before:_487});
},pasteItem:function(_488,_489,_48a,_48b,_48c,_48d){
if(!_48b){
var _48e=[].concat(this.childrenCache[this.getIdentity(_489)]),_48f=_47a.indexOf(_48e,_488);
_48e.splice(_48f,1);
this.onChildrenChange(_489,_48e);
}
return this.store.put(_488,{overwrite:true,parent:_48a,before:_48d});
},onChange:function(){
},onChildrenChange:function(){
},onDelete:function(){
}});
});
},"dijit/tree/ForestStoreModel":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(_490,_491,_492,lang,_493){
return _491("dijit.tree.ForestStoreModel",_493,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_494){
this.root={store:this,root:true,id:_494.rootId,label:_494.rootLabel,children:_494.rootChildren};
},mayHaveChildren:function(item){
return item===this.root||this.inherited(arguments);
},getChildren:function(_495,_496,_497){
if(_495===this.root){
if(this.root.children){
_496(this.root.children);
}else{
this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_498){
this.root.children=_498;
_496(_498);
}),onError:_497});
}
}else{
this.inherited(arguments);
}
},isItem:function(_499){
return (_499===this.root)?true:this.inherited(arguments);
},fetchItemByIdentity:function(_49a){
if(_49a.identity==this.root.id){
var _49b=_49a.scope||_492.global;
if(_49a.onItem){
_49a.onItem.call(_49b,this.root);
}
}else{
this.inherited(arguments);
}
},getIdentity:function(item){
return (item===this.root)?this.root.id:this.inherited(arguments);
},getLabel:function(item){
return (item===this.root)?this.root.label:this.inherited(arguments);
},newItem:function(args,_49c,_49d){
if(_49c===this.root){
this.onNewRootItem(args);
return this.store.newItem(args);
}else{
return this.inherited(arguments);
}
},onNewRootItem:function(){
},pasteItem:function(_49e,_49f,_4a0,_4a1,_4a2){
if(_49f===this.root){
if(!_4a1){
this.onLeaveRoot(_49e);
}
}
this.inherited(arguments,[_49e,_49f===this.root?null:_49f,_4a0===this.root?null:_4a0,_4a1,_4a2]);
if(_4a0===this.root){
this.onAddToRoot(_49e);
}
},onAddToRoot:function(item){
},onLeaveRoot:function(item){
},_requeryTop:function(){
var _4a3=this.root.children||[];
this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_4a4){
this.root.children=_4a4;
if(_4a3.length!=_4a4.length||_490.some(_4a3,function(item,idx){
return _4a4[idx]!=item;
})){
this.onChildrenChange(this.root,_4a4);
}
})});
},onNewItem:function(item,_4a5){
this._requeryTop();
this.inherited(arguments);
},onDeleteItem:function(item){
if(_490.indexOf(this.root.children,item)!=-1){
this._requeryTop();
}
this.inherited(arguments);
},onSetItem:function(item,_4a6,_4a7,_4a8){
this._requeryTop();
this.inherited(arguments);
}});
});
},"manager/Patches":function(){
define("manager/Patches",["dojo/_base/declare","dojo/cldr/supplemental"],function(_4a9,_4aa){
return _4a9("Manager.Patches",[],{constructor:function(){
_4aa.getFirstDayOfWeek=function(_4ab){
var _4ac={mv:5,br:0,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,er:6,et:6,iq:6,ir:6,jo:6,ke:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,so:6,sy:6,tn:6,ye:6,ar:0,as:0,az:0,bw:0,ca:0,cn:0,fo:0,ge:0,gl:0,gu:0,hk:0,il:0,"in":0,jm:0,jp:0,kg:0,kr:0,la:0,mh:0,mn:0,mo:0,mp:0,mt:0,nz:0,ph:0,pk:0,sg:0,th:0,tt:0,tw:0,um:0,us:0,uz:0,vi:0,zw:0};
var _4ad=_4aa._region(_4ab);
var dow=_4ac[_4ad];
return (dow===undefined)?1:dow;
};
}});
});
},"dijit/form/TimeTextBox":function(){
define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","../_TimePicker","./_DateTimeTextBox"],function(_4ae,keys,lang,_4af,_4b0){
return _4ae("dijit.form.TimeTextBox",_4b0,{baseClass:"dijitTextBox dijitComboBox dijitTimeTextBox",popupClass:_4af,_selector:"time",value:new Date(""),maxHeight:-1,_onKey:function(evt){
if(this.disabled||this.readOnly){
return;
}
this.inherited(arguments);
switch(evt.keyCode){
case keys.ENTER:
case keys.TAB:
case keys.ESCAPE:
case keys.DOWN_ARROW:
case keys.UP_ARROW:
break;
default:
this.defer(function(){
var val=this.get("displayedValue");
this.filterString=(val&&!this.parse(val,this.constraints))?val.toLowerCase():"";
if(this._opened){
this.closeDropDown();
}
this.openDropDown();
});
}
}});
});
},"manager/UTF8":function(){
define("manager/UTF8",["dojo/_base/declare"],function(_4b1){
return _4b1("Manager.UTF8",[],{constructor:function(id){
},encode:function(_4b2){
_4b2=_4b2.replace(/\r\n/g,"\n");
var _4b3="";
for(var n=0;n<_4b2.length;n++){
var c=_4b2.charCodeAt(n);
if(c<128){
_4b3+=String.fromCharCode(c);
}else{
if((c>127)&&(c<2048)){
_4b3+=String.fromCharCode((c>>6)|192);
_4b3+=String.fromCharCode((c&63)|128);
}else{
_4b3+=String.fromCharCode((c>>12)|224);
_4b3+=String.fromCharCode(((c>>6)&63)|128);
_4b3+=String.fromCharCode((c&63)|128);
}
}
}
return _4b3;
},decode:function(_4b4){
var _4b5="";
var i=0;
var c=c1=c2=0;
while(i<_4b4.length){
c=_4b4.charCodeAt(i);
if(c<128){
_4b5+=String.fromCharCode(c);
i++;
}else{
if((c>191)&&(c<224)){
c2=_4b4.charCodeAt(i+1);
_4b5+=String.fromCharCode(((c&31)<<6)|(c2&63));
i+=2;
}else{
c2=_4b4.charCodeAt(i+1);
c3=_4b4.charCodeAt(i+2);
_4b5+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));
i+=3;
}
}
}
return _4b5;
}});
});
},"dijit/Menu":function(){
define(["require","dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(_4b6,_4b7,_4b8,dom,_4b9,_4ba,_4bb,keys,lang,on,has,win,_4bc,pm,_4bd,_4be){
if(has("dijit-legacy-requires")){
_4be(0,function(){
var _4bf=["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"];
_4b6(_4bf);
});
}
return _4b8("dijit.Menu",_4bd,{constructor:function(){
this._bindings=[];
},targetNodeIds:[],selector:"",contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){
if(this.contextMenuForWindow){
this.bindDomNode(this.ownerDocumentBody);
}else{
_4b7.forEach(this.targetNodeIds,this.bindDomNode,this);
}
this.inherited(arguments);
},_iframeContentWindow:function(_4c0){
return _4bc.get(this._iframeContentDocument(_4c0))||this._iframeContentDocument(_4c0)["__parent__"]||(_4c0.name&&document.frames[_4c0.name])||null;
},_iframeContentDocument:function(_4c1){
return _4c1.contentDocument||(_4c1.contentWindow&&_4c1.contentWindow.document)||(_4c1.name&&document.frames[_4c1.name]&&document.frames[_4c1.name].document)||null;
},bindDomNode:function(node){
node=dom.byId(node,this.ownerDocument);
var cn;
if(node.tagName.toLowerCase()=="iframe"){
var _4c2=node,_4c3=this._iframeContentWindow(_4c2);
cn=win.body(_4c3.document);
}else{
cn=(node==win.body(this.ownerDocument)?this.ownerDocument.documentElement:node);
}
var _4c4={node:node,iframe:_4c2};
_4b9.set(node,"_dijitMenu"+this.id,this._bindings.push(_4c4));
var _4c5=lang.hitch(this,function(cn){
var _4c6=this.selector,_4c7=_4c6?function(_4c8){
return on.selector(_4c6,_4c8);
}:function(_4c9){
return _4c9;
},self=this;
return [on(cn,_4c7(this.leftClickToOpen?"click":"contextmenu"),function(evt){
evt.stopPropagation();
evt.preventDefault();
self._scheduleOpen(this,_4c2,{x:evt.pageX,y:evt.pageY});
}),on(cn,_4c7("keydown"),function(evt){
if(evt.shiftKey&&evt.keyCode==keys.F10){
evt.stopPropagation();
evt.preventDefault();
self._scheduleOpen(this,_4c2);
}
})];
});
_4c4.connects=cn?_4c5(cn):[];
if(_4c2){
_4c4.onloadHandler=lang.hitch(this,function(){
var _4ca=this._iframeContentWindow(_4c2),cn=win.body(_4ca.document);
_4c4.connects=_4c5(cn);
});
if(_4c2.addEventListener){
_4c2.addEventListener("load",_4c4.onloadHandler,false);
}else{
_4c2.attachEvent("onload",_4c4.onloadHandler);
}
}
},unBindDomNode:function(_4cb){
var node;
try{
node=dom.byId(_4cb,this.ownerDocument);
}
catch(e){
return;
}
var _4cc="_dijitMenu"+this.id;
if(node&&_4b9.has(node,_4cc)){
var bid=_4b9.get(node,_4cc)-1,b=this._bindings[bid],h;
while((h=b.connects.pop())){
h.remove();
}
var _4cd=b.iframe;
if(_4cd){
if(_4cd.removeEventListener){
_4cd.removeEventListener("load",b.onloadHandler,false);
}else{
_4cd.detachEvent("onload",b.onloadHandler);
}
}
_4b9.remove(node,_4cc);
delete this._bindings[bid];
}
},_scheduleOpen:function(_4ce,_4cf,_4d0){
if(!this._openTimer){
this._openTimer=this.defer(function(){
delete this._openTimer;
this._openMyself({target:_4ce,iframe:_4cf,coords:_4d0});
},1);
}
},_openMyself:function(args){
var _4d1=args.target,_4d2=args.iframe,_4d3=args.coords,_4d4=!_4d3;
this.currentTarget=_4d1;
if(_4d3){
if(_4d2){
var ifc=_4ba.position(_4d2,true),_4d5=this._iframeContentWindow(_4d2),_4d6=_4ba.docScroll(_4d5.document);
var cs=_4bb.getComputedStyle(_4d2),tp=_4bb.toPixelValue,left=(has("ie")&&has("quirks")?0:tp(_4d2,cs.paddingLeft))+(has("ie")&&has("quirks")?tp(_4d2,cs.borderLeftWidth):0),top=(has("ie")&&has("quirks")?0:tp(_4d2,cs.paddingTop))+(has("ie")&&has("quirks")?tp(_4d2,cs.borderTopWidth):0);
_4d3.x+=ifc.x+left-_4d6.x;
_4d3.y+=ifc.y+top-_4d6.y;
}
}else{
_4d3=_4ba.position(_4d1,true);
_4d3.x+=10;
_4d3.y+=10;
}
var self=this;
var _4d7=this._focusManager.get("prevNode");
var _4d8=this._focusManager.get("curNode");
var _4d9=!_4d8||(dom.isDescendant(_4d8,this.domNode))?_4d7:_4d8;
function _4da(){
if(self.refocus&&_4d9){
_4d9.focus();
}
pm.close(self);
};
pm.open({popup:this,x:_4d3.x,y:_4d3.y,onExecute:_4da,onCancel:_4da,orient:this.isLeftToRight()?"L":"R"});
this.focus();
if(!_4d4){
this.defer(function(){
this._cleanUp(true);
});
}
this._onBlur=function(){
this.inherited("_onBlur",arguments);
pm.close(this);
};
},destroy:function(){
_4b7.forEach(this._bindings,function(b){
if(b){
this.unBindDomNode(b.node);
}
},this);
this.inherited(arguments);
}});
});
},"dijit/_base/window":function(){
define(["dojo/window","../main"],function(_4db,_4dc){
_4dc.getDocumentWindow=function(doc){
return _4db.get(doc);
};
});
},"dojo/store/Observable":function(){
define(["../_base/kernel","../_base/lang","../when","../_base/array"],function(_4dd,lang,when,_4de){
var _4df=function(_4e0){
var _4e1,_4e2=[],_4e3=0;
_4e0=lang.delegate(_4e0);
_4e0.notify=function(_4e4,_4e5){
_4e3++;
var _4e6=_4e2.slice();
for(var i=0,l=_4e6.length;i<l;i++){
_4e6[i](_4e4,_4e5);
}
};
var _4e7=_4e0.query;
_4e0.query=function(_4e8,_4e9){
_4e9=_4e9||{};
var _4ea=_4e7.apply(this,arguments);
if(_4ea&&_4ea.forEach){
var _4eb=lang.mixin({},_4e9);
delete _4eb.start;
delete _4eb.count;
var _4ec=_4e0.queryEngine&&_4e0.queryEngine(_4e8,_4eb);
var _4ed=_4e3;
var _4ee=[],_4ef;
_4ea.observe=function(_4f0,_4f1){
if(_4ee.push(_4f0)==1){
_4e2.push(_4ef=function(_4f2,_4f3){
when(_4ea,function(_4f4){
var _4f5=_4f4.length!=_4e9.count;
var i,l,_4f0;
if(++_4ed!=_4e3){
throw new Error("Query is out of date, you must observe() the query prior to any data modifications");
}
var _4f6,_4f7=-1,_4f8=-1;
if(_4f3!==_4e1){
for(i=0,l=_4f4.length;i<l;i++){
var _4f9=_4f4[i];
if(_4e0.getIdentity(_4f9)==_4f3){
_4f6=_4f9;
_4f7=i;
if(_4ec||!_4f2){
_4f4.splice(i,1);
}
break;
}
}
}
if(_4ec){
if(_4f2&&(_4ec.matches?_4ec.matches(_4f2):_4ec([_4f2]).length)){
var _4fa=_4f7>-1?_4f7:_4f4.length;
_4f4.splice(_4fa,0,_4f2);
_4f8=_4de.indexOf(_4ec(_4f4),_4f2);
_4f4.splice(_4fa,1);
if((_4e9.start&&_4f8==0)||(!_4f5&&_4f8==_4f4.length)){
_4f8=-1;
}else{
_4f4.splice(_4f8,0,_4f2);
}
}
}else{
if(_4f2){
if(_4f3!==_4e1){
_4f8=_4f7;
}else{
if(!_4e9.start){
_4f8=_4e0.defaultIndex||0;
_4f4.splice(_4f8,0,_4f2);
}
}
}
}
if((_4f7>-1||_4f8>-1)&&(_4f1||!_4ec||(_4f7!=_4f8))){
var _4fb=_4ee.slice();
for(i=0;_4f0=_4fb[i];i++){
_4f0(_4f2||_4f6,_4f7,_4f8);
}
}
});
});
}
var _4fc={};
_4fc.remove=_4fc.cancel=function(){
var _4fd=_4de.indexOf(_4ee,_4f0);
if(_4fd>-1){
_4ee.splice(_4fd,1);
if(!_4ee.length){
_4e2.splice(_4de.indexOf(_4e2,_4ef),1);
}
}
};
return _4fc;
};
}
return _4ea;
};
var _4fe;
function _4ff(_500,_501){
var _502=_4e0[_500];
if(_502){
_4e0[_500]=function(_503){
if(_4fe){
return _502.apply(this,arguments);
}
_4fe=true;
try{
var _504=_502.apply(this,arguments);
when(_504,function(_505){
_501((typeof _505=="object"&&_505)||_503);
});
return _504;
}
finally{
_4fe=false;
}
};
}
};
_4ff("put",function(_506){
_4e0.notify(_506,_4e0.getIdentity(_506));
});
_4ff("add",function(_507){
_4e0.notify(_507);
});
_4ff("remove",function(id){
_4e0.notify(undefined,id);
});
return _4e0;
};
lang.setObject("dojo.store.Observable",_4df);
return _4df;
});
},"dijit/form/MappedTextBox":function(){
define(["dojo/_base/declare","dojo/sniff","dojo/dom-construct","./ValidationTextBox"],function(_508,has,_509,_50a){
return _508("dijit.form.MappedTextBox",_50a,{postMixInProperties:function(){
this.inherited(arguments);
this.nameAttrSetting="";
},_setNameAttr:"valueNode",serialize:function(val){
return val.toString?val.toString():"";
},toString:function(){
var val=this.filter(this.get("value"));
return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";
},validate:function(){
this.valueNode.value=this.toString();
return this.inherited(arguments);
},buildRendering:function(){
this.inherited(arguments);
this.valueNode=_509.place("<input type='hidden'"+((this.name&&!has("msapp"))?" name=\""+this.name.replace(/"/g,"&quot;")+"\"":"")+"/>",this.textbox,"after");
},reset:function(){
this.valueNode.value="";
this.inherited(arguments);
}});
});
},"dojox/grid/util":function(){
define(["../main","dojo/_base/lang","dojo/dom"],function(_50b,lang,dom){
var dgu=lang.getObject("grid.util",true,_50b);
dgu.na="...";
dgu.rowIndexTag="gridRowIndex";
dgu.gridViewTag="gridView";
dgu.fire=function(ob,ev,args){
var fn=ob&&ev&&ob[ev];
return fn&&(args?fn.apply(ob,args):ob[ev]());
};
dgu.setStyleHeightPx=function(_50c,_50d){
if(_50d>=0){
var s=_50c.style;
var v=_50d+"px";
if(_50c&&s["height"]!=v){
s["height"]=v;
}
}
};
dgu.mouseEvents=["mouseover","mouseout","mousedown","mouseup","click","dblclick","contextmenu"];
dgu.keyEvents=["keyup","keydown","keypress"];
dgu.funnelEvents=function(_50e,_50f,_510,_511){
var evts=(_511?_511:dgu.mouseEvents.concat(dgu.keyEvents));
for(var i=0,l=evts.length;i<l;i++){
_50f.connect(_50e,"on"+evts[i],_510);
}
};
dgu.removeNode=function(_512){
_512=dom.byId(_512);
_512&&_512.parentNode&&_512.parentNode.removeChild(_512);
return _512;
};
dgu.arrayCompare=function(inA,inB){
for(var i=0,l=inA.length;i<l;i++){
if(inA[i]!=inB[i]){
return false;
}
}
return (inA.length==inB.length);
};
dgu.arrayInsert=function(_513,_514,_515){
if(_513.length<=_514){
_513[_514]=_515;
}else{
_513.splice(_514,0,_515);
}
};
dgu.arrayRemove=function(_516,_517){
_516.splice(_517,1);
};
dgu.arraySwap=function(_518,inI,inJ){
var _519=_518[inI];
_518[inI]=_518[inJ];
_518[inJ]=_519;
};
return dgu;
});
},"dojox/layout/ContentPane":function(){
define(["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(lang,_51a,_51b,_51c,_51d){
return _51d("dojox.layout.ContentPane",_51b,{adjustPaths:false,cleanContent:false,renderStyles:false,executeScripts:true,scriptHasHooks:false,ioMethod:_51a.get,ioArgs:{},onExecError:function(e){
},_setContent:function(cont){
var _51e=this._contentSetter;
if(!(_51e&&_51e instanceof _51c._ContentSetter)){
_51e=this._contentSetter=new _51c._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){
var _51f=this.onContentError(e);
try{
this.containerNode.innerHTML=_51f;
}
catch(e){
console.error("Fatal "+this.id+" could not change content due to "+e.message,e);
}
})});
}
this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};
this.inherited("_setContent",arguments);
}});
});
},"dojox/grid/_RowManager":function(){
define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-class"],function(_520,lang,_521){
var _522=function(_523,_524){
if(_523.style.cssText==undefined){
_523.setAttribute("style",_524);
}else{
_523.style.cssText=_524;
}
};
return _520("dojox.grid._RowManager",null,{constructor:function(_525){
this.grid=_525;
},linesToEms:2,overRow:-2,prepareStylingRow:function(_526,_527){
return {index:_526,node:_527,odd:Boolean(_526&1),selected:!!this.grid.selection.isSelected(_526),over:this.isOver(_526),customStyles:"",customClasses:"dojoxGridRow"};
},styleRowNode:function(_528,_529){
var row=this.prepareStylingRow(_528,_529);
this.grid.onStyleRow(row);
this.applyStyles(row);
},applyStyles:function(_52a){
var i=_52a;
i.node.className=i.customClasses;
var h=i.node.style.height;
_522(i.node,i.customStyles+";"+(i.node._style||""));
i.node.style.height=h;
},updateStyles:function(_52b){
this.grid.updateRowStyles(_52b);
},setOverRow:function(_52c){
var last=this.overRow;
this.overRow=_52c;
if((last!=this.overRow)&&(lang.isString(last)||last>=0)){
this.updateStyles(last);
}
this.updateStyles(this.overRow);
},isOver:function(_52d){
return (this.overRow==_52d&&!_521.contains(this.grid.domNode,"dojoxGridColumnResizing"));
}});
});
},"manager/Dialog":function(){
require({cache:{"url:manager/templates/Dialog.html":"<div class=\"mBoxPaneDialog mElement\" role=\"dialog\" aria-labelledby=\"${id}_title\"  cleanContent=\"true\">\n    <div >\n\t<span></span>\n\t<span dojoAttachPoint=\"closeButtonNode\"></span>\n    </div>  \n<div  id=\"${id}_container\" dojoAttachPoint=\"containerNode\"></div>\n</div>\n"}});
define("manager/Dialog",["dojo/_base/declare","dojo/_base/window","dojo/_base/lang","dojo/aspect","dojo/dom-geometry","dojo/query","dojo/has","dojo/topic","dojo/dom-class","dojo/dom-style","dijit/Dialog","dojo/dnd/Moveable","manager/ElementPane","dojo/text!./templates/Dialog.html"],function(_52e,_52f,lang,_530,_531,_532,has,_533,_534,_535,_536,_537,_538,_539){
return _52e("Manager.Dialog",[_536,_538],{widgetsInTemplate:true,templateString:_539,enableDrag:function(){
var node=this.domNode;
var _53a=_532(" > form div div *",this.containerNode.id);
var _53b=_53a.shift();
if(_53b&&this.draggable){
this._moveable=new ((has("ie")==6)?TimedMoveable:_537)(node,{handle:_53b});
_530.after(this._moveable,"onMoveStop",lang.hitch(this,"_endDrag"),true);
}else{
_534.add(node,"dijitDialogFixed");
}
}});
});
},"dojo/dnd/Moveable":function(){
define(["../_base/array","../_base/declare","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(_53c,_53d,lang,dom,_53e,_53f,on,_540,_541,dnd,_542,win){
var _543=_53d("dojo.dnd.Moveable",[_53f],{handle:"",delay:0,skip:false,constructor:function(node,_544){
this.node=dom.byId(node);
if(!_544){
_544={};
}
this.handle=_544.handle?dom.byId(_544.handle):null;
if(!this.handle){
this.handle=this.node;
}
this.delay=_544.delay>0?_544.delay:0;
this.skip=_544.skip;
this.mover=_544.mover?_544.mover:_542;
this.events=[on(this.handle,_541.press,lang.hitch(this,"onMouseDown")),on(this.handle,"dragstart",lang.hitch(this,"onSelectStart")),on(this.handle,"selectstart",lang.hitch(this,"onSelectStart"))];
},markupFactory:function(_545,node,Ctor){
return new Ctor(node,_545);
},destroy:function(){
_53c.forEach(this.events,function(_546){
_546.remove();
});
this.events=this.node=this.handle=null;
},onMouseDown:function(e){
if(this.skip&&dnd.isFormElement(e)){
return;
}
if(this.delay){
this.events.push(on(this.handle,_541.move,lang.hitch(this,"onMouseMove")),on(this.handle,_541.release,lang.hitch(this,"onMouseUp")));
this._lastX=e.pageX;
this._lastY=e.pageY;
}else{
this.onDragDetected(e);
}
e.stopPropagation();
e.preventDefault();
},onMouseMove:function(e){
if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){
this.onMouseUp(e);
this.onDragDetected(e);
}
e.stopPropagation();
e.preventDefault();
},onMouseUp:function(e){
for(var i=0;i<2;++i){
this.events.pop().remove();
}
e.stopPropagation();
e.preventDefault();
},onSelectStart:function(e){
if(!this.skip||!dnd.isFormElement(e)){
e.stopPropagation();
e.preventDefault();
}
},onDragDetected:function(e){
new this.mover(this.node,e,this);
},onMoveStart:function(_547){
_540.publish("/dnd/move/start",_547);
_53e.add(win.body(),"dojoMove");
_53e.add(this.node,"dojoMoveItem");
},onMoveStop:function(_548){
_540.publish("/dnd/move/stop",_548);
_53e.remove(win.body(),"dojoMove");
_53e.remove(this.node,"dojoMoveItem");
},onFirstMove:function(){
},onMove:function(_549,_54a){
this.onMoving(_549,_54a);
var s=_549.node.style;
s.left=_54a.l+"px";
s.top=_54a.t+"px";
this.onMoved(_549,_54a);
},onMoving:function(){
},onMoved:function(){
}});
return _543;
});
},"dojo/store/util/QueryResults":function(){
define(["../../_base/array","../../_base/lang","../../when"],function(_54b,lang,when){
var _54c=function(_54d){
if(!_54d){
return _54d;
}
if(_54d.then){
_54d=lang.delegate(_54d);
}
function _54e(_54f){
if(!_54d[_54f]){
_54d[_54f]=function(){
var args=arguments;
return when(_54d,function(_550){
Array.prototype.unshift.call(args,_550);
return _54c(_54b[_54f].apply(_54b,args));
});
};
}
};
_54e("forEach");
_54e("filter");
_54e("map");
if(!_54d.total){
_54d.total=when(_54d,function(_551){
return _551.length;
});
}
return _54d;
};
lang.setObject("dojo.store.util.QueryResults",_54c);
return _54c;
});
},"xstyle/load-css":function(){
define([],function(){
"use strict";
var _552="onreadystatechange",_553="onload",_554="createElement",_555=false,doc=document,_556=typeof _css_cache=="undefined"?{}:_css_cache,_557,_558={"event-link-onload":false,"dom-create-style-element":!document.createStyleSheet},head=doc.head||(doc.head=doc.getElementsByTagName("head")[0]);
function has(_559){
return _558[_559];
};
function _55a(doc,_55b){
var link=doc[_554]("link");
link.rel="stylesheet";
link.type="text/css";
if(_55b){
link.href=_55b;
}
return link;
};
function _55c(name,_55d){
return name.lastIndexOf(".")<=name.lastIndexOf("/")?name+"."+_55d:name;
};
function _55e(name){
var _55f=name.split("!"),suf,i=1,pair;
while((suf=_55f[i++])){
pair=suf.split("=",2);
_55f[pair[0]]=pair.length==2?pair[1]:true;
}
return _55f;
};
if(!has("bundled-css")){
var _560=function(_561,cb){
if(require.onError){
require.onError=(function(orig){
return function(){
_555=true;
orig.apply(this,arguments);
};
})(require.onError);
}
function _562(_563,cb){
var link=_563.link;
link[_552]=link[_553]=function(){
if(!link.readyState||link.readyState=="complete"){
_558["event-link-onload"]=true;
_564(_563);
cb();
}
};
};
var _565;
function _566(){
if(!_565){
_565=document[_554]("div");
_565.id="_cssx_load_test";
_565.style.cssText="position:absolute;top:-999px;left:-999px;";
doc.body.appendChild(_565);
}
return doc.defaultView.getComputedStyle(_565,null).marginTop=="-5px";
};
function _567(link){
var _568,_569,_56a=false;
try{
_568=link.sheet||link.styleSheet;
if(_568){
_569=_568.cssRules||_568.rules;
_56a=_569?_569.length>0:_569!==_557;
if(_56a&&navigator.userAgent.indexOf("Chrome")>=0){
_568.insertRule("#_cssx_load_test{margin-top:-5px;}",0);
_56a=_566();
_568.deleteRule(0);
}
}
}
catch(ex){
_56a=(ex.code==1000)||(ex.message.match(/security|denied/i));
}
return _56a;
};
function _56b(_56c,cb){
if(_567(_56c.link)){
_564(_56c);
cb();
}else{
if(!_555){
setTimeout(function(){
_56b(_56c,cb);
},_56c.wait);
}
}
};
function _564(_56d){
var link=_56d.link;
link[_552]=link[_553]=null;
};
var _56e;
function _56f(){
if(!_56e){
_56e=true;
cb();
}
};
_562(_561,_56f);
if(!has("event-link-onload")){
_56b(_561,_56f);
}
};
}
function _570(css){
if(has("dom-create-style-element")){
_571=document.createElement("style");
_571.setAttribute("type","text/css");
_571.appendChild(document.createTextNode(css));
head.insertBefore(_571,head.firstChild);
return _571;
}else{
var _571=document.createStyleSheet();
_571.cssText=css;
return _571.owningElement;
}
};
return function(_572,_573,_574){
var _575=_572.split(","),_576=_575.length,_577=function(){
if(--_576==0){
_573(link.sheet||link.styleSheet);
}
};
for(var i=0,_578;i<_575.length;i++,_578=url){
_572=_575[i];
var _579=_556[_572];
if(_579){
link=_570(_579);
return _577();
}
var opts=_55e(_572),name=opts.shift(),url=_55c(name,"css"),link=_55a(doc),_57a="nowait" in opts?opts.nowait!="false":!!(_574&&_574.cssDeferLoad),_57b={link:link,url:url,wait:_574&&_574.cssWatchPeriod||50};
_560(_57b,_577);
if(_57a){
_573(link);
}
link.href=url;
head.appendChild(link);
}
};
});
},"dijit/form/CheckBox":function(){
define(["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom","../a11yclick"],function(_57c,_57d,_57e,has,_57f,_580,_581,_582,_583){
if(has("dijit-legacy-requires")){
_580(0,function(){
var _584=["dijit/form/RadioButton"];
_57c(_584);
});
}
return _57d("dijit.form.CheckBox",[_581,_582],{templateString:_583,baseClass:"dijitCheckBox",_setValueAttr:function(_585,_586){
if(typeof _585=="string"){
this.inherited(arguments);
_585=true;
}
if(this._created){
this.set("checked",_585,_586);
}
},_getValueAttr:function(){
return this.checked&&this._get("value");
},_setIconClassAttr:null,_setNameAttr:"focusNode",postMixInProperties:function(){
this.inherited(arguments);
this.checkedAttrSetting="";
},_fillContent:function(){
},_onFocus:function(){
if(this.id){
_57f("label[for='"+this.id+"']").addClass("dijitFocusedLabel");
}
this.inherited(arguments);
},_onBlur:function(){
if(this.id){
_57f("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");
}
this.inherited(arguments);
}});
});
},"dijit/nls/common":function(){
define({root:({buttonOk:"OK",buttonCancel:"Cancel",buttonSave:"Save",itemClose:"Close"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});
},"dijit/nls/pt/common":function(){
define(({buttonOk:"OK",buttonCancel:"Cancelar",buttonSave:"Salvar",itemClose:"Fechar"}));
},"dijit/nls/pt/common":function(){
define(({buttonOk:"OK",buttonCancel:"Cancelar",buttonSave:"Salvar",itemClose:"Fechar"}));
},"dijit/form/DropDownButton":function(){
define(["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(_587,lang,_588,_589,_58a,_58b,_58c,_58d,_58e){
return _587("dijit.form.DropDownButton",[_58b,_58c,_58d],{baseClass:"dijitDropDownButton",templateString:_58e,_fillContent:function(){
if(this.srcNodeRef){
var _58f=_588("*",this.srcNodeRef);
this.inherited(arguments,[_58f[0]]);
this.dropDownContainer=this.srcNodeRef;
}
},startup:function(){
if(this._started){
return;
}
if(!this.dropDown&&this.dropDownContainer){
var _590=_588("[widgetId]",this.dropDownContainer)[0];
if(_590){
this.dropDown=_589.byNode(_590);
}
delete this.dropDownContainer;
}
if(this.dropDown){
_58a.hide(this.dropDown);
}
this.inherited(arguments);
},isLoaded:function(){
var _591=this.dropDown;
return (!!_591&&(!_591.href||_591.isLoaded));
},loadDropDown:function(_592){
var _593=this.dropDown;
var _594=_593.on("load",lang.hitch(this,function(){
_594.remove();
_592();
}));
_593.refresh();
},isFocusable:function(){
return this.inherited(arguments)&&!this._mouseDown;
}});
});
},"dijit/_base/scroll":function(){
define(["dojo/window","../main"],function(_595,_596){
_596.scrollIntoView=function(node,pos){
_595.scrollIntoView(node,pos);
};
});
},"manager/Utils":function(){
define(["dijit","dojo","dojox"],function(_597,dojo,_598){
function _599(_59a){
var _59b=/^([\w\W]*)(\b\s*)$/;
if(_59b.test(_59a)){
_59a=_59a.replace(_59b,"$1");
}
return _59a;
};
function _59c(_59d){
var _59e=/^(\s*)(\b[\w\W]*)$/;
if(_59e.test(_59d)){
_59d=_59d.replace(_59e,"$2");
}
return _59d;
};
function _59f(_5a0){
var _5a1=/^(\s*)$/;
if(_5a1.test(_5a0)){
_5a0=_5a0.replace(_5a1,"");
if(_5a0.length==0){
return _5a0;
}
}
_5a1=/^(\s*)([\W\w]*)(\b\s*$)/;
if(_5a1.test(_5a0)){
_5a0=_5a0.replace(_5a1,"$2");
}
return _5a0;
};
function _5a2(_5a3){
var _5a4=/,/g;
return _5a3.replace(_5a4,"");
};
function _5a5(_5a6){
var _5a7=new RegExp("(-?[0-9]+)([0-9]{3})");
while(_5a7.test(_5a6)){
_5a6=_5a6.replace(_5a7,"$1,$2");
}
return _5a6;
};
function _5a8(_5a9){
var _5aa=new RegExp("(-?[0-9]+)([0-9]{3})");
while(_5aa.test(_5a9)){
_5a9=_5a9.replace(_5aa,"$1.$2");
}
return _5a9;
};
function _5ab(_5ac,_5ad){
var _5ae=new RegExp(_5ad,"gi");
return _5ac.replace(_5ae,"");
};
function _5af(_5b0){
_5b0=_5b0.replace(/\u2013/g,"-");
_5b0=_5b0.replace(/\u201A/g,"'");
_5b0=_5b0.replace(/\u201E/g,"\"");
_5b0=_5b0.replace(/\u02C6/g,"^");
_5b0=_5b0.replace(/\u2018/g,"'");
_5b0=_5b0.replace(/\u2019/g,"'");
_5b0=_5b0.replace(/\u201D/g,"\"");
_5b0=_5b0.replace(/\u201C/g,"\"");
_5b0=_5b0.replace(/\u2022/g,".");
_5b0=_5b0.replace(/\u2014/g,"-");
_5b0=_5b0.replace(/\u02DC/g,"~");
return _5b0;
};
function _5b1(id){
manager.getElementById(id).value=_5af(manager.getElementById(id).value);
};
function _5b2(_5b3,_5b4,_5b5,_5b6){
var half="",_5b7;
var _5b8=function(s,len){
var _5b9="",i;
while(_5b9.length<len){
_5b9+=s;
}
_5b9=_5b9.substr(0,len);
return _5b9;
};
_5b3+="";
_5b5=_5b5!==undefined?_5b5:" ";
if(_5b6!="STR_PAD_LEFT"&&_5b6!="STR_PAD_RIGHT"&&_5b6!="STR_PAD_BOTH"){
_5b6="STR_PAD_RIGHT";
}
if((_5b7=_5b4-_5b3.length)>0){
if(_5b6=="STR_PAD_LEFT"){
_5b3=_5b8(_5b5,_5b7)+_5b3;
}else{
if(_5b6=="STR_PAD_RIGHT"){
_5b3=_5b3+_5b8(_5b5,_5b7);
}else{
if(_5b6=="STR_PAD_BOTH"){
half=_5b8(_5b5,Math.ceil(_5b7/2));
_5b3=half+_5b3+half;
_5b3=_5b3.substr(0,_5b4);
}
}
}
}
return _5b3;
};
});
},"dojo/regexp":function(){
define(["./_base/kernel","./_base/lang"],function(dojo,lang){
var _5ba={};
lang.setObject("dojo.regexp",_5ba);
_5ba.escapeString=function(str,_5bb){
return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){
if(_5bb&&_5bb.indexOf(ch)!=-1){
return ch;
}
return "\\"+ch;
});
};
_5ba.buildGroupRE=function(arr,re,_5bc){
if(!(arr instanceof Array)){
return re(arr);
}
var b=[];
for(var i=0;i<arr.length;i++){
b.push(re(arr[i]));
}
return _5ba.group(b.join("|"),_5bc);
};
_5ba.group=function(_5bd,_5be){
return "("+(_5be?"?:":"")+_5bd+")";
};
return _5ba;
});
},"dojox/grid/_FocusManager":function(){
define(["dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/_base/connect","dojo/_base/event","dojo/_base/sniff","dojo/query","./util","dojo/_base/html"],function(_5bf,lang,_5c0,_5c1,_5c2,has,_5c3,util,html){
return _5c0("dojox.grid._FocusManager",null,{constructor:function(_5c4){
this.grid=_5c4;
this.cell=null;
this.rowIndex=-1;
this._connects=[];
this._headerConnects=[];
this.headerMenu=this.grid.headerMenu;
this._connects.push(_5c1.connect(this.grid.domNode,"onfocus",this,"doFocus"));
this._connects.push(_5c1.connect(this.grid.domNode,"onblur",this,"doBlur"));
this._connects.push(_5c1.connect(this.grid.domNode,"mousedown",this,"_mouseDown"));
this._connects.push(_5c1.connect(this.grid.domNode,"mouseup",this,"_mouseUp"));
this._connects.push(_5c1.connect(this.grid.domNode,"oncontextmenu",this,"doContextMenu"));
this._connects.push(_5c1.connect(this.grid.lastFocusNode,"onfocus",this,"doLastNodeFocus"));
this._connects.push(_5c1.connect(this.grid.lastFocusNode,"onblur",this,"doLastNodeBlur"));
this._connects.push(_5c1.connect(this.grid,"_onFetchComplete",this,"_delayedCellFocus"));
this._connects.push(_5c1.connect(this.grid,"postrender",this,"_delayedHeaderFocus"));
},destroy:function(){
_5bf.forEach(this._connects,_5c1.disconnect);
_5bf.forEach(this._headerConnects,_5c1.disconnect);
delete this.grid;
delete this.cell;
},_colHeadNode:null,_colHeadFocusIdx:null,_contextMenuBindNode:null,tabbingOut:false,focusClass:"dojoxGridCellFocus",focusView:null,initFocusView:function(){
this.focusView=this.grid.views.getFirstScrollingView()||this.focusView||this.grid.views.views[0];
this._initColumnHeaders();
},isFocusCell:function(_5c5,_5c6){
return (this.cell==_5c5)&&(this.rowIndex==_5c6);
},isLastFocusCell:function(){
if(this.cell){
return (this.rowIndex==this.grid.rowCount-1)&&(this.cell.index==this.grid.layout.cellCount-1);
}
return false;
},isFirstFocusCell:function(){
if(this.cell){
return (this.rowIndex===0)&&(this.cell.index===0);
}
return false;
},isNoFocusCell:function(){
return (this.rowIndex<0)||!this.cell;
},isNavHeader:function(){
return (!!this._colHeadNode);
},getHeaderIndex:function(){
if(this._colHeadNode){
return _5bf.indexOf(this._findHeaderCells(),this._colHeadNode);
}else{
return -1;
}
},_focusifyCellNode:function(_5c7){
var n=this.cell&&this.cell.getNode(this.rowIndex);
if(n){
html.toggleClass(n,this.focusClass,_5c7);
if(_5c7){
var sl=this.scrollIntoView();
try{
if(has("webkit")||!this.grid.edit.isEditing()){
util.fire(n,"focus");
if(sl){
this.cell.view.scrollboxNode.scrollLeft=sl;
}
}
}
catch(e){
}
}
}
},_delayedCellFocus:function(){
if(this.isNavHeader()||!this.grid.focused){
return;
}
var n=this.cell&&this.cell.getNode(this.rowIndex);
if(n){
try{
if(!this.grid.edit.isEditing()){
html.toggleClass(n,this.focusClass,true);
if(this._colHeadNode){
this.blurHeader();
}
util.fire(n,"focus");
}
}
catch(e){
}
}
},_delayedHeaderFocus:function(){
if(this.isNavHeader()){
this.focusHeader();
}
},_initColumnHeaders:function(){
_5bf.forEach(this._headerConnects,_5c1.disconnect);
this._headerConnects=[];
var _5c8=this._findHeaderCells();
for(var i=0;i<_5c8.length;i++){
this._headerConnects.push(_5c1.connect(_5c8[i],"onfocus",this,"doColHeaderFocus"));
this._headerConnects.push(_5c1.connect(_5c8[i],"onblur",this,"doColHeaderBlur"));
}
},_findHeaderCells:function(){
var _5c9=_5c3("th",this.grid.viewsHeaderNode);
var _5ca=[];
for(var i=0;i<_5c9.length;i++){
var _5cb=_5c9[i];
var _5cc=html.hasAttr(_5cb,"tabIndex");
var _5cd=html.attr(_5cb,"tabIndex");
if(_5cc&&_5cd<0){
_5ca.push(_5cb);
}
}
return _5ca;
},_setActiveColHeader:function(_5ce,_5cf,_5d0){
this.grid.domNode.setAttribute("aria-activedescendant",_5ce.id);
if(_5d0!=null&&_5d0>=0&&_5d0!=_5cf){
html.toggleClass(this._findHeaderCells()[_5d0],this.focusClass,false);
}
html.toggleClass(_5ce,this.focusClass,true);
this._colHeadNode=_5ce;
this._colHeadFocusIdx=_5cf;
this._scrollHeader(this._colHeadFocusIdx);
},scrollIntoView:function(){
var info=(this.cell?this._scrollInfo(this.cell):null);
if(!info||!info.s){
return null;
}
var rt=this.grid.scroller.findScrollTop(this.rowIndex);
if(info.n&&info.sr){
if(info.n.offsetLeft+info.n.offsetWidth>info.sr.l+info.sr.w){
info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;
}else{
if(info.n.offsetLeft<info.sr.l){
info.s.scrollLeft=info.n.offsetLeft;
}
}
}
if(info.r&&info.sr){
if(rt+info.r.offsetHeight>info.sr.t+info.sr.h){
this.grid.setScrollTop(rt+info.r.offsetHeight-info.sr.h);
}else{
if(rt<info.sr.t){
this.grid.setScrollTop(rt);
}
}
}
return info.s.scrollLeft;
},_scrollInfo:function(cell,_5d1){
if(cell){
var cl=cell,sbn=cl.view.scrollboxNode,sbnr={w:sbn.clientWidth,l:sbn.scrollLeft,t:sbn.scrollTop,h:sbn.clientHeight},rn=cl.view.getRowNode(this.rowIndex);
return {c:cl,s:sbn,sr:sbnr,n:(_5d1?_5d1:cell.getNode(this.rowIndex)),r:rn};
}
return null;
},_scrollHeader:function(_5d2){
var info=null;
if(this._colHeadNode){
var cell=this.grid.getCell(_5d2);
if(!cell){
return;
}
info=this._scrollInfo(cell,cell.getNode(0));
}
if(info&&info.s&&info.sr&&info.n){
var _5d3=info.sr.l+info.sr.w;
if(info.n.offsetLeft+info.n.offsetWidth>_5d3){
info.s.scrollLeft=info.n.offsetLeft+info.n.offsetWidth-info.sr.w;
}else{
if(info.n.offsetLeft<info.sr.l){
info.s.scrollLeft=info.n.offsetLeft;
}else{
if(has("ie")<=7&&cell&&cell.view.headerNode){
cell.view.headerNode.scrollLeft=info.s.scrollLeft;
}
}
}
}
},_isHeaderHidden:function(){
var _5d4=this.focusView;
if(!_5d4){
for(var i=0,_5d5;(_5d5=this.grid.views.views[i]);i++){
if(_5d5.headerNode){
_5d4=_5d5;
break;
}
}
}
return (_5d4&&html.getComputedStyle(_5d4.headerNode).display=="none");
},colSizeAdjust:function(e,_5d6,_5d7){
var _5d8=this._findHeaderCells();
var view=this.focusView;
if(!view||!view.header.tableMap.map){
for(var i=0,_5d9;(_5d9=this.grid.views.views[i]);i++){
if(_5d9.header.tableMap.map){
view=_5d9;
break;
}
}
}
var _5da=_5d8[_5d6];
if(!view||(_5d6==_5d8.length-1&&_5d6===0)){
return;
}
view.content.baseDecorateEvent(e);
e.cellNode=_5da;
e.cellIndex=view.content.getCellNodeIndex(e.cellNode);
e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);
if(view.header.canResize(e)){
var _5db={l:_5d7};
var drag=view.header.colResizeSetup(e,false);
view.header.doResizeColumn(drag,null,_5db);
view.update();
}
},styleRow:function(_5dc){
return;
},setFocusIndex:function(_5dd,_5de){
this.setFocusCell(this.grid.getCell(_5de),_5dd);
},setFocusCell:function(_5df,_5e0){
if(_5df&&!this.isFocusCell(_5df,_5e0)){
this.tabbingOut=false;
if(this._colHeadNode){
this.blurHeader();
}
this._colHeadNode=this._colHeadFocusIdx=null;
this.focusGridView();
this._focusifyCellNode(false);
this.cell=_5df;
this.rowIndex=_5e0;
this._focusifyCellNode(true);
}
if(has("opera")){
setTimeout(lang.hitch(this.grid,"onCellFocus",this.cell,this.rowIndex),1);
}else{
this.grid.onCellFocus(this.cell,this.rowIndex);
}
},next:function(){
if(this.cell){
var row=this.rowIndex,col=this.cell.index+1,cc=this.grid.layout.cellCount-1,rc=this.grid.rowCount-1;
if(col>cc){
col=0;
row++;
}
if(row>rc){
col=cc;
row=rc;
}
if(this.grid.edit.isEditing()){
var _5e1=this.grid.getCell(col);
if(!this.isLastFocusCell()&&(!_5e1.editable||this.grid.canEdit&&!this.grid.canEdit(_5e1,row))){
this.cell=_5e1;
this.rowIndex=row;
this.next();
return;
}
}
this.setFocusIndex(row,col);
}
},previous:function(){
if(this.cell){
var row=(this.rowIndex||0),col=(this.cell.index||0)-1;
if(col<0){
col=this.grid.layout.cellCount-1;
row--;
}
if(row<0){
row=0;
col=0;
}
if(this.grid.edit.isEditing()){
var _5e2=this.grid.getCell(col);
if(!this.isFirstFocusCell()&&!_5e2.editable){
this.cell=_5e2;
this.rowIndex=row;
this.previous();
return;
}
}
this.setFocusIndex(row,col);
}
},move:function(_5e3,_5e4){
var _5e5=_5e4<0?-1:1;
if(this.isNavHeader()){
var _5e6=this._findHeaderCells();
var _5e7=currentIdx=_5bf.indexOf(_5e6,this._colHeadNode);
currentIdx+=_5e4;
while(currentIdx>=0&&currentIdx<_5e6.length&&_5e6[currentIdx].style.display=="none"){
currentIdx+=_5e5;
}
if((currentIdx>=0)&&(currentIdx<_5e6.length)){
this._setActiveColHeader(_5e6[currentIdx],currentIdx,_5e7);
}
}else{
if(this.cell){
var sc=this.grid.scroller,r=this.rowIndex,rc=this.grid.rowCount-1,row=Math.min(rc,Math.max(0,r+_5e3));
if(_5e3){
if(_5e3>0){
if(row>sc.getLastPageRow(sc.page)){
this.grid.setScrollTop(this.grid.scrollTop+sc.findScrollTop(row)-sc.findScrollTop(r));
}
}else{
if(_5e3<0){
if(row<=sc.getPageRow(sc.page)){
this.grid.setScrollTop(this.grid.scrollTop-sc.findScrollTop(r)-sc.findScrollTop(row));
}
}
}
}
var cc=this.grid.layout.cellCount-1,i=this.cell.index,col=Math.min(cc,Math.max(0,i+_5e4));
var cell=this.grid.getCell(col);
while(col>=0&&col<cc&&cell&&cell.hidden===true){
col+=_5e5;
cell=this.grid.getCell(col);
}
if(!cell||cell.hidden===true){
col=i;
}
var n=cell.getNode(row);
if(!n&&_5e3){
if((row+_5e3)>=0&&(row+_5e3)<=rc){
this.move(_5e3>0?++_5e3:--_5e3,_5e4);
}
return;
}else{
if((!n||html.style(n,"display")==="none")&&_5e4){
if((col+_5e4)>=0&&(col+_5e4)<=cc){
this.move(_5e3,_5e4>0?++_5e4:--_5e4);
}
return;
}
}
this.setFocusIndex(row,col);
if(_5e3){
this.grid.updateRow(r);
}
}
}
},previousKey:function(e){
if(this.grid.edit.isEditing()){
_5c2.stop(e);
this.previous();
}else{
if(!this.isNavHeader()&&!this._isHeaderHidden()){
this.grid.domNode.focus();
_5c2.stop(e);
}else{
this.tabOut(this.grid.domNode);
if(this._colHeadFocusIdx!=null){
html.toggleClass(this._findHeaderCells()[this._colHeadFocusIdx],this.focusClass,false);
this._colHeadFocusIdx=null;
}
this._focusifyCellNode(false);
}
}
},nextKey:function(e){
var _5e8=(this.grid.rowCount===0);
if(e.target===this.grid.domNode&&this._colHeadFocusIdx==null){
this.focusHeader();
_5c2.stop(e);
}else{
if(this.isNavHeader()){
this.blurHeader();
if(!this.findAndFocusGridCell()){
this.tabOut(this.grid.lastFocusNode);
}
this._colHeadNode=this._colHeadFocusIdx=null;
}else{
if(this.grid.edit.isEditing()){
_5c2.stop(e);
this.next();
}else{
this.tabOut(this.grid.lastFocusNode);
}
}
}
},tabOut:function(_5e9){
this.tabbingOut=true;
_5e9.focus();
},focusGridView:function(){
util.fire(this.focusView,"focus");
},focusGrid:function(_5ea){
this.focusGridView();
this._focusifyCellNode(true);
},findAndFocusGridCell:function(){
var _5eb=true;
var _5ec=(this.grid.rowCount===0);
if(this.isNoFocusCell()&&!_5ec){
var _5ed=0;
var cell=this.grid.getCell(_5ed);
if(cell.hidden){
_5ed=this.isNavHeader()?this._colHeadFocusIdx:0;
}
this.setFocusIndex(0,_5ed);
}else{
if(this.cell&&!_5ec){
if(this.focusView&&!this.focusView.rowNodes[this.rowIndex]){
this.grid.scrollToRow(this.rowIndex);
}
this.focusGrid();
}else{
_5eb=false;
}
}
this._colHeadNode=this._colHeadFocusIdx=null;
return _5eb;
},focusHeader:function(){
var _5ee=this._findHeaderCells();
var _5ef=this._colHeadFocusIdx;
if(this._isHeaderHidden()){
this.findAndFocusGridCell();
}else{
if(!this._colHeadFocusIdx){
if(this.isNoFocusCell()){
this._colHeadFocusIdx=0;
}else{
this._colHeadFocusIdx=this.cell.index;
}
}
}
this._colHeadNode=_5ee[this._colHeadFocusIdx];
while(this._colHeadNode&&this._colHeadFocusIdx>=0&&this._colHeadFocusIdx<_5ee.length&&this._colHeadNode.style.display=="none"){
this._colHeadFocusIdx++;
this._colHeadNode=_5ee[this._colHeadFocusIdx];
}
if(this._colHeadNode&&this._colHeadNode.style.display!="none"){
if(this.headerMenu&&this._contextMenuBindNode!=this.grid.domNode){
this.headerMenu.unBindDomNode(this.grid.viewsHeaderNode);
this.headerMenu.bindDomNode(this.grid.domNode);
this._contextMenuBindNode=this.grid.domNode;
}
this._setActiveColHeader(this._colHeadNode,this._colHeadFocusIdx,_5ef);
this._scrollHeader(this._colHeadFocusIdx);
this._focusifyCellNode(false);
}else{
this.findAndFocusGridCell();
}
},blurHeader:function(){
html.removeClass(this._colHeadNode,this.focusClass);
html.removeAttr(this.grid.domNode,"aria-activedescendant");
if(this.headerMenu&&this._contextMenuBindNode==this.grid.domNode){
var _5f0=this.grid.viewsHeaderNode;
this.headerMenu.unBindDomNode(this.grid.domNode);
this.headerMenu.bindDomNode(_5f0);
this._contextMenuBindNode=_5f0;
}
},doFocus:function(e){
if(e&&e.target!=e.currentTarget){
_5c2.stop(e);
return;
}
if(this._clickFocus){
return;
}
if(!this.tabbingOut){
this.focusHeader();
}
this.tabbingOut=false;
_5c2.stop(e);
},doBlur:function(e){
_5c2.stop(e);
},doContextMenu:function(e){
if(!this.headerMenu){
_5c2.stop(e);
}
},doLastNodeFocus:function(e){
if(this.tabbingOut){
this._focusifyCellNode(false);
}else{
if(this.grid.rowCount>0){
if(this.isNoFocusCell()){
this.setFocusIndex(0,0);
}
this._focusifyCellNode(true);
}else{
this.focusHeader();
}
}
this.tabbingOut=false;
_5c2.stop(e);
},doLastNodeBlur:function(e){
_5c2.stop(e);
},doColHeaderFocus:function(e){
this._setActiveColHeader(e.target,html.attr(e.target,"idx"),this._colHeadFocusIdx);
this._scrollHeader(this.getHeaderIndex());
_5c2.stop(e);
},doColHeaderBlur:function(e){
html.toggleClass(e.target,this.focusClass,false);
},_mouseDown:function(e){
this._clickFocus=dojo.some(this.grid.views.views,function(v){
return v.scrollboxNode===e.target;
});
},_mouseUp:function(e){
this._clickFocus=false;
}});
});
},"manager/Lookup":function(){
define("manager/Lookup",["dojo/_base/declare"],function(_5f1){
return _5f1("Manager.Lookup",[],{context:null,url:"",handle:null,constructor:function(){
this.obj=this;
},setContext:function(_5f2){
this.context=_5f2;
},start:function(){
this.url=this.context.action+"?__lookupName="+this.context.name;
if(this.context.filter!=""){
var _5f3=this.context.filter.split(",");
for(var i=0;i<_5f3.length;i++){
var id=_5f3[i];
if(id!="none"){
if(field=dijit.byId(id)){
var _5f4=field.get("value");
}else{
field=manager.getElementById(id);
var _5f4=escape(field.value);
}
var _5f5=id;
this.url=this.url+"&"+_5f5+"="+_5f4;
}
}
}
this.handle=dojo.subscribe(this.context.name,this,this.deliver);
if(this.context.autocomplete){
this.autocomplete();
}else{
this.open();
}
},open:function(){
var _5f6=this.context.name;
var _5f7=manager.getWindow(_5f6);
if(!_5f7){
manager.addWindow(_5f6);
}
manager.getWindow(_5f6).setHref(this.url);
manager.getWindow(_5f6).open();
},autocomplete:function(){
var _5f8=new manager.Ajax({url:this.url,response_type:"TEXT",parameters:{name:this.context.name,__ISAJAXCALL:"yes"},callback_function:function(_5f9,_5fa){
var args=_5f9;
var name=_5fa.args.content.name;
var _5fb=eval(name);
_5fb.deliver(name,0,args);
}});
_5f8.call();
},deliver:function(_5fc){
related=this.obj.context.related;
var _5fd=/(.*):([^:]*)/;
var _5fe=related.split(",");
for(var i=0;i<_5fe.length;i++){
var aId=_5fd.exec(_5fe[i])||Array(_5fe[i],_5fe[i]);
var _5ff=(aId[2]?aId[2]:aId[1]);
var _600=_5fc[_5ff];
if(aId[1]!="none"){
var _601=dijit.byId(aId[1]);
if(_601!=null){
if(_601.declaredClass==="Manager.DateTextBox"){
var _602=_600.split("/");
_601.set("value",_602[2]+"-"+_602[1]+"-"+_602[0]);
}else{
_601.set("value",_600);
}
}else{
_601=manager.getElementById(aId[1]);
if(_601!=null){
_601.value=_600;
_601=manager.getElementById(_601.name+"_sel");
if(_601!=null){
_601.value=_600;
}
}
}
}
}
dojo.unsubscribe(this.handle);
manager.getWindow(this.obj.context.name).close();
}});
});
},"dijit/_TimePicker":function(){
define(["dojo/_base/array","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/query","dojo/mouse","dojo/on","./_WidgetBase","./form/_ListMouseMixin"],function(_603,_604,_605,_606,_607,_608,_609,_60a,keys,lang,has,_60b,_60c,on,_60d,_60e){
var _60f=_607("dijit._TimePicker",[_60d,_60e],{baseClass:"dijitTimePicker",clickableIncrement:"T00:15:00",visibleIncrement:"T01:00:00",value:new Date(),_visibleIncrement:2,_clickableIncrement:1,_totalIncrements:10,constraints:{},serialize:_606.toISOString,buildRendering:function(){
this.inherited(arguments);
this.containerNode=this.domNode;
this.timeMenu=this.domNode;
},setValue:function(_610){
_60a.deprecated("dijit._TimePicker:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");
this.set("value",_610);
},_setValueAttr:function(date){
this._set("value",date);
this._showText();
},_setFilterStringAttr:function(val){
this._set("filterString",val);
this._showText();
},isDisabledDate:function(){
return false;
},_getFilteredNodes:function(_611,_612,_613,_614){
var _615=[];
for(var i=0;i<this._maxIncrement;i++){
var n=this._createOption(i);
if(n){
_615.push(n);
}
}
return _615;
},_showText:function(){
var _616=_606.fromISOString;
this.domNode.innerHTML="";
this._clickableIncrementDate=_616(this.clickableIncrement);
this._visibleIncrementDate=_616(this.visibleIncrement);
var _617=function(date){
return date.getHours()*60*60+date.getMinutes()*60+date.getSeconds();
},_618=_617(this._clickableIncrementDate),_619=_617(this._visibleIncrementDate),time=(this.value||this.currentFocus).getTime();
this._refDate=_616("T00:00:00");
this._refDate.setFullYear(1970,0,1);
this._clickableIncrement=1;
this._visibleIncrement=_619/_618;
this._maxIncrement=(60*60*24)/_618;
var _61a=this._getFilteredNodes();
_603.forEach(_61a,function(n){
this.domNode.appendChild(n);
},this);
if(!_61a.length&&this.filterString){
this.filterString="";
this._showText();
}
},constructor:function(){
this.constraints={};
},postMixInProperties:function(){
this.inherited(arguments);
this._setConstraintsAttr(this.constraints);
},_setConstraintsAttr:function(_61b){
for(var key in {clickableIncrement:1,visibleIncrement:1}){
if(key in _61b){
this[key]=_61b[key];
}
}
if(!_61b.locale){
_61b.locale=this.lang;
}
},_createOption:function(_61c){
var date=new Date(this._refDate);
var _61d=this._clickableIncrementDate;
date.setHours(date.getHours()+_61d.getHours()*_61c,date.getMinutes()+_61d.getMinutes()*_61c,date.getSeconds()+_61d.getSeconds()*_61c);
if(this.constraints.selector=="time"){
date.setFullYear(1970,0,1);
}
var _61e=_605.format(date,this.constraints);
if(this.filterString&&_61e.toLowerCase().indexOf(this.filterString)!==0){
return null;
}
var div=this.ownerDocument.createElement("div");
div.className=this.baseClass+"Item";
div.date=date;
div.idx=_61c;
_609.create("div",{"class":this.baseClass+"ItemInner",innerHTML:_61e},div);
if(_61c%this._visibleIncrement<1&&_61c%this._visibleIncrement>-1){
_608.add(div,this.baseClass+"Marker");
}else{
if(!(_61c%this._clickableIncrement)){
_608.add(div,this.baseClass+"Tick");
}
}
if(this.isDisabledDate(date)){
_608.add(div,this.baseClass+"ItemDisabled");
}
if(this.value&&!_604.compare(this.value,date,this.constraints.selector)){
div.selected=true;
_608.add(div,this.baseClass+"ItemSelected");
this._selectedDiv=div;
if(_608.contains(div,this.baseClass+"Marker")){
_608.add(div,this.baseClass+"MarkerSelected");
}else{
_608.add(div,this.baseClass+"TickSelected");
}
this._highlightOption(div,true);
}
return div;
},onOpen:function(){
this.inherited(arguments);
this.set("selected",this._selectedDiv);
},_onOptionSelected:function(tgt){
var _61f=tgt.target.date||tgt.target.parentNode.date;
if(!_61f||this.isDisabledDate(_61f)){
return;
}
this._highlighted_option=null;
this.set("value",_61f);
this.onChange(_61f);
},onChange:function(){
},_highlightOption:function(node,_620){
if(!node){
return;
}
if(_620){
if(this._highlighted_option){
this._highlightOption(this._highlighted_option,false);
}
this._highlighted_option=node;
}else{
if(this._highlighted_option!==node){
return;
}else{
this._highlighted_option=null;
}
}
_608.toggle(node,this.baseClass+"ItemHover",_620);
if(_608.contains(node,this.baseClass+"Marker")){
_608.toggle(node,this.baseClass+"MarkerHover",_620);
}else{
_608.toggle(node,this.baseClass+"TickHover",_620);
}
},handleKey:function(e){
if(e.keyCode==keys.DOWN_ARROW){
this.selectNextNode();
e.stopPropagation();
e.preventDefault();
return false;
}else{
if(e.keyCode==keys.UP_ARROW){
this.selectPreviousNode();
e.stopPropagation();
e.preventDefault();
return false;
}else{
if(e.keyCode==keys.ENTER||e.keyCode===keys.TAB){
if(!this._keyboardSelected&&e.keyCode===keys.TAB){
return true;
}
if(this._highlighted_option){
this._onOptionSelected({target:this._highlighted_option});
}
return e.keyCode===keys.TAB;
}
}
}
return undefined;
},onHover:function(node){
this._highlightOption(node,true);
},onUnhover:function(node){
this._highlightOption(node,false);
},onSelect:function(node){
this._highlightOption(node,true);
},onDeselect:function(node){
this._highlightOption(node,false);
},onClick:function(node){
this._onOptionSelected({target:node});
}});
return _60f;
});
},"manager/Tree":function(){
define("manager/Tree",["dojo/_base/declare","dojo/_base/window","dojo/store/Memory","dijit/tree/ObjectStoreModel","dijit/Tree"],function(_621,_622,_623,_624,Tree){
return _621("Manager.Tree",[Tree],{constructor:function(obj){
this.root=(obj.root?obj.root:"root");
this.store=new _623({data:obj.data,getChildren:function(_625){
return this.query({parent:_625.id});
}});
this.model=new _624({store:this.store,mayHaveChildren:function(item){
return (item.type=="folder");
},query:{id:this.root}});
this.layout=obj.layout;
this.onClick=obj.selectEvent;
this.iconFolderOpened=(obj.iconFolderOpened?obj.iconFolderOpened:"iconFolderOpened");
this.iconFolderClosed=(obj.iconFolderClosed?obj.iconFolderClosed:"iconFolderClosed");
this.iconLeaf=(obj.iconLeaf?obj.iconLeaf:"iconLeaf");
},store:null,model:null,getIconClass:function(item,_626){
var cls=(!item||(item.type=="folder"))?_626?this.iconFolderOpened:this.iconFolderClosed:this.iconLeaf;
return cls+this.layout;
},showRoot:false});
});
},"dojox/widget/Standby":function(){
define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/event","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/window","dojo/_base/window","dojo/_base/fx","dojo/fx","dijit/_Widget","dijit/_TemplatedMixin","dijit/registry"],function(_627,_628,_629,_62a,has,dom,attr,_62b,_62c,_62d,_62e,_62f,_630,fx,_631,_632,_633){
_627.experimental("dojox.widget.Standby");
return _628("dojox.widget.Standby",[_631,_632],{image:require.toUrl("dojox/widget/Standby/images/loading.gif").toString(),imageText:"Please Wait...",text:"Please wait...",centerIndicator:"image",target:"",color:"#C0C0C0",duration:500,zIndex:"auto",opacity:0.75,templateString:"<div>"+"<div style=\"display: none; opacity: 0; z-index: 9999; "+"position: absolute; cursor:wait;\" dojoAttachPoint=\"_underlayNode\"></div>"+"<img src=\"${image}\" style=\"opacity: 0; display: none; z-index: -10000; "+"position: absolute; top: 0px; left: 0px; cursor:wait;\" "+"dojoAttachPoint=\"_imageNode\">"+"<div style=\"opacity: 0; display: none; z-index: -10000; position: absolute; "+"top: 0px;\" dojoAttachPoint=\"_textNode\"></div>"+"</div>",_underlayNode:null,_imageNode:null,_textNode:null,_centerNode:null,_displayed:false,_resizeCheck:null,_started:false,_parent:null,startup:function(args){
if(!this._started){
if(typeof this.target==="string"){
var w=_633.byId(this.target);
this.target=w?w.domNode:dom.byId(this.target);
}
if(this.text){
this._textNode.innerHTML=this.text;
}
if(this.centerIndicator==="image"){
this._centerNode=this._imageNode;
attr.set(this._imageNode,"src",this.image);
attr.set(this._imageNode,"alt",this.imageText);
}else{
this._centerNode=this._textNode;
}
_62d.set(this._underlayNode,{display:"none",backgroundColor:this.color});
_62d.set(this._centerNode,"display","none");
this.connect(this._underlayNode,"onclick","_ignore");
if(this.domNode.parentNode&&this.domNode.parentNode!=_62f.body()){
_62f.body().appendChild(this.domNode);
}
if(has("ie")==7){
this._ieFixNode=_62b.create("div");
_62d.set(this._ieFixNode,{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"});
_62f.body().appendChild(this._ieFixNode);
}
this.inherited(arguments);
}
},show:function(){
if(!this._displayed){
if(this._anim){
this._anim.stop();
delete this._anim;
}
this._displayed=true;
this._size();
this._disableOverflow();
this._fadeIn();
}
},hide:function(){
if(this._displayed){
if(this._anim){
this._anim.stop();
delete this._anim;
}
this._size();
this._fadeOut();
this._displayed=false;
if(this._resizeCheck!==null){
clearInterval(this._resizeCheck);
this._resizeCheck=null;
}
}
},isVisible:function(){
return this._displayed;
},onShow:function(){
},onHide:function(){
},uninitialize:function(){
this._displayed=false;
if(this._resizeCheck){
clearInterval(this._resizeCheck);
}
_62d.set(this._centerNode,"display","none");
_62d.set(this._underlayNode,"display","none");
if(has("ie")==7&&this._ieFixNode){
_62f.body().removeChild(this._ieFixNode);
delete this._ieFixNode;
}
if(this._anim){
this._anim.stop();
delete this._anim;
}
this.target=null;
this._imageNode=null;
this._textNode=null;
this._centerNode=null;
this.inherited(arguments);
},_size:function(){
if(this._displayed){
var dir=attr.get(_62f.body(),"dir");
if(dir){
dir=dir.toLowerCase();
}
var _634;
var _635=this._scrollerWidths();
var _636=this.target;
var _637=_62d.get(this._centerNode,"display");
_62d.set(this._centerNode,"display","block");
var box=_62c.position(_636,true);
if(_636===_62f.body()||_636===_62f.doc){
box=_62e.getBox();
box.x=box.l;
box.y=box.t;
}
var _638=_62c.getMarginBox(this._centerNode);
_62d.set(this._centerNode,"display",_637);
if(this._ieFixNode){
_634=-this._ieFixNode.offsetTop/1000;
box.x=Math.floor((box.x+0.9)/_634);
box.y=Math.floor((box.y+0.9)/_634);
box.w=Math.floor((box.w+0.9)/_634);
box.h=Math.floor((box.h+0.9)/_634);
}
var zi=_62d.get(_636,"zIndex");
var ziUl=zi;
var ziIn=zi;
if(this.zIndex==="auto"){
if(zi!="auto"){
ziUl=parseInt(ziUl,10)+1;
ziIn=parseInt(ziIn,10)+2;
}else{
var _639=_636.parentNode;
var _63a=-100000;
while(_639&&_639!==_62f.body()){
zi=_62d.get(_639,"zIndex");
if(!zi||zi==="auto"){
_639=_639.parentNode;
}else{
var _63b=parseInt(zi,10);
if(_63a<_63b){
_63a=_63b;
ziUl=_63b+1;
ziIn=_63b+2;
}
_639=_639.parentNode;
}
}
}
}else{
ziUl=parseInt(this.zIndex,10)+1;
ziIn=parseInt(this.zIndex,10)+2;
}
_62d.set(this._centerNode,"zIndex",ziIn);
_62d.set(this._underlayNode,"zIndex",ziUl);
var pn=_636.parentNode;
if(pn&&pn!==_62f.body()&&_636!==_62f.body()&&_636!==_62f.doc){
var obh=box.h;
var obw=box.w;
var _63c=_62c.position(pn,true);
if(this._ieFixNode){
_634=-this._ieFixNode.offsetTop/1000;
_63c.x=Math.floor((_63c.x+0.9)/_634);
_63c.y=Math.floor((_63c.y+0.9)/_634);
_63c.w=Math.floor((_63c.w+0.9)/_634);
_63c.h=Math.floor((_63c.h+0.9)/_634);
}
_63c.w-=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_635.v:0;
_63c.h-=pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_635.h:0;
if(dir==="rtl"){
if(has("opera")){
box.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_635.v:0;
_63c.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_635.v:0;
}else{
if(has("ie")){
_63c.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_635.v:0;
}else{
if(has("webkit")){
}
}
}
}
if(_63c.w<box.w){
box.w=box.w-_63c.w;
}
if(_63c.h<box.h){
box.h=box.h-_63c.h;
}
var _63d=_63c.y;
var _63e=_63c.y+_63c.h;
var bTop=box.y;
var _63f=box.y+obh;
var _640=_63c.x;
var _641=_63c.x+_63c.w;
var _642=box.x;
var _643=box.x+obw;
var _644;
if(_63f>_63d&&bTop<_63d){
box.y=_63c.y;
_644=_63d-bTop;
var _645=obh-_644;
if(_645<_63c.h){
box.h=_645;
}else{
box.h-=2*(pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_635.h:0);
}
}else{
if(bTop<_63e&&_63f>_63e){
box.h=_63e-bTop;
}else{
if(_63f<=_63d||bTop>=_63e){
box.h=0;
}
}
}
if(_643>_640&&_642<_640){
box.x=_63c.x;
_644=_640-_642;
var _646=obw-_644;
if(_646<_63c.w){
box.w=_646;
}else{
box.w-=2*(pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_635.w:0);
}
}else{
if(_642<_641&&_643>_641){
box.w=_641-_642;
}else{
if(_643<=_640||_642>=_641){
box.w=0;
}
}
}
}
if(box.h>0&&box.w>0){
_62d.set(this._underlayNode,{display:"block",width:box.w+"px",height:box.h+"px",top:box.y+"px",left:box.x+"px"});
var _647=["borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"];
this._cloneStyles(_647);
if(!has("ie")){
_647=["MozBorderRadius","MozBorderRadiusTopleft","MozBorderRadiusTopright","MozBorderRadiusBottomleft","MozBorderRadiusBottomright","WebkitBorderRadius","WebkitBorderTopLeftRadius","WebkitBorderTopRightRadius","WebkitBorderBottomLeftRadius","WebkitBorderBottomRightRadius"];
this._cloneStyles(_647,this);
}
var _648=(box.h/2)-(_638.h/2);
var _649=(box.w/2)-(_638.w/2);
if(box.h>=_638.h&&box.w>=_638.w){
_62d.set(this._centerNode,{top:(_648+box.y)+"px",left:(_649+box.x)+"px",display:"block"});
}else{
_62d.set(this._centerNode,"display","none");
}
}else{
_62d.set(this._underlayNode,"display","none");
_62d.set(this._centerNode,"display","none");
}
if(this._resizeCheck===null){
var self=this;
this._resizeCheck=setInterval(function(){
self._size();
},100);
}
}
},_cloneStyles:function(list){
_629.forEach(list,function(s){
_62d.set(this._underlayNode,s,_62d.get(this.target,s));
},this);
},_fadeIn:function(){
var self=this;
var _64a=_630.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:0,end:self.opacity}}});
var _64b=_630.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:0,end:1}},onEnd:function(){
self.onShow();
delete self._anim;
}});
this._anim=fx.combine([_64a,_64b]);
this._anim.play();
},_fadeOut:function(){
var self=this;
var _64c=_630.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:self.opacity,end:0}},onEnd:function(){
_62d.set(this.node,{"display":"none","zIndex":"-1000"});
}});
var _64d=_630.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:1,end:0}},onEnd:function(){
_62d.set(this.node,{"display":"none","zIndex":"-1000"});
self.onHide();
self._enableOverflow();
delete self._anim;
}});
this._anim=fx.combine([_64c,_64d]);
this._anim.play();
},_ignore:function(e){
if(e){
_62a.stop(e);
}
},_scrollerWidths:function(){
var div=_62b.create("div");
_62d.set(div,{position:"absolute",opacity:0,overflow:"hidden",width:"50px",height:"50px",zIndex:"-100",top:"-200px",padding:"0px",margin:"0px"});
var iDiv=_62b.create("div");
_62d.set(iDiv,{width:"200px",height:"10px"});
div.appendChild(iDiv);
_62f.body().appendChild(div);
var b=_62c.getContentBox(div);
_62d.set(div,"overflow","scroll");
var a=_62c.getContentBox(div);
_62f.body().removeChild(div);
return {v:b.w-a.w,h:b.h-a.h};
},_setTextAttr:function(text){
this._textNode.innerHTML=text;
this.text=text;
},_setColorAttr:function(c){
_62d.set(this._underlayNode,"backgroundColor",c);
this.color=c;
},_setImageTextAttr:function(text){
attr.set(this._imageNode,"alt",text);
this.imageText=text;
},_setImageAttr:function(url){
attr.set(this._imageNode,"src",url);
this.image=url;
},_setCenterIndicatorAttr:function(_64e){
this.centerIndicator=_64e;
if(_64e==="image"){
this._centerNode=this._imageNode;
_62d.set(this._textNode,"display","none");
}else{
this._centerNode=this._textNode;
_62d.set(this._imageNode,"display","none");
}
},_disableOverflow:function(){
if(this.target===_62f.body()||this.target===_62f.doc){
this._overflowDisabled=true;
var body=_62f.body();
if(body.style&&body.style.overflow){
this._oldOverflow=_62d.get(body,"overflow");
}else{
this._oldOverflow="";
}
if(has("ie")&&!has("quirks")){
if(body.parentNode&&body.parentNode.style&&body.parentNode.style.overflow){
this._oldBodyParentOverflow=body.parentNode.style.overflow;
}else{
try{
this._oldBodyParentOverflow=_62d.get(body.parentNode,"overflow");
}
catch(e){
this._oldBodyParentOverflow="scroll";
}
}
_62d.set(body.parentNode,"overflow","hidden");
}
_62d.set(body,"overflow","hidden");
}
},_enableOverflow:function(){
if(this._overflowDisabled){
delete this._overflowDisabled;
var body=_62f.body();
if(has("ie")&&!has("quirks")){
body.parentNode.style.overflow=this._oldBodyParentOverflow;
delete this._oldBodyParentOverflow;
}
_62d.set(body,"overflow",this._oldOverflow);
if(has("webkit")){
var div=_62b.create("div",{style:{height:"2px"}});
body.appendChild(div);
setTimeout(function(){
body.removeChild(div);
},0);
}
delete this._oldOverflow;
}
}});
});
},"dgrid/extensions/Pagination":function(){
define(["../_StoreMixin","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","dojo/query","dojo/string","dojo/has","put-selector/put","dojo/i18n!./nls/pagination","dojo/_base/sniff","xstyle/css!../css/extensions/Pagination.css"],function(_64f,_650,lang,_651,on,_652,_653,has,put,i18n){
function _654(grid){
if(grid.noDataNode){
put(grid.noDataNode,"!");
delete grid.noDataNode;
}else{
grid.cleanup();
}
grid.contentNode.innerHTML="";
};
function _655(grid){
if(grid.loadingNode){
put(grid.loadingNode,"!");
delete grid.loadingNode;
}else{
if(grid._oldPageNodes){
for(var id in grid._oldPageNodes){
grid.removeRow(grid._oldPageNodes[id]);
}
delete grid._oldPageNodes;
if(grid._oldPageObserver){
grid._oldPageObserver.cancel();
delete grid._oldPageObserver;
}
}
}
delete grid._isLoading;
};
return _650(_64f,{rowsPerPage:10,pagingTextBox:false,previousNextArrows:true,firstLastArrows:false,pagingLinks:2,pageSizeOptions:[],showLoadingMessage:true,i18nPagination:i18n,showFooter:true,_currentPage:1,_total:0,buildRendering:function(){
this.inherited(arguments);
var grid=this,_656=this.paginationNode=put(this.footerNode,"div.dgrid-pagination"),_657=this.paginationStatusNode=put(_656,"div.dgrid-status"),_658=this.pageSizeOptions,i18n=this.i18nPagination,_659,node;
_657.tabIndex=0;
if(_658.length){
var _65a=put(_656,"select.dgrid-page-size"),i;
for(i=0;i<_658.length;i++){
put(_65a,"option",_658[i],{value:_658[i],selected:this.rowsPerPage===_658[i]});
}
this._listeners.push(on(_65a,"change",function(){
grid.rowsPerPage=+_65a.value;
grid.gotoPage(1);
}));
}
_657.innerHTML=_653.substitute(i18n.status,{start:1,end:1,total:0});
_659=this.paginationNavigationNode=put(_656,"div.dgrid-navigation");
if(this.firstLastArrows){
node=this.paginationFirstNode=put(_659,"span.dgrid-first.dgrid-page-link","«");
node.setAttribute("aria-label",i18n.gotoFirst);
node.tabIndex=0;
}
if(this.previousNextArrows){
node=this.paginationPreviousNode=put(_659,"span.dgrid-previous.dgrid-page-link","‹");
node.setAttribute("aria-label",i18n.gotoPrev);
node.tabIndex=0;
}
this.paginationLinksNode=put(_659,"span.dgrid-pagination-links");
if(this.previousNextArrows){
node=this.paginationNextNode=put(_659,"span.dgrid-next.dgrid-page-link","›");
node.setAttribute("aria-label",i18n.gotoNext);
node.tabIndex=0;
}
if(this.firstLastArrows){
node=this.paginationLastNode=put(_659,"span.dgrid-last.dgrid-page-link","»");
node.setAttribute("aria-label",i18n.gotoLast);
node.tabIndex=0;
}
this._listeners.push(on(_659,".dgrid-page-link:click,.dgrid-page-link:keydown",function(_65b){
if(_65b.type==="keydown"&&_65b.keyCode!==13){
return;
}
var cls=this.className,curr,max;
if(grid._isLoading||cls.indexOf("dgrid-page-disabled")>-1){
return;
}
curr=grid._currentPage;
max=Math.ceil(grid._total/grid.rowsPerPage);
if(this===grid.paginationPreviousNode){
grid.gotoPage(curr-1);
}else{
if(this===grid.paginationNextNode){
grid.gotoPage(curr+1);
}else{
if(this===grid.paginationFirstNode){
grid.gotoPage(1);
}else{
if(this===grid.paginationLastNode){
grid.gotoPage(max);
}else{
if(cls==="dgrid-page-link"){
grid.gotoPage(+this.innerHTML,true);
}
}
}
}
}
}));
},destroy:function(){
this.inherited(arguments);
if(this._pagingTextBoxHandle){
this._pagingTextBoxHandle.remove();
}
},_updateNavigation:function(_65c){
var grid=this,i18n=this.i18nPagination,_65d=this.paginationLinksNode,_65e=this._currentPage,_65f=this.pagingLinks,_660=this.paginationNavigationNode,end=Math.ceil(this._total/this.rowsPerPage),_661=this._pagingTextBoxHandle;
function _662(page){
var link;
if(grid.pagingTextBox&&page==_65e&&end>1){
link=put(_65d,"input.dgrid-page-input[type=text][value=$]",_65e);
link.setAttribute("aria-label",i18n.jumpPage);
grid._pagingTextBoxHandle=on(link,"change",function(){
var _663=+this.value;
if(!isNaN(_663)&&_663>0&&_663<=end){
grid.gotoPage(+this.value,true);
}
});
}else{
link=put(_65d,"span"+(page==_65e?".dgrid-page-disabled":"")+".dgrid-page-link",page);
link.setAttribute("aria-label",i18n.gotoPage);
link.tabIndex=0;
}
if(page==_65e&&_65c){
link.focus();
}
};
if(_661){
_661.remove();
}
_65d.innerHTML="";
_652(".dgrid-first, .dgrid-previous",_660).forEach(function(link){
put(link,(_65e==1?".":"!")+"dgrid-page-disabled");
});
_652(".dgrid-last, .dgrid-next",_660).forEach(function(link){
put(link,(_65e>=end?".":"!")+"dgrid-page-disabled");
});
if(_65f&&end>0){
_662(1);
var _664=_65e-_65f;
if(_664>2){
put(_65d,"span.dgrid-page-skip","...");
}else{
_664=2;
}
for(var i=_664;i<Math.min(_65e+_65f+1,end);i++){
_662(i);
}
if(_65e+_65f+1<end){
put(_65d,"span.dgrid-page-skip","...");
}
if(end>1){
_662(end);
}
}else{
if(grid.pagingTextBox){
_662(_65e);
}
}
},refresh:function(){
var self=this;
this.inherited(arguments);
if(!this.store){
console.warn("Pagination requires a store to operate.");
return;
}
return this.gotoPage(1).then(function(_665){
setTimeout(function(){
on.emit(self.domNode,"dgrid-refresh-complete",{bubbles:true,cancelable:false,grid:self,results:_665});
},0);
return _665;
});
},_onNotification:function(rows){
if(rows.length!==this._rowsOnPage){
this.gotoPage(this._currentPage);
}
},renderArray:function(){
var rows=this.inherited(arguments);
this._lastCollection=null;
return rows;
},insertRow:function(){
var _666=this._oldPageNodes,row=this.inherited(arguments);
if(_666&&row===_666[row.id]){
delete _666[row.id];
}
return row;
},gotoPage:function(page,_667){
var grid=this,dfd=new _651();
var _668=this._trackError(function(){
var _669=grid.rowsPerPage,_66a=(page-1)*_669,_66b=lang.mixin(grid.get("queryOptions"),{start:_66a,count:_669}),_66c,_66d=grid.contentNode,_66e,_66f,_670,i,len;
if(grid.showLoadingMessage){
_654(grid);
_66e=grid.loadingNode=put(_66d,"div.dgrid-loading");
_66e.innerHTML=grid.loadingMessage;
}else{
grid._oldPageNodes=_66f={};
_670=_66d.children;
for(i=0,len=_670.length;i<len;i++){
_66f[_670[i].id]=_670[i];
}
grid._oldPageObserver=grid.observers.pop();
}
grid._isLoading=true;
_66c=grid.store.query(grid.query,_66b);
_651.when(grid.renderArray(_66c,null,_66b),function(rows){
_655(grid);
grid.scrollTo({y:0});
_651.when(_66c.total,function(_671){
if(!_671){
if(grid.noDataNode){
put(grid.noDataNode,"!");
delete grid.noDataNode;
}
grid.noDataNode=put(grid.contentNode,"div.dgrid-no-data");
grid.noDataNode.innerHTML=grid.noDataMessage;
}
grid.paginationStatusNode.innerHTML=_653.substitute(grid.i18nPagination.status,{start:Math.min(_66a+1,_671),end:Math.min(_671,_66a+_669),total:_671});
grid._total=_671;
grid._currentPage=page;
grid._rowsOnPage=rows.length;
grid._updateNavigation(_667);
});
if(has("ie")<7||(has("ie")&&has("quirks"))){
grid.resize();
}
dfd.resolve(_66c);
},function(_672){
_655(grid);
dfd.reject(_672);
});
return dfd.promise;
});
if(!_668){
dfd.reject();
}
return dfd.promise;
}});
});
},"manager/Form":function(){
define("manager/Form",["dojo/_base/declare"],function(_673){
return _673("Manager.Form",[],{id:null,onLoad:new Function(),onSubmit:new Function(),validators:null,connections:null,constructor:function(id){
this.id=id;
this.connections=[];
},setFocus:function(_674){
if(_674==""){
var _675=null;
var f=manager.getElementById(this.id);
var _676=f.getElementsByTagName("input");
if(_676.length==0){
var _676=f.getElementsByTagName("select");
if(_676.length>0){
_675=_676[0];
}
}else{
_675=_676[0];
}
}else{
var _675=manager.getElementById(_674);
}
if(_675!=null){
_675.focus();
}
},getInputs:function(){
var _677=new Object();
var f=manager.getElementById(this.id);
var _678=f.getElementsByTagName("input");
for(var i=0,_679=_678.length;i<_679;i++){
var _67a=_678[i];
if((_67a.type=="text")||(_67a.type=="hidden")){
if(_677[_67a.name]){
_677[_67a.name]+="&"+_67a.value;
}else{
_677[_67a.name]=_67a.value;
}
}
if(_67a.type=="checkbox"){
if(_67a.checked){
_677[_67a.name]=(_67a.value==""?"on":_67a.value);
}
}
if(_67a.type=="radio"){
if(_67a.checked){
_677[_67a.name]=_67a.value;
}
}
}
var _678=f.getElementsByTagName("select");
for(var i=0,_679=_678.length;i<_679;i++){
var _67a=_678[i];
_677[_67a.name]=_67a.options[_67a.selectedIndex].value;
}
return _677;
},getForm:function(){
return manager.getElementById("frm_"+this.id);
},setAction:function(url){
manager.getElementById("frm_"+this.id).action=url;
},getAction:function(){
return manager.getElementById("frm_"+this.id).action;
},init:function(){
this.validators=null;
},submit:function(){
return manager.getElementById("frm_"+this.id).submit();
},connect:function(_67b,_67c,_67d){
var node=dojo.byId(_67b);
if(!node){
return;
}
this.connections.push(dojo.connect(node,_67c,_67d));
},disconnect:function(){
dojo.forEach(this.connections,dojo.disconnect);
this.connections.length=0;
}});
});
},"dojo/dnd/Avatar":function(){
define(["../_base/declare","../_base/window","../dom","../dom-attr","../dom-class","../dom-construct","../hccss","../query"],function(_67e,win,dom,_67f,_680,_681,has,_682){
return _67e("dojo.dnd.Avatar",null,{constructor:function(_683){
this.manager=_683;
this.construct();
},construct:function(){
var a=_681.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_684=this.manager.source,node,b=_681.create("tbody",null,a),tr=_681.create("tr",null,b),td=_681.create("td",null,tr),k=Math.min(5,this.manager.nodes.length),i=0;
if(has("highcontrast")){
_681.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},td);
}
_681.create("span",{innerHTML:_684.generateText?this._generateText():""},td);
_67f.set(tr,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});
for(;i<k;++i){
if(_684.creator){
node=_684._normalizedCreator(_684.getItem(this.manager.nodes[i].id).data,"avatar").node;
}else{
node=this.manager.nodes[i].cloneNode(true);
if(node.tagName.toLowerCase()=="tr"){
var _685=_681.create("table"),_686=_681.create("tbody",null,_685);
_686.appendChild(node);
node=_685;
}
}
node.id="";
tr=_681.create("tr",null,b);
td=_681.create("td",null,tr);
td.appendChild(node);
_67f.set(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});
}
this.node=a;
},destroy:function(){
_681.destroy(this.node);
this.node=false;
},update:function(){
_680.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);
if(has("highcontrast")){
var icon=dom.byId("a11yIcon");
var text="+";
if(this.manager.canDropFlag&&!this.manager.copy){
text="< ";
}else{
if(!this.manager.canDropFlag&&!this.manager.copy){
text="o";
}else{
if(!this.manager.canDropFlag){
text="x";
}
}
}
icon.innerHTML=text;
}
_682(("tr.dojoDndAvatarHeader td span"+(has("highcontrast")?" span":"")),this.node).forEach(function(node){
node.innerHTML=this.manager.source.generateText?this._generateText():"";
},this);
},_generateText:function(){
return this.manager.nodes.length.toString();
}});
});
},"dojo/string":function(){
define(["./_base/kernel","./_base/lang"],function(_687,lang){
var _688={};
lang.setObject("dojo.string",_688);
_688.rep=function(str,num){
if(num<=0||!str){
return "";
}
var buf=[];
for(;;){
if(num&1){
buf.push(str);
}
if(!(num>>=1)){
break;
}
str+=str;
}
return buf.join("");
};
_688.pad=function(text,size,ch,end){
if(!ch){
ch="0";
}
var out=String(text),pad=_688.rep(ch,Math.ceil((size-out.length)/ch.length));
return end?out+pad:pad+out;
};
_688.substitute=function(_689,map,_68a,_68b){
_68b=_68b||_687.global;
_68a=_68a?lang.hitch(_68b,_68a):function(v){
return v;
};
return _689.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_68c,key,_68d){
var _68e=lang.getObject(key,false,map);
if(_68d){
_68e=lang.getObject(_68d,false,_68b).call(_68b,_68e,key);
}
return _68a(_68e,key).toString();
});
};
_688.trim=String.prototype.trim?lang.trim:function(str){
str=str.replace(/^\s+/,"");
for(var i=str.length-1;i>=0;i--){
if(/\S/.test(str.charAt(i))){
str=str.substring(0,i+1);
break;
}
}
return str;
};
return _688;
});
},"dijit/_Contained":function(){
define(["dojo/_base/declare","./registry"],function(_68f,_690){
return _68f("dijit._Contained",null,{_getSibling:function(_691){
var node=this.domNode;
do{
node=node[_691+"Sibling"];
}while(node&&node.nodeType!=1);
return node&&_690.byNode(node);
},getPreviousSibling:function(){
return this._getSibling("previous");
},getNextSibling:function(){
return this._getSibling("next");
},getIndexInParent:function(){
var p=this.getParent();
if(!p||!p.getIndexOfChild){
return -1;
}
return p.getIndexOfChild(this);
}});
});
},"dojox/grid/_Builder":function(){
define(["../main","dojo/_base/array","dojo/_base/lang","dojo/_base/window","dojo/_base/event","dojo/_base/sniff","dojo/_base/connect","dojo/dnd/Moveable","dojox/html/metrics","./util","dojo/_base/html","dojo/dom-geometry"],function(_692,_693,lang,win,_694,has,_695,_696,_697,util,html,_698){
var dg=_692.grid;
var _699=function(td){
return td.cellIndex>=0?td.cellIndex:_693.indexOf(td.parentNode.cells,td);
};
var _69a=function(tr){
return tr.rowIndex>=0?tr.rowIndex:_693.indexOf(tr.parentNode.childNodes,tr);
};
var _69b=function(_69c,_69d){
return _69c&&((_69c.rows||0)[_69d]||_69c.childNodes[_69d]);
};
var _69e=function(node){
for(var n=node;n&&n.tagName!="TABLE";n=n.parentNode){
}
return n;
};
var _69f=function(_6a0,_6a1){
for(var n=_6a0;n&&_6a1(n);n=n.parentNode){
}
return n;
};
var _6a2=function(_6a3){
var name=_6a3.toUpperCase();
return function(node){
return node.tagName!=name;
};
};
var _6a4=util.rowIndexTag;
var _6a5=util.gridViewTag;
var _6a6=dg._Builder=lang.extend(function(view){
if(view){
this.view=view;
this.grid=view.grid;
}
},{view:null,_table:"<table class=\"dojoxGridRowTable\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"",getTableArray:function(){
var html=[this._table];
if(this.view.viewWidth){
html.push([" style=\"width:",this.view.viewWidth,";\""].join(""));
}
html.push(">");
return html;
},generateCellMarkup:function(_6a7,_6a8,_6a9,_6aa){
var _6ab=[],html;
if(_6aa){
var _6ac=_6a7.index!=_6a7.grid.getSortIndex()?"":_6a7.grid.sortInfo>0?"aria-sort=\"ascending\"":"aria-sort=\"descending\"";
if(!_6a7.id){
_6a7.id=this.grid.id+"Hdr"+_6a7.index;
}
html=["<th tabIndex=\"-1\" aria-readonly=\"true\" role=\"columnheader\"",_6ac," id=\"",_6a7.id,"\""];
}else{
var _6ad=this.grid.editable&&!_6a7.editable?"aria-readonly=\"true\"":"";
html=["<td tabIndex=\"-1\" role=\"gridcell\"",_6ad];
}
if(_6a7.colSpan){
html.push(" colspan=\"",_6a7.colSpan,"\"");
}
if(_6a7.rowSpan){
html.push(" rowspan=\"",_6a7.rowSpan,"\"");
}
html.push(" class=\"dojoxGridCell ");
if(_6a7.classes){
html.push(_6a7.classes," ");
}
if(_6a9){
html.push(_6a9," ");
}
_6ab.push(html.join(""));
_6ab.push("");
html=["\" idx=\"",_6a7.index,"\" style=\""];
if(_6a8&&_6a8[_6a8.length-1]!=";"){
_6a8+=";";
}
html.push(_6a7.styles,_6a8||"",_6a7.hidden?"display:none;":"");
if(_6a7.unitWidth){
html.push("width:",_6a7.unitWidth,";");
}
_6ab.push(html.join(""));
_6ab.push("");
html=["\""];
if(_6a7.attrs){
html.push(" ",_6a7.attrs);
}
html.push(">");
_6ab.push(html.join(""));
_6ab.push("");
_6ab.push(_6aa?"</th>":"</td>");
return _6ab;
},isCellNode:function(_6ae){
return Boolean(_6ae&&_6ae!=win.doc&&html.attr(_6ae,"idx"));
},getCellNodeIndex:function(_6af){
return _6af?Number(html.attr(_6af,"idx")):-1;
},getCellNode:function(_6b0,_6b1){
for(var i=0,row;((row=_69b(_6b0.firstChild,i))&&row.cells);i++){
for(var j=0,cell;(cell=row.cells[j]);j++){
if(this.getCellNodeIndex(cell)==_6b1){
return cell;
}
}
}
return null;
},findCellTarget:function(_6b2,_6b3){
var n=_6b2;
while(n&&(!this.isCellNode(n)||(n.offsetParent&&_6a5 in n.offsetParent.parentNode&&n.offsetParent.parentNode[_6a5]!=this.view.id))&&(n!=_6b3)){
n=n.parentNode;
}
return n!=_6b3?n:null;
},baseDecorateEvent:function(e){
e.dispatch="do"+e.type;
e.grid=this.grid;
e.sourceView=this.view;
e.cellNode=this.findCellTarget(e.target,e.rowNode);
e.cellIndex=this.getCellNodeIndex(e.cellNode);
e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);
},findTarget:function(_6b4,_6b5){
var n=_6b4;
while(n&&(n!=this.domNode)&&(!(_6b5 in n)||(_6a5 in n&&n[_6a5]!=this.view.id))){
n=n.parentNode;
}
return (n!=this.domNode)?n:null;
},findRowTarget:function(_6b6){
return this.findTarget(_6b6,_6a4);
},isIntraNodeEvent:function(e){
try{
return (e.cellNode&&e.relatedTarget&&html.isDescendant(e.relatedTarget,e.cellNode));
}
catch(x){
return false;
}
},isIntraRowEvent:function(e){
try{
var row=e.relatedTarget&&this.findRowTarget(e.relatedTarget);
return !row&&(e.rowIndex==-1)||row&&(e.rowIndex==row.gridRowIndex);
}
catch(x){
return false;
}
},dispatchEvent:function(e){
if(e.dispatch in this){
return this[e.dispatch](e);
}
return false;
},domouseover:function(e){
if(e.cellNode&&(e.cellNode!=this.lastOverCellNode)){
this.lastOverCellNode=e.cellNode;
this.grid.onMouseOver(e);
}
this.grid.onMouseOverRow(e);
},domouseout:function(e){
if(e.cellNode&&(e.cellNode==this.lastOverCellNode)&&!this.isIntraNodeEvent(e,this.lastOverCellNode)){
this.lastOverCellNode=null;
this.grid.onMouseOut(e);
if(!this.isIntraRowEvent(e)){
this.grid.onMouseOutRow(e);
}
}
},domousedown:function(e){
if(e.cellNode){
this.grid.onMouseDown(e);
}
this.grid.onMouseDownRow(e);
},_getTextDirStyle:function(_6b7,_6b8,_6b9){
return "";
}});
var _6ba=dg._ContentBuilder=lang.extend(function(view){
_6a6.call(this,view);
},_6a6.prototype,{update:function(){
this.prepareHtml();
},prepareHtml:function(){
var _6bb=this.grid.get,_6bc=this.view.structure.cells;
for(var j=0,row;(row=_6bc[j]);j++){
for(var i=0,cell;(cell=row[i]);i++){
cell.get=cell.get||(cell.value==undefined)&&_6bb;
cell.markup=this.generateCellMarkup(cell,cell.cellStyles,cell.cellClasses,false);
if(!this.grid.editable&&cell.editable){
this.grid.editable=true;
}
}
}
},generateHtml:function(_6bd,_6be){
var html=this.getTableArray(),v=this.view,dir,_6bf=v.structure.cells,item=this.grid.getItem(_6be);
util.fire(this.view,"onBeforeRow",[_6be,_6bf]);
for(var j=0,row;(row=_6bf[j]);j++){
if(row.hidden||row.header){
continue;
}
html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");
for(var i=0,cell,m,cc,cs;(cell=row[i]);i++){
m=cell.markup;
cc=cell.customClasses=[];
cs=cell.customStyles=[];
m[5]=cell.format(_6be,item);
m[1]=cc.join(" ");
m[3]=cs.join(";");
dir=cell.textDir||this.grid.textDir;
if(dir){
m[3]+=this._getTextDirStyle(dir,cell,_6be);
}
html.push.apply(html,m);
}
html.push("</tr>");
}
html.push("</table>");
return html.join("");
},decorateEvent:function(e){
e.rowNode=this.findRowTarget(e.target);
if(!e.rowNode){
return false;
}
e.rowIndex=e.rowNode[_6a4];
this.baseDecorateEvent(e);
e.cell=this.grid.getCell(e.cellIndex);
return true;
}});
var _6c0=dg._HeaderBuilder=lang.extend(function(view){
this.moveable=null;
_6a6.call(this,view);
},_6a6.prototype,{_skipBogusClicks:false,overResizeWidth:4,minColWidth:1,update:function(){
if(this.tableMap){
this.tableMap.mapRows(this.view.structure.cells);
}else{
this.tableMap=new dg._TableMap(this.view.structure.cells);
}
},generateHtml:function(_6c1,_6c2){
var dir,html=this.getTableArray(),_6c3=this.view.structure.cells;
util.fire(this.view,"onBeforeRow",[-1,_6c3]);
for(var j=0,row;(row=_6c3[j]);j++){
if(row.hidden){
continue;
}
html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGridInvisible\">");
for(var i=0,cell,_6c4;(cell=row[i]);i++){
cell.customClasses=[];
cell.customStyles=[];
if(this.view.simpleStructure){
if(cell.draggable){
if(cell.headerClasses){
if(cell.headerClasses.indexOf("dojoDndItem")==-1){
cell.headerClasses+=" dojoDndItem";
}
}else{
cell.headerClasses="dojoDndItem";
}
}
if(cell.attrs){
if(cell.attrs.indexOf("dndType='gridColumn_")==-1){
cell.attrs+=" dndType='gridColumn_"+this.grid.id+"'";
}
}else{
cell.attrs="dndType='gridColumn_"+this.grid.id+"'";
}
}
_6c4=this.generateCellMarkup(cell,cell.headerStyles,cell.headerClasses,true);
_6c4[5]=(_6c2!=undefined?_6c2:_6c1(cell));
_6c4[3]=cell.customStyles.join(";");
dir=cell.textDir||this.grid.textDir;
if(dir){
_6c4[3]+=this._getTextDirStyle(dir,cell,_6c2);
}
_6c4[1]=cell.customClasses.join(" ");
html.push(_6c4.join(""));
}
html.push("</tr>");
}
html.push("</table>");
return html.join("");
},getCellX:function(e){
var n,x,pos;
n=_69f(e.target,_6a2("th"));
if(n){
pos=_698.position(n);
x=e.clientX-pos.x;
}else{
x=e.layerX;
}
return x;
},decorateEvent:function(e){
this.baseDecorateEvent(e);
e.rowIndex=-1;
e.cellX=this.getCellX(e);
return true;
},prepareResize:function(e,mod){
do{
var i=e.cellIndex;
e.cellNode=(i?e.cellNode.parentNode.cells[i+mod]:null);
e.cellIndex=(e.cellNode?this.getCellNodeIndex(e.cellNode):-1);
}while(e.cellNode&&e.cellNode.style.display=="none");
return Boolean(e.cellNode);
},canResize:function(e){
if(!e.cellNode||e.cellNode.colSpan>1){
return false;
}
var cell=this.grid.getCell(e.cellIndex);
return !cell.noresize&&cell.canResize();
},overLeftResizeArea:function(e){
if(html.hasClass(win.body(),"dojoDndMove")){
return false;
}
if(has("ie")){
var tN=e.target;
if(html.hasClass(tN,"dojoxGridArrowButtonNode")||html.hasClass(tN,"dojoxGridArrowButtonChar")||html.hasClass(tN,"dojoxGridColCaption")){
return false;
}
}
if(this.grid.isLeftToRight()){
return (e.cellIndex>0)&&(e.cellX>0&&e.cellX<this.overResizeWidth)&&this.prepareResize(e,-1);
}
var t=e.cellNode&&(e.cellX>0&&e.cellX<this.overResizeWidth);
return t;
},overRightResizeArea:function(e){
if(html.hasClass(win.body(),"dojoDndMove")){
return false;
}
if(has("ie")){
var tN=e.target;
if(html.hasClass(tN,"dojoxGridArrowButtonNode")||html.hasClass(tN,"dojoxGridArrowButtonChar")||html.hasClass(tN,"dojoxGridColCaption")){
return false;
}
}
if(this.grid.isLeftToRight()){
return e.cellNode&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth);
}
return (e.cellIndex>0)&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth)&&this.prepareResize(e,-1);
},domousemove:function(e){
if(!this.moveable){
var c=(this.overRightResizeArea(e)?"dojoxGridColResize":(this.overLeftResizeArea(e)?"dojoxGridColResize":""));
if(c&&!this.canResize(e)){
c="dojoxGridColNoResize";
}
html.toggleClass(e.sourceView.headerNode,"dojoxGridColNoResize",(c=="dojoxGridColNoResize"));
html.toggleClass(e.sourceView.headerNode,"dojoxGridColResize",(c=="dojoxGridColResize"));
if(c){
_694.stop(e);
}
}
},domousedown:function(e){
if(!this.moveable){
if((this.overRightResizeArea(e)||this.overLeftResizeArea(e))&&this.canResize(e)){
this.beginColumnResize(e);
}else{
this.grid.onMouseDown(e);
this.grid.onMouseOverRow(e);
}
}
},doclick:function(e){
if(this._skipBogusClicks){
_694.stop(e);
return true;
}
return false;
},colResizeSetup:function(e,_6c5){
var _6c6=html.contentBox(e.sourceView.headerNode);
if(_6c5){
this.lineDiv=document.createElement("div");
var vw=html.position(e.sourceView.headerNode,true);
var _6c7=html.contentBox(e.sourceView.domNode);
var l=e.pageX;
if(!this.grid.isLeftToRight()&&has("ie")<8){
l-=_697.getScrollbar().w;
}
html.style(this.lineDiv,{top:vw.y+"px",left:l+"px",height:(_6c7.h+_6c6.h)+"px"});
html.addClass(this.lineDiv,"dojoxGridResizeColLine");
this.lineDiv._origLeft=l;
win.body().appendChild(this.lineDiv);
}
var _6c8=[],_6c9=this.tableMap.findOverlappingNodes(e.cellNode);
for(var i=0,cell;(cell=_6c9[i]);i++){
_6c8.push({node:cell,index:this.getCellNodeIndex(cell),width:cell.offsetWidth});
}
var view=e.sourceView;
var adj=this.grid.isLeftToRight()?1:-1;
var _6ca=e.grid.views.views;
var _6cb=[];
for(var j=view.idx+adj,_6cc;(_6cc=_6ca[j]);j=j+adj){
_6cb.push({node:_6cc.headerNode,left:window.parseInt(_6cc.headerNode.style.left)});
}
var _6cd=view.headerContentNode.firstChild;
var drag={scrollLeft:e.sourceView.headerNode.scrollLeft,view:view,node:e.cellNode,index:e.cellIndex,w:html.contentBox(e.cellNode).w,vw:_6c6.w,table:_6cd,tw:html.contentBox(_6cd).w,spanners:_6c8,followers:_6cb};
return drag;
},beginColumnResize:function(e){
this.moverDiv=document.createElement("div");
html.style(this.moverDiv,{position:"absolute",left:0});
win.body().appendChild(this.moverDiv);
html.addClass(this.grid.domNode,"dojoxGridColumnResizing");
var m=(this.moveable=new _696(this.moverDiv));
var drag=this.colResizeSetup(e,true);
m.onMove=lang.hitch(this,"doResizeColumn",drag);
_695.connect(m,"onMoveStop",lang.hitch(this,function(){
this.endResizeColumn(drag);
if(drag.node.releaseCapture){
drag.node.releaseCapture();
}
this.moveable.destroy();
delete this.moveable;
this.moveable=null;
html.removeClass(this.grid.domNode,"dojoxGridColumnResizing");
}));
if(e.cellNode.setCapture){
e.cellNode.setCapture();
}
m.onMouseDown(e);
},doResizeColumn:function(_6ce,_6cf,_6d0){
var _6d1=_6d0.l;
var data={deltaX:_6d1,w:_6ce.w+(this.grid.isLeftToRight()?_6d1:-_6d1),vw:_6ce.vw+_6d1,tw:_6ce.tw+_6d1};
this.dragRecord={inDrag:_6ce,mover:_6cf,leftTop:_6d0};
if(data.w>=this.minColWidth){
if(!_6cf){
this.doResizeNow(_6ce,data);
}else{
html.style(this.lineDiv,"left",(this.lineDiv._origLeft+data.deltaX)+"px");
}
}
},endResizeColumn:function(_6d2){
if(this.dragRecord){
var _6d3=this.dragRecord.leftTop;
var _6d4=this.grid.isLeftToRight()?_6d3.l:-_6d3.l;
_6d4+=Math.max(_6d2.w+_6d4,this.minColWidth)-(_6d2.w+_6d4);
if(has("webkit")&&_6d2.spanners.length){
_6d4+=html._getPadBorderExtents(_6d2.spanners[0].node).w;
}
var data={deltaX:_6d4,w:_6d2.w+_6d4,vw:_6d2.vw+_6d4,tw:_6d2.tw+_6d4};
this.doResizeNow(_6d2,data);
delete this.dragRecord;
}
html.destroy(this.lineDiv);
html.destroy(this.moverDiv);
html.destroy(this.moverDiv);
delete this.moverDiv;
this._skipBogusClicks=true;
_6d2.view.update();
this._skipBogusClicks=false;
this.grid.onResizeColumn(_6d2.index);
},doResizeNow:function(_6d5,data){
_6d5.view.convertColPctToFixed();
if(_6d5.view.flexCells&&!_6d5.view.testFlexCells()){
var t=_69e(_6d5.node);
if(t){
(t.style.width="");
}
}
var i,s,sw,f,fl;
for(i=0;(s=_6d5.spanners[i]);i++){
sw=s.width+data.deltaX;
if(sw>0){
s.node.style.width=sw+"px";
_6d5.view.setColWidth(s.index,sw);
}
}
if(this.grid.isLeftToRight()||!has("ie")){
for(i=0;(f=_6d5.followers[i]);i++){
fl=f.left+data.deltaX;
f.node.style.left=fl+"px";
}
}
_6d5.node.style.width=data.w+"px";
_6d5.view.setColWidth(_6d5.index,data.w);
_6d5.view.headerNode.style.width=data.vw+"px";
_6d5.view.setColumnsWidth(data.tw);
if(!this.grid.isLeftToRight()){
_6d5.view.headerNode.scrollLeft=_6d5.scrollLeft+data.deltaX;
}
}});
dg._TableMap=lang.extend(function(rows){
this.mapRows(rows);
},{map:null,mapRows:function(_6d6){
var _6d7=_6d6.length;
if(!_6d7){
return;
}
this.map=[];
var row;
for(var k=0;(row=_6d6[k]);k++){
this.map[k]=[];
}
for(var j=0;(row=_6d6[j]);j++){
for(var i=0,x=0,cell,_6d8,_6d9;(cell=row[i]);i++){
while(this.map[j][x]){
x++;
}
this.map[j][x]={c:i,r:j};
_6d9=cell.rowSpan||1;
_6d8=cell.colSpan||1;
for(var y=0;y<_6d9;y++){
for(var s=0;s<_6d8;s++){
this.map[j+y][x+s]=this.map[j][x];
}
}
x+=_6d8;
}
}
},dumpMap:function(){
for(var j=0,row,h="";(row=this.map[j]);j++,h=""){
for(var i=0,cell;(cell=row[i]);i++){
h+=cell.r+","+cell.c+"   ";
}
}
},getMapCoords:function(_6da,_6db){
for(var j=0,row;(row=this.map[j]);j++){
for(var i=0,cell;(cell=row[i]);i++){
if(cell.c==_6db&&cell.r==_6da){
return {j:j,i:i};
}
}
}
return {j:-1,i:-1};
},getNode:function(_6dc,_6dd,_6de){
var row=_6dc&&_6dc.rows[_6dd];
return row&&row.cells[_6de];
},_findOverlappingNodes:function(_6df,_6e0,_6e1){
var _6e2=[];
var m=this.getMapCoords(_6e0,_6e1);
for(var j=0,row;(row=this.map[j]);j++){
if(j==m.j){
continue;
}
var rw=row[m.i];
var n=(rw?this.getNode(_6df,rw.r,rw.c):null);
if(n){
_6e2.push(n);
}
}
return _6e2;
},findOverlappingNodes:function(_6e3){
return this._findOverlappingNodes(_69e(_6e3),_69a(_6e3.parentNode),_699(_6e3));
}});
return {_Builder:_6a6,_HeaderBuilder:_6c0,_ContentBuilder:_6ba};
});
},"dijit/_Container":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(_6e4,_6e5,_6e6,_6e7){
return _6e5("dijit._Container",null,{buildRendering:function(){
this.inherited(arguments);
if(!this.containerNode){
this.containerNode=this.domNode;
}
},addChild:function(_6e8,_6e9){
var _6ea=this.containerNode;
if(_6e9>0){
_6ea=_6ea.firstChild;
while(_6e9>0){
if(_6ea.nodeType==1){
_6e9--;
}
_6ea=_6ea.nextSibling;
}
if(_6ea){
_6e9="before";
}else{
_6ea=this.containerNode;
_6e9="last";
}
}
_6e6.place(_6e8.domNode,_6ea,_6e9);
if(this._started&&!_6e8._started){
_6e8.startup();
}
},removeChild:function(_6eb){
if(typeof _6eb=="number"){
_6eb=this.getChildren()[_6eb];
}
if(_6eb){
var node=_6eb.domNode;
if(node&&node.parentNode){
node.parentNode.removeChild(node);
}
}
},hasChildren:function(){
return this.getChildren().length>0;
},_getSiblingOfChild:function(_6ec,dir){
_6e7.deprecated(this.declaredClass+"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");
var _6ed=this.getChildren(),idx=_6e4.indexOf(_6ed,_6ec);
return _6ed[idx+dir];
},getIndexOfChild:function(_6ee){
return _6e4.indexOf(this.getChildren(),_6ee);
}});
});
},"dijit/layout/BorderContainer":function(){
define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./LayoutContainer","./utils"],function(_6ef,_6f0,_6f1,_6f2,_6f3,_6f4,_6f5,keys,lang,on,_6f6,_6f7,_6f8,_6f9,_6fa,_6fb){
var _6fc=_6f1("dijit.layout._Splitter",[_6f8,_6f9],{live:true,templateString:"<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeydown:_onKeyDown,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",constructor:function(){
this._handlers=[];
},postMixInProperties:function(){
this.inherited(arguments);
this.horizontal=/top|bottom/.test(this.region);
this._factor=/top|left/.test(this.region)?1:-1;
this._cookieName=this.container.id+"_"+this.region;
},buildRendering:function(){
this.inherited(arguments);
_6f2.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));
if(this.container.persist){
var _6fd=_6f0(this._cookieName);
if(_6fd){
this.child.domNode.style[this.horizontal?"height":"width"]=_6fd;
}
}
},_computeMaxSize:function(){
var dim=this.horizontal?"h":"w",_6fe=_6f4.getMarginBox(this.child.domNode)[dim],_6ff=_6ef.filter(this.container.getChildren(),function(_700){
return _700.region=="center";
})[0];
var _701=_6f4.getContentBox(_6ff.domNode)[dim]-10;
return Math.min(this.child.maxSize,_6fe+_701);
},_startDrag:function(e){
if(!this.cover){
this.cover=_6f3.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after");
}
_6f2.add(this.cover,"dijitSplitterCoverActive");
if(this.fake){
_6f3.destroy(this.fake);
}
if(!(this._resize=this.live)){
(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");
_6f2.add(this.domNode,"dijitSplitterShadow");
_6f3.place(this.fake,this.domNode,"after");
}
_6f2.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");
if(this.fake){
_6f2.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");
}
var _702=this._factor,_703=this.horizontal,axis=_703?"pageY":"pageX",_704=e[axis],_705=this.domNode.style,dim=_703?"h":"w",_706=_6f5.getComputedStyle(this.child.domNode),_707=_6f4.getMarginBox(this.child.domNode,_706)[dim],max=this._computeMaxSize(),min=Math.max(this.child.minSize,_6f4.getPadBorderExtents(this.child.domNode,_706)[dim]+10),_708=this.region,_709=_708=="top"||_708=="bottom"?"top":"left",_70a=parseInt(_705[_709],10),_70b=this._resize,_70c=lang.hitch(this.container,"_layoutChildren",this.child.id),de=this.ownerDocument;
this._handlers=this._handlers.concat([on(de,_6f6.move,this._drag=function(e,_70d){
var _70e=e[axis]-_704,_70f=_702*_70e+_707,_710=Math.max(Math.min(_70f,max),min);
if(_70b||_70d){
_70c(_710);
}
_705[_709]=_70e+_70a+_702*(_710-_70f)+"px";
}),on(de,"dragstart",function(e){
e.stopPropagation();
e.preventDefault();
}),on(this.ownerDocumentBody,"selectstart",function(e){
e.stopPropagation();
e.preventDefault();
}),on(de,_6f6.release,lang.hitch(this,"_stopDrag"))]);
e.stopPropagation();
e.preventDefault();
},_onMouse:function(e){
var o=(e.type=="mouseover"||e.type=="mouseenter");
_6f2.toggle(this.domNode,"dijitSplitterHover",o);
_6f2.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);
},_stopDrag:function(e){
try{
if(this.cover){
_6f2.remove(this.cover,"dijitSplitterCoverActive");
}
if(this.fake){
_6f3.destroy(this.fake);
}
_6f2.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");
this._drag(e);
this._drag(e,true);
}
finally{
this._cleanupHandlers();
delete this._drag;
}
if(this.container.persist){
_6f0(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});
}
},_cleanupHandlers:function(){
var h;
while(h=this._handlers.pop()){
h.remove();
}
},_onKeyDown:function(e){
this._resize=true;
var _711=this.horizontal;
var tick=1;
switch(e.keyCode){
case _711?keys.UP_ARROW:keys.LEFT_ARROW:
tick*=-1;
case _711?keys.DOWN_ARROW:keys.RIGHT_ARROW:
break;
default:
return;
}
var _712=_6f4.getMarginSize(this.child.domNode)[_711?"h":"w"]+this._factor*tick;
this.container._layoutChildren(this.child.id,Math.max(Math.min(_712,this._computeMaxSize()),this.child.minSize));
e.stopPropagation();
e.preventDefault();
},destroy:function(){
this._cleanupHandlers();
delete this.child;
delete this.container;
delete this.cover;
delete this.fake;
this.inherited(arguments);
}});
var _713=_6f1("dijit.layout._Gutter",[_6f8,_6f9],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){
this.inherited(arguments);
this.horizontal=/top|bottom/.test(this.region);
},buildRendering:function(){
this.inherited(arguments);
_6f2.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));
}});
var _714=_6f1("dijit.layout.BorderContainer",_6fa,{gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_6fc,postMixInProperties:function(){
if(!this.gutters){
this.baseClass+="NoGutter";
}
this.inherited(arguments);
},_setupChild:function(_715){
this.inherited(arguments);
var _716=_715.region,ltr=_715.isLeftToRight();
if(_716=="leading"){
_716=ltr?"left":"right";
}
if(_716=="trailing"){
_716=ltr?"right":"left";
}
if(_716){
if(_716!="center"&&(_715.splitter||this.gutters)&&!_715._splitterWidget){
var _717=_715.splitter?this._splitterClass:_713;
if(lang.isString(_717)){
_717=lang.getObject(_717);
}
var _718=new _717({id:_715.id+"_splitter",container:this,child:_715,region:_716,live:this.liveSplitters});
_718.isSplitter=true;
_715._splitterWidget=_718;
var _719=_716=="bottom"||_716==(this.isLeftToRight()?"right":"left");
_6f3.place(_718.domNode,_715.domNode,_719?"before":"after");
_718.startup();
}
}
},layout:function(){
this._layoutChildren();
},removeChild:function(_71a){
var _71b=_71a._splitterWidget;
if(_71b){
_71b.destroy();
delete _71a._splitterWidget;
}
this.inherited(arguments);
},getChildren:function(){
return _6ef.filter(this.inherited(arguments),function(_71c){
return !_71c.isSplitter;
});
},getSplitter:function(_71d){
return _6ef.filter(this.getChildren(),function(_71e){
return _71e.region==_71d;
})[0]._splitterWidget;
},resize:function(_71f,_720){
if(!this.cs||!this.pe){
var node=this.domNode;
this.cs=_6f5.getComputedStyle(node);
this.pe=_6f4.getPadExtents(node,this.cs);
this.pe.r=_6f5.toPixelValue(node,this.cs.paddingRight);
this.pe.b=_6f5.toPixelValue(node,this.cs.paddingBottom);
_6f5.set(node,"padding","0px");
}
this.inherited(arguments);
},_layoutChildren:function(_721,_722){
if(!this._borderBox||!this._borderBox.h){
return;
}
var _723=[];
_6ef.forEach(this._getOrderedChildren(),function(pane){
_723.push(pane);
if(pane._splitterWidget){
_723.push(pane._splitterWidget);
}
});
var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};
_6fb.layoutChildren(this.domNode,dim,_723,_721,_722);
},destroyRecursive:function(){
_6ef.forEach(this.getChildren(),function(_724){
var _725=_724._splitterWidget;
if(_725){
_725.destroy();
}
delete _724._splitterWidget;
});
this.inherited(arguments);
}});
_714.ChildWidgetProperties={splitter:false,minSize:0,maxSize:Infinity};
lang.mixin(_714.ChildWidgetProperties,_6fa.ChildWidgetProperties);
lang.extend(_6f7,_714.ChildWidgetProperties);
_714._Splitter=_6fc;
_714._Gutter=_713;
return _714;
});
},"dijit/_base/wai":function(){
define(["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(_726,lang,_727){
var _728={hasWaiRole:function(elem,role){
var _729=this.getWaiRole(elem);
return role?(_729.indexOf(role)>-1):(_729.length>0);
},getWaiRole:function(elem){
return lang.trim((_726.get(elem,"role")||"").replace("wairole:",""));
},setWaiRole:function(elem,role){
_726.set(elem,"role",role);
},removeWaiRole:function(elem,role){
var _72a=_726.get(elem,"role");
if(!_72a){
return;
}
if(role){
var t=lang.trim((" "+_72a+" ").replace(" "+role+" "," "));
_726.set(elem,"role",t);
}else{
elem.removeAttribute("role");
}
},hasWaiState:function(elem,_72b){
return elem.hasAttribute?elem.hasAttribute("aria-"+_72b):!!elem.getAttribute("aria-"+_72b);
},getWaiState:function(elem,_72c){
return elem.getAttribute("aria-"+_72c)||"";
},setWaiState:function(elem,_72d,_72e){
elem.setAttribute("aria-"+_72d,_72e);
},removeWaiState:function(elem,_72f){
elem.removeAttribute("aria-"+_72f);
}};
lang.mixin(_727,_728);
return _727;
});
},"dojo/dnd/Mover":function(){
define(["../_base/array","../_base/declare","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(_730,_731,lang,has,win,dom,_732,_733,_734,on,_735,dnd,_736){
return _731("dojo.dnd.Mover",[_734],{constructor:function(node,e,host){
this.node=dom.byId(node);
this.marginBox={l:e.pageX,t:e.pageY};
this.mouseButton=e.button;
var h=(this.host=host),d=node.ownerDocument;
function _737(e){
e.preventDefault();
e.stopPropagation();
};
this.events=[on(d,_735.move,lang.hitch(this,"onFirstMove")),on(d,_735.move,lang.hitch(this,"onMouseMove")),on(d,_735.release,lang.hitch(this,"onMouseUp")),on(d,"dragstart",_737),on(d.body,"selectstart",_737)];
_736.autoScrollStart(d);
if(h&&h.onMoveStart){
h.onMoveStart(this);
}
},onMouseMove:function(e){
_736.autoScroll(e);
var m=this.marginBox;
this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY},e);
e.preventDefault();
e.stopPropagation();
},onMouseUp:function(e){
if(has("webkit")&&has("mac")&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){
this.destroy();
}
e.preventDefault();
e.stopPropagation();
},onFirstMove:function(e){
var s=this.node.style,l,t,h=this.host;
switch(s.position){
case "relative":
case "absolute":
l=Math.round(parseFloat(s.left))||0;
t=Math.round(parseFloat(s.top))||0;
break;
default:
s.position="absolute";
var m=_732.getMarginBox(this.node);
var b=win.doc.body;
var bs=_733.getComputedStyle(b);
var bm=_732.getMarginBox(b,bs);
var bc=_732.getContentBox(b,bs);
l=m.l-(bc.l-bm.l);
t=m.t-(bc.t-bm.t);
break;
}
this.marginBox.l=l-this.marginBox.l;
this.marginBox.t=t-this.marginBox.t;
if(h&&h.onFirstMove){
h.onFirstMove(this,e);
}
this.events.shift().remove();
},destroy:function(){
_730.forEach(this.events,function(_738){
_738.remove();
});
var h=this.host;
if(h&&h.onMoveStop){
h.onMoveStop(this);
}
this.events=this.node=this.host=null;
}});
});
},"dijit/form/ComboBoxMixin":function(){
define(["dojo/_base/declare","dojo/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/store/util/QueryResults","./_AutoCompleterMixin","./_ComboBoxMenu","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(_739,_73a,_73b,lang,_73c,_73d,_73e,_73f,_740){
return _739("dijit.form.ComboBoxMixin",[_73f,_73d],{dropDownClass:_73e,hasDownArrow:true,templateString:_740,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},_setHasDownArrowAttr:function(val){
this._set("hasDownArrow",val);
this._buttonNode.style.display=val?"":"none";
},_showResultList:function(){
this.displayMessage("");
this.inherited(arguments);
},_setStoreAttr:function(_741){
if(!_741.get){
lang.mixin(_741,{_oldAPI:true,get:function(id){
var _742=new _73a();
this.fetchItemByIdentity({identity:id,onItem:function(_743){
_742.resolve(_743);
},onError:function(_744){
_742.reject(_744);
}});
return _742.promise;
},query:function(_745,_746){
var _747=new _73a(function(){
_748.abort&&_748.abort();
});
_747.total=new _73a();
var _748=this.fetch(lang.mixin({query:_745,onBegin:function(_749){
_747.total.resolve(_749);
},onComplete:function(_74a){
_747.resolve(_74a);
},onError:function(_74b){
_747.reject(_74b);
}},_746));
return _73c(_747);
}});
}
this._set("store",_741);
},postMixInProperties:function(){
var _74c=this.params.store||this.store;
if(_74c){
this._setStoreAttr(_74c);
}
this.inherited(arguments);
if(!this.params.store&&!this.store._oldAPI){
var _74d=this.declaredClass;
lang.mixin(this.store,{getValue:function(item,attr){
_73b.deprecated(_74d+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");
return item[attr];
},getLabel:function(item){
_73b.deprecated(_74d+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");
return item.name;
},fetch:function(args){
_73b.deprecated(_74d+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");
var shim=["dojo/data/ObjectStore"];
require(shim,lang.hitch(this,function(_74e){
new _74e({objectStore:this}).fetch(args);
}));
}});
}
}});
});
},"dijit/form/Select":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/i18n","dojo/_base/lang","dojo/on","dojo/sniff","./_FormSelectWidget","../_HasDropDown","../DropDownMenu","../MenuItem","../MenuSeparator","../Tooltip","../_KeyNavMixin","../registry","dojo/text!./templates/Select.html","dojo/i18n!./nls/validate"],function(_74f,_750,_751,_752,_753,i18n,lang,on,has,_754,_755,_756,_757,_758,_759,_75a,_75b,_75c){
var _75d=_750("dijit.form._SelectMenu",_756,{autoFocus:true,buildRendering:function(){
this.inherited(arguments);
this.domNode.setAttribute("role","listbox");
},postCreate:function(){
this.inherited(arguments);
this.own(on(this.domNode,"selectstart",function(evt){
evt.preventDefault();
evt.stopPropagation();
}));
},focus:function(){
var _75e=false,val=this.parentWidget.value;
if(lang.isArray(val)){
val=val[val.length-1];
}
if(val){
_74f.forEach(this.parentWidget._getChildren(),function(_75f){
if(_75f.option&&(val===_75f.option.value)){
_75e=true;
this.focusChild(_75f,false);
}
},this);
}
if(!_75e){
this.inherited(arguments);
}
}});
var _760=_750("dijit.form.Select"+(has("dojo-bidi")?"_NoBidi":""),[_754,_755,_75a],{baseClass:"dijitSelect dijitValidationTextBox",templateString:_75c,_buttonInputDisabled:has("ie")?"disabled":"",required:false,state:"",message:"",tooltipPosition:[],emptyLabel:"&#160;",_isLoaded:false,_childrenLoaded:false,_fillContent:function(){
this.inherited(arguments);
if(this.options.length&&!this.value&&this.srcNodeRef){
var si=this.srcNodeRef.selectedIndex||0;
this._set("value",this.options[si>=0?si:0].value);
}
this.dropDown=new _75d({id:this.id+"_menu",parentWidget:this});
_752.add(this.dropDown.domNode,this.baseClass.replace(/\s+|$/g,"Menu "));
},_getMenuItemForOption:function(_761){
if(!_761.value&&!_761.label){
return new _758({ownerDocument:this.ownerDocument});
}else{
var _762=lang.hitch(this,"_setValueAttr",_761);
var item=new _757({option:_761,label:_761.label||this.emptyLabel,onClick:_762,ownerDocument:this.ownerDocument,dir:this.dir,textDir:this.textDir,disabled:_761.disabled||false});
item.focusNode.setAttribute("role","option");
return item;
}
},_addOptionItem:function(_763){
if(this.dropDown){
this.dropDown.addChild(this._getMenuItemForOption(_763));
}
},_getChildren:function(){
if(!this.dropDown){
return [];
}
return this.dropDown.getChildren();
},focus:function(){
if(!this.disabled&&this.focusNode.focus){
try{
this.focusNode.focus();
}
catch(e){
}
}
},focusChild:function(_764){
if(_764){
this.set("value",_764.option);
}
},_getFirst:function(){
var _765=this._getChildren();
return _765.length?_765[0]:null;
},_getLast:function(){
var _766=this._getChildren();
return _766.length?_766[_766.length-1]:null;
},childSelector:function(node){
var node=_75b.byNode(node);
return node&&node.getParent()==this.dropDown;
},onKeyboardSearch:function(item,evt,_767,_768){
if(item){
this.focusChild(item);
}
},_loadChildren:function(_769){
if(_769===true){
if(this.dropDown){
delete this.dropDown.focusedChild;
this.focusedChild=null;
}
if(this.options.length){
this.inherited(arguments);
}else{
_74f.forEach(this._getChildren(),function(_76a){
_76a.destroyRecursive();
});
var item=new _757({ownerDocument:this.ownerDocument,label:this.emptyLabel});
this.dropDown.addChild(item);
}
}else{
this._updateSelection();
}
this._isLoaded=false;
this._childrenLoaded=true;
if(!this._loadingStore){
this._setValueAttr(this.value,false);
}
},_refreshState:function(){
if(this._started){
this.validate(this.focused);
}
},startup:function(){
this.inherited(arguments);
this._refreshState();
},_setValueAttr:function(_76b){
this.inherited(arguments);
_751.set(this.valueNode,"value",this.get("value"));
this._refreshState();
},_setNameAttr:"valueNode",_setDisabledAttr:function(_76c){
this.inherited(arguments);
this._refreshState();
},_setRequiredAttr:function(_76d){
this._set("required",_76d);
this.focusNode.setAttribute("aria-required",_76d);
this._refreshState();
},_setOptionsAttr:function(_76e){
this._isLoaded=false;
this._set("options",_76e);
},_setDisplay:function(_76f){
var lbl=_76f||this.emptyLabel;
this.containerNode.innerHTML="<span role=\"option\" class=\"dijitReset dijitInline "+this.baseClass.replace(/\s+|$/g,"Label ")+"\">"+lbl+"</span>";
},validate:function(_770){
var _771=this.disabled||this.isValid(_770);
this._set("state",_771?"":(this._hasBeenBlurred?"Error":"Incomplete"));
this.focusNode.setAttribute("aria-invalid",_771?"false":"true");
var _772=_771?"":this._missingMsg;
if(_772&&this.focused&&this._hasBeenBlurred){
_759.show(_772,this.domNode,this.tooltipPosition,!this.isLeftToRight());
}else{
_759.hide(this.domNode);
}
this._set("message",_772);
return _771;
},isValid:function(){
return (!this.required||this.value===0||!(/^\s*$/.test(this.value||"")));
},reset:function(){
this.inherited(arguments);
_759.hide(this.domNode);
this._refreshState();
},postMixInProperties:function(){
this.inherited(arguments);
this._missingMsg=i18n.getLocalization("dijit.form","validate",this.lang).missingMessage;
},postCreate:function(){
this.inherited(arguments);
this.own(on(this.domNode,"selectstart",function(evt){
evt.preventDefault();
evt.stopPropagation();
}));
this.domNode.setAttribute("aria-expanded","false");
if(has("ie")<9){
this.defer(function(){
try{
var s=domStyle.getComputedStyle(this.domNode);
if(s){
var ff=s.fontFamily;
if(ff){
var _773=this.domNode.getElementsByTagName("INPUT");
if(_773){
for(var i=0;i<_773.length;i++){
_773[i].style.fontFamily=ff;
}
}
}
}
}
catch(e){
}
});
}
},_setStyleAttr:function(_774){
this.inherited(arguments);
_752.toggle(this.domNode,this.baseClass.replace(/\s+|$/g,"FixedWidth "),!!this.domNode.style.width);
},isLoaded:function(){
return this._isLoaded;
},loadDropDown:function(_775){
this._loadChildren(true);
this._isLoaded=true;
_775();
},destroy:function(_776){
if(this.dropDown&&!this.dropDown._destroyed){
this.dropDown.destroyRecursive(_776);
delete this.dropDown;
}
this.inherited(arguments);
},_onFocus:function(){
this.validate(true);
},_onBlur:function(){
_759.hide(this.domNode);
this.inherited(arguments);
this.validate(false);
}});
if(has("dojo-bidi")){
_760=_750("dijit.form.Select",_760,{_setDisplay:function(_777){
this.inherited(arguments);
this.applyTextDir(this.containerNode);
}});
}
_760._Menu=_75d;
function _778(_779){
return function(evt){
if(!this._isLoaded){
this.loadDropDown(lang.hitch(this,_779,evt));
}else{
this.inherited(_779,arguments);
}
};
};
_760.prototype._onContainerKeydown=_778("_onContainerKeydown");
_760.prototype._onContainerKeypress=_778("_onContainerKeypress");
return _760;
});
},"dijit/Calendar":function(){
define(["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(_77a,date,_77b,_77c,_77d,_77e,_77f,keys,lang,on,has,_780,_781,_782,_783,_784){
var _785=_77c("dijit.Calendar",[_780,_781,_782],{cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(_786){
_77f.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");
this.set("value",_786);
},_createMonthWidget:function(){
return new _785._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);
},postCreate:function(){
this.inherited(arguments);
this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")),on(this.dateRowsNode,"mouseover",lang.hitch(this,"_onDayMouseOver")),on(this.dateRowsNode,"mouseout",lang.hitch(this,"_onDayMouseOut")),on(this.dateRowsNode,"mousedown",lang.hitch(this,"_onDayMouseDown")),on(this.dateRowsNode,"mouseup",lang.hitch(this,"_onDayMouseUp")));
},_onMonthSelect:function(_787){
var date=new this.dateClassObj(this.currentFocus);
date.setDate(1);
date.setMonth(_787);
var _788=this.dateModule.getDaysInMonth(date);
var _789=this.currentFocus.getDate();
date.setDate(Math.min(_789,_788));
this._setCurrentFocusAttr(date);
},_onDayMouseOver:function(evt){
var node=_77e.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;
if(node&&((node.dijitDateValue&&!_77e.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){
_77e.add(node,"dijitCalendarHoveredDate");
this._currentNode=node;
}
},_onDayMouseOut:function(evt){
if(!this._currentNode){
return;
}
if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){
return;
}
var cls="dijitCalendarHoveredDate";
if(_77e.contains(this._currentNode,"dijitCalendarActiveDate")){
cls+=" dijitCalendarActiveDate";
}
_77e.remove(this._currentNode,cls);
this._currentNode=null;
},_onDayMouseDown:function(evt){
var node=evt.target.parentNode;
if(node&&node.dijitDateValue&&!_77e.contains(node,"dijitCalendarDisabledDate")){
_77e.add(node,"dijitCalendarActiveDate");
this._currentNode=node;
}
},_onDayMouseUp:function(evt){
var node=evt.target.parentNode;
if(node&&node.dijitDateValue){
_77e.remove(node,"dijitCalendarActiveDate");
}
},handleKey:function(evt){
var _78a=-1,_78b,_78c=this.currentFocus;
switch(evt.keyCode){
case keys.RIGHT_ARROW:
_78a=1;
case keys.LEFT_ARROW:
_78b="day";
if(!this.isLeftToRight()){
_78a*=-1;
}
break;
case keys.DOWN_ARROW:
_78a=1;
case keys.UP_ARROW:
_78b="week";
break;
case keys.PAGE_DOWN:
_78a=1;
case keys.PAGE_UP:
_78b=evt.ctrlKey||evt.altKey?"year":"month";
break;
case keys.END:
_78c=this.dateModule.add(_78c,"month",1);
_78b="day";
case keys.HOME:
_78c=new this.dateClassObj(_78c);
_78c.setDate(1);
break;
default:
return true;
}
if(_78b){
_78c=this.dateModule.add(_78c,_78b,_78a);
}
this._setCurrentFocusAttr(_78c);
return false;
},_onKeyDown:function(evt){
if(!this.handleKey(evt)){
evt.stopPropagation();
evt.preventDefault();
}
},onValueSelected:function(){
},onChange:function(_78d){
this.onValueSelected(_78d);
},getClassForDate:function(){
}});
_785._MonthDropDownButton=_77c("dijit.Calendar._MonthDropDownButton",_784,{onMonthSelect:function(){
},postCreate:function(){
this.inherited(arguments);
this.dropDown=new _785._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});
},_setMonthAttr:function(_78e){
var _78f=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,_78e);
this.dropDown.set("months",_78f);
this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_78f[_78e.getMonth()]+"</div>";
}});
_785._MonthDropDown=_77c("dijit.Calendar._MonthDropDown",[_781,_783],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' "+"data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(_790){
this.domNode.innerHTML=_77a.map(_790,function(_791,idx){
return _791?"<div class='dijitCalendarMonthLabel' month='"+idx+"'>"+_791+"</div>":"";
}).join("");
},_onClick:function(evt){
this.onChange(_77d.get(evt.target,"month"));
},onChange:function(){
},_onMenuHover:function(evt){
_77e.toggle(evt.target,"dijitCalendarMonthLabelHover",evt.type=="mouseover");
}});
return _785;
});
},"dojox/validate/regexp":function(){
define(["dojo/_base/lang","dojo/regexp","dojox/main"],function(lang,_792,_793){
var _794=lang.getObject("validate.regexp",true,_793);
_794=_793.validate.regexp={ipAddress:function(_795){
_795=(typeof _795=="object")?_795:{};
if(typeof _795.allowDottedDecimal!="boolean"){
_795.allowDottedDecimal=true;
}
if(typeof _795.allowDottedHex!="boolean"){
_795.allowDottedHex=true;
}
if(typeof _795.allowDottedOctal!="boolean"){
_795.allowDottedOctal=true;
}
if(typeof _795.allowDecimal!="boolean"){
_795.allowDecimal=true;
}
if(typeof _795.allowHex!="boolean"){
_795.allowHex=true;
}
if(typeof _795.allowIPv6!="boolean"){
_795.allowIPv6=true;
}
if(typeof _795.allowHybrid!="boolean"){
_795.allowHybrid=true;
}
var _796="((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";
var _797="(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]";
var _798="(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]";
var _799="(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|"+"4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])";
var _79a="0[xX]0*[\\da-fA-F]{1,8}";
var _79b="([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}";
var _79c="([\\da-fA-F]{1,4}\\:){6}"+"((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";
var a=[];
if(_795.allowDottedDecimal){
a.push(_796);
}
if(_795.allowDottedHex){
a.push(_797);
}
if(_795.allowDottedOctal){
a.push(_798);
}
if(_795.allowDecimal){
a.push(_799);
}
if(_795.allowHex){
a.push(_79a);
}
if(_795.allowIPv6){
a.push(_79b);
}
if(_795.allowHybrid){
a.push(_79c);
}
var _79d="";
if(a.length>0){
_79d="("+a.join("|")+")";
}
return _79d;
},host:function(_79e){
_79e=(typeof _79e=="object")?_79e:{};
if(typeof _79e.allowIP!="boolean"){
_79e.allowIP=true;
}
if(typeof _79e.allowLocal!="boolean"){
_79e.allowLocal=false;
}
if(typeof _79e.allowPort!="boolean"){
_79e.allowPort=true;
}
if(typeof _79e.allowNamed!="boolean"){
_79e.allowNamed=false;
}
var _79f="(?:[\\da-zA-Z](?:[-\\da-zA-Z]{0,61}[\\da-zA-Z])?)";
var _7a0="(?:[a-zA-Z](?:[-\\da-zA-Z]{0,6}[\\da-zA-Z])?)";
var _7a1=_79e.allowPort?"(\\:\\d+)?":"";
var _7a2="((?:"+_79f+"\\.)+"+_7a0+"\\.?)";
if(_79e.allowIP){
_7a2+="|"+_794.ipAddress(_79e);
}
if(_79e.allowLocal){
_7a2+="|localhost";
}
if(_79e.allowNamed){
_7a2+="|^[^-][a-zA-Z0-9_-]*";
}
return "("+_7a2+")"+_7a1;
},url:function(_7a3){
_7a3=(typeof _7a3=="object")?_7a3:{};
if(!("scheme" in _7a3)){
_7a3.scheme=[true,false];
}
var _7a4=_792.buildGroupRE(_7a3.scheme,function(q){
if(q){
return "(https?|ftps?)\\://";
}
return "";
});
var _7a5="(/(?:[^?#\\s/]+/)*(?:[^?#\\s/]+(?:\\?[^?#\\s/]*)?(?:#[A-Za-z][\\w.:-]*)?)?)?";
return _7a4+_794.host(_7a3)+_7a5;
},emailAddress:function(_7a6){
_7a6=(typeof _7a6=="object")?_7a6:{};
if(typeof _7a6.allowCruft!="boolean"){
_7a6.allowCruft=false;
}
_7a6.allowPort=false;
var _7a7="([!#-'*+\\-\\/-9=?A-Z^-~]+[.])*[!#-'*+\\-\\/-9=?A-Z^-~]+";
var _7a8=_7a7+"@"+_794.host(_7a6);
if(_7a6.allowCruft){
_7a8="<?(mailto\\:)?"+_7a8+">?";
}
return _7a8;
},emailAddressList:function(_7a9){
_7a9=(typeof _7a9=="object")?_7a9:{};
if(typeof _7a9.listSeparator!="string"){
_7a9.listSeparator="\\s;,";
}
var _7aa=_794.emailAddress(_7a9);
var _7ab="("+_7aa+"\\s*["+_7a9.listSeparator+"]\\s*)*"+_7aa+"\\s*["+_7a9.listSeparator+"]?\\s*";
return _7ab;
},numberFormat:function(_7ac){
_7ac=(typeof _7ac=="object")?_7ac:{};
if(typeof _7ac.format=="undefined"){
_7ac.format="###-###-####";
}
var _7ad=function(_7ae){
return _792.escapeString(_7ae,"?").replace(/\?/g,"\\d?").replace(/#/g,"\\d");
};
return _792.buildGroupRE(_7ac.format,_7ad);
},ca:{postalCode:function(){
return "([A-Z][0-9][A-Z] [0-9][A-Z][0-9])";
},province:function(){
return "(AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT)";
}},us:{state:function(_7af){
_7af=(typeof _7af=="object")?_7af:{};
if(typeof _7af.allowTerritories!="boolean"){
_7af.allowTerritories=true;
}
if(typeof _7af.allowMilitary!="boolean"){
_7af.allowMilitary=true;
}
var _7b0="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|"+"NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";
var _7b1="AS|FM|GU|MH|MP|PW|PR|VI";
var _7b2="AA|AE|AP";
if(_7af.allowTerritories){
_7b0+="|"+_7b1;
}
if(_7af.allowMilitary){
_7b0+="|"+_7b2;
}
return "("+_7b0+")";
}}};
return _794;
});
},"dijit/_base/manager":function(){
define(["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_7b3,_7b4,lang,_7b5,_7b6){
var _7b7={};
_7b3.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){
_7b7[name]=_7b5[name];
});
lang.mixin(_7b7,{defaultDuration:_7b4["defaultDuration"]||200});
lang.mixin(_7b6,_7b7);
return _7b6;
});
},"dijit/form/ComboButton":function(){
define(["dojo/_base/declare","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html"],function(_7b8,keys,_7b9,_7ba,_7bb){
return _7b8("dijit.form.ComboButton",_7ba,{templateString:_7bb,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyDown:function(evt){
if(evt.keyCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){
_7b9.focus(this._popupStateNode);
evt.stopPropagation();
evt.preventDefault();
}
},_onArrowKeyDown:function(evt){
if(evt.keyCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){
_7b9.focus(this.titleNode);
evt.stopPropagation();
evt.preventDefault();
}
},focus:function(_7bc){
if(!this.disabled){
_7b9.focus(_7bc=="start"?this.titleNode:this._popupStateNode);
}
}});
});
},"dijit/WidgetSet":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","./registry"],function(_7bd,_7be,_7bf,_7c0){
var _7c1=_7be("dijit.WidgetSet",null,{constructor:function(){
this._hash={};
this.length=0;
},add:function(_7c2){
if(this._hash[_7c2.id]){
throw new Error("Tried to register widget with id=="+_7c2.id+" but that id is already registered");
}
this._hash[_7c2.id]=_7c2;
this.length++;
},remove:function(id){
if(this._hash[id]){
delete this._hash[id];
this.length--;
}
},forEach:function(func,_7c3){
_7c3=_7c3||_7bf.global;
var i=0,id;
for(id in this._hash){
func.call(_7c3,this._hash[id],i++,this._hash);
}
return this;
},filter:function(_7c4,_7c5){
_7c5=_7c5||_7bf.global;
var res=new _7c1(),i=0,id;
for(id in this._hash){
var w=this._hash[id];
if(_7c4.call(_7c5,w,i++,this._hash)){
res.add(w);
}
}
return res;
},byId:function(id){
return this._hash[id];
},byClass:function(cls){
var res=new _7c1(),id,_7c6;
for(id in this._hash){
_7c6=this._hash[id];
if(_7c6.declaredClass==cls){
res.add(_7c6);
}
}
return res;
},toArray:function(){
var ar=[];
for(var id in this._hash){
ar.push(this._hash[id]);
}
return ar;
},map:function(func,_7c7){
return _7bd.map(this.toArray(),func,_7c7);
},every:function(func,_7c8){
_7c8=_7c8||_7bf.global;
var x=0,i;
for(i in this._hash){
if(!func.call(_7c8,this._hash[i],x++,this._hash)){
return false;
}
}
return true;
},some:function(func,_7c9){
_7c9=_7c9||_7bf.global;
var x=0,i;
for(i in this._hash){
if(func.call(_7c9,this._hash[i],x++,this._hash)){
return true;
}
}
return false;
}});
_7bd.forEach(["forEach","filter","byClass","map","every","some"],function(func){
_7c0[func]=_7c1.prototype[func];
});
return _7c1;
});
},"dijit/form/RangeBoundTextBox":function(){
define(["dojo/_base/declare","dojo/i18n","./MappedTextBox"],function(_7ca,i18n,_7cb){
var _7cc=_7ca("dijit.form.RangeBoundTextBox",_7cb,{rangeMessage:"",rangeCheck:function(_7cd,_7ce){
return ("min" in _7ce?(this.compare(_7cd,_7ce.min)>=0):true)&&("max" in _7ce?(this.compare(_7cd,_7ce.max)<=0):true);
},isInRange:function(){
return this.rangeCheck(this.get("value"),this.constraints);
},_isDefinitelyOutOfRange:function(){
var val=this.get("value");
if(val==null){
return false;
}
var _7cf=false;
if("min" in this.constraints){
var min=this.constraints.min;
_7cf=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min)<0;
}
if(!_7cf&&("max" in this.constraints)){
var max=this.constraints.max;
_7cf=this.compare(val,((typeof max!="number")||max>0)?max:0)>0;
}
return _7cf;
},_isValidSubset:function(){
return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();
},isValid:function(_7d0){
return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_7d0));
},getErrorMessage:function(_7d1){
var v=this.get("value");
if(v!=null&&v!==""&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_7d1)){
return this.rangeMessage;
}
return this.inherited(arguments);
},postMixInProperties:function(){
this.inherited(arguments);
if(!this.rangeMessage){
this.messages=i18n.getLocalization("dijit.form","validate",this.lang);
this.rangeMessage=this.messages.rangeMessage;
}
}});
return _7cc;
});
},"dojox/html/entities":function(){
define(["dojo/_base/lang"],function(lang){
var dhe=lang.getObject("dojox.html.entities",true);
var _7d2=function(str,map){
var _7d3,_7d4;
if(map._encCache&&map._encCache.regexp&&map._encCache.mapper&&map.length==map._encCache.length){
_7d3=map._encCache.mapper;
_7d4=map._encCache.regexp;
}else{
_7d3={};
_7d4=["["];
var i;
for(i=0;i<map.length;i++){
_7d3[map[i][0]]="&"+map[i][1]+";";
_7d4.push(map[i][0]);
}
_7d4.push("]");
_7d4=new RegExp(_7d4.join(""),"g");
map._encCache={mapper:_7d3,regexp:_7d4,length:map.length};
}
str=str.replace(_7d4,function(c){
return _7d3[c];
});
return str;
};
var _7d5=function(str,map){
var _7d6,_7d7;
if(map._decCache&&map._decCache.regexp&&map._decCache.mapper&&map.length==map._decCache.length){
_7d6=map._decCache.mapper;
_7d7=map._decCache.regexp;
}else{
_7d6={};
_7d7=["("];
var i;
for(i=0;i<map.length;i++){
var e="&"+map[i][1]+";";
if(i){
_7d7.push("|");
}
_7d6[e]=map[i][0];
_7d7.push(e);
}
_7d7.push(")");
_7d7=new RegExp(_7d7.join(""),"g");
map._decCache={mapper:_7d6,regexp:_7d7,length:map.length};
}
str=str.replace(_7d7,function(c){
return _7d6[c];
});
return str;
};
dhe.html=[["&","amp"],["\"","quot"],["<","lt"],[">","gt"],[" ","nbsp"]];
dhe.latin=[["¡","iexcl"],["¢","cent"],["£","pound"],["€","euro"],["¤","curren"],["¥","yen"],["¦","brvbar"],["§","sect"],["¨","uml"],["©","copy"],["ª","ordf"],["«","laquo"],["¬","not"],["­","shy"],["®","reg"],["¯","macr"],["°","deg"],["±","plusmn"],["²","sup2"],["³","sup3"],["´","acute"],["µ","micro"],["¶","para"],["·","middot"],["¸","cedil"],["¹","sup1"],["º","ordm"],["»","raquo"],["¼","frac14"],["½","frac12"],["¾","frac34"],["¿","iquest"],["À","Agrave"],["Á","Aacute"],["Â","Acirc"],["Ã","Atilde"],["Ä","Auml"],["Å","Aring"],["Æ","AElig"],["Ç","Ccedil"],["È","Egrave"],["É","Eacute"],["Ê","Ecirc"],["Ë","Euml"],["Ì","Igrave"],["Í","Iacute"],["Î","Icirc"],["Ï","Iuml"],["Ð","ETH"],["Ñ","Ntilde"],["Ò","Ograve"],["Ó","Oacute"],["Ô","Ocirc"],["Õ","Otilde"],["Ö","Ouml"],["×","times"],["Ø","Oslash"],["Ù","Ugrave"],["Ú","Uacute"],["Û","Ucirc"],["Ü","Uuml"],["Ý","Yacute"],["Þ","THORN"],["ß","szlig"],["à","agrave"],["á","aacute"],["â","acirc"],["ã","atilde"],["ä","auml"],["å","aring"],["æ","aelig"],["ç","ccedil"],["è","egrave"],["é","eacute"],["ê","ecirc"],["ë","euml"],["ì","igrave"],["í","iacute"],["î","icirc"],["ï","iuml"],["ð","eth"],["ñ","ntilde"],["ò","ograve"],["ó","oacute"],["ô","ocirc"],["õ","otilde"],["ö","ouml"],["÷","divide"],["ø","oslash"],["ù","ugrave"],["ú","uacute"],["û","ucirc"],["ü","uuml"],["ý","yacute"],["þ","thorn"],["ÿ","yuml"],["ƒ","fnof"],["Α","Alpha"],["Β","Beta"],["Γ","Gamma"],["Δ","Delta"],["Ε","Epsilon"],["Ζ","Zeta"],["Η","Eta"],["Θ","Theta"],["Ι","Iota"],["Κ","Kappa"],["Λ","Lambda"],["Μ","Mu"],["Ν","Nu"],["Ξ","Xi"],["Ο","Omicron"],["Π","Pi"],["Ρ","Rho"],["Σ","Sigma"],["Τ","Tau"],["Υ","Upsilon"],["Φ","Phi"],["Χ","Chi"],["Ψ","Psi"],["Ω","Omega"],["α","alpha"],["β","beta"],["γ","gamma"],["δ","delta"],["ε","epsilon"],["ζ","zeta"],["η","eta"],["θ","theta"],["ι","iota"],["κ","kappa"],["λ","lambda"],["μ","mu"],["ν","nu"],["ξ","xi"],["ο","omicron"],["π","pi"],["ρ","rho"],["ς","sigmaf"],["σ","sigma"],["τ","tau"],["υ","upsilon"],["φ","phi"],["χ","chi"],["ψ","psi"],["ω","omega"],["ϑ","thetasym"],["ϒ","upsih"],["ϖ","piv"],["•","bull"],["…","hellip"],["′","prime"],["″","Prime"],["‾","oline"],["⁄","frasl"],["℘","weierp"],["ℑ","image"],["ℜ","real"],["™","trade"],["ℵ","alefsym"],["←","larr"],["↑","uarr"],["→","rarr"],["↓","darr"],["↔","harr"],["↵","crarr"],["⇐","lArr"],["⇑","uArr"],["⇒","rArr"],["⇓","dArr"],["⇔","hArr"],["∀","forall"],["∂","part"],["∃","exist"],["∅","empty"],["∇","nabla"],["∈","isin"],["∉","notin"],["∋","ni"],["∏","prod"],["∑","sum"],["−","minus"],["∗","lowast"],["√","radic"],["∝","prop"],["∞","infin"],["∠","ang"],["∧","and"],["∨","or"],["∩","cap"],["∪","cup"],["∫","int"],["∴","there4"],["∼","sim"],["≅","cong"],["≈","asymp"],["≠","ne"],["≡","equiv"],["≤","le"],["≥","ge"],["⊂","sub"],["⊃","sup"],["⊄","nsub"],["⊆","sube"],["⊇","supe"],["⊕","oplus"],["⊗","otimes"],["⊥","perp"],["⋅","sdot"],["⌈","lceil"],["⌉","rceil"],["⌊","lfloor"],["⌋","rfloor"],["〈","lang"],["〉","rang"],["◊","loz"],["♠","spades"],["♣","clubs"],["♥","hearts"],["♦","diams"],["Œ","OElig"],["œ","oelig"],["Š","Scaron"],["š","scaron"],["Ÿ","Yuml"],["ˆ","circ"],["˜","tilde"],[" ","ensp"],[" ","emsp"],[" ","thinsp"],["‌","zwnj"],["‍","zwj"],["‎","lrm"],["‏","rlm"],["–","ndash"],["—","mdash"],["‘","lsquo"],["’","rsquo"],["‚","sbquo"],["“","ldquo"],["”","rdquo"],["„","bdquo"],["†","dagger"],["‡","Dagger"],["‰","permil"],["‹","lsaquo"],["›","rsaquo"]];
dhe.encode=function(str,m){
if(str){
if(!m){
str=_7d2(str,dhe.html);
str=_7d2(str,dhe.latin);
}else{
str=_7d2(str,m);
}
}
return str;
};
dhe.decode=function(str,m){
if(str){
if(!m){
str=_7d5(str,dhe.html);
str=_7d5(str,dhe.latin);
}else{
str=_7d5(str,m);
}
}
return str;
};
return dhe;
});
},"dojo/touch":function(){
define(["./_base/kernel","./aspect","./dom","./dom-class","./_base/lang","./on","./has","./mouse","./domReady","./_base/window"],function(dojo,_7d8,dom,_7d9,lang,on,has,_7da,_7db,win){
var _7dc=has("touch");
var ios4=has("ios")<5;
var _7dd=navigator.pointerEnabled||navigator.msPointerEnabled,_7de=(function(){
var _7df={};
for(var type in {down:1,move:1,up:1,cancel:1,over:1,out:1}){
_7df[type]=!navigator.pointerEnabled?"MSPointer"+type.charAt(0).toUpperCase()+type.slice(1):"pointer"+type;
}
return _7df;
})();
var _7e0,_7e1,_7e2,_7e3,_7e4,_7e5,_7e6,_7e7;
var _7e8;
function _7e9(_7ea,_7eb,_7ec){
if(_7dd&&_7ec){
return function(node,_7ed){
return on(node,_7ec,_7ed);
};
}else{
if(_7dc){
return function(node,_7ee){
var _7ef=on(node,_7eb,_7ee),_7f0=on(node,_7ea,function(evt){
if(!_7e8||(new Date()).getTime()>_7e8+1000){
_7ee.call(this,evt);
}
});
return {remove:function(){
_7ef.remove();
_7f0.remove();
}};
};
}else{
return function(node,_7f1){
return on(node,_7ea,_7f1);
};
}
}
};
function _7f2(node){
do{
if(node.dojoClick!==undefined){
return node.dojoClick;
}
}while(node=node.parentNode);
};
function _7f3(e,_7f4,_7f5){
_7e1=!e.target.disabled&&_7f2(e.target);
if(_7e1){
_7e2=e.target;
_7e3=e.touches?e.touches[0].pageX:e.clientX;
_7e4=e.touches?e.touches[0].pageY:e.clientY;
_7e5=(typeof _7e1=="object"?_7e1.x:(typeof _7e1=="number"?_7e1:0))||4;
_7e6=(typeof _7e1=="object"?_7e1.y:(typeof _7e1=="number"?_7e1:0))||4;
if(!_7e0){
_7e0=true;
win.doc.addEventListener(_7f4,function(e){
_7e1=_7e1&&e.target==_7e2&&Math.abs((e.touches?e.touches[0].pageX:e.clientX)-_7e3)<=_7e5&&Math.abs((e.touches?e.touches[0].pageY:e.clientY)-_7e4)<=_7e6;
},true);
win.doc.addEventListener(_7f5,function(e){
if(_7e1){
_7e7=(new Date()).getTime();
var _7f6=e.target;
if(_7f6.tagName==="LABEL"){
_7f6=dom.byId(_7f6.getAttribute("for"))||_7f6;
}
setTimeout(function(){
on.emit(_7f6,"click",{bubbles:true,cancelable:true,_dojo_click:true});
});
}
},true);
function _7f7(type){
win.doc.addEventListener(type,function(e){
if(!e._dojo_click&&(new Date()).getTime()<=_7e7+1000&&!(e.target.tagName=="INPUT"&&_7d9.contains(e.target,"dijitOffScreen"))){
e.stopPropagation();
e.stopImmediatePropagation&&e.stopImmediatePropagation();
if(type=="click"&&(e.target.tagName!="INPUT"||e.target.type=="radio"||e.target.type=="checkbox")&&e.target.tagName!="TEXTAREA"&&e.target.tagName!="AUDIO"&&e.target.tagName!="VIDEO"){
e.preventDefault();
}
}
},true);
};
_7f7("click");
_7f7("mousedown");
_7f7("mouseup");
}
}
};
var _7f8;
if(_7dc){
if(_7dd){
_7db(function(){
win.doc.addEventListener(_7de.down,function(evt){
_7f3(evt,_7de.move,_7de.up);
},true);
});
}else{
_7db(function(){
_7f8=win.body();
win.doc.addEventListener("touchstart",function(evt){
_7e8=(new Date()).getTime();
var _7f9=_7f8;
_7f8=evt.target;
on.emit(_7f9,"dojotouchout",{relatedTarget:_7f8,bubbles:true});
on.emit(_7f8,"dojotouchover",{relatedTarget:_7f9,bubbles:true});
_7f3(evt,"touchmove","touchend");
},true);
function _7fa(evt){
var _7fb=lang.delegate(evt,{bubbles:true});
if(has("ios")>=6){
_7fb.touches=evt.touches;
_7fb.altKey=evt.altKey;
_7fb.changedTouches=evt.changedTouches;
_7fb.ctrlKey=evt.ctrlKey;
_7fb.metaKey=evt.metaKey;
_7fb.shiftKey=evt.shiftKey;
_7fb.targetTouches=evt.targetTouches;
}
return _7fb;
};
on(win.doc,"touchmove",function(evt){
_7e8=(new Date()).getTime();
var _7fc=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset));
if(_7fc){
if(_7f8!==_7fc){
on.emit(_7f8,"dojotouchout",{relatedTarget:_7fc,bubbles:true});
on.emit(_7fc,"dojotouchover",{relatedTarget:_7f8,bubbles:true});
_7f8=_7fc;
}
if(!on.emit(_7fc,"dojotouchmove",_7fa(evt))){
evt.preventDefault();
}
}
});
on(win.doc,"touchend",function(evt){
_7e8=(new Date()).getTime();
var node=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset))||win.body();
on.emit(node,"dojotouchend",_7fa(evt));
});
});
}
}
var _7fd={press:_7e9("mousedown","touchstart",_7de.down),move:_7e9("mousemove","dojotouchmove",_7de.move),release:_7e9("mouseup","dojotouchend",_7de.up),cancel:_7e9(_7da.leave,"touchcancel",_7dc?_7de.cancel:null),over:_7e9("mouseover","dojotouchover",_7de.over),out:_7e9("mouseout","dojotouchout",_7de.out),enter:_7da._eventHandler(_7e9("mouseover","dojotouchover",_7de.over)),leave:_7da._eventHandler(_7e9("mouseout","dojotouchout",_7de.out))};
1&&(dojo.touch=_7fd);
return _7fd;
});
},"dojo/cache":function(){
define(["./_base/kernel","./text"],function(dojo){
return dojo.cache;
});
},"dijit/DialogUnderlay":function(){
define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/dom-attr","dojo/dom-style","dojo/on","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe","./Viewport","./main"],function(_7fe,lang,_7ff,_800,_801,on,_802,_803,_804,_805,_806,_807){
var _808=_7fe("dijit.DialogUnderlay",[_803,_804],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' tabIndex='-1' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_modalConnects:[],_setDialogIdAttr:function(id){
_800.set(this.node,"id",id+"_underlay");
this._set("dialogId",id);
},_setClassAttr:function(_809){
this.node.className="dijitDialogUnderlay "+_809;
this._set("class",_809);
},postCreate:function(){
this.ownerDocumentBody.appendChild(this.domNode);
this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")));
this.inherited(arguments);
},layout:function(){
var is=this.node.style,os=this.domNode.style;
os.display="none";
var _80a=_802.getBox(this.ownerDocument);
os.top=_80a.t+"px";
os.left=_80a.l+"px";
is.width=_80a.w+"px";
is.height=_80a.h+"px";
os.display="block";
},show:function(){
this.domNode.style.display="block";
this.open=true;
this.layout();
this.bgIframe=new _805(this.domNode);
var win=_802.get(this.ownerDocument);
this._modalConnects=[_806.on("resize",lang.hitch(this,"layout")),on(win,"scroll",lang.hitch(this,"layout"))];
},hide:function(){
this.bgIframe.destroy();
delete this.bgIframe;
this.domNode.style.display="none";
while(this._modalConnects.length){
(this._modalConnects.pop()).remove();
}
this.open=false;
},destroy:function(){
while(this._modalConnects.length){
(this._modalConnects.pop()).remove();
}
this.inherited(arguments);
},_onKeyDown:function(){
}});
_808.show=function(_80b,_80c){
var _80d=_808._singleton;
if(!_80d||_80d._destroyed){
_80d=_807._underlay=_808._singleton=new _808(_80b);
}else{
if(_80b){
_80d.set(_80b);
}
}
_801.set(_80d.domNode,"zIndex",_80c);
if(!_80d.open){
_80d.show();
}
};
_808.hide=function(){
var _80e=_808._singleton;
if(_80e&&!_80e._destroyed){
_80e.hide();
}
};
return _808;
});
},"manager/GridPages":function(){
define("manager/GridPages",["dojo/_base/declare"],function(_80f){
return _80f("Manager.GridPages",[],{templateString:dojo.cache("../../manager","templates/GridPages.html"),baseClass:"mGridPages",from:0,to:0,selected:0,grid:"",postCreate:function(){
var page=[];
page[0]=document.createElement("span");
page[0].appendChild(document.createTextNode("Páginas:"));
page[0].className="text";
this.containerNode.appendChild(page[0]);
for(var i=this.from;i<=this.to;i++){
page[i]=document.createElement("span");
page[i].appendChild(document.createTextNode(i));
page[i].className=(i==this.selected)?"selected":"link";
this.containerNode.appendChild(page[i]);
}
},onClick:function(_810){
}});
});
},"manager/DGrid":function(){
define("manager/DGrid",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/json","dojo/_base/Deferred","dojo/parser","dojo/aspect","dojo/dom-construct","dojo/dom-class","dojo/store/Memory","dojo/store/JsonRest","dijit/registry","dojo/store/util/QueryResults","dojo/store/Observable","dojo/store/Cache","dgrid/Grid","dgrid/OnDemandGrid","dgrid/extensions/Pagination"],function(_811,lang,_812,json,_813,_814,_815,_816,_817,_818,_819,_81a,_81b,_81c,_81d,Grid,_81e,_81f){
return _811("Manager.DGrid",[],{constructor:function(name,_820,_821){
this.name=name;
this.firstIndex=_820;
this.data=null;
this.columns=null;
this.widgets=[];
this.dgrid=null;
this.dgridType=_821;
this.store=null;
this.arrayData=[];
this.arrayColumns=[];
this.actionData="";
},startup:function(){
_812.forEach(this.data,lang.hitch(this,function(row,i){
var o={};
var id=i+this.firstIndex;
var arr=_812.map(row,function(item,_822){
o["id"]=id;
o["widgets"]=[];
o["field"+_822]=item;
});
this.arrayData[i++]=o;
}));
this.store=_81c(_81d(_819({baseTarget:this.actionData,idProperty:"idPessoa",query:function(_823,_824){
var _825,def,_826;
this.target=this.baseTarget+"?start="+_824.start+"&count="+_824.count;
var r=_819.prototype.query.call(this,_823,_824);
return r;
}}),_818()));
this.store.getChildren=function(_827,_828){
return this.store.query({parent:_827.id},_828);
};
var arr=_812.map(this.columns,lang.hitch(this,function(item,i){
var _829=_816.toDom(item.label);
this.arrayColumns[i]={label:item.label,field:item.field,className:item.className,sortable:item.sortable,renderHeaderCell:function(node){
if(item.label.charAt(0)=="<"){
var _82a=_816.toDom(item.label);
_816.place(_82a,node);
_814.parse(node);
}else{
node.appendChild(document.createTextNode(item.label));
}
},renderCell:function(_82b,_82c,node){
node.appendChild(document.createTextNode(_82c));
}};
}));
if(this.dgridType=="demand"){
this.dgridOnDemand();
}else{
this.dgridPagination();
}
},dgridOnDemand:function(){
this.dgrid=new _81e({},this.name);
this.dgrid.set("minRowsPerPage",16);
this.dgrid.set("store",this.store);
this.dgrid.set("columns",this.arrayColumns);
this.dgrid.startup();
},dgridPagination:function(){
var _82d=_811([Grid,_81f]);
this.dgrid=new _82d({pagingLinks:1,pagingTextBox:true,firstLastArrows:true,pageSizeOptions:[10,15,25]},this.name);
_815.after(this.dgrid,"renderArray",function(_82e){
for(var i=0;i<_82e.length;i++){
_814.parse(_82e[i].id);
}
return _82e;
});
_815.before(this.dgrid,"renderRow",function(_82f){
for(var i=0;i<_82f.widgets.length;i++){
var _830=_81a.byId(_82f.widgets[i]);
if(_830){
_830.destroyRecursive();
}
}
},true);
this.dgrid.set("store",this.store);
this.dgrid.set("columns",this.arrayColumns);
this.dgrid.startup();
}});
});
},"manager/Validate":function(){
require(["dojox/validate/_base","dojo/_base/lang","dijit/registry"],function(_831,lang,_832){
Manager.Validate={isValidCpf:function(_833,_834){
var _835=_832.byId(_834);
if(_835){
if(!_835.required&&(_835._isEmpty(_833)||(_833=="___.___.___-__"))){
return true;
}
}
if(!lang.isString(_833)){
if(!_833){
return false;
}
_833=_833+"";
while(_833.length<11){
_833="0"+_833;
}
}
var _836={format:["###.###.###-##","#########-##","###########"]};
if(_831.isNumberFormat(_833,_836)){
_833=_833.replace("-","").replace(/\./g,"");
var cpf=[];
var dv=[];
var i,j,tmp;
for(i=0;i<10;i++){
tmp="";
for(j=0;j<_833.length;j++){
tmp+=""+i;
}
if(_833===tmp){
return false;
}
}
for(i=0;i<9;i++){
cpf.push(parseInt(_833.charAt(i),10));
}
for(i=9;i<12;i++){
dv.push(parseInt(_833.charAt(i),10));
}
var base=[10,9,8,7,6,5,4,3,2];
var sum=0;
for(i=0;i<cpf.length;i++){
sum+=cpf[i]*base[i];
}
var dv0=(sum%11)<2?0:11-(sum%11);
if(dv0==dv[0]){
sum=0;
base=[11,10,9,8,7,6,5,4,3,2];
cpf.push(dv0);
for(i=0;i<cpf.length;i++){
sum+=cpf[i]*base[i];
}
var dv1=(sum%11)<2?0:11-(sum%11);
if(dv1===dv[1]){
return true;
}
}
}
return false;
},isValidCnpj:function(_837,_838){
var _839=_832.byId(_838);
if(_839){
if(!_839.required&&(_839._isEmpty(_837)||(_837=="__.___.___/____-__"))){
return true;
}
}
if(!lang.isString(_837)){
if(!_837){
return false;
}
_837=_837+"";
while(_837.length<14){
_837="0"+_837;
}
}
var _83a={format:["##.###.###/####-##","########/####-##","############-##","##############"]};
if(_831.isNumberFormat(_837,_83a)){
_837=_837.replace("/","").replace(/\./g,"").replace("-","");
var cgc=[];
var dv=[];
var i,j,tmp;
for(i=0;i<10;i++){
tmp="";
for(j=0;j<_837.length;j++){
tmp+=""+i;
}
if(_837===tmp){
return false;
}
}
for(i=0;i<12;i++){
cgc.push(parseInt(_837.charAt(i),10));
}
for(i=12;i<14;i++){
dv.push(parseInt(_837.charAt(i),10));
}
var base=[5,4,3,2,9,8,7,6,5,4,3,2];
var sum=0;
for(i=0;i<cgc.length;i++){
sum+=cgc[i]*base[i];
}
var dv0=(sum%11)<2?0:11-(sum%11);
if(dv0==dv[0]){
sum=0;
base=[6,5,4,3,2,9,8,7,6,5,4,3,2];
cgc.push(dv0);
for(i=0;i<cgc.length;i++){
sum+=cgc[i]*base[i];
}
var dv1=(sum%11)<2?0:11-(sum%11);
if(dv1===dv[1]){
return true;
}
}
}
},isValidNIT:function(_83b,_83c){
var _83d=_832.byId(_83c);
if(_83d){
if(!_83d.required&&(_83d._isEmpty(_83b)||(_83b=="___._____.__-_"))){
return true;
}
}
if(!lang.isString(_83b)){
if(!_83b){
return false;
}
_83b=_83b+"";
while(_83b.length<14){
_83b="0"+_83b;
}
}
var _83e={format:["###.#####.##-#","###########"]};
if(_831.isNumberFormat(_83b,_83e)){
_83b=_83b.replace(/\./g,"").replace("-","");
var nit=[];
var dv=[];
var i,j,tmp;
for(i=0;i<11;i++){
tmp="";
for(j=0;j<_83b.length;j++){
tmp+=""+i;
}
if(_83b===tmp){
return false;
}
}
for(i=0;i<10;i++){
nit.push(parseInt(_83b.charAt(i),10));
}
for(i=10;i<11;i++){
dv.push(parseInt(_83b.charAt(i),10));
}
var base=[3,2,9,8,7,6,5,4,3,2];
var sum=0;
for(i=0;i<nit.length;i++){
sum+=nit[i]*base[i];
}
var dv0=11-(sum%11);
if((dv0==10)||(dv0==11)){
dv0=0;
}
if(dv0==dv[0]){
return true;
}
}
return false;
}};
});
},"dojo/cldr/nls/gregorian":function(){
define({root:{"days-standAlone-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"months-format-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"y QQQ","dateFormatItem-yMEd":"y-MM-dd, E","dateFormatItem-GyMMMEd":"G y MMM d, E","dateFormatItem-MMMEd":"MMM d, E","eraNarrow":["BCE","CE"],"days-format-short":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"y MMMM d","months-format-wide":["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"],"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"y MMMM d, EEEE","dateFormatItem-Md":"MM-dd","dayPeriods-format-abbr-am":"AM","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dateFormatItem-yMd":"y-MM-dd","field-era":"Era","dateFormatItem-yM":"y-MM","months-standAlone-wide":["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"],"timeFormat-short":"HH:mm","quarters-format-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"HH:mm:ss z","field-year":"Year","dateFormatItem-yMMM":"y MMM","dateTimeFormats-appendItem-Era":"{1} {0}","field-hour":"Hour","months-format-abbr":["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"],"timeFormat-full":"HH:mm:ss zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow","dateFormatItem-GyMMMd":"G y MMM d","dateFormatItem-H":"HH","months-standAlone-abbr":["Month1","Month2","Month3","Month4","Month5","Month6","Month7","Month8","Month9","Month10","Month11","Month12"],"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["Q1","Q2","Q3","Q4"],"dateFormatItem-Gy":"G y","dateFormatItem-M":"L","days-standAlone-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"timeFormat-medium":"HH:mm:ss","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["Q1","Q2","Q3","Q4"],"eraAbbr":["BCE","CE"],"field-minute":"Minute","field-dayperiod":"Dayperiod","days-standAlone-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Yesterday","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"AM","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"MM-dd, E","dateTimeFormat-full":"{1} {0}","field-day":"Day","days-format-wide":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"field-zone":"Zone","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateFormatItem-y":"y","months-standAlone-narrow":["1","2","3","4","5","6","7","8","9","10","11","12"],"dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Year":"{1} {0}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"eraNames":["BCE","CE"],"dateFormatItem-yMMMd":"y MMM d","days-format-narrow":["S","M","T","W","T","F","S"],"days-standAlone-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-MMM":"LLL","field-month":"Month","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormat-short":"y-MM-dd","field-second":"Second","dateFormatItem-yMMMEd":"y MMM d, E","dateFormatItem-Ed":"d, E","dateTimeFormats-appendItem-Timezone":"{0} {1}","field-week":"Week","dateFormat-medium":"y MMM d","dayPeriods-format-narrow-pm":"PM","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"G y MMM"},"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"en":true,"en-au":true,"en-gb":true,"es":true,"fi":true,"fr":true,"fr-ch":true,"he":true,"hu":true,"it":true,"ja":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-hant":true,"zh-hk":true,"zh-tw":true});
},"dojo/cldr/nls/en/gregorian":function(){
define({"dateFormatItem-Ehm":"E h:mm a","days-standAlone-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Day of the Week","dateFormatItem-yQQQ":"QQQ y","dateFormatItem-yMEd":"E, M/d/y","dateFormatItem-GyMMMEd":"E, MMM d, y G","dateFormatItem-MMMEd":"E, MMM d","eraNarrow":["B","A"],"days-format-short":["Su","Mo","Tu","We","Th","Fr","Sa"],"dateTimeFormats-appendItem-Day-Of-Week":"{0} {1}","dateFormat-long":"MMMM d, y","months-format-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"dateTimeFormat-medium":"{1}, {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE, MMMM d, y","dateFormatItem-Md":"M/d","dateTimeFormats-appendItem-Second":"{0} ({2}: {1})","dayPeriods-format-wide-noon":"noon","dateFormatItem-yMd":"M/d/y","field-era":"Era","dateFormatItem-yM":"M/y","months-standAlone-wide":["January","February","March","April","May","June","July","August","September","October","November","December"],"timeFormat-short":"h:mm a","quarters-format-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"dateFormatItem-yQQQQ":"QQQQ y","timeFormat-long":"h:mm:ss a z","field-year":"Year","dateFormatItem-yMMM":"MMM y","dateTimeFormats-appendItem-Era":"{0} {1}","field-hour":"Hour","months-format-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"timeFormat-full":"h:mm:ss a zzzz","dateTimeFormats-appendItem-Week":"{0} ({2}: {1})","field-day-relative+0":"Today","field-day-relative+1":"Tomorrow","dateFormatItem-GyMMMd":"MMM d, y G","dateFormatItem-H":"HH","months-standAlone-abbr":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"quarters-format-abbr":["Q1","Q2","Q3","Q4"],"quarters-standAlone-wide":["1st quarter","2nd quarter","3rd quarter","4th quarter"],"dateFormatItem-Gy":"y G","dateFormatItem-M":"L","days-standAlone-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"timeFormat-medium":"h:mm:ss a","dateFormatItem-Hm":"HH:mm","eraAbbr":["BC","AD"],"field-minute":"Minute","field-dayperiod":"AM/PM","dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","field-day-relative+-1":"Yesterday","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} 'at' {0}","dayPeriods-format-narrow-am":"a","dateFormatItem-MMMd":"MMM d","dateFormatItem-MEd":"E, M/d","dateTimeFormat-full":"{1} 'at' {0}","field-day":"Day","days-format-wide":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"field-zone":"Time Zone","dateTimeFormats-appendItem-Day":"{0} ({2}: {1})","dateFormatItem-y":"y","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"Last year","field-month-relative+-1":"Last month","dateFormatItem-hm":"h:mm a","dateTimeFormats-appendItem-Year":"{0} {1}","dateTimeFormats-appendItem-Hour":"{0} ({2}: {1})","days-format-abbr":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"dateFormatItem-yMMMd":"MMM d, y","eraNames":["Before Christ","Anno Domini"],"days-standAlone-narrow":["S","M","T","W","T","F","S"],"dateFormatItem-MMM":"LLL","field-month":"Month","dateTimeFormats-appendItem-Quarter":"{0} ({2}: {1})","dayPeriods-format-wide-am":"AM","dateTimeFormats-appendItem-Month":"{0} ({2}: {1})","dateTimeFormats-appendItem-Minute":"{0} ({2}: {1})","dateFormatItem-EHm":"E HH:mm","dateFormat-short":"M/d/yy","dateFormatItem-EHms":"E HH:mm:ss","dateFormatItem-Ehms":"E h:mm:ss a","dayPeriods-format-narrow-noon":"n","field-second":"Second","dateFormatItem-yMMMEd":"E, MMM d, y","field-month-relative+0":"This month","field-month-relative+1":"Next month","dateFormatItem-Ed":"d E","dateTimeFormats-appendItem-Timezone":"{0} {1}","field-week":"Week","dateFormat-medium":"MMM d, y","field-year-relative+0":"This year","field-week-relative+-1":"Last week","field-year-relative+1":"Next year","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1}, {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"MMM y G","field-week-relative+0":"This week","field-week-relative+1":"Next week"});
},"dojo/cldr/nls/pt/gregorian":function(){
define({"days-standAlone-short":["dom","seg","ter","qua","qui","sex","sáb"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Dia da semana","dateFormatItem-yQQQ":"y QQQ","dateFormatItem-yMEd":"E, dd/MM/y","dateFormatItem-GyMMMEd":"E, d 'de' MMM 'de' y G","dateFormatItem-MMMEd":"E, d 'de' MMM","eraNarrow":["a.C.","d.C."],"dateFormatItem-yMM":"MM/y","dayPeriods-format-wide-morning":"manhã","days-format-short":["dom","seg","ter","qua","qui","sex","sáb"],"dateFormat-long":"d 'de' MMMM 'de' y","months-format-wide":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE, d 'de' MMMM 'de' y","dateFormatItem-Md":"d/M","dayPeriods-format-abbr-am":"AM","dayPeriods-format-wide-noon":"meio-dia","dateFormatItem-yMd":"dd/MM/y","field-era":"Era","dateFormatItem-yM":"MM/y","months-standAlone-wide":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],"timeFormat-short":"HH:mm","quarters-format-wide":["1º trimestre","2º trimestre","3º trimestre","4º trimestre"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"HH:mm:ss z","field-year":"Ano","dateFormatItem-yMMM":"MMM 'de' y","field-hour":"Hora","dateFormatItem-MMdd":"dd/MM","months-format-abbr":["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],"timeFormat-full":"HH:mm:ss zzzz","field-day-relative+0":"Hoje","field-day-relative+1":"Amanhã","dateFormatItem-GyMMMd":"d 'de' MMM 'de' y G","field-day-relative+2":"Depois de amanhã","dateFormatItem-H":"HH","months-standAlone-abbr":["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],"quarters-format-abbr":["T1","T2","T3","T4"],"quarters-standAlone-wide":["1º trimestre","2º trimestre","3º trimestre","4º trimestre"],"dateFormatItem-Gy":"y G","dateFormatItem-HHmmss":"HH:mm:ss","dateFormatItem-M":"L","days-standAlone-wide":["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],"timeFormat-medium":"HH:mm:ss","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["T1","T2","T3","T4"],"eraAbbr":["a.C.","d.C."],"field-minute":"Minuto","field-dayperiod":"Período do dia","days-standAlone-abbr":["dom","seg","ter","qua","qui","sex","sáb"],"dayPeriods-format-wide-night":"noite","dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Ontem","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"a","field-day-relative+-2":"Anteontem","dateFormatItem-MMMd":"d 'de' MMM","dateFormatItem-MEd":"E, dd/MM","dateTimeFormat-full":"{1} {0}","field-day":"Dia","days-format-wide":["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],"field-zone":"Fuso","dateFormatItem-y":"y","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"Ano passado","field-month-relative+-1":"Mês passado","dateFormatItem-hm":"h:mm a","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["dom","seg","ter","qua","qui","sex","sáb"],"eraNames":["Antes de Cristo","Ano do Senhor"],"dateFormatItem-yMMMd":"d 'de' MMM 'de' y","days-format-narrow":["D","S","T","Q","Q","S","S"],"days-standAlone-narrow":["D","S","T","Q","Q","S","S"],"dateFormatItem-MMM":"LLL","field-month":"Mês","dateFormatItem-HHmm":"HH:mm","dayPeriods-format-wide-am":"AM","dateFormat-short":"dd/MM/yy","dayPeriods-format-wide-afternoon":"tarde","field-second":"Segundo","dateFormatItem-yMMMEd":"E, d 'de' MMM 'de' y","field-month-relative+0":"Este mês","field-month-relative+1":"Próximo mês","dateFormatItem-Ed":"E, d","field-week":"Semana","dateFormat-medium":"dd/MM/y","field-year-relative+0":"Este ano","field-week-relative+-1":"Semana passada","field-year-relative+1":"Próximo ano","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"MMM 'de' y G","field-week-relative+0":"Esta semana","field-week-relative+1":"Próxima semana"});
},"dojo/cldr/nls/pt/gregorian":function(){
define({"days-standAlone-short":["dom","seg","ter","qua","qui","sex","sáb"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Dia da semana","dateFormatItem-yQQQ":"y QQQ","dateFormatItem-yMEd":"E, dd/MM/y","dateFormatItem-GyMMMEd":"E, d 'de' MMM 'de' y G","dateFormatItem-MMMEd":"E, d 'de' MMM","eraNarrow":["a.C.","d.C."],"dateFormatItem-yMM":"MM/y","dayPeriods-format-wide-morning":"manhã","days-format-short":["dom","seg","ter","qua","qui","sex","sáb"],"dateFormat-long":"d 'de' MMMM 'de' y","months-format-wide":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE, d 'de' MMMM 'de' y","dateFormatItem-Md":"d/M","dayPeriods-format-abbr-am":"AM","dayPeriods-format-wide-noon":"meio-dia","dateFormatItem-yMd":"dd/MM/y","field-era":"Era","dateFormatItem-yM":"MM/y","months-standAlone-wide":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],"timeFormat-short":"HH:mm","quarters-format-wide":["1º trimestre","2º trimestre","3º trimestre","4º trimestre"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"HH:mm:ss z","field-year":"Ano","dateFormatItem-yMMM":"MMM 'de' y","field-hour":"Hora","dateFormatItem-MMdd":"dd/MM","months-format-abbr":["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],"timeFormat-full":"HH:mm:ss zzzz","field-day-relative+0":"Hoje","field-day-relative+1":"Amanhã","dateFormatItem-GyMMMd":"d 'de' MMM 'de' y G","field-day-relative+2":"Depois de amanhã","dateFormatItem-H":"HH","months-standAlone-abbr":["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],"quarters-format-abbr":["T1","T2","T3","T4"],"quarters-standAlone-wide":["1º trimestre","2º trimestre","3º trimestre","4º trimestre"],"dateFormatItem-Gy":"y G","dateFormatItem-HHmmss":"HH:mm:ss","dateFormatItem-M":"L","days-standAlone-wide":["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],"timeFormat-medium":"HH:mm:ss","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["T1","T2","T3","T4"],"eraAbbr":["a.C.","d.C."],"field-minute":"Minuto","field-dayperiod":"Período do dia","days-standAlone-abbr":["dom","seg","ter","qua","qui","sex","sáb"],"dayPeriods-format-wide-night":"noite","dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Ontem","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"a","field-day-relative+-2":"Anteontem","dateFormatItem-MMMd":"d 'de' MMM","dateFormatItem-MEd":"E, dd/MM","dateTimeFormat-full":"{1} {0}","field-day":"Dia","days-format-wide":["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],"field-zone":"Fuso","dateFormatItem-y":"y","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"Ano passado","field-month-relative+-1":"Mês passado","dateFormatItem-hm":"h:mm a","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["dom","seg","ter","qua","qui","sex","sáb"],"eraNames":["Antes de Cristo","Ano do Senhor"],"dateFormatItem-yMMMd":"d 'de' MMM 'de' y","days-format-narrow":["D","S","T","Q","Q","S","S"],"days-standAlone-narrow":["D","S","T","Q","Q","S","S"],"dateFormatItem-MMM":"LLL","field-month":"Mês","dateFormatItem-HHmm":"HH:mm","dayPeriods-format-wide-am":"AM","dateFormat-short":"dd/MM/yy","dayPeriods-format-wide-afternoon":"tarde","field-second":"Segundo","dateFormatItem-yMMMEd":"E, d 'de' MMM 'de' y","field-month-relative+0":"Este mês","field-month-relative+1":"Próximo mês","dateFormatItem-Ed":"E, d","field-week":"Semana","dateFormat-medium":"dd/MM/y","field-year-relative+0":"Este ano","field-week-relative+-1":"Semana passada","field-year-relative+1":"Próximo ano","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"MMM 'de' y G","field-week-relative+0":"Esta semana","field-week-relative+1":"Próxima semana"});
},"dijit/form/_ToggleButtonMixin":function(){
define(["dojo/_base/declare","dojo/dom-attr"],function(_83f,_840){
return _83f("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){
var _841=this.checked;
this._set("checked",!_841);
var ret=this.inherited(arguments);
this.set("checked",ret?this.checked:_841);
return ret;
},_setCheckedAttr:function(_842,_843){
this._set("checked",_842);
var node=this.focusNode||this.domNode;
if(this._created){
if(_840.get(node,"checked")!=!!_842){
_840.set(node,"checked",!!_842);
}
}
node.setAttribute(this._aria_attr,String(_842));
this._handleOnChange(_842,_843);
},postCreate:function(){
this.inherited(arguments);
var node=this.focusNode||this.domNode;
if(this.checked){
node.setAttribute("checked","checked");
}
},reset:function(){
this._hasBeenBlurred=false;
this.set("checked",this.params.checked||false);
}});
});
},"xstyle/css":function(){
define(["require"],function(_844){
"use strict";
var _845=window.cssCache||(window.cssCache={});
return {load:function(_846,_847,_848,_849){
var url=_847.toUrl(_846);
if(_845[url]){
return createStyleSheet(_845[url]);
}
var _84a=document.documentElement;
var _84b=_84a.insertBefore(document.createElement("div"),_84a.firstChild);
_84b.id=_847.toAbsMid(_846).replace(/\//g,"-").replace(/\..*/,"")+"-loaded";
var _84c=(_84b.currentStyle||getComputedStyle(_84b,null)).display;
_84a.removeChild(_84b);
if(_84c=="none"){
return _848();
}
_844(["./load-css"],function(load){
load(url,_848);
});
},pluginBuilder:"xstyle/css-builder"};
});
},"dojo/store/util/SimpleQueryEngine":function(){
define(["../../_base/array"],function(_84d){
return function(_84e,_84f){
switch(typeof _84e){
default:
throw new Error("Can not query with a "+typeof _84e);
case "object":
case "undefined":
var _850=_84e;
_84e=function(_851){
for(var key in _850){
var _852=_850[key];
if(_852&&_852.test){
if(!_852.test(_851[key],_851)){
return false;
}
}else{
if(_852!=_851[key]){
return false;
}
}
}
return true;
};
break;
case "string":
if(!this[_84e]){
throw new Error("No filter function "+_84e+" was found in store");
}
_84e=this[_84e];
case "function":
}
function _853(_854){
var _855=_84d.filter(_854,_84e);
var _856=_84f&&_84f.sort;
if(_856){
_855.sort(typeof _856=="function"?_856:function(a,b){
for(var sort,i=0;sort=_856[i];i++){
var _857=a[sort.attribute];
var _858=b[sort.attribute];
_857=_857!=null?_857.valueOf():_857;
_858=_858!=null?_858.valueOf():_858;
if(_857!=_858){
return !!sort.descending==(_857==null||_857>_858)?-1:1;
}
}
return 0;
});
}
if(_84f&&(_84f.start||_84f.count)){
var _859=_855.length;
_855=_855.slice(_84f.start||0,(_84f.start||0)+(_84f.count||Infinity));
_855.total=_859;
}
return _855;
};
_853.matches=_84e;
return _853;
};
});
},"dijit/_TemplatedMixin":function(){
define(["dojo/cache","dojo/_base/declare","dojo/dom-construct","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_AttachMixin"],function(_85a,_85b,_85c,lang,on,has,_85d,_85e){
var _85f=_85b("dijit._TemplatedMixin",_85e,{templateString:null,templatePath:null,_skipNodeCache:false,searchContainerNode:true,_stringRepl:function(tmpl){
var _860=this.declaredClass,_861=this;
return _85d.substitute(tmpl,this,function(_862,key){
if(key.charAt(0)=="!"){
_862=lang.getObject(key.substr(1),false,_861);
}
if(typeof _862=="undefined"){
throw new Error(_860+" template:"+key);
}
if(_862==null){
return "";
}
return key.charAt(0)=="!"?_862:_862.toString().replace(/"/g,"&quot;");
},this);
},buildRendering:function(){
if(!this._rendered){
if(!this.templateString){
this.templateString=_85a(this.templatePath,{sanitize:true});
}
var _863=_85f.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);
var node;
if(lang.isString(_863)){
node=_85c.toDom(this._stringRepl(_863),this.ownerDocument);
if(node.nodeType!=1){
throw new Error("Invalid template: "+_863);
}
}else{
node=_863.cloneNode(true);
}
this.domNode=node;
}
this.inherited(arguments);
if(!this._rendered){
this._fillContent(this.srcNodeRef);
}
this._rendered=true;
},_fillContent:function(_864){
var dest=this.containerNode;
if(_864&&dest){
while(_864.hasChildNodes()){
dest.appendChild(_864.firstChild);
}
}
}});
_85f._templateCache={};
_85f.getCachedTemplate=function(_865,_866,doc){
var _867=_85f._templateCache;
var key=_865;
var _868=_867[key];
if(_868){
try{
if(!_868.ownerDocument||_868.ownerDocument==(doc||document)){
return _868;
}
}
catch(e){
}
_85c.destroy(_868);
}
_865=_85d.trim(_865);
if(_866||_865.match(/\$\{([^\}]+)\}/g)){
return (_867[key]=_865);
}else{
var node=_85c.toDom(_865,doc);
if(node.nodeType!=1){
throw new Error("Invalid template: "+_865);
}
return (_867[key]=node);
}
};
if(has("ie")){
on(window,"unload",function(){
var _869=_85f._templateCache;
for(var key in _869){
var _86a=_869[key];
if(typeof _86a=="object"){
_85c.destroy(_86a);
}
delete _869[key];
}
});
}
return _85f;
});
},"dojo/store/JsonRest":function(){
define(["../_base/xhr","../_base/lang","../json","../_base/declare","./util/QueryResults"],function(xhr,lang,JSON,_86b,_86c){
var base=null;
return _86b("dojo.store.JsonRest",base,{constructor:function(_86d){
this.headers={};
_86b.safeMixin(this,_86d);
},headers:{},target:"",idProperty:"id",ascendingPrefix:"+",descendingPrefix:"-",get:function(id,_86e){
_86e=_86e||{};
var _86f=lang.mixin({Accept:this.accepts},this.headers,_86e.headers||_86e);
return xhr("GET",{url:this.target+id,handleAs:"json",headers:_86f});
},accepts:"application/javascript, application/json",getIdentity:function(_870){
return _870[this.idProperty];
},put:function(_871,_872){
_872=_872||{};
var id=("id" in _872)?_872.id:this.getIdentity(_871);
var _873=typeof id!="undefined";
return xhr(_873&&!_872.incremental?"PUT":"POST",{url:_873?this.target+id:this.target,postData:JSON.stringify(_871),handleAs:"json",headers:lang.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":_872.overwrite===true?"*":null,"If-None-Match":_872.overwrite===false?"*":null},this.headers,_872.headers)});
},add:function(_874,_875){
_875=_875||{};
_875.overwrite=false;
return this.put(_874,_875);
},remove:function(id,_876){
_876=_876||{};
return xhr("DELETE",{url:this.target+id,headers:lang.mixin({},this.headers,_876.headers)});
},query:function(_877,_878){
_878=_878||{};
var _879=lang.mixin({Accept:this.accepts},this.headers,_878.headers);
if(_878.start>=0||_878.count>=0){
_879.Range=_879["X-Range"]="items="+(_878.start||"0")+"-"+(("count" in _878&&_878.count!=Infinity)?(_878.count+(_878.start||0)-1):"");
}
var _87a=this.target.indexOf("?")>-1;
if(_877&&typeof _877=="object"){
_877=xhr.objectToQuery(_877);
_877=_877?(_87a?"&":"?")+_877:"";
}
if(_878&&_878.sort){
var _87b=this.sortParam;
_877+=(_877||_87a?"&":"?")+(_87b?_87b+"=":"sort(");
for(var i=0;i<_878.sort.length;i++){
var sort=_878.sort[i];
_877+=(i>0?",":"")+(sort.descending?this.descendingPrefix:this.ascendingPrefix)+encodeURIComponent(sort.attribute);
}
if(!_87b){
_877+=")";
}
}
var _87c=xhr("GET",{url:this.target+(_877||""),handleAs:"json",headers:_879});
_87c.total=_87c.then(function(){
var _87d=_87c.ioArgs.xhr.getResponseHeader("Content-Range");
return _87d&&(_87d=_87d.match(/\/(.*)/))&&+_87d[1];
});
return _86c(_87c);
}});
});
},"manager/Base64":function(){
define("manager/Base64",["dojo/_base/declare"],function(_87e){
return _87e("Manager.Base64",[],{constructor:function(){
},_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(_87f){
var _880="";
var chr1,chr2,chr3,enc1,enc2,enc3,enc4;
var i=0;
_87f=this._utf8_encode(_87f);
while(i<_87f.length){
chr1=_87f.charCodeAt(i++);
chr2=_87f.charCodeAt(i++);
chr3=_87f.charCodeAt(i++);
enc1=chr1>>2;
enc2=((chr1&3)<<4)|(chr2>>4);
enc3=((chr2&15)<<2)|(chr3>>6);
enc4=chr3&63;
if(isNaN(chr2)){
enc3=enc4=64;
}else{
if(isNaN(chr3)){
enc4=64;
}
}
_880=_880+this._keyStr.charAt(enc1)+this._keyStr.charAt(enc2)+this._keyStr.charAt(enc3)+this._keyStr.charAt(enc4);
}
return _880;
},decode:function(_881){
var _882="";
var chr1,chr2,chr3;
var enc1,enc2,enc3,enc4;
var i=0;
_881=_881.replace(/[^A-Za-z0-9\+\/\=]/g,"");
while(i<_881.length){
enc1=this._keyStr.indexOf(_881.charAt(i++));
enc2=this._keyStr.indexOf(_881.charAt(i++));
enc3=this._keyStr.indexOf(_881.charAt(i++));
enc4=this._keyStr.indexOf(_881.charAt(i++));
chr1=(enc1<<2)|(enc2>>4);
chr2=((enc2&15)<<4)|(enc3>>2);
chr3=((enc3&3)<<6)|enc4;
_882=_882+String.fromCharCode(chr1);
if(enc3!=64){
_882=_882+String.fromCharCode(chr2);
}
if(enc4!=64){
_882=_882+String.fromCharCode(chr3);
}
}
_882=this._utf8_decode(_882);
return _882;
},_utf8_encode:function(_883){
_883=_883.replace(/\r\n/g,"\n");
var _884="";
for(var n=0;n<_883.length;n++){
var c=_883.charCodeAt(n);
if(c<128){
_884+=String.fromCharCode(c);
}else{
if((c>127)&&(c<2048)){
_884+=String.fromCharCode((c>>6)|192);
_884+=String.fromCharCode((c&63)|128);
}else{
_884+=String.fromCharCode((c>>12)|224);
_884+=String.fromCharCode(((c>>6)&63)|128);
_884+=String.fromCharCode((c&63)|128);
}
}
}
return _884;
},_utf8_decode:function(_885){
var _886="";
var i=0;
var c=c1=c2=0;
while(i<_885.length){
c=_885.charCodeAt(i);
if(c<128){
_886+=String.fromCharCode(c);
i++;
}else{
if((c>191)&&(c<224)){
c2=_885.charCodeAt(i+1);
_886+=String.fromCharCode(((c&31)<<6)|(c2&63));
i+=2;
}else{
c2=_885.charCodeAt(i+1);
c3=_885.charCodeAt(i+2);
_886+=String.fromCharCode(((c&15)<<12)|((c2&63)<<6)|(c3&63));
i+=3;
}
}
}
return _886;
}});
});
},"dojo/dnd/Manager":function(){
define(["../_base/array","../_base/declare","../_base/lang","../_base/window","../dom-class","../Evented","../has","../keys","../on","../topic","../touch","./common","./autoscroll","./Avatar"],function(_887,_888,lang,win,_889,_88a,has,keys,on,_88b,_88c,dnd,_88d,_88e){
var _88f=_888("dojo.dnd.Manager",[_88a],{constructor:function(){
this.avatar=null;
this.source=null;
this.nodes=[];
this.copy=true;
this.target=null;
this.canDropFlag=false;
this.events=[];
},OFFSET_X:has("touch")?0:16,OFFSET_Y:has("touch")?-64:16,overSource:function(_890){
if(this.avatar){
this.target=(_890&&_890.targetState!="Disabled")?_890:null;
this.canDropFlag=Boolean(this.target);
this.avatar.update();
}
_88b.publish("/dnd/source/over",_890);
},outSource:function(_891){
if(this.avatar){
if(this.target==_891){
this.target=null;
this.canDropFlag=false;
this.avatar.update();
_88b.publish("/dnd/source/over",null);
}
}else{
_88b.publish("/dnd/source/over",null);
}
},startDrag:function(_892,_893,copy){
_88d.autoScrollStart(win.doc);
this.source=_892;
this.nodes=_893;
this.copy=Boolean(copy);
this.avatar=this.makeAvatar();
win.body().appendChild(this.avatar.node);
_88b.publish("/dnd/start",_892,_893,this.copy);
function _894(e){
e.preventDefault();
e.stopPropagation();
};
this.events=[on(win.doc,_88c.move,lang.hitch(this,"onMouseMove")),on(win.doc,_88c.release,lang.hitch(this,"onMouseUp")),on(win.doc,"keydown",lang.hitch(this,"onKeyDown")),on(win.doc,"keyup",lang.hitch(this,"onKeyUp")),on(win.doc,"dragstart",_894),on(win.body(),"selectstart",_894)];
var c="dojoDnd"+(copy?"Copy":"Move");
_889.add(win.body(),c);
},canDrop:function(flag){
var _895=Boolean(this.target&&flag);
if(this.canDropFlag!=_895){
this.canDropFlag=_895;
this.avatar.update();
}
},stopDrag:function(){
_889.remove(win.body(),["dojoDndCopy","dojoDndMove"]);
_887.forEach(this.events,function(_896){
_896.remove();
});
this.events=[];
this.avatar.destroy();
this.avatar=null;
this.source=this.target=null;
this.nodes=[];
},makeAvatar:function(){
return new _88e(this);
},updateAvatar:function(){
this.avatar.update();
},onMouseMove:function(e){
var a=this.avatar;
if(a){
_88d.autoScrollNodes(e);
var s=a.node.style;
s.left=(e.pageX+this.OFFSET_X)+"px";
s.top=(e.pageY+this.OFFSET_Y)+"px";
var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));
if(this.copy!=copy){
this._setCopyStatus(copy);
}
}
if(has("touch")){
e.preventDefault();
}
},onMouseUp:function(e){
if(this.avatar){
if(this.target&&this.canDropFlag){
var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));
_88b.publish("/dnd/drop/before",this.source,this.nodes,copy,this.target,e);
_88b.publish("/dnd/drop",this.source,this.nodes,copy,this.target,e);
}else{
_88b.publish("/dnd/cancel");
}
this.stopDrag();
}
},onKeyDown:function(e){
if(this.avatar){
switch(e.keyCode){
case keys.CTRL:
var copy=Boolean(this.source.copyState(true));
if(this.copy!=copy){
this._setCopyStatus(copy);
}
break;
case keys.ESCAPE:
_88b.publish("/dnd/cancel");
this.stopDrag();
break;
}
}
},onKeyUp:function(e){
if(this.avatar&&e.keyCode==keys.CTRL){
var copy=Boolean(this.source.copyState(false));
if(this.copy!=copy){
this._setCopyStatus(copy);
}
}
},_setCopyStatus:function(copy){
this.copy=copy;
this.source._markDndStatus(this.copy);
this.updateAvatar();
_889.replace(win.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"));
}});
dnd._manager=null;
_88f.manager=dnd.manager=function(){
if(!dnd._manager){
dnd._manager=new _88f();
}
return dnd._manager;
};
return _88f;
});
},"dijit/_KeyNavMixin":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dijit/registry","dijit/_FocusMixin"],function(_897,_898,_899,keys,lang,on,_89a,_89b){
return _898("dijit._KeyNavMixin",_89b,{tabIndex:"0",childSelector:null,postCreate:function(){
this.inherited(arguments);
_899.set(this.domNode,"tabIndex",this.tabIndex);
if(!this._keyNavCodes){
var _89c=this._keyNavCodes={};
_89c[keys.HOME]=lang.hitch(this,"focusFirstChild");
_89c[keys.END]=lang.hitch(this,"focusLastChild");
_89c[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]=lang.hitch(this,"_onLeftArrow");
_89c[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]=lang.hitch(this,"_onRightArrow");
_89c[keys.UP_ARROW]=lang.hitch(this,"_onUpArrow");
_89c[keys.DOWN_ARROW]=lang.hitch(this,"_onDownArrow");
}
var self=this,_89d=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");
this.own(on(this.domNode,"keypress",lang.hitch(this,"_onContainerKeypress")),on(this.domNode,"keydown",lang.hitch(this,"_onContainerKeydown")),on(this.domNode,"focus",lang.hitch(this,"_onContainerFocus")),on(this.containerNode,on.selector(_89d,"focusin"),function(evt){
self._onChildFocus(_89a.getEnclosingWidget(this),evt);
}));
},_onLeftArrow:function(){
},_onRightArrow:function(){
},_onUpArrow:function(){
},_onDownArrow:function(){
},focus:function(){
this.focusFirstChild();
},_getFirstFocusableChild:function(){
return this._getNextFocusableChild(null,1);
},_getLastFocusableChild:function(){
return this._getNextFocusableChild(null,-1);
},focusFirstChild:function(){
this.focusChild(this._getFirstFocusableChild());
},focusLastChild:function(){
this.focusChild(this._getLastFocusableChild());
},focusChild:function(_89e,last){
if(!_89e){
return;
}
if(this.focusedChild&&_89e!==this.focusedChild){
this._onChildBlur(this.focusedChild);
}
_89e.set("tabIndex",this.tabIndex);
_89e.focus(last?"end":"start");
},_onContainerFocus:function(evt){
if(evt.target!==this.domNode||this.focusedChild){
return;
}
this.focus();
},_onFocus:function(){
_899.set(this.domNode,"tabIndex","-1");
this.inherited(arguments);
},_onBlur:function(evt){
_899.set(this.domNode,"tabIndex",this.tabIndex);
if(this.focusedChild){
this.focusedChild.set("tabIndex","-1");
this.lastFocusedChild=this.focusedChild;
this._set("focusedChild",null);
}
this.inherited(arguments);
},_onChildFocus:function(_89f){
if(_89f&&_89f!=this.focusedChild){
if(this.focusedChild&&!this.focusedChild._destroyed){
this.focusedChild.set("tabIndex","-1");
}
_89f.set("tabIndex",this.tabIndex);
this.lastFocused=_89f;
this._set("focusedChild",_89f);
}
},_searchString:"",multiCharSearchDuration:1000,onKeyboardSearch:function(item,evt,_8a0,_8a1){
if(item){
this.focusChild(item);
}
},_keyboardSearchCompare:function(item,_8a2){
var _8a3=item.domNode,text=item.label||(_8a3.focusNode?_8a3.focusNode.label:"")||_8a3.innerText||_8a3.textContent||"",_8a4=text.replace(/^\s+/,"").substr(0,_8a2.length).toLowerCase();
return (!!_8a2.length&&_8a4==_8a2)?-1:0;
},_onContainerKeydown:function(evt){
var func=this._keyNavCodes[evt.keyCode];
if(func){
func(evt,this.focusedChild);
evt.stopPropagation();
evt.preventDefault();
this._searchString="";
}else{
if(evt.keyCode==keys.SPACE&&this._searchTimer&&!(evt.ctrlKey||evt.altKey||evt.metaKey)){
evt.stopImmediatePropagation();
evt.preventDefault();
this._keyboardSearch(evt," ");
}
}
},_onContainerKeypress:function(evt){
if(evt.charCode<keys.SPACE||evt.ctrlKey||evt.altKey||evt.metaKey||(evt.charCode==keys.SPACE&&this._searchTimer)){
return;
}
evt.preventDefault();
evt.stopPropagation();
this._keyboardSearch(evt,String.fromCharCode(evt.charCode).toLowerCase());
},_keyboardSearch:function(evt,_8a5){
var _8a6=null,_8a7,_8a8=0,_8a9=lang.hitch(this,function(){
if(this._searchTimer){
this._searchTimer.remove();
}
this._searchString+=_8a5;
var _8aa=/^(.)\1*$/.test(this._searchString);
var _8ab=_8aa?1:this._searchString.length;
_8a7=this._searchString.substr(0,_8ab);
this._searchTimer=this.defer(function(){
this._searchTimer=null;
this._searchString="";
},this.multiCharSearchDuration);
var _8ac=this.focusedChild||null;
if(_8ab==1||!_8ac){
_8ac=this._getNextFocusableChild(_8ac,1);
if(!_8ac){
return;
}
}
var stop=_8ac;
do{
var rc=this._keyboardSearchCompare(_8ac,_8a7);
if(!!rc&&_8a8++==0){
_8a6=_8ac;
}
if(rc==-1){
_8a8=-1;
break;
}
_8ac=this._getNextFocusableChild(_8ac,1);
}while(_8ac!=stop);
});
_8a9();
this.onKeyboardSearch(_8a6,evt,_8a7,_8a8);
},_onChildBlur:function(){
},_getNextFocusableChild:function(_8ad,dir){
var _8ae=_8ad;
do{
if(!_8ad){
_8ad=this[dir>0?"_getFirst":"_getLast"]();
if(!_8ad){
break;
}
}else{
_8ad=this._getNext(_8ad,dir);
}
if(_8ad!=null&&_8ad!=_8ae&&_8ad.isFocusable()){
return _8ad;
}
}while(_8ad!=_8ae);
return null;
},_getFirst:function(){
return null;
},_getLast:function(){
return null;
},_getNext:function(_8af,dir){
if(_8af){
_8af=_8af.domNode;
while(_8af){
_8af=_8af[dir<0?"previousSibling":"nextSibling"];
if(_8af&&"getAttribute" in _8af){
var w=_89a.byNode(_8af);
if(w){
return w;
}
}
}
}
return null;
}});
});
},"dojox/grid/DataSelection":function(){
define(["dojo/_base/declare","./_SelectionPreserver","./Selection"],function(_8b0,_8b1,_8b2){
return _8b0("dojox.grid.DataSelection",_8b2,{constructor:function(grid){
if(grid.keepSelection){
this.preserver=new _8b1(this);
}
},destroy:function(){
if(this.preserver){
this.preserver.destroy();
}
},getFirstSelected:function(){
var idx=_8b2.prototype.getFirstSelected.call(this);
if(idx==-1){
return null;
}
return this.grid.getItem(idx);
},getNextSelected:function(_8b3){
var _8b4=this.grid.getItemIndex(_8b3);
var idx=_8b2.prototype.getNextSelected.call(this,_8b4);
if(idx==-1){
return null;
}
return this.grid.getItem(idx);
},getSelected:function(){
var _8b5=[];
for(var i=0,l=this.selected.length;i<l;i++){
if(this.selected[i]){
_8b5.push(this.grid.getItem(i));
}
}
return _8b5;
},addToSelection:function(_8b6){
if(this.mode=="none"){
return;
}
var idx=null;
if(typeof _8b6=="number"||typeof _8b6=="string"){
idx=_8b6;
}else{
idx=this.grid.getItemIndex(_8b6);
}
_8b2.prototype.addToSelection.call(this,idx);
},deselect:function(_8b7){
if(this.mode=="none"){
return;
}
var idx=null;
if(typeof _8b7=="number"||typeof _8b7=="string"){
idx=_8b7;
}else{
idx=this.grid.getItemIndex(_8b7);
}
_8b2.prototype.deselect.call(this,idx);
},deselectAll:function(_8b8){
var idx=null;
if(_8b8||typeof _8b8=="number"){
if(typeof _8b8=="number"||typeof _8b8=="string"){
idx=_8b8;
}else{
idx=this.grid.getItemIndex(_8b8);
}
_8b2.prototype.deselectAll.call(this,idx);
}else{
this.inherited(arguments);
}
}});
});
},"dijit/form/_TextBoxMixin":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(_8b9,_8ba,dom,has,keys,lang,on,_8bb){
var _8bc=_8ba("dijit.form._TextBoxMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){
return this.parse(this.get("displayedValue"),this.constraints);
},_setValueAttr:function(_8bd,_8be,_8bf){
var _8c0;
if(_8bd!==undefined){
_8c0=this.filter(_8bd);
if(typeof _8bf!="string"){
if(_8c0!==null&&((typeof _8c0!="number")||!isNaN(_8c0))){
_8bf=this.filter(this.format(_8c0,this.constraints));
}else{
_8bf="";
}
}
}
if(_8bf!=null&&((typeof _8bf)!="number"||!isNaN(_8bf))&&this.textbox.value!=_8bf){
this.textbox.value=_8bf;
this._set("displayedValue",this.get("displayedValue"));
}
this.inherited(arguments,[_8c0,_8be]);
},displayedValue:"",_getDisplayedValueAttr:function(){
return this.filter(this.textbox.value);
},_setDisplayedValueAttr:function(_8c1){
if(_8c1==null){
_8c1="";
}else{
if(typeof _8c1!="string"){
_8c1=String(_8c1);
}
}
this.textbox.value=_8c1;
this._setValueAttr(this.get("value"),undefined);
this._set("displayedValue",this.get("displayedValue"));
},format:function(_8c2){
return _8c2==null?"":(_8c2.toString?_8c2.toString():_8c2);
},parse:function(_8c3){
return _8c3;
},_refreshState:function(){
},onInput:function(){
},__skipInputEvent:false,_onInput:function(evt){
this._processInput(evt);
if(this.intermediateChanges){
this.defer(function(){
this._handleOnChange(this.get("value"),false);
});
}
},_processInput:function(evt){
this._refreshState();
this._set("displayedValue",this.get("displayedValue"));
},postCreate:function(){
this.textbox.setAttribute("value",this.textbox.value);
this.inherited(arguments);
var _8c4=function(e){
var _8c5;
if(e.type=="keydown"){
_8c5=e.keyCode;
switch(_8c5){
case keys.SHIFT:
case keys.ALT:
case keys.CTRL:
case keys.META:
case keys.CAPS_LOCK:
case keys.NUM_LOCK:
case keys.SCROLL_LOCK:
return;
}
if(!e.ctrlKey&&!e.metaKey&&!e.altKey){
switch(_8c5){
case keys.NUMPAD_0:
case keys.NUMPAD_1:
case keys.NUMPAD_2:
case keys.NUMPAD_3:
case keys.NUMPAD_4:
case keys.NUMPAD_5:
case keys.NUMPAD_6:
case keys.NUMPAD_7:
case keys.NUMPAD_8:
case keys.NUMPAD_9:
case keys.NUMPAD_MULTIPLY:
case keys.NUMPAD_PLUS:
case keys.NUMPAD_ENTER:
case keys.NUMPAD_MINUS:
case keys.NUMPAD_PERIOD:
case keys.NUMPAD_DIVIDE:
return;
}
if((_8c5>=65&&_8c5<=90)||(_8c5>=48&&_8c5<=57)||_8c5==keys.SPACE){
return;
}
var _8c6=false;
for(var i in keys){
if(keys[i]===e.keyCode){
_8c6=true;
break;
}
}
if(!_8c6){
return;
}
}
}
_8c5=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode;
if(!_8c5){
_8c5=(e.keyCode>=65&&e.keyCode<=90)||(e.keyCode>=48&&e.keyCode<=57)||e.keyCode==keys.SPACE?String.fromCharCode(e.keyCode):e.keyCode;
}
if(!_8c5){
_8c5=229;
}
if(e.type=="keypress"){
if(typeof _8c5!="string"){
return;
}
if((_8c5>="a"&&_8c5<="z")||(_8c5>="A"&&_8c5<="Z")||(_8c5>="0"&&_8c5<="9")||(_8c5===" ")){
if(e.ctrlKey||e.metaKey||e.altKey){
return;
}
}
}
if(e.type=="input"){
if(this.__skipInputEvent){
this.__skipInputEvent=false;
return;
}
}else{
this.__skipInputEvent=true;
}
var faux={faux:true},attr;
for(attr in e){
if(attr!="layerX"&&attr!="layerY"){
var v=e[attr];
if(typeof v!="function"&&typeof v!="undefined"){
faux[attr]=v;
}
}
}
lang.mixin(faux,{charOrCode:_8c5,_wasConsumed:false,preventDefault:function(){
faux._wasConsumed=true;
e.preventDefault();
},stopPropagation:function(){
e.stopPropagation();
}});
if(this.onInput(faux)===false){
faux.preventDefault();
faux.stopPropagation();
}
if(faux._wasConsumed){
return;
}
this.defer(function(){
this._onInput(faux);
});
if(e.type=="keypress"){
e.stopPropagation();
}
};
this.own(on(this.textbox,"keydown, keypress, paste, cut, input, compositionend",lang.hitch(this,_8c4)));
},_blankValue:"",filter:function(val){
if(val===null){
return this._blankValue;
}
if(typeof val!="string"){
return val;
}
if(this.trim){
val=lang.trim(val);
}
if(this.uppercase){
val=val.toUpperCase();
}
if(this.lowercase){
val=val.toLowerCase();
}
if(this.propercase){
val=val.replace(/[^\s]+/g,function(word){
return word.substring(0,1).toUpperCase()+word.substring(1);
});
}
return val;
},_setBlurValue:function(){
this._setValueAttr(this.get("value"),true);
},_onBlur:function(e){
if(this.disabled){
return;
}
this._setBlurValue();
this.inherited(arguments);
},_isTextSelected:function(){
return this.textbox.selectionStart!=this.textbox.selectionEnd;
},_onFocus:function(by){
if(this.disabled||this.readOnly){
return;
}
if(this.selectOnClick&&by=="mouse"){
this._selectOnClickHandle=on.once(this.domNode,"mouseup, touchend",lang.hitch(this,function(evt){
if(!this._isTextSelected()){
_8bc.selectInputText(this.textbox);
}
}));
this.own(this._selectOnClickHandle);
this.defer(function(){
if(this._selectOnClickHandle){
this._selectOnClickHandle.remove();
this._selectOnClickHandle=null;
}
},500);
}
this.inherited(arguments);
this._refreshState();
},reset:function(){
this.textbox.value="";
this.inherited(arguments);
}});
if(has("dojo-bidi")){
_8bc=_8ba("dijit.form._TextBoxMixin",_8bc,{_setValueAttr:function(){
this.inherited(arguments);
this.applyTextDir(this.focusNode);
},_setDisplayedValueAttr:function(){
this.inherited(arguments);
this.applyTextDir(this.focusNode);
},_onInput:function(){
this.applyTextDir(this.focusNode);
this.inherited(arguments);
}});
}
_8bc._setSelectionRange=_8bb._setSelectionRange=function(_8c7,_8c8,stop){
if(_8c7.setSelectionRange){
_8c7.setSelectionRange(_8c8,stop);
}
};
_8bc.selectInputText=_8bb.selectInputText=function(_8c9,_8ca,stop){
_8c9=dom.byId(_8c9);
if(isNaN(_8ca)){
_8ca=0;
}
if(isNaN(stop)){
stop=_8c9.value?_8c9.value.length:0;
}
try{
_8c9.focus();
_8bc._setSelectionRange(_8c9,_8ca,stop);
}
catch(e){
}
};
return _8bc;
});
},"dijit/a11y":function(){
define(["dojo/_base/array","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/sniff","./main"],function(_8cb,dom,_8cc,_8cd,lang,has,_8ce){
var _8cf;
var a11y={_isElementShown:function(elem){
var s=_8cd.get(elem);
return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_8cc.get(elem,"type")!="hidden");
},hasDefaultTabStop:function(elem){
switch(elem.nodeName.toLowerCase()){
case "a":
return _8cc.has(elem,"href");
case "area":
case "button":
case "input":
case "object":
case "select":
case "textarea":
return true;
case "iframe":
var body;
try{
var _8d0=elem.contentDocument;
if("designMode" in _8d0&&_8d0.designMode=="on"){
return true;
}
body=_8d0.body;
}
catch(e1){
try{
body=elem.contentWindow.document.body;
}
catch(e2){
return false;
}
}
return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));
default:
return elem.contentEditable=="true";
}
},effectiveTabIndex:function(elem){
if(_8cc.get(elem,"disabled")){
return _8cf;
}else{
if(_8cc.has(elem,"tabIndex")){
return +_8cc.get(elem,"tabIndex");
}else{
return a11y.hasDefaultTabStop(elem)?0:_8cf;
}
}
},isTabNavigable:function(elem){
return a11y.effectiveTabIndex(elem)>=0;
},isFocusable:function(elem){
return a11y.effectiveTabIndex(elem)>=-1;
},_getTabNavigable:function(root){
var _8d1,last,_8d2,_8d3,_8d4,_8d5,_8d6={};
function _8d7(node){
return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();
};
var _8d8=a11y._isElementShown,_8d9=a11y.effectiveTabIndex;
var _8da=function(_8db){
for(var _8dc=_8db.firstChild;_8dc;_8dc=_8dc.nextSibling){
if(_8dc.nodeType!=1||(has("ie")<=9&&_8dc.scopeName!=="HTML")||!_8d8(_8dc)){
continue;
}
var _8dd=_8d9(_8dc);
if(_8dd>=0){
if(_8dd==0){
if(!_8d1){
_8d1=_8dc;
}
last=_8dc;
}else{
if(_8dd>0){
if(!_8d2||_8dd<_8d3){
_8d3=_8dd;
_8d2=_8dc;
}
if(!_8d4||_8dd>=_8d5){
_8d5=_8dd;
_8d4=_8dc;
}
}
}
var rn=_8d7(_8dc);
if(_8cc.get(_8dc,"checked")&&rn){
_8d6[rn]=_8dc;
}
}
if(_8dc.nodeName.toUpperCase()!="SELECT"){
_8da(_8dc);
}
}
};
if(_8d8(root)){
_8da(root);
}
function rs(node){
return _8d6[_8d7(node)]||node;
};
return {first:rs(_8d1),last:rs(last),lowest:rs(_8d2),highest:rs(_8d4)};
},getFirstInTabbingOrder:function(root,doc){
var _8de=a11y._getTabNavigable(dom.byId(root,doc));
return _8de.lowest?_8de.lowest:_8de.first;
},getLastInTabbingOrder:function(root,doc){
var _8df=a11y._getTabNavigable(dom.byId(root,doc));
return _8df.last?_8df.last:_8df.highest;
}};
1&&lang.mixin(_8ce,a11y);
return a11y;
});
},"dgrid/Selection":function(){
define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/Deferred","dojo/on","dojo/has","dojo/aspect","./List","dojo/has!touch?./util/touch","put-selector/put","dojo/query","dojo/_base/sniff"],function(_8e0,_8e1,_8e2,on,has,_8e3,List,_8e4,put){
has.add("css-user-select",function(_8e5,doc,_8e6){
var _8e7=_8e6.style,_8e8=["Khtml","O","ms","Moz","Webkit"],i=_8e8.length,name="userSelect";
do{
if(typeof _8e7[name]!=="undefined"){
return name;
}
}while(i--&&(name=_8e8[i]+"UserSelect"));
return false;
});
has.add("dom-selectstart",typeof document.onselectstart!=="undefined");
var _8e9=has("mac")?"metaKey":"ctrlKey",_8ea=has("css-user-select");
function _8eb(node,_8ec){
var _8ed=node.unselectable=_8ec?"on":"",_8ee=node.getElementsByTagName("*"),i=_8ee.length;
while(--i){
if(_8ee[i].tagName==="INPUT"||_8ee[i].tagName==="TEXTAREA"){
continue;
}
_8ee[i].unselectable=_8ed;
}
};
function _8ef(grid,_8f0){
var node=grid.bodyNode,_8f1=_8f0?"text":has("ff")<21?"-moz-none":"none";
if(_8ea){
node.style[_8ea]=_8f1;
}else{
if(has("dom-selectstart")){
if(!_8f0&&!grid._selectstartHandle){
grid._selectstartHandle=on(node,"selectstart",function(evt){
var tag=evt.target&&evt.target.tagName;
if(tag!=="INPUT"&&tag!=="TEXTAREA"){
evt.preventDefault();
}
});
}else{
if(_8f0&&grid._selectstartHandle){
grid._selectstartHandle.remove();
delete grid._selectstartHandle;
}
}
}else{
_8eb(node,!_8f0);
if(!_8f0&&!grid._unselectableHandle){
grid._unselectableHandle=_8e3.after(grid,"renderRow",function(row){
_8eb(row,true);
return row;
});
}else{
if(_8f0&&grid._unselectableHandle){
grid._unselectableHandle.remove();
delete grid._unselectableHandle;
}
}
}
}
};
return _8e1(null,{selectionDelegate:".dgrid-row",selectionEvents:"mousedown,mouseup,dgrid-cellfocusin",deselectOnRefresh:true,allowSelectAll:false,selection:{},selectionMode:"extended",allowTextSelection:undefined,create:function(){
this.selection={};
return this.inherited(arguments);
},postCreate:function(){
this.inherited(arguments);
var _8f2=this.selectionMode;
this.selectionMode="";
this._setSelectionMode(_8f2);
this._initSelectionEvents();
},destroy:function(){
this.inherited(arguments);
if(this._selectstartHandle){
this._selectstartHandle.remove();
}
if(this._unselectableHandle){
this._unselectableHandle.remove();
}
},_setSelectionMode:function(mode){
if(mode==this.selectionMode){
return;
}
this.clearSelection();
this.selectionMode=mode;
this._selectionHandlerName="_"+mode+"SelectionHandler";
this._setAllowTextSelection(this.allowTextSelection);
},setSelectionMode:function(mode){
_8e0.deprecated("setSelectionMode(...)","use set(\"selectionMode\", ...) instead","dgrid 1.0");
this.set("selectionMode",mode);
},_setAllowTextSelection:function(_8f3){
if(typeof _8f3!=="undefined"){
_8ef(this,_8f3);
}else{
_8ef(this,this.selectionMode==="none");
}
this.allowTextSelection=_8f3;
},_handleSelect:function(_8f4,_8f5){
if(!this[this._selectionHandlerName]||(_8f4.type=="dgrid-cellfocusin"&&_8f4.parentType=="mousedown")||(_8f4.type=="mouseup"&&_8f5!=this._waitForMouseUp)){
return;
}
this._waitForMouseUp=null;
this._selectionTriggerEvent=_8f4;
if(!_8f4.keyCode||!_8f4.ctrlKey||_8f4.keyCode==32){
if(!_8f4.shiftKey&&_8f4.type=="mousedown"&&this.isSelected(_8f5)){
this._waitForMouseUp=_8f5;
}else{
this[this._selectionHandlerName](_8f4,_8f5);
}
}
this._selectionTriggerEvent=null;
},_singleSelectionHandler:function(_8f6,_8f7){
var _8f8=_8f6.keyCode?_8f6.ctrlKey:_8f6[_8e9];
if(this._lastSelected===_8f7){
this.select(_8f7,null,!_8f8||!this.isSelected(_8f7));
}else{
this.clearSelection();
this.select(_8f7);
this._lastSelected=_8f7;
}
},_multipleSelectionHandler:function(_8f9,_8fa){
var _8fb=this._lastSelected,_8fc=_8f9.keyCode?_8f9.ctrlKey:_8f9[_8e9],_8fd;
if(!_8f9.shiftKey){
_8fd=_8fc?null:true;
_8fb=null;
}
this.select(_8fa,_8fb,_8fd);
if(!_8fb){
this._lastSelected=_8fa;
}
},_extendedSelectionHandler:function(_8fe,_8ff){
if(_8fe.button===2?!this.isSelected(_8ff):!(_8fe.keyCode?_8fe.ctrlKey:_8fe[_8e9])){
this.clearSelection(null,true);
}
this._multipleSelectionHandler(_8fe,_8ff);
},_toggleSelectionHandler:function(_900,_901){
this.select(_901,null,null);
},_initSelectionEvents:function(){
var grid=this,_902=this.selectionDelegate;
if(has("touch")){
on(this.contentNode,_8e4.selector(_902,_8e4.tap),function(evt){
grid._handleSelect(evt,this);
});
}else{
on(this.contentNode,on.selector(_902,this.selectionEvents),function(_903){
grid._handleSelect(_903,this);
});
}
if(this.addKeyHandler){
this.addKeyHandler(32,function(_904){
grid._handleSelect(_904,_904.target);
});
}
if(this.allowSelectAll){
this.on("keydown",function(_905){
if(_905[_8e9]&&_905.keyCode==65){
_905.preventDefault();
grid[grid.allSelected?"clearSelection":"selectAll"]();
}
});
}
_8e3.before(this,"removeRow",function(_906,_907){
var row;
if(!_907){
row=this.row(_906);
if(row&&(row.id in this.selection)){
this.deselect(_906);
}
}
});
},allowSelect:function(row){
return true;
},_selectionEventQueue:function(_908,type){
var grid=this,_909="dgrid-"+(_908?"select":"deselect"),rows=this[_909],_90a=this._selectionTriggerEvent;
if(_90a){
_90a=_90a.type;
}
if(rows){
return rows;
}
setTimeout(this._fireSelectionEvent=function(){
if(!rows){
return;
}
var _90b={bubbles:true,grid:grid};
if(_90a){
_90b.parentType=_90a;
}
_90b[type]=rows;
on.emit(grid.contentNode,_909,_90b);
rows=null;
delete grid[_909];
},0);
return (rows=this[_909]=[]);
},select:function(row,_90c,_90d){
if(_90d===undefined){
_90d=true;
}
if(!row.element){
row=this.row(row);
}
if(!_90d||this.allowSelect(row)){
var _90e=this.selection;
var _90f=_90e[row.id];
if(_90d===null){
_90d=!_90f;
}
var _910=row.element;
if(!_90d&&!this.allSelected){
delete this.selection[row.id];
}else{
_90e[row.id]=_90d;
}
if(_910){
if(_90d){
put(_910,".dgrid-selected.ui-state-active");
}else{
put(_910,"!dgrid-selected!ui-state-active");
}
}
if(_90d!=_90f&&_910){
this._selectionEventQueue(_90d,"rows").push(row);
}
if(_90c){
if(!_90c.element){
_90c=this.row(_90c);
}
var _911=_90c.element;
var _912=row.element;
var _913=(_911&&(_911.compareDocumentPosition?_911.compareDocumentPosition(_912)==2:_911.sourceIndex>_912.sourceIndex))?"down":"up";
while(row.element!=_911&&(row=this[_913](row))){
this.select(row,null,_90d);
}
}
}
},deselect:function(row,_914){
this.select(row,_914,false);
},clearSelection:function(_915,_916){
this.allSelected=false;
for(var id in this.selection){
if(_915!==id){
this.deselect(id);
}
}
if(!_916){
this._lastSelected=null;
}
},selectAll:function(){
this.allSelected=true;
this.selection={};
for(var i in this._rowIdToObject){
var row=this.row(this._rowIdToObject[i]);
this.select(row.id);
}
},isSelected:function(_917){
if(typeof _917==="undefined"||_917===null){
return false;
}
if(!_917.element){
_917=this.row(_917);
}
return (_917.id in this.selection)?!!this.selection[_917.id]:this.allSelected&&(!_917.data||this.allowSelect(_917));
},refresh:function(){
if(this.deselectOnRefresh){
this.clearSelection();
this._fireSelectionEvent&&this._fireSelectionEvent();
}
this._lastSelected=null;
return this.inherited(arguments);
},renderArray:function(){
var grid=this,rows=this.inherited(arguments);
_8e2.when(rows,function(rows){
var _918=grid.selection,i,row,_919;
for(i=0;i<rows.length;i++){
row=grid.row(rows[i]);
_919=row.id in _918?_918[row.id]:grid.allSelected;
if(_919){
grid.select(row,null,_919);
}
}
});
return rows;
}});
});
},"dijit/form/TextBox":function(){
define(["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(_91a,_91b,_91c,_91d,lang,on,has,_91e,_91f,_920,_921){
var _922=_91a("dijit.form.TextBox"+(has("dojo-bidi")?"_NoBidi":""),[_91e,_91f],{templateString:_920,_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:has("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){
var type=this.type.toLowerCase();
if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==this.constructor.prototype.templateString)){
this.templateString=this._singleNodeTemplate;
}
this.inherited(arguments);
},postCreate:function(){
this.inherited(arguments);
if(has("ie")<9){
this.defer(function(){
try{
var s=_91c.getComputedStyle(this.domNode);
if(s){
var ff=s.fontFamily;
if(ff){
var _923=this.domNode.getElementsByTagName("INPUT");
if(_923){
for(var i=0;i<_923.length;i++){
_923[i].style.fontFamily=ff;
}
}
}
}
}
catch(e){
}
});
}
},_setPlaceHolderAttr:function(v){
this._set("placeHolder",v);
if(!this._phspan){
this._attachPoints.push("_phspan");
this._phspan=_91b.create("span",{onmousedown:function(e){
e.preventDefault();
},className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");
this.own(on(this._phspan,"touchend, pointerup, MSPointerUp",lang.hitch(this,function(){
this.focus();
})));
}
this._phspan.innerHTML="";
this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(v));
this._updatePlaceHolder();
},_onInput:function(evt){
this.inherited(arguments);
this._updatePlaceHolder();
},_updatePlaceHolder:function(){
if(this._phspan){
this._phspan.style.display=(this.placeHolder&&!this.textbox.value)?"":"none";
}
},_setValueAttr:function(_924,_925,_926){
this.inherited(arguments);
this._updatePlaceHolder();
},getDisplayedValue:function(){
_91d.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");
return this.get("displayedValue");
},setDisplayedValue:function(_927){
_91d.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");
this.set("displayedValue",_927);
},_onBlur:function(e){
if(this.disabled){
return;
}
this.inherited(arguments);
this._updatePlaceHolder();
if(has("mozilla")){
if(this.selectOnClick){
this.textbox.selectionStart=this.textbox.selectionEnd=undefined;
}
}
},_onFocus:function(by){
if(this.disabled||this.readOnly){
return;
}
this.inherited(arguments);
this._updatePlaceHolder();
}});
if(has("ie")<9){
_922.prototype._isTextSelected=function(){
var _928=this.ownerDocument.selection.createRange();
var _929=_928.parentElement();
return _929==this.textbox&&_928.text.length>0;
};
_921._setSelectionRange=_91f._setSelectionRange=function(_92a,_92b,stop){
if(_92a.createTextRange){
var r=_92a.createTextRange();
r.collapse(true);
r.moveStart("character",-99999);
r.moveStart("character",_92b);
r.moveEnd("character",stop-_92b);
r.select();
}
};
}
if(has("dojo-bidi")){
_922=_91a("dijit.form.TextBox",_922,{_setPlaceHolderAttr:function(v){
this.inherited(arguments);
this.applyTextDir(this._phspan);
}});
}
return _922;
});
},"dijit/form/_DateTimeTextBox":function(){
define(["dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/_base/lang","./RangeBoundTextBox","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(date,_92c,_92d,_92e,lang,_92f,_930,_931){
new Date("X");
var _932=_92e("dijit.form._DateTimeTextBox",[_92f,_930],{templateString:_931,hasDownArrow:true,cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},pattern:_92c.regexp,datePackage:"",postMixInProperties:function(){
this.inherited(arguments);
this._set("type","text");
},compare:function(val1,val2){
var _933=this._isInvalidDate(val1);
var _934=this._isInvalidDate(val2);
return _933?(_934?0:-1):(_934?1:date.compare(val1,val2,this._selector));
},autoWidth:true,format:function(_935,_936){
if(!_935){
return "";
}
return this.dateLocaleModule.format(_935,_936);
},"parse":function(_937,_938){
return this.dateLocaleModule.parse(_937,_938)||(this._isEmpty(_937)?null:undefined);
},serialize:function(val,_939){
if(val.toGregorian){
val=val.toGregorian();
}
return _92d.toISOString(val,_939);
},dropDownDefaultValue:new Date(),value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(_93a){
this.dateModule=_93a.datePackage?lang.getObject(_93a.datePackage,false):date;
this.dateClassObj=this.dateModule.Date||Date;
this.dateLocaleModule=_93a.datePackage?lang.getObject(_93a.datePackage+".locale",false):_92c;
this._set("pattern",this.dateLocaleModule.regexp);
this._invalidDate=this.constructor.prototype.value.toString();
},buildRendering:function(){
this.inherited(arguments);
if(!this.hasDownArrow){
this._buttonNode.style.display="none";
}
if(!this.hasDownArrow){
this._buttonNode=this.domNode;
this.baseClass+=" dijitComboBoxOpenOnClick";
}
},_setConstraintsAttr:function(_93b){
_93b.selector=this._selector;
_93b.fullYear=true;
var _93c=_92d.fromISOString;
if(typeof _93b.min=="string"){
_93b.min=_93c(_93b.min);
}
if(typeof _93b.max=="string"){
_93b.max=_93c(_93b.max);
}
this.inherited(arguments);
},_isInvalidDate:function(_93d){
return !_93d||isNaN(_93d)||typeof _93d!="object"||_93d.toString()==this._invalidDate;
},_setValueAttr:function(_93e,_93f,_940){
if(_93e!==undefined){
if(typeof _93e=="string"){
_93e=_92d.fromISOString(_93e);
}
if(this._isInvalidDate(_93e)){
_93e=null;
}
if(_93e instanceof Date&&!(this.dateClassObj instanceof Date)){
_93e=new this.dateClassObj(_93e);
}
}
this.inherited(arguments);
if(this.value instanceof Date){
this.filterString="";
}
if(this.dropDown){
this.dropDown.set("value",_93e,false);
}
},_set:function(attr,_941){
var _942=this._get("value");
if(attr=="value"&&_942 instanceof Date&&this.compare(_941,_942)==0){
return;
}
this.inherited(arguments);
},_setDropDownDefaultValueAttr:function(val){
if(this._isInvalidDate(val)){
val=new this.dateClassObj();
}
this._set("dropDownDefaultValue",val);
},openDropDown:function(_943){
if(this.dropDown){
this.dropDown.destroy();
}
var _944=lang.isString(this.popupClass)?lang.getObject(this.popupClass,false):this.popupClass,_945=this,_946=this.get("value");
this.dropDown=new _944({onChange:function(_947){
_945.set("value",_947,true);
},id:this.id+"_popup",dir:_945.dir,lang:_945.lang,value:_946,textDir:_945.textDir,currentFocus:!this._isInvalidDate(_946)?_946:this.dropDownDefaultValue,constraints:_945.constraints,filterString:_945.filterString,datePackage:_945.params.datePackage,isDisabledDate:function(date){
return !_945.rangeCheck(date,_945.constraints);
}});
this.inherited(arguments);
},_getDisplayedValueAttr:function(){
return this.textbox.value;
},_setDisplayedValueAttr:function(_948,_949){
this._setValueAttr(this.parse(_948,this.constraints),_949,_948);
}});
return _932;
});
},"dijit/layout/StackContainer":function(){
define(["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/ready","dojo/topic","dojo/when","../registry","../_WidgetBase","./_LayoutWidget","dojo/i18n!../nls/common"],function(_94a,_94b,_94c,_94d,_94e,has,lang,on,_94f,_950,when,_951,_952,_953){
if(has("dijit-legacy-requires")){
_94f(0,function(){
var _954=["dijit/layout/StackController"];
require(_954);
});
}
var _955=_94c("dijit.layout.StackContainer",_953,{doLayout:true,persist:false,baseClass:"dijitStackContainer",buildRendering:function(){
this.inherited(arguments);
_94d.add(this.domNode,"dijitLayoutContainer");
},postCreate:function(){
this.inherited(arguments);
this.own(on(this.domNode,"keydown",lang.hitch(this,"_onKeyDown")));
},startup:function(){
if(this._started){
return;
}
var _956=this.getChildren();
_94a.forEach(_956,this._setupChild,this);
if(this.persist){
this.selectedChildWidget=_951.byId(_94b(this.id+"_selectedChild"));
}else{
_94a.some(_956,function(_957){
if(_957.selected){
this.selectedChildWidget=_957;
}
return _957.selected;
},this);
}
var _958=this.selectedChildWidget;
if(!_958&&_956[0]){
_958=this.selectedChildWidget=_956[0];
_958.selected=true;
}
_950.publish(this.id+"-startup",{children:_956,selected:_958,textDir:this.textDir});
this.inherited(arguments);
},resize:function(){
if(!this._hasBeenShown){
this._hasBeenShown=true;
var _959=this.selectedChildWidget;
if(_959){
this._showChild(_959);
}
}
this.inherited(arguments);
},_setupChild:function(_95a){
var _95b=_95a.domNode,_95c=_94e.place("<div role='tabpanel' class='"+this.baseClass+"ChildWrapper dijitHidden'>",_95a.domNode,"replace"),_95d=_95a["aria-label"]||_95a.title||_95a.label;
if(_95d){
_95c.setAttribute("aria-label",_95d);
}
_94e.place(_95b,_95c);
_95a._wrapper=_95c;
this.inherited(arguments);
if(_95b.style.display=="none"){
_95b.style.display="block";
}
_95a.domNode.title="";
},addChild:function(_95e,_95f){
this.inherited(arguments);
if(this._started){
_950.publish(this.id+"-addChild",_95e,_95f);
this.layout();
if(!this.selectedChildWidget){
this.selectChild(_95e);
}
}
},removeChild:function(page){
var idx=_94a.indexOf(this.getChildren(),page);
this.inherited(arguments);
_94e.destroy(page._wrapper);
delete page._wrapper;
if(this._started){
_950.publish(this.id+"-removeChild",page);
}
if(this._descendantsBeingDestroyed){
return;
}
if(this.selectedChildWidget===page){
this.selectedChildWidget=undefined;
if(this._started){
var _960=this.getChildren();
if(_960.length){
this.selectChild(_960[Math.max(idx-1,0)]);
}
}
}
if(this._started){
this.layout();
}
},selectChild:function(page,_961){
var d;
page=_951.byId(page);
if(this.selectedChildWidget!=page){
d=this._transition(page,this.selectedChildWidget,_961);
this._set("selectedChildWidget",page);
_950.publish(this.id+"-selectChild",page);
if(this.persist){
_94b(this.id+"_selectedChild",this.selectedChildWidget.id);
}
}
return when(d||true);
},_transition:function(_962,_963){
if(_963){
this._hideChild(_963);
}
var d=this._showChild(_962);
if(_962.resize){
if(this.doLayout){
_962.resize(this._containerContentBox||this._contentBox);
}else{
_962.resize();
}
}
return d;
},_adjacent:function(_964){
var _965=this.getChildren();
var _966=_94a.indexOf(_965,this.selectedChildWidget);
_966+=_964?1:_965.length-1;
return _965[_966%_965.length];
},forward:function(){
return this.selectChild(this._adjacent(true),true);
},back:function(){
return this.selectChild(this._adjacent(false),true);
},_onKeyDown:function(e){
_950.publish(this.id+"-containerKeyDown",{e:e,page:this});
},layout:function(){
var _967=this.selectedChildWidget;
if(_967&&_967.resize){
if(this.doLayout){
_967.resize(this._containerContentBox||this._contentBox);
}else{
_967.resize();
}
}
},_showChild:function(page){
var _968=this.getChildren();
page.isFirstChild=(page==_968[0]);
page.isLastChild=(page==_968[_968.length-1]);
page._set("selected",true);
if(page._wrapper){
_94d.replace(page._wrapper,"dijitVisible","dijitHidden");
}
return (page._onShow&&page._onShow())||true;
},_hideChild:function(page){
page._set("selected",false);
if(page._wrapper){
_94d.replace(page._wrapper,"dijitHidden","dijitVisible");
}
page.onHide&&page.onHide();
},closeChild:function(page){
var _969=page.onClose&&page.onClose(this,page);
if(_969){
this.removeChild(page);
page.destroyRecursive();
}
},destroyDescendants:function(_96a){
this._descendantsBeingDestroyed=true;
this.selectedChildWidget=undefined;
_94a.forEach(this.getChildren(),function(_96b){
if(!_96a){
this.removeChild(_96b);
}
_96b.destroyRecursive(_96a);
},this);
this._descendantsBeingDestroyed=false;
}});
_955.ChildWidgetProperties={selected:false,disabled:false,closable:false,iconClass:"dijitNoIcon",showTitle:true};
lang.extend(_952,_955.ChildWidgetProperties);
return _955;
});
},"dijit/form/_RadioButtonMixin":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/lang","dojo/query","../registry"],function(_96c,_96d,_96e,lang,_96f,_970){
return _96d("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){
var ary=[];
_96f("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(lang.hitch(this,function(_971){
if(_971.name==this.name&&_971.form==this.focusNode.form){
var _972=_970.getEnclosingWidget(_971);
if(_972){
ary.push(_972);
}
}
}));
return ary;
},_setCheckedAttr:function(_973){
this.inherited(arguments);
if(!this._created){
return;
}
if(_973){
_96c.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_974){
if(_974!=this&&_974.checked){
_974.set("checked",false);
}
}));
}
},_getSubmitValue:function(_975){
return _975==null?"on":_975;
},_onClick:function(e){
if(this.checked||this.disabled){
e.stopPropagation();
e.preventDefault();
return false;
}
if(this.readOnly){
e.stopPropagation();
e.preventDefault();
_96c.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_976){
_96e.set(this.focusNode||this.domNode,"checked",_976.checked);
}));
return false;
}
return this.inherited(arguments);
}});
});
},"dojox/html/styles":function(){
define(["dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(lang,_977,_978,has){
var dh=lang.getObject("dojox.html",true);
var _979={};
var _97a={};
var _97b=[];
dh.insertCssRule=function(_97c,_97d,_97e){
var ss=dh.getDynamicStyleSheet(_97e);
var _97f=_97c+" {"+_97d+"}";
if(has("ie")){
ss.cssText+=_97f;
}else{
if(ss.sheet){
ss.sheet.insertRule(_97f,ss._indicies.length);
}else{
ss.appendChild(_978.doc.createTextNode(_97f));
}
}
ss._indicies.push(_97c+" "+_97d);
return _97c;
};
dh.removeCssRule=function(_980,_981,_982){
var ss;
var _983=-1;
var nm;
var i;
for(nm in _979){
if(_982&&_982!==nm){
continue;
}
ss=_979[nm];
for(i=0;i<ss._indicies.length;i++){
if(_980+" "+_981===ss._indicies[i]){
_983=i;
break;
}
}
if(_983>-1){
break;
}
}
if(!ss){
console.warn("No dynamic style sheet has been created from which to remove a rule.");
return false;
}
if(_983===-1){
console.warn("The css rule was not found and could not be removed.");
return false;
}
ss._indicies.splice(_983,1);
if(has("ie")){
ss.removeRule(_983);
}else{
if(ss.sheet){
ss.sheet.deleteRule(_983);
}
}
return true;
};
dh.modifyCssRule=function(_984,_985,_986){
};
dh.getStyleSheet=function(_987){
if(_979[_987||"default"]){
return _979[_987||"default"];
}
if(!_987){
return false;
}
var _988=dh.getStyleSheets();
if(_988[_987]){
return dh.getStyleSheets()[_987];
}
var nm;
for(nm in _988){
if(_988[nm].href&&_988[nm].href.indexOf(_987)>-1){
return _988[nm];
}
}
return false;
};
dh.getDynamicStyleSheet=function(_989){
if(!_989){
_989="default";
}
if(!_979[_989]){
if(_978.doc.createStyleSheet){
_979[_989]=_978.doc.createStyleSheet();
if(has("ie")<9){
_979[_989].title=_989;
}
}else{
_979[_989]=_978.doc.createElement("style");
_979[_989].setAttribute("type","text/css");
_978.doc.getElementsByTagName("head")[0].appendChild(_979[_989]);
}
_979[_989]._indicies=[];
}
return _979[_989];
};
dh.enableStyleSheet=function(_98a){
var ss=dh.getStyleSheet(_98a);
if(ss){
if(ss.sheet){
ss.sheet.disabled=false;
}else{
ss.disabled=false;
}
}
};
dh.disableStyleSheet=function(_98b){
var ss=dh.getStyleSheet(_98b);
if(ss){
if(ss.sheet){
ss.sheet.disabled=true;
}else{
ss.disabled=true;
}
}
};
dh.activeStyleSheet=function(_98c){
var _98d=dh.getToggledStyleSheets();
var i;
if(arguments.length===1){
_977.forEach(_98d,function(s){
s.disabled=(s.title===_98c)?false:true;
});
}else{
for(i=0;i<_98d.length;i++){
if(_98d[i].disabled===false){
return _98d[i];
}
}
}
return true;
};
dh.getPreferredStyleSheet=function(){
};
dh.getToggledStyleSheets=function(){
var nm;
if(!_97b.length){
var _98e=dh.getStyleSheets();
for(nm in _98e){
if(_98e[nm].title){
_97b.push(_98e[nm]);
}
}
}
return _97b;
};
dh.getStyleSheets=function(){
if(_97a.collected){
return _97a;
}
var _98f=_978.doc.styleSheets;
_977.forEach(_98f,function(n){
var s=(n.sheet)?n.sheet:n;
var name=s.title||s.href;
if(has("ie")){
if(s.cssText.indexOf("#default#VML")===-1){
if(s.href){
_97a[name]=s;
}else{
if(s.imports.length){
_977.forEach(s.imports,function(si){
_97a[si.title||si.href]=si;
});
}else{
_97a[name]=s;
}
}
}
}else{
_97a[name]=s;
_97a[name].id=s.ownerNode.id;
_977.forEach(s.cssRules,function(r){
if(r.href){
_97a[r.href]=r.styleSheet;
_97a[r.href].id=s.ownerNode.id;
}
});
}
});
_97a.collected=true;
return _97a;
};
return dh;
});
},"dojox/validate/web":function(){
define(["./_base","./regexp"],function(_990,_991){
_990.isIpAddress=function(_992,_993){
var re=new RegExp("^"+_991.ipAddress(_993)+"$","i");
return re.test(_992);
};
_990.isUrl=function(_994,_995){
var re=new RegExp("^"+_991.url(_995)+"$","i");
return re.test(_994);
};
_990.isEmailAddress=function(_996,_997){
var re=new RegExp("^"+_991.emailAddress(_997)+"$","i");
return re.test(_996);
};
_990.isEmailAddressList=function(_998,_999){
var re=new RegExp("^"+_991.emailAddressList(_999)+"$","i");
return re.test(_998);
};
_990.getEmailAddressList=function(_99a,_99b){
if(!_99b){
_99b={};
}
if(!_99b.listSeparator){
_99b.listSeparator="\\s;,";
}
if(_990.isEmailAddressList(_99a,_99b)){
return _99a.split(new RegExp("\\s*["+_99b.listSeparator+"]\\s*"));
}
return [];
};
return _990;
});
},"dojo/cldr/nls/number":function(){
define({root:{"scientificFormat":"#E0","currencySpacing-afterCurrency-currencyMatch":"[:^S:]","infinity":"∞","list":";","percentSign":"%","minusSign":"-","currencySpacing-beforeCurrency-surroundingMatch":"[:digit:]","decimalFormat-short":"000T","currencySpacing-afterCurrency-insertBetween":" ","nan":"NaN","plusSign":"+","currencySpacing-afterCurrency-surroundingMatch":"[:digit:]","currencySpacing-beforeCurrency-currencyMatch":"[:^S:]","currencyFormat":"¤ #,##0.00","perMille":"‰","group":",","percentFormat":"#,##0%","decimalFormat-long":"000T","decimalFormat":"#,##0.###","decimal":".","currencySpacing-beforeCurrency-insertBetween":" ","exponential":"E"},"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"en":true,"en-gb":true,"es":true,"fi":true,"fr":true,"fr-ch":true,"he":true,"hu":true,"it":true,"ja":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-hant":true,"zh-hk":true,"zh-tw":true});
},"dojo/cldr/nls/en/number":function(){
define({"group":",","percentSign":"%","exponential":"E","scientificFormat":"#E0","percentFormat":"#,##0%","list":";","infinity":"∞","minusSign":"-","decimal":".","nan":"NaN","perMille":"‰","decimalFormat":"#,##0.###","currencyFormat":"¤#,##0.00;(¤#,##0.00)","plusSign":"+","decimalFormat-long":"000 trillion","decimalFormat-short":"000T"});
},"dojo/cldr/nls/pt/number":function(){
define({"group":".","percentSign":"%","exponential":"E","scientificFormat":"#E0","percentFormat":"#,##0%","list":";","infinity":"∞","minusSign":"-","decimal":",","nan":"NaN","perMille":"‰","decimalFormat":"#,##0.###","currencyFormat":"¤#,##0.00;(¤#,##0.00)","plusSign":"+","decimalFormat-long":"000 trilhões","decimalFormat-short":"000 tri"});
},"dojo/cldr/nls/pt/number":function(){
define({"group":".","percentSign":"%","exponential":"E","scientificFormat":"#E0","percentFormat":"#,##0%","list":";","infinity":"∞","minusSign":"-","decimal":",","nan":"NaN","perMille":"‰","decimalFormat":"#,##0.###","currencyFormat":"¤#,##0.00;(¤#,##0.00)","plusSign":"+","decimalFormat-long":"000 trilhões","decimalFormat-short":"000 tri"});
},"dijit/form/Form":function(){
define(["dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/sniff","../_Widget","../_TemplatedMixin","./_FormMixin","../layout/_ContentPaneResizeMixin"],function(_99c,_99d,_99e,has,_99f,_9a0,_9a1,_9a2){
return _99c("dijit.form.Form",[_99f,_9a0,_9a1,_9a2],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",postMixInProperties:function(){
this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";
this.inherited(arguments);
},execute:function(){
},onExecute:function(){
},_setEncTypeAttr:function(_9a3){
_99d.set(this.domNode,"encType",_9a3);
if(has("ie")){
this.domNode.encoding=_9a3;
}
this._set("encType",_9a3);
},reset:function(e){
var faux={returnValue:true,preventDefault:function(){
this.returnValue=false;
},stopPropagation:function(){
},currentTarget:e?e.target:this.domNode,target:e?e.target:this.domNode};
if(!(this.onReset(faux)===false)&&faux.returnValue){
this.inherited(arguments,[]);
}
},onReset:function(){
return true;
},_onReset:function(e){
this.reset(e);
e.stopPropagation();
e.preventDefault();
return false;
},_onSubmit:function(e){
var fp=this.constructor.prototype;
if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){
_99e.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");
this.onExecute();
this.execute(this.getValues());
}
if(this.onSubmit(e)===false){
e.stopPropagation();
e.preventDefault();
}
},onSubmit:function(){
return this.isValid();
},submit:function(){
if(!(this.onSubmit()===false)){
this.containerNode.submit();
}
}});
});
},"dojox/html/format":function(){
define(["dojo/_base/kernel","./entities","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(lang,_9a4,_9a5,_9a6,has){
var dhf=lang.getObject("dojox.html.format",true);
dhf.prettyPrint=function(html,_9a7,_9a8,map,_9a9){
var _9aa=[];
var _9ab=0;
var _9ac=[];
var iTxt="\t";
var _9ad="";
var _9ae=[];
var i;
var _9af=/[=]([^"']+?)(\s|>)/g;
var _9b0=/style=("[^"]*"|'[^']*'|\S*)/gi;
var _9b1=/[\w-]+=("[^"]*"|'[^']*'|\S*)/gi;
if(_9a7&&_9a7>0&&_9a7<10){
iTxt="";
for(i=0;i<_9a7;i++){
iTxt+=" ";
}
}
var _9b2=_9a6.doc.createElement("div");
_9b2.innerHTML=html;
var _9b3=_9a4.encode;
var _9b4=_9a4.decode;
var _9b5=function(tag){
switch(tag){
case "a":
case "b":
case "strong":
case "s":
case "strike":
case "i":
case "u":
case "em":
case "sup":
case "sub":
case "span":
case "font":
case "big":
case "cite":
case "q":
case "small":
return true;
default:
return false;
}
};
var div=_9b2.ownerDocument.createElement("div");
var _9b6=function(node){
var _9b7=node.cloneNode(false);
div.appendChild(_9b7);
var html=div.innerHTML;
div.innerHTML="";
return html;
};
var _9b8=function(){
var i,txt="";
for(i=0;i<_9ab;i++){
txt+=iTxt;
}
return txt.length;
};
var _9b9=function(){
var i;
for(i=0;i<_9ab;i++){
_9aa.push(iTxt);
}
};
var _9ba=function(){
_9aa.push("\n");
};
var _9bb=function(n){
_9ad+=_9b3(n.nodeValue,map);
};
var _9bc=function(txt){
var i;
var _9bd;
var _9be=txt.split("\n");
for(i=0;i<_9be.length;i++){
_9be[i]=lang.trim(_9be[i]);
}
txt=_9be.join(" ");
txt=lang.trim(txt);
if(txt!==""){
var _9bf=[];
if(_9a8&&_9a8>0){
var _9c0=_9b8();
var _9c1=_9a8;
if(_9a8>_9c0){
_9c1-=_9c0;
}
while(txt){
if(txt.length>_9a8){
for(i=_9c1;(i>0&&txt.charAt(i)!==" ");i--){
}
if(!i){
for(i=_9c1;(i<txt.length&&txt.charAt(i)!==" ");i++){
}
}
var line=txt.substring(0,i);
line=lang.trim(line);
txt=lang.trim(txt.substring((i==txt.length)?txt.length:i+1,txt.length));
if(line){
_9bd="";
for(i=0;i<_9ab;i++){
_9bd+=iTxt;
}
line=_9bd+line+"\n";
}
_9bf.push(line);
}else{
_9bd="";
for(i=0;i<_9ab;i++){
_9bd+=iTxt;
}
txt=_9bd+txt+"\n";
_9bf.push(txt);
txt=null;
}
}
return _9bf.join("");
}else{
_9bd="";
for(i=0;i<_9ab;i++){
_9bd+=iTxt;
}
txt=_9bd+txt+"\n";
return txt;
}
}else{
return "";
}
};
var _9c2=function(txt){
if(txt){
txt=txt.replace(/&quot;/gi,"\"");
txt=txt.replace(/&gt;/gi,">");
txt=txt.replace(/&lt;/gi,"<");
txt=txt.replace(/&amp;/gi,"&");
}
return txt;
};
var _9c3=function(txt){
if(txt){
txt=_9c2(txt);
var i,t,c,_9c4;
var _9c5=0;
var _9c6=txt.split("\n");
var _9c7=[];
for(i=0;i<_9c6.length;i++){
var line=_9c6[i];
var _9c8=(line.indexOf("\n")>-1);
line=lang.trim(line);
if(line){
var _9c9=_9c5;
for(c=0;c<line.length;c++){
var ch=line.charAt(c);
if(ch==="{"){
_9c5++;
}else{
if(ch==="}"){
_9c5--;
_9c9=_9c5;
}
}
}
_9c4="";
for(t=0;t<_9ab+_9c9;t++){
_9c4+=iTxt;
}
_9c7.push(_9c4+line+"\n");
}else{
if(_9c8&&i===0){
_9c7.push("\n");
}
}
}
txt=_9c7.join("");
}
return txt;
};
var _9ca=function(node){
var name=node.nodeName.toLowerCase();
var _9cb=lang.trim(_9b6(node));
var tag=_9cb.substring(0,_9cb.indexOf(">")+1);
tag=tag.replace(_9af,"=\"$1\"$2");
tag=tag.replace(_9b0,function(_9cc){
var sL=_9cc.substring(0,6);
var _9cd=_9cc.substring(6,_9cc.length);
var _9ce=_9cd.charAt(0);
_9cd=lang.trim(_9cd.substring(1,_9cd.length-1));
_9cd=_9cd.split(";");
var _9cf=[];
_9a5.forEach(_9cd,function(s){
s=lang.trim(s);
if(s){
s=s.substring(0,s.indexOf(":")).toLowerCase()+s.substring(s.indexOf(":"),s.length);
_9cf.push(s);
}
});
_9cf=_9cf.sort();
_9cd=_9cf.join("; ");
var ts=lang.trim(_9cd);
if(!ts||ts===";"){
return "";
}else{
_9cd+=";";
return sL+_9ce+_9cd+_9ce;
}
});
var _9d0=[];
tag=tag.replace(_9b1,function(attr){
_9d0.push(lang.trim(attr));
return "";
});
_9d0=_9d0.sort();
tag="<"+name;
if(_9d0.length){
tag+=" "+_9d0.join(" ");
}
if(_9cb.indexOf("</")!=-1){
_9ac.push(name);
tag+=">";
}else{
if(_9a9){
tag+=" />";
}else{
tag+=">";
}
_9ac.push(false);
}
var _9d1=_9b5(name);
_9ae.push(_9d1);
if(_9ad&&!_9d1){
_9aa.push(_9bc(_9ad));
_9ad="";
}
if(!_9d1){
_9b9();
_9aa.push(tag);
_9ba();
_9ab++;
}else{
_9ad+=tag;
}
};
var _9d2=function(){
var _9d3=_9ae.pop();
if(_9ad&&!_9d3){
_9aa.push(_9bc(_9ad));
_9ad="";
}
var ct=_9ac.pop();
if(ct){
ct="</"+ct+">";
if(!_9d3){
_9ab--;
_9b9();
_9aa.push(ct);
_9ba();
}else{
_9ad+=ct;
}
}else{
_9ab--;
}
};
var _9d4=function(n){
var _9d5=_9b4(n.nodeValue,map);
_9b9();
_9aa.push("<!--");
_9ba();
_9ab++;
_9aa.push(_9bc(_9d5));
_9ab--;
_9b9();
_9aa.push("-->");
_9ba();
};
var _9d6=function(node){
var _9d7=node.childNodes;
if(_9d7){
var i;
for(i=0;i<_9d7.length;i++){
var n=_9d7[i];
if(n.nodeType===1){
var tg=lang.trim(n.tagName.toLowerCase());
if(has("ie")&&n.parentNode!=node){
continue;
}
if(tg&&tg.charAt(0)==="/"){
continue;
}else{
_9ca(n);
if(tg==="script"){
_9aa.push(_9c3(n.innerHTML));
}else{
if(tg==="pre"){
var _9d8=n.innerHTML;
if(has("mozilla")){
_9d8=_9d8.replace("<br>","\n");
_9d8=_9d8.replace("<pre>","");
_9d8=_9d8.replace("</pre>","");
}
if(_9d8.charAt(_9d8.length-1)!=="\n"){
_9d8+="\n";
}
_9aa.push(_9d8);
}else{
_9d6(n);
}
}
_9d2();
}
}else{
if(n.nodeType===3||n.nodeType===4){
_9bb(n);
}else{
if(n.nodeType===8){
_9d4(n);
}
}
}
}
}
};
_9d6(_9b2);
if(_9ad){
_9aa.push(_9bc(_9ad));
_9ad="";
}
return _9aa.join("");
};
return dhf;
});
},"manager/Hash":function(){
define("manager/Hash",["dojo/_base/declare"],function(_9d9){
return _9d9("Manager.Hash",[],{length:0,items:new Array(),constructor:function(){
this.length=0;
},remove:function(_9da){
var _9db;
if(typeof (this.items[_9da])!="undefined"){
this.length--;
var _9db=this.items[_9da];
delete this.items[_9da];
}
return _9db;
},get:function(_9dc){
return this.items[_9dc];
},set:function(_9dd,_9de){
if(typeof (_9de)!="undefined"){
if(typeof (this.items[_9dd])=="undefined"){
this.length++;
}
this.items[_9dd]=_9de;
}
return _9de;
},has:function(_9df){
return typeof (this.items[_9df])!="undefined";
}});
});
},"dijit/form/_FormWidgetMixin":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","dojo/window","../a11y"],function(_9e0,_9e1,_9e2,_9e3,lang,_9e4,on,has,_9e5,a11y){
return _9e1("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_9e6){
this._set("disabled",_9e6);
_9e2.set(this.focusNode,"disabled",_9e6);
if(this.valueNode){
_9e2.set(this.valueNode,"disabled",_9e6);
}
this.focusNode.setAttribute("aria-disabled",_9e6?"true":"false");
if(_9e6){
this._set("hovering",false);
this._set("active",false);
var _9e7="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";
_9e0.forEach(lang.isArray(_9e7)?_9e7:[_9e7],function(_9e8){
var node=this[_9e8];
if(has("webkit")||a11y.hasDefaultTabStop(node)){
node.setAttribute("tabIndex","-1");
}else{
node.removeAttribute("tabIndex");
}
},this);
}else{
if(this.tabIndex!=""){
this.set("tabIndex",this.tabIndex);
}
}
},_onFocus:function(by){
if(by=="mouse"&&this.isFocusable()){
var _9e9=this.own(on(this.focusNode,"focus",function(){
_9ea.remove();
_9e9.remove();
}))[0];
var _9ea=this.own(on(this.ownerDocumentBody,"mouseup, touchend",lang.hitch(this,function(evt){
_9ea.remove();
_9e9.remove();
if(this.focused){
if(evt.type=="touchend"){
this.defer("focus");
}else{
this.focus();
}
}
})))[0];
}
if(this.scrollOnFocus){
this.defer(function(){
_9e5.scrollIntoView(this.domNode);
});
}
this.inherited(arguments);
},isFocusable:function(){
return !this.disabled&&this.focusNode&&(_9e3.get(this.domNode,"display")!="none");
},focus:function(){
if(!this.disabled&&this.focusNode.focus){
try{
this.focusNode.focus();
}
catch(e){
}
}
},compare:function(val1,val2){
if(typeof val1=="number"&&typeof val2=="number"){
return (isNaN(val1)&&isNaN(val2))?0:val1-val2;
}else{
if(val1>val2){
return 1;
}else{
if(val1<val2){
return -1;
}else{
return 0;
}
}
}
},onChange:function(){
},_onChangeActive:false,_handleOnChange:function(_9eb,_9ec){
if(this._lastValueReported==undefined&&(_9ec===null||!this._onChangeActive)){
this._resetValue=this._lastValueReported=_9eb;
}
this._pendingOnChange=this._pendingOnChange||(typeof _9eb!=typeof this._lastValueReported)||(this.compare(_9eb,this._lastValueReported)!=0);
if((this.intermediateChanges||_9ec||_9ec===undefined)&&this._pendingOnChange){
this._lastValueReported=_9eb;
this._pendingOnChange=false;
if(this._onChangeActive){
if(this._onChangeHandle){
this._onChangeHandle.remove();
}
this._onChangeHandle=this.defer(function(){
this._onChangeHandle=null;
this.onChange(_9eb);
});
}
}
},create:function(){
this.inherited(arguments);
this._onChangeActive=true;
},destroy:function(){
if(this._onChangeHandle){
this._onChangeHandle.remove();
this.onChange(this._lastValueReported);
}
this.inherited(arguments);
}});
});
},"dijit/_base/place":function(){
define(["dojo/_base/array","dojo/_base/lang","dojo/window","../place","../main"],function(_9ed,lang,_9ee,_9ef,_9f0){
var _9f1={};
_9f1.getViewport=function(){
return _9ee.getBox();
};
_9f1.placeOnScreen=_9ef.at;
_9f1.placeOnScreenAroundElement=function(node,_9f2,_9f3,_9f4){
var _9f5;
if(lang.isArray(_9f3)){
_9f5=_9f3;
}else{
_9f5=[];
for(var key in _9f3){
_9f5.push({aroundCorner:key,corner:_9f3[key]});
}
}
return _9ef.around(node,_9f2,_9f5,true,_9f4);
};
_9f1.placeOnScreenAroundNode=_9f1.placeOnScreenAroundElement;
_9f1.placeOnScreenAroundRectangle=_9f1.placeOnScreenAroundElement;
_9f1.getPopupAroundAlignment=function(_9f6,_9f7){
var _9f8={};
_9ed.forEach(_9f6,function(pos){
var ltr=_9f7;
switch(pos){
case "after":
_9f8[_9f7?"BR":"BL"]=_9f7?"BL":"BR";
break;
case "before":
_9f8[_9f7?"BL":"BR"]=_9f7?"BR":"BL";
break;
case "below-alt":
ltr=!ltr;
case "below":
_9f8[ltr?"BL":"BR"]=ltr?"TL":"TR";
_9f8[ltr?"BR":"BL"]=ltr?"TR":"TL";
break;
case "above-alt":
ltr=!ltr;
case "above":
default:
_9f8[ltr?"TL":"TR"]=ltr?"BL":"BR";
_9f8[ltr?"TR":"TL"]=ltr?"BR":"BL";
break;
}
});
return _9f8;
};
lang.mixin(_9f0,_9f1);
return _9f0;
});
},"dojox/editor/plugins/nls/PasteFromWord":function(){
define({root:({"pasteFromWord":"Paste From Word","instructions":"Paste the content from Word into the text box below.  Once you are satisfied with the content to insert, press the paste button.  To abort inserting text, press the cancel button."}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"ar":true});
},"dojox/editor/plugins/nls/pt/PasteFromWord":function(){
define(({"pasteFromWord":"Colar do Word","instructions":"Cole o conteúdo do Word na caixa de texto a seguir. Quando estiver satisfeito com o conteúdo a ser inserido, pressione o botão para colar. Para interromper a inserção de texto, pressione o botão para cancelar."}));
},"dojox/editor/plugins/nls/pt/PasteFromWord":function(){
define(({"pasteFromWord":"Colar do Word","instructions":"Cole o conteúdo do Word na caixa de texto a seguir. Quando estiver satisfeito com o conteúdo a ser inserido, pressione o botão para colar. Para interromper a inserção de texto, pressione o botão para cancelar."}));
},"dojox/main":function(){
define(["dojo/_base/kernel"],function(dojo){
return dojo.dojox;
});
},"dojo/dnd/Selector":function(){
define(["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../dom","../dom-construct","../mouse","../_base/NodeList","../on","../touch","./common","./Container"],function(_9f9,_9fa,_9fb,lang,dom,_9fc,_9fd,_9fe,on,_9ff,dnd,_a00){
var _a01=_9fa("dojo.dnd.Selector",_a00,{constructor:function(node,_a02){
if(!_a02){
_a02={};
}
this.singular=_a02.singular;
this.autoSync=_a02.autoSync;
this.selection={};
this.anchor=null;
this.simpleSelection=false;
this.events.push(on(this.node,_9ff.press,lang.hitch(this,"onMouseDown")),on(this.node,_9ff.release,lang.hitch(this,"onMouseUp")));
},singular:false,getSelectedNodes:function(){
var t=new _9fe();
var e=dnd._empty;
for(var i in this.selection){
if(i in e){
continue;
}
t.push(dom.byId(i));
}
return t;
},selectNone:function(){
return this._removeSelection()._removeAnchor();
},selectAll:function(){
this.forInItems(function(data,id){
this._addItemClass(dom.byId(id),"Selected");
this.selection[id]=1;
},this);
return this._removeAnchor();
},deleteSelectedNodes:function(){
var e=dnd._empty;
for(var i in this.selection){
if(i in e){
continue;
}
var n=dom.byId(i);
this.delItem(i);
_9fc.destroy(n);
}
this.anchor=null;
this.selection={};
return this;
},forInSelectedItems:function(f,o){
o=o||_9fb.global;
var s=this.selection,e=dnd._empty;
for(var i in s){
if(i in e){
continue;
}
f.call(o,this.getItem(i),i,this);
}
},sync:function(){
_a01.superclass.sync.call(this);
if(this.anchor){
if(!this.getItem(this.anchor.id)){
this.anchor=null;
}
}
var t=[],e=dnd._empty;
for(var i in this.selection){
if(i in e){
continue;
}
if(!this.getItem(i)){
t.push(i);
}
}
_9f9.forEach(t,function(i){
delete this.selection[i];
},this);
return this;
},insertNodes:function(_a03,data,_a04,_a05){
var _a06=this._normalizedCreator;
this._normalizedCreator=function(item,hint){
var t=_a06.call(this,item,hint);
if(_a03){
if(!this.anchor){
this.anchor=t.node;
this._removeItemClass(t.node,"Selected");
this._addItemClass(this.anchor,"Anchor");
}else{
if(this.anchor!=t.node){
this._removeItemClass(t.node,"Anchor");
this._addItemClass(t.node,"Selected");
}
}
this.selection[t.node.id]=1;
}else{
this._removeItemClass(t.node,"Selected");
this._removeItemClass(t.node,"Anchor");
}
return t;
};
_a01.superclass.insertNodes.call(this,data,_a04,_a05);
this._normalizedCreator=_a06;
return this;
},destroy:function(){
_a01.superclass.destroy.call(this);
this.selection=this.anchor=null;
},onMouseDown:function(e){
if(this.autoSync){
this.sync();
}
if(!this.current){
return;
}
if(!this.singular&&!dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){
this.simpleSelection=true;
if(_9fd.isLeft(e)){
e.stopPropagation();
e.preventDefault();
}
return;
}
if(!this.singular&&e.shiftKey){
if(!dnd.getCopyKeyState(e)){
this._removeSelection();
}
var c=this.getAllNodes();
if(c.length){
if(!this.anchor){
this.anchor=c[0];
this._addItemClass(this.anchor,"Anchor");
}
this.selection[this.anchor.id]=1;
if(this.anchor!=this.current){
var i=0,node;
for(;i<c.length;++i){
node=c[i];
if(node==this.anchor||node==this.current){
break;
}
}
for(++i;i<c.length;++i){
node=c[i];
if(node==this.anchor||node==this.current){
break;
}
this._addItemClass(node,"Selected");
this.selection[node.id]=1;
}
this._addItemClass(this.current,"Selected");
this.selection[this.current.id]=1;
}
}
}else{
if(this.singular){
if(this.anchor==this.current){
if(dnd.getCopyKeyState(e)){
this.selectNone();
}
}else{
this.selectNone();
this.anchor=this.current;
this._addItemClass(this.anchor,"Anchor");
this.selection[this.current.id]=1;
}
}else{
if(dnd.getCopyKeyState(e)){
if(this.anchor==this.current){
delete this.selection[this.anchor.id];
this._removeAnchor();
}else{
if(this.current.id in this.selection){
this._removeItemClass(this.current,"Selected");
delete this.selection[this.current.id];
}else{
if(this.anchor){
this._removeItemClass(this.anchor,"Anchor");
this._addItemClass(this.anchor,"Selected");
}
this.anchor=this.current;
this._addItemClass(this.current,"Anchor");
this.selection[this.current.id]=1;
}
}
}else{
if(!(this.current.id in this.selection)){
this.selectNone();
this.anchor=this.current;
this._addItemClass(this.current,"Anchor");
this.selection[this.current.id]=1;
}
}
}
}
e.stopPropagation();
e.preventDefault();
},onMouseUp:function(){
if(!this.simpleSelection){
return;
}
this.simpleSelection=false;
this.selectNone();
if(this.current){
this.anchor=this.current;
this._addItemClass(this.anchor,"Anchor");
this.selection[this.current.id]=1;
}
},onMouseMove:function(){
this.simpleSelection=false;
},onOverEvent:function(){
this.onmousemoveEvent=on(this.node,_9ff.move,lang.hitch(this,"onMouseMove"));
},onOutEvent:function(){
if(this.onmousemoveEvent){
this.onmousemoveEvent.remove();
delete this.onmousemoveEvent;
}
},_removeSelection:function(){
var e=dnd._empty;
for(var i in this.selection){
if(i in e){
continue;
}
var node=dom.byId(i);
if(node){
this._removeItemClass(node,"Selected");
}
}
this.selection={};
return this;
},_removeAnchor:function(){
if(this.anchor){
this._removeItemClass(this.anchor,"Anchor");
this.anchor=null;
}
return this;
}});
return _a01;
});
},"dojox/grid/_Scroller":function(){
define(["dijit/registry","dojo/_base/declare","dojo/_base/lang","./util","dojo/_base/html"],function(_a07,_a08,lang,util,html){
var _a09=function(_a0a){
var i=0,n,p=_a0a.parentNode;
while((n=p.childNodes[i++])){
if(n==_a0a){
return i-1;
}
}
return -1;
};
var _a0b=function(_a0c){
if(!_a0c){
return;
}
dojo.forEach(_a07.toArray(),function(w){
if(w.domNode&&html.isDescendant(w.domNode,_a0c,true)){
w.destroy();
}
});
};
var _a0d=function(_a0e){
var node=html.byId(_a0e);
return (node&&node.tagName?node.tagName.toLowerCase():"");
};
var _a0f=function(_a10,_a11){
var _a12=[];
var i=0,n;
while((n=_a10.childNodes[i])){
i++;
if(_a0d(n)==_a11){
_a12.push(n);
}
}
return _a12;
};
var _a13=function(_a14){
return _a0f(_a14,"div");
};
return _a08("dojox.grid._Scroller",null,{constructor:function(_a15){
this.setContentNodes(_a15);
this.pageHeights=[];
this.pageNodes=[];
this.stack=[];
},rowCount:0,defaultRowHeight:32,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,lastVisibleRow:0,averageRowHeight:0,page:0,pageTop:0,init:function(_a16,_a17,_a18){
switch(arguments.length){
case 3:
this.rowsPerPage=_a18;
case 2:
this.keepRows=_a17;
case 1:
this.rowCount=_a16;
default:
break;
}
this.defaultPageHeight=(this.grid.rowHeight>0?this.grid.rowHeight:this.defaultRowHeight)*this.rowsPerPage;
this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);
this.setKeepInfo(this.keepRows);
this.invalidate();
if(this.scrollboxNode){
this.scrollboxNode.scrollTop=0;
this.scroll(0);
this.scrollboxNode.onscroll=lang.hitch(this,"onscroll");
}
},_getPageCount:function(_a19,_a1a){
return _a19?(Math.ceil(_a19/_a1a)||1):0;
},destroy:function(){
this.invalidateNodes();
delete this.contentNodes;
delete this.contentNode;
delete this.scrollboxNode;
},setKeepInfo:function(_a1b){
this.keepRows=_a1b;
this.keepPages=!this.keepRows?this.keepPages:Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2);
},setContentNodes:function(_a1c){
this.contentNodes=_a1c;
this.colCount=(this.contentNodes?this.contentNodes.length:0);
this.pageNodes=[];
for(var i=0;i<this.colCount;i++){
this.pageNodes[i]=[];
}
},getDefaultNodes:function(){
return this.pageNodes[0]||[];
},invalidate:function(){
this._invalidating=true;
this.invalidateNodes();
this.pageHeights=[];
this.height=(this.pageCount?(this.pageCount-1)*this.defaultPageHeight+this.calcLastPageHeight():0);
this.resize();
this._invalidating=false;
},updateRowCount:function(_a1d){
this.invalidateNodes();
this.rowCount=_a1d;
var _a1e=this.pageCount;
if(_a1e===0){
this.height=1;
}
this.pageCount=this._getPageCount(this.rowCount,this.rowsPerPage);
if(this.pageCount<_a1e){
for(var i=_a1e-1;i>=this.pageCount;i--){
this.height-=this.getPageHeight(i);
delete this.pageHeights[i];
}
}else{
if(this.pageCount>_a1e){
this.height+=this.defaultPageHeight*(this.pageCount-_a1e-1)+this.calcLastPageHeight();
}
}
this.resize();
},pageExists:function(_a1f){
return Boolean(this.getDefaultPageNode(_a1f));
},measurePage:function(_a20){
if(this.grid.rowHeight){
return ((_a20+1)*this.rowsPerPage>this.rowCount?this.rowCount-_a20*this.rowsPerPage:this.rowsPerPage)*this.grid.rowHeight;
}
var n=this.getDefaultPageNode(_a20);
return (n&&n.innerHTML)?n.offsetHeight:undefined;
},positionPage:function(_a21,_a22){
for(var i=0;i<this.colCount;i++){
this.pageNodes[i][_a21].style.top=_a22+"px";
}
},repositionPages:function(_a23){
var _a24=this.getDefaultNodes();
var last=0;
for(var i=0;i<this.stack.length;i++){
last=Math.max(this.stack[i],last);
}
var n=_a24[_a23];
var y=(n?this.getPageNodePosition(n)+this.getPageHeight(_a23):0);
for(var p=_a23+1;p<=last;p++){
n=_a24[p];
if(n){
if(this.getPageNodePosition(n)==y){
return;
}
this.positionPage(p,y);
}
y+=this.getPageHeight(p);
}
},installPage:function(_a25){
for(var i=0;i<this.colCount;i++){
this.contentNodes[i].appendChild(this.pageNodes[i][_a25]);
}
},preparePage:function(_a26,_a27){
var p=(_a27?this.popPage():null);
for(var i=0;i<this.colCount;i++){
var _a28=this.pageNodes[i];
var _a29=(p===null?this.createPageNode():this.invalidatePageNode(p,_a28));
_a29.pageIndex=_a26;
_a28[_a26]=_a29;
}
},renderPage:function(_a2a){
var _a2b=[];
var i,j;
for(i=0;i<this.colCount;i++){
_a2b[i]=this.pageNodes[i][_a2a];
}
for(i=0,j=_a2a*this.rowsPerPage;(i<this.rowsPerPage)&&(j<this.rowCount);i++,j++){
this.renderRow(j,_a2b);
}
},removePage:function(_a2c){
for(var i=0,j=_a2c*this.rowsPerPage;i<this.rowsPerPage;i++,j++){
this.removeRow(j);
}
},destroyPage:function(_a2d){
for(var i=0;i<this.colCount;i++){
var n=this.invalidatePageNode(_a2d,this.pageNodes[i]);
if(n){
html.destroy(n);
}
}
},pacify:function(_a2e){
},pacifying:false,pacifyTicks:200,setPacifying:function(_a2f){
if(this.pacifying!=_a2f){
this.pacifying=_a2f;
this.pacify(this.pacifying);
}
},startPacify:function(){
this.startPacifyTicks=new Date().getTime();
},doPacify:function(){
var _a30=(new Date().getTime()-this.startPacifyTicks)>this.pacifyTicks;
this.setPacifying(true);
this.startPacify();
return _a30;
},endPacify:function(){
this.setPacifying(false);
},resize:function(){
if(this.scrollboxNode){
this.windowHeight=this.scrollboxNode.clientHeight;
}
for(var i=0;i<this.colCount;i++){
util.setStyleHeightPx(this.contentNodes[i],Math.max(1,this.height));
}
var _a31=(!this._invalidating);
if(!_a31){
var ah=this.grid.get("autoHeight");
if(typeof ah=="number"&&ah<=Math.min(this.rowsPerPage,this.rowCount)){
_a31=true;
}
}
if(_a31){
this.needPage(this.page,this.pageTop);
}
var _a32=(this.page<this.pageCount-1)?this.rowsPerPage:((this.rowCount%this.rowsPerPage)||this.rowsPerPage);
var _a33=this.getPageHeight(this.page);
this.averageRowHeight=(_a33>0&&_a32>0)?(_a33/_a32):0;
},calcLastPageHeight:function(){
if(!this.pageCount){
return 0;
}
var _a34=this.pageCount-1;
var _a35=((this.rowCount%this.rowsPerPage)||(this.rowsPerPage))*this.defaultRowHeight;
this.pageHeights[_a34]=_a35;
return _a35;
},updateContentHeight:function(inDh){
this.height+=inDh;
this.resize();
},updatePageHeight:function(_a36,_a37,_a38){
if(this.pageExists(_a36)){
var oh=this.getPageHeight(_a36);
var h=(this.measurePage(_a36));
if(h===undefined){
h=oh;
}
this.pageHeights[_a36]=h;
if(oh!=h){
this.updateContentHeight(h-oh);
var ah=this.grid.get("autoHeight");
if((typeof ah=="number"&&ah>this.rowCount)||(ah===true&&!_a37)){
if(!_a38){
this.grid.sizeChange();
}else{
var ns=this.grid.viewsNode.style;
ns.height=parseInt(ns.height)+h-oh+"px";
this.repositionPages(_a36);
}
}else{
this.repositionPages(_a36);
}
}
return h;
}
return 0;
},rowHeightChanged:function(_a39,_a3a){
this.updatePageHeight(Math.floor(_a39/this.rowsPerPage),false,_a3a);
},invalidateNodes:function(){
while(this.stack.length){
this.destroyPage(this.popPage());
}
},createPageNode:function(){
var p=document.createElement("div");
html.attr(p,"role","presentation");
p.style.position="absolute";
p.style[this.grid.isLeftToRight()?"left":"right"]="0";
return p;
},getPageHeight:function(_a3b){
var ph=this.pageHeights[_a3b];
return (ph!==undefined?ph:this.defaultPageHeight);
},pushPage:function(_a3c){
return this.stack.push(_a3c);
},popPage:function(){
return this.stack.shift();
},findPage:function(_a3d){
var i=0,h=0;
for(var ph=0;i<this.pageCount;i++,h+=ph){
ph=this.getPageHeight(i);
if(h+ph>=_a3d){
break;
}
}
this.page=i;
this.pageTop=h;
},buildPage:function(_a3e,_a3f,_a40){
this.preparePage(_a3e,_a3f);
this.positionPage(_a3e,_a40);
this.installPage(_a3e);
this.renderPage(_a3e);
this.pushPage(_a3e);
},needPage:function(_a41,_a42){
var h=this.getPageHeight(_a41),oh=h;
if(!this.pageExists(_a41)){
this.buildPage(_a41,(!this.grid._autoHeight&&this.keepPages&&(this.stack.length>=this.keepPages)),_a42);
h=this.updatePageHeight(_a41,true);
}else{
this.positionPage(_a41,_a42);
}
return h;
},onscroll:function(){
this.scroll(this.scrollboxNode.scrollTop);
},scroll:function(_a43){
this.grid.scrollTop=_a43;
if(this.colCount){
this.startPacify();
this.findPage(_a43);
var h=this.height;
var b=this.getScrollBottom(_a43);
for(var p=this.page,y=this.pageTop;(p<this.pageCount)&&((b<0)||(y<b));p++){
y+=this.needPage(p,y);
}
this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,_a43);
this.lastVisibleRow=this.getLastVisibleRow(p-1,y,b);
if(h!=this.height){
this.repositionPages(p-1);
}
this.endPacify();
}
},getScrollBottom:function(_a44){
return (this.windowHeight>=0?_a44+this.windowHeight:-1);
},processNodeEvent:function(e,_a45){
var t=e.target;
while(t&&(t!=_a45)&&t.parentNode&&(t.parentNode.parentNode!=_a45)){
t=t.parentNode;
}
if(!t||!t.parentNode||(t.parentNode.parentNode!=_a45)){
return false;
}
var page=t.parentNode;
e.topRowIndex=page.pageIndex*this.rowsPerPage;
e.rowIndex=e.topRowIndex+_a09(t);
e.rowTarget=t;
return true;
},processEvent:function(e){
return this.processNodeEvent(e,this.contentNode);
},renderRow:function(_a46,_a47){
},removeRow:function(_a48){
},getDefaultPageNode:function(_a49){
return this.getDefaultNodes()[_a49];
},positionPageNode:function(_a4a,_a4b){
},getPageNodePosition:function(_a4c){
return _a4c.offsetTop;
},invalidatePageNode:function(_a4d,_a4e){
var p=_a4e[_a4d];
if(p){
delete _a4e[_a4d];
this.removePage(_a4d,p);
_a0b(p);
p.innerHTML="";
}
return p;
},getPageRow:function(_a4f){
return _a4f*this.rowsPerPage;
},getLastPageRow:function(_a50){
return Math.min(this.rowCount,this.getPageRow(_a50+1))-1;
},getFirstVisibleRow:function(_a51,_a52,_a53){
if(!this.pageExists(_a51)){
return 0;
}
var row=this.getPageRow(_a51);
var _a54=this.getDefaultNodes();
var rows=_a13(_a54[_a51]);
for(var i=0,l=rows.length;i<l&&_a52<_a53;i++,row++){
_a52+=rows[i].offsetHeight;
}
return (row?row-1:row);
},getLastVisibleRow:function(_a55,_a56,_a57){
if(!this.pageExists(_a55)){
return 0;
}
var _a58=this.getDefaultNodes();
var row=this.getLastPageRow(_a55);
var rows=_a13(_a58[_a55]);
for(var i=rows.length-1;i>=0&&_a56>_a57;i--,row--){
_a56-=rows[i].offsetHeight;
}
return row+1;
},findTopRow:function(_a59){
var _a5a=this.getDefaultNodes();
var rows=_a13(_a5a[this.page]);
for(var i=0,l=rows.length,t=this.pageTop,h;i<l;i++){
h=rows[i].offsetHeight;
t+=h;
if(t>=_a59){
this.offset=h-(t-_a59);
return i+this.page*this.rowsPerPage;
}
}
return -1;
},findScrollTop:function(_a5b){
var _a5c=Math.floor(_a5b/this.rowsPerPage);
var t=0;
var i,l;
for(i=0;i<_a5c;i++){
t+=this.getPageHeight(i);
}
this.pageTop=t;
this.page=_a5c;
this.needPage(_a5c,this.pageTop);
var _a5d=this.getDefaultNodes();
var rows=_a13(_a5d[_a5c]);
var r=_a5b-this.rowsPerPage*_a5c;
for(i=0,l=rows.length;i<l&&i<r;i++){
t+=rows[i].offsetHeight;
}
return t;
},dummy:0});
});
},"dgrid/OnDemandGrid":function(){
define(["dojo/_base/declare","./Grid","./OnDemandList"],function(_a5e,Grid,_a5f){
return _a5e([Grid,_a5f],{});
});
},"dojo/fx":function(){
define(["./_base/lang","./Evented","./_base/kernel","./_base/array","./aspect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_a60,dojo,_a61,_a62,_a63,dom,_a64,geom,_a65,_a66){
if(!dojo.isAsync){
_a65(0,function(){
var _a67=["./fx/Toggler"];
_a66(_a67);
});
}
var _a68=dojo.fx={};
var _a69={_fire:function(evt,args){
if(this[evt]){
this[evt].apply(this,args||[]);
}
return this;
}};
var _a6a=function(_a6b){
this._index=-1;
this._animations=_a6b||[];
this._current=this._onAnimateCtx=this._onEndCtx=null;
this.duration=0;
_a61.forEach(this._animations,function(a){
this.duration+=a.duration;
if(a.delay){
this.duration+=a.delay;
}
},this);
};
_a6a.prototype=new _a60();
lang.extend(_a6a,{_onAnimate:function(){
this._fire("onAnimate",arguments);
},_onEnd:function(){
this._onAnimateCtx.remove();
this._onEndCtx.remove();
this._onAnimateCtx=this._onEndCtx=null;
if(this._index+1==this._animations.length){
this._fire("onEnd");
}else{
this._current=this._animations[++this._index];
this._onAnimateCtx=_a62.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);
this._onEndCtx=_a62.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);
this._current.play(0,true);
}
},play:function(_a6c,_a6d){
if(!this._current){
this._current=this._animations[this._index=0];
}
if(!_a6d&&this._current.status()=="playing"){
return this;
}
var _a6e=_a62.after(this._current,"beforeBegin",lang.hitch(this,function(){
this._fire("beforeBegin");
}),true),_a6f=_a62.after(this._current,"onBegin",lang.hitch(this,function(arg){
this._fire("onBegin",arguments);
}),true),_a70=_a62.after(this._current,"onPlay",lang.hitch(this,function(arg){
this._fire("onPlay",arguments);
_a6e.remove();
_a6f.remove();
_a70.remove();
}));
if(this._onAnimateCtx){
this._onAnimateCtx.remove();
}
this._onAnimateCtx=_a62.after(this._current,"onAnimate",lang.hitch(this,"_onAnimate"),true);
if(this._onEndCtx){
this._onEndCtx.remove();
}
this._onEndCtx=_a62.after(this._current,"onEnd",lang.hitch(this,"_onEnd"),true);
this._current.play.apply(this._current,arguments);
return this;
},pause:function(){
if(this._current){
var e=_a62.after(this._current,"onPause",lang.hitch(this,function(arg){
this._fire("onPause",arguments);
e.remove();
}),true);
this._current.pause();
}
return this;
},gotoPercent:function(_a71,_a72){
this.pause();
var _a73=this.duration*_a71;
this._current=null;
_a61.some(this._animations,function(a){
if(a.duration<=_a73){
this._current=a;
return true;
}
_a73-=a.duration;
return false;
});
if(this._current){
this._current.gotoPercent(_a73/this._current.duration,_a72);
}
return this;
},stop:function(_a74){
if(this._current){
if(_a74){
for(;this._index+1<this._animations.length;++this._index){
this._animations[this._index].stop(true);
}
this._current=this._animations[this._index];
}
var e=_a62.after(this._current,"onStop",lang.hitch(this,function(arg){
this._fire("onStop",arguments);
e.remove();
}),true);
this._current.stop();
}
return this;
},status:function(){
return this._current?this._current.status():"stopped";
},destroy:function(){
if(this._onAnimateCtx){
this._onAnimateCtx.remove();
}
if(this._onEndCtx){
this._onEndCtx.remove();
}
}});
lang.extend(_a6a,_a69);
_a68.chain=function(_a75){
return new _a6a(_a75);
};
var _a76=function(_a77){
this._animations=_a77||[];
this._connects=[];
this._finished=0;
this.duration=0;
_a61.forEach(_a77,function(a){
var _a78=a.duration;
if(a.delay){
_a78+=a.delay;
}
if(this.duration<_a78){
this.duration=_a78;
}
this._connects.push(_a62.after(a,"onEnd",lang.hitch(this,"_onEnd"),true));
},this);
this._pseudoAnimation=new _a63.Animation({curve:[0,1],duration:this.duration});
var self=this;
_a61.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){
self._connects.push(_a62.after(self._pseudoAnimation,evt,function(){
self._fire(evt,arguments);
},true));
});
};
lang.extend(_a76,{_doAction:function(_a79,args){
_a61.forEach(this._animations,function(a){
a[_a79].apply(a,args);
});
return this;
},_onEnd:function(){
if(++this._finished>this._animations.length){
this._fire("onEnd");
}
},_call:function(_a7a,args){
var t=this._pseudoAnimation;
t[_a7a].apply(t,args);
},play:function(_a7b,_a7c){
this._finished=0;
this._doAction("play",arguments);
this._call("play",arguments);
return this;
},pause:function(){
this._doAction("pause",arguments);
this._call("pause",arguments);
return this;
},gotoPercent:function(_a7d,_a7e){
var ms=this.duration*_a7d;
_a61.forEach(this._animations,function(a){
a.gotoPercent(a.duration<ms?1:(ms/a.duration),_a7e);
});
this._call("gotoPercent",arguments);
return this;
},stop:function(_a7f){
this._doAction("stop",arguments);
this._call("stop",arguments);
return this;
},status:function(){
return this._pseudoAnimation.status();
},destroy:function(){
_a61.forEach(this._connects,function(_a80){
_a80.remove();
});
}});
lang.extend(_a76,_a69);
_a68.combine=function(_a81){
return new _a76(_a81);
};
_a68.wipeIn=function(args){
var node=args.node=dom.byId(args.node),s=node.style,o;
var anim=_a63.animateProperty(lang.mixin({properties:{height:{start:function(){
o=s.overflow;
s.overflow="hidden";
if(s.visibility=="hidden"||s.display=="none"){
s.height="1px";
s.display="";
s.visibility="";
return 1;
}else{
var _a82=_a64.get(node,"height");
return Math.max(_a82,1);
}
},end:function(){
return node.scrollHeight;
}}}},args));
var fini=function(){
s.height="auto";
s.overflow=o;
};
_a62.after(anim,"onStop",fini,true);
_a62.after(anim,"onEnd",fini,true);
return anim;
};
_a68.wipeOut=function(args){
var node=args.node=dom.byId(args.node),s=node.style,o;
var anim=_a63.animateProperty(lang.mixin({properties:{height:{end:1}}},args));
_a62.after(anim,"beforeBegin",function(){
o=s.overflow;
s.overflow="hidden";
s.display="";
},true);
var fini=function(){
s.overflow=o;
s.height="auto";
s.display="none";
};
_a62.after(anim,"onStop",fini,true);
_a62.after(anim,"onEnd",fini,true);
return anim;
};
_a68.slideTo=function(args){
var node=args.node=dom.byId(args.node),top=null,left=null;
var init=(function(n){
return function(){
var cs=_a64.getComputedStyle(n);
var pos=cs.position;
top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);
left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);
if(pos!="absolute"&&pos!="relative"){
var ret=geom.position(n,true);
top=ret.y;
left=ret.x;
n.style.position="absolute";
n.style.top=top+"px";
n.style.left=left+"px";
}
};
})(node);
init();
var anim=_a63.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));
_a62.after(anim,"beforeBegin",init,true);
return anim;
};
return _a68;
});
},"dijit/_base/sniff":function(){
define(["dojo/uacss"],function(){
});
},"manager/EditMask":function(){
define("manager/EditMask",["dojo/_base/declare"],function(_a83){
return _a83("Manager.EditMask",[],{version:"0.1",h1:null,h2:null,h3:null,h4:null,constructor:function(_a84,mask,_a85,_a86){
this.element=manager.getElementById(_a84);
if(this.element!=null){
this.mask=mask;
this.errMsg=_a86!=""?_a86:"Caracter inválido!";
this.optional=_a85;
var _a87=this.element.value?this.filterStrip(this.element.value):"";
this.element.value=this.fillMask(_a87);
this.fcolor=this.element.style.color==""?"black":_a84.style.color;
this.first=true;
this.element.editMask=this;
this.h1=dojo.connect(this.element,"keypress",this,this.process);
this.h2=dojo.connect(this.element,"focus",this,this.onEnter);
this.h3=dojo.connect(this.element,"submit",this,this.onSubmit);
}
},onEnter:function(_a88){
element=_a88.target;
element.editMask.color=element.style.color;
element.editMask.first=true;
var _a89=element.value?element.editMask.filterStrip(element.value):"";
element.value=element.editMask.fillMask(_a89);
},onExit:function(_a8a){
element=_a8a.target;
var ok=element.editMask.canBlur(element);
if(ok){
dojo.disconnect(element.editMask.h4);
element.editMask.first=true;
}else{
element.focus();
}
return ok;
},canBlur:function(_a8b){
var _a8c=_a8b.editMask.filterExit(_a8b.value);
var ok=true;
if(!_a8b.editMask.optional){
ok=(_a8c.length==_a8b.editMask.mask.length);
}
if(ok){
_a8b.value=_a8c;
_a8b.style.color=_a8b.editMask.fcolor;
}else{
_a8b.style.color="red";
_a8b.focus();
}
return ok;
},onError:function(_a8d){
alert(_a8d);
},onSubmit:function(){
this.element.value=this.filterExit(this.element.value);
return true;
},process:function(_a8e){
element=_a8e.target;
keyCode=_a8e.charCode!=0?_a8e.charCode:_a8e.keyCode;
editMask=element.editMask;
if(element.editMask.first){
element.editMask.h4=dojo.connect(element,"blur",element.editMask,element.editMask.onExit);
element.editMask.first=false;
}
filter=editMask.filterStrip(element.value);
var _a8f="";
if(keyCode==9){
return true;
}else{
if(keyCode==8&&filter.length!=0){
filter=filter.substring(0,filter.length-1);
}else{
if(((keyCode>47&&keyCode<122))&&filter.length<editMask.filterMax()){
_a8f=filter+String.fromCharCode(keyCode);
}else{
_a8f=filter;
}
}
}
var _a90="";
var _a91=editMask.validateMask(_a8f);
if(_a91){
_a90=editMask.fillMask(_a91);
}else{
_a90=editMask.fillMask(filter);
}
element.value=_a90;
_a8e.preventDefault();
return false;
},filterStrip:function(_a92){
mask=this.mask;
for(var _a93=0;_a93<mask.length++;_a93++){
var c=mask.charAt(_a93);
if(this.isEditChar(c)){
mask=this.filterReplace(mask,mask.substring(_a93,_a93+1),"");
}
}
filterMask=mask+"_";
for(var _a93=0;_a93<filterMask.length++;_a93++){
_a92=this.filterReplace(_a92,filterMask.substring(_a93,_a93+1),"");
}
return _a92;
},filterMask:function(_a94){
filterMask="_";
for(var _a95=0;_a95<filterMask.length++;_a95++){
_a94=this.filterReplace(_a94,filterMask.substring(_a95,_a95+1),"");
}
return _a94;
},filterMax:function(){
filterTemp=this.mask;
for(var _a96=0;_a96<(this.mask.length+1);_a96++){
var c=this.mask.charAt(_a96);
if(!this.isEditChar(c)){
filterTemp=this.filterReplace(filterTemp,c,"");
}
}
return filterTemp.length;
},filterExit:function(_a97){
mask=this.mask+"_";
var _a98=true;
for(var i=0;i<_a97.length;i++){
_a98=_a98&&(_a97.charAt(i)!="_");
}
if(!_a98){
while((_a97.length>0)&&(mask.indexOf(_a97.charAt(0))>-1)){
_a97=_a97.substr(1);
}
}
return _a97;
},filterReplace:function(_a99,text,by){
var _a9a=_a99.length,_a9b=text.length;
if((_a9a==0)||(_a9b==0)){
return _a99;
}
var i=_a99.indexOf(text);
if((!i)&&(text!=_a99.substring(0,_a9b))){
return _a99;
}
if(i==-1){
return _a99;
}
var _a9c=_a99.substring(0,i)+by;
if(i+_a9b<_a9a){
_a9c+=this.filterReplace(_a99.substring(i+_a9b,_a9a),text,by);
}
return _a9c;
},isEditChar:function(c){
switch(c){
case "_":
case "#":
case "a":
case "A":
case "l":
case "L":
return true;
default:
return false;
}
return false;
},displayMaskChar:function(c){
if(this.isEditChar(c)){
return "_";
}else{
return c;
}
},displayMask:function(mask){
var d="";
for(var i=0;i<mask.length;i++){
d+=this.displayMaskChar(mask.substr(i,1));
}
return d;
},validateMask:function(_a9d){
var ok=true;
var _a9e=this.mask.length-1;
var pos=posmask=0;
var n=_a9d.length-1;
var _a9f="";
while((pos<=n)&&(posmask<=_a9e)){
var m=this.mask.charAt(posmask);
var c=_a9d.charCodeAt(pos);
if(this.isEditChar(m)){
var code=this.isInsertOK(c,m);
if(ok=ok&&(code!=null)){
_a9f=_a9f+String.fromCharCode(code);
}else{
this.onError(this.errMsg);
}
pos+=1;
}
posmask+=1;
}
return ok?_a9f:null;
},fillMask:function(_aa0){
var _aa1="";
var n=_aa0.length-1;
var _aa2=this.mask.length-1;
var pos=n;
var _aa3=_aa2;
while(_aa3>=0){
var m=this.mask.charAt(_aa3);
if(pos>=0){
var c=_aa0.charAt(pos);
if(this.isEditChar(m)){
_aa1=c+_aa1;
pos-=1;
}else{
_aa1=m+_aa1;
}
}else{
if(this.isEditChar(m)){
_aa1="_"+_aa1;
}else{
_aa1=m+_aa1;
}
}
_aa3-=1;
}
return _aa1;
},isInsertOK:function(code,_aa4){
switch(_aa4){
case "_":
return true;
break;
case "#":
return this.checkDigit(code);
break;
case "a":
return this.checkAlphaNumeric(code);
break;
case "A":
return this.checkUpCaseAlphaNumeric(code);
break;
case "l":
return this.checkAlpha(code);
break;
case "L":
return this.checkUpCaseAlpha(code);
break;
}
return false;
},checkDigit:function(code){
if((code>=48)&&(code<=57)){
return code;
}else{
return null;
}
},checkAlpha:function(code){
if(((code>=65)&&(code<=90))||((code>=97)&&(code<=122))){
return code;
}else{
return null;
}
},checkUpCaseAlpha:function(code){
if((code>=65)&&(code<=90)){
return code;
}else{
if((code>=97)&&(code<=122)){
return code-32;
}else{
return null;
}
}
},checkAlphaNumeric:function(code){
if(((code>=65)&&(code<=90))||((code>=97)&&(code<=122))||((code>=48)&&(code<=57))){
return code;
}else{
return null;
}
},checkUpCaseAlphaNumeric:function(code){
if((code>=65)&&(code<=90)){
return code;
}else{
if((code>=97)&&(code<=122)){
return code-32;
}else{
if((code>=48)&&(code<=57)){
return code;
}else{
return null;
}
}
}
}});
});
},"manager/Grid":function(){
define("manager/Grid",["dojo/_base/declare","dojo/store/Memory"],function(_aa5,_aa6){
return _aa5("Manager.Grid",[],{constructor:function(name,page){
this.name=name;
this.page=page;
this.idSelect=this.name+"_SELECT_CHECKED";
this.firstIndex=0;
this.data=null;
this.goPageStore=new _aa6();
this.hover();
},hover:function(){
var arg="table#"+this.name+" tbody tr";
dojo.query(arg).forEach(function(node,_aa7,arr){
manager.hover(node.id,function(_aa8){
_aa8.currentTarget.originalClassName="row"+(_aa7%2);
_aa8.currentTarget.className=_aa8.currentTarget.className.replace(_aa8.currentTarget.originalClassName,"rowenter");
},function(_aa9){
_aa9.currentTarget.className=_aa9.currentTarget.className.replace("rowenter",_aa9.currentTarget.originalClassName);
});
});
},selectRow:function(_aaa){
var arg="table#"+this.name+" tbody tr";
dojo.query(arg).forEach(function(node,_aab,arr){
node.index=_aab;
dojo.connect(node,"ondblclick",function(_aac){
_aaa(_aac.currentTarget.index);
});
});
},setData:function(data){
this.data=data;
},addGoPage:function(data){
for(var i=0;i<data.length;i++){
this.goPageStore.add(data[i]);
}
},getGoPage:function(){
return this.goPageStore;
},changeRow:function(_aad){
var div=manager.byId(this.name+"-row-"+_aad);
if(!div){
div=manager.byId(this.name+"DGrid-row-"+_aad);
}
var _aae=dijit.byId(this.name+"_SELECT"+"["+_aad+"]");
var _aaf=div.originalClassName?div.originalClassName:div.className;
if(_aae.get("checked")){
div.className=_aaf+"Checked";
}else{
div.className=_aaf.replace("Checked","");
}
},check:function(_ab0,_ab1){
var _ab2=dijit.byId(this.name+"_SELECT"+"["+_ab0+"]");
var _ab3=manager.getElementById(this.idSelect);
if(_ab2.get("checked")){
_ab3.value=(_ab3.value!=""?_ab3.value+":":"")+_ab1;
}else{
var _ab4=new RegExp("^"+_ab1+":?|"+_ab1+":?|:?"+_ab1+"$");
_ab3.value=_ab3.value.replace(_ab4,"");
}
this.changeRow(_ab0);
},checkAll:function(n){
var _ab5=dijit.byId(this.name+"chkAll");
for(var i=0;i<n;i++){
var _ab6=this.firstIndex+i;
var _ab7=dijit.byId(this.name+"_SELECT"+"["+_ab6+"]");
if(_ab5.checked!=_ab7.checked){
if(_ab7.checked){
value=_ab7.get("value");
_ab7.set("checked",false);
}else{
_ab7.set("checked",true);
value=_ab7.get("value");
}
this.check(_ab6,value);
}
}
},checkEachRow:function(n){
for(var i=0;i<n;i++){
var _ab8=this.firstIndex+i;
this.changeRow(_ab8);
}
},goPage:function(_ab9){
manager.setElementValueById(this.name+"_PAGING","yes");
manager.setElementValueById(this.name+"_PAGE",this.page);
manager.setElementValueById(this.name+"_GOPAGE",_ab9);
manager.doPostBack(this.name);
}});
});
},"dgrid/Grid":function(){
define(["dojo/_base/kernel","dojo/_base/declare","dojo/on","dojo/has","put-selector/put","./List","./util/misc","dojo/_base/sniff"],function(_aba,_abb,_abc,has,put,List,_abd){
var _abe=has("ie")<8&&!has("quirks");
var _abf=/[^\._a-zA-Z0-9-]/g;
function _ac0(_ac1,_ac2){
if(_ac2&&_ac2.nodeType){
_ac1.appendChild(_ac2);
}
};
var Grid=_abb(List,{columns:null,cellNavigation:true,tabableHeader:true,showHeader:true,column:function(_ac3){
if(typeof _ac3=="string"){
return this.columns[_ac3];
}else{
return this.cell(_ac3).column;
}
},listType:"grid",cell:function(_ac4,_ac5){
if(_ac4.column&&_ac4.element){
return _ac4;
}
if(_ac4.target&&_ac4.target.nodeType){
_ac4=_ac4.target;
}
var _ac6;
if(_ac4.nodeType){
var _ac7;
do{
if(this._rowIdToObject[_ac4.id]){
break;
}
var _ac8=_ac4.columnId;
if(_ac8){
_ac5=_ac8;
_ac6=_ac4;
break;
}
_ac4=_ac4.parentNode;
}while(_ac4&&_ac4!=this.domNode);
}
if(!_ac6&&typeof _ac5!="undefined"){
var row=this.row(_ac4),_ac9=row.element;
if(_ac9){
var _aca=_ac9.getElementsByTagName("td");
for(var i=0;i<_aca.length;i++){
if(_aca[i].columnId==_ac5){
_ac6=_aca[i];
break;
}
}
}
}
if(_ac4!=null){
return {row:row||this.row(_ac4),column:_ac5&&this.column(_ac5),element:_ac6};
}
},createRowCells:function(tag,each,_acb){
var row=put("table.dgrid-row-table[role=presentation]"),_acc=this.cellNavigation,_acd=(has("ie")<9||has("quirks"))?put(row,"tbody"):row,tr,si,sl,i,l,_ace,_acf,id,_ad0,cell,_ad1,_ad2,_ad3;
_acb=_acb||this.subRows;
for(si=0,sl=_acb.length;si<sl;si++){
_ace=_acb[si];
tr=put(_acd,"tr");
if(_ace.className){
put(tr,"."+_ace.className);
}
for(i=0,l=_ace.length;i<l;i++){
_acf=_ace[i];
id=_acf.id;
_ad0=_acf.className||(_acf.field&&"field-"+_acf.field);
cell=put(tag+(".dgrid-cell.dgrid-cell-padding"+(id?".dgrid-column-"+id:"")+(_ad0?"."+_ad0:"")).replace(_abf,"-")+"[role="+(tag==="th"?"columnheader":"gridcell")+"]");
cell.columnId=id;
if(_abe){
_ad1=put(cell,"!dgrid-cell-padding div.dgrid-cell-padding");
cell.contents=_ad1;
}else{
_ad1=cell;
}
_ad2=_acf.colSpan;
if(_ad2){
cell.colSpan=_ad2;
}
_ad3=_acf.rowSpan;
if(_ad3){
cell.rowSpan=_ad3;
}
each(_ad1,_acf);
tr.appendChild(cell);
}
}
return row;
},left:function(cell,_ad4){
if(!cell.element){
cell=this.cell(cell);
}
return this.cell(this._move(cell,-(_ad4||1),"dgrid-cell"));
},right:function(cell,_ad5){
if(!cell.element){
cell=this.cell(cell);
}
return this.cell(this._move(cell,_ad5||1,"dgrid-cell"));
},renderRow:function(_ad6,_ad7){
var self=this;
var row=this.createRowCells("td",function(td,_ad8){
var data=_ad6;
if(_ad8.get){
data=_ad8.get(_ad6);
}else{
if("field" in _ad8&&_ad8.field!="_item"){
data=data[_ad8.field];
}
}
if(_ad8.renderCell){
_ac0(td,_ad8.renderCell(_ad6,data,td,_ad7));
}else{
_ad9.call(_ad8,_ad6,data,td,_ad7);
}
},_ad7&&_ad7.subRows);
return put("div[role=row]>",row);
},renderHeader:function(){
var grid=this,_ada=this.columns,_adb=this.headerNode,i=_adb.childNodes.length;
_adb.setAttribute("role","row");
while(i--){
put(_adb.childNodes[i],"!");
}
var row=this.createRowCells("th",function(th,_adc){
var _add=_adc.headerNode=th;
if(_abe){
th=th.parentNode;
}
var _ade=_adc.field;
if(_ade){
th.field=_ade;
}
if(_adc.renderHeaderCell){
_ac0(_add,_adc.renderHeaderCell(_add));
}else{
if(_adc.label||_adc.field){
_add.appendChild(document.createTextNode(_adc.label||_adc.field));
}
}
if(_adc.sortable!==false&&_ade&&_ade!="_item"){
th.sortable=true;
th.className+=" dgrid-sortable";
}
},this.subRows&&this.subRows.headerRows);
this._rowIdToObject[row.id=this.id+"-header"]=this.columns;
_adb.appendChild(row);
if(this._sortListener){
this._sortListener.remove();
}
this._sortListener=_abc(row,"click,keydown",function(_adf){
if(_adf.type=="click"||_adf.keyCode==32||(!has("opera")&&_adf.keyCode==13)){
var _ae0=_adf.target,_ae1,sort,_ae2,_ae3;
do{
if(_ae0.sortable){
_ae2=[{attribute:(_ae1=_ae0.field||_ae0.columnId),descending:(sort=grid._sort[0])&&sort.attribute==_ae1&&!sort.descending}];
_ae3={bubbles:true,cancelable:true,grid:grid,parentType:_adf.type,sort:_ae2};
if(_abc.emit(_adf.target,"dgrid-sort",_ae3)){
grid._sortNode=_ae0;
grid.set("sort",_ae2);
}
break;
}
}while((_ae0=_ae0.parentNode)&&_ae0!=_adb);
}
});
},resize:function(){
var _ae4=this.headerNode.firstChild,_ae5=this.contentNode,_ae6;
this.inherited(arguments);
if(!has("ie")||(has("ie")>7&&!has("quirks"))){
_ae5.style.width="";
if(_ae5&&_ae4){
if((_ae6=_ae4.offsetWidth)!=_ae5.offsetWidth){
_ae5.style.width=_ae6+"px";
}
}
}
},destroy:function(){
this._destroyColumns();
if(this._sortListener){
this._sortListener.remove();
}
this.inherited(arguments);
},_setSort:function(_ae7,_ae8){
this.inherited(arguments);
this.updateSortArrow(this._sort);
},updateSortArrow:function(sort,_ae9){
if(this._lastSortedArrow){
put(this._lastSortedArrow,"<!dgrid-sort-up!dgrid-sort-down");
put(this._lastSortedArrow,"!");
delete this._lastSortedArrow;
}
if(_ae9){
this._sort=sort;
}
if(!sort[0]){
return;
}
var prop=sort[0].attribute,desc=sort[0].descending,_aea=this._sortNode,_aeb,_aec,i;
delete this._sortNode;
if(!_aea){
_aeb=this.columns;
for(i in _aeb){
_aec=_aeb[i];
if(_aec.field==prop){
_aea=_aec.headerNode;
break;
}
}
}
if(_aea){
_aea=_aea.contents||_aea;
this._lastSortedArrow=put(_aea.firstChild,"-div.dgrid-sort-arrow.ui-icon[role=presentation]");
this._lastSortedArrow.innerHTML="&nbsp;";
put(_aea,desc?".dgrid-sort-down":".dgrid-sort-up");
this.resize();
}
},styleColumn:function(_aed,css){
return this.addCssRule("#"+_abd.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+_aed,css);
},_configColumns:function(_aee,_aef){
var _af0=[],_af1=_aef instanceof Array,_af2,_af3;
for(_af2 in _aef){
_af3=_aef[_af2];
if(typeof _af3=="string"){
_aef[_af2]=_af3={label:_af3};
}
if(!_af1&&!_af3.field){
_af3.field=_af2;
}
_af2=_af3.id=_af3.id||(isNaN(_af2)?_af2:(_aee+_af2));
if(_af1){
this.columns[_af2]=_af3;
}
if(this._configColumn){
this._configColumn(_af3,_af2,_aef,_aee);
}
_af3.grid=this;
if(typeof _af3.init==="function"){
_af3.init();
}
_af0.push(_af3);
}
return _af1?_aef:_af0;
},_destroyColumns:function(){
var _af4=this.subRows,_af5=_af4&&_af4.length,i,j,_af6,len;
this.cleanup();
for(i=0;i<_af5;i++){
for(j=0,len=_af4[i].length;j<len;j++){
_af6=_af4[i][j];
if(typeof _af6.destroy==="function"){
_af6.destroy();
}
}
}
},configStructure:function(){
var _af7=this.subRows,_af8=this._columns=this.columns;
this.columns=!_af8||_af8 instanceof Array?{}:_af8;
if(_af7){
for(var i=0;i<_af7.length;i++){
_af7[i]=this._configColumns(i+"-",_af7[i]);
}
}else{
this.subRows=[this._configColumns("",_af8)];
}
},_getColumns:function(){
return this._columns||this.columns;
},_setColumns:function(_af9){
this._destroyColumns();
this.subRows=null;
this.columns=_af9;
this._updateColumns();
},_setSubRows:function(_afa){
this._destroyColumns();
this.subRows=_afa;
this._updateColumns();
},setColumns:function(_afb){
_aba.deprecated("setColumns(...)","use set(\"columns\", ...) instead","dgrid 1.0");
this.set("columns",_afb);
},setSubRows:function(_afc){
_aba.deprecated("setSubRows(...)","use set(\"subRows\", ...) instead","dgrid 1.0");
this.set("subRows",_afc);
},_updateColumns:function(){
this.configStructure();
this.renderHeader();
this.refresh();
this._lastCollection&&this.renderArray(this._lastCollection);
if(this._started){
if(this._sort&&this._sort.length){
this.updateSortArrow(this._sort);
}else{
this.resize();
}
}
}});
function _ad9(_afd,data,td,_afe){
if(this.formatter){
var _aff=this.formatter,_b00=this.grid.formatterScope;
td.innerHTML=typeof _aff==="string"&&_b00?_b00[_aff](data,_afd):_aff(data,_afd);
}else{
if(data!=null){
td.appendChild(document.createTextNode(data));
}
}
};
Grid.appendIfNode=_ac0;
Grid.defaultRenderCell=_ad9;
return Grid;
});
},"dojo/data/util/sorter":function(){
define(["../../_base/lang"],function(lang){
var _b01={};
lang.setObject("dojo.data.util.sorter",_b01);
_b01.basicComparator=function(a,b){
var r=-1;
if(a===null){
a=undefined;
}
if(b===null){
b=undefined;
}
if(a==b){
r=0;
}else{
if(a>b||a==null){
r=1;
}
}
return r;
};
_b01.createSortFunction=function(_b02,_b03){
var _b04=[];
function _b05(attr,dir,comp,s){
return function(_b06,_b07){
var a=s.getValue(_b06,attr);
var b=s.getValue(_b07,attr);
return dir*comp(a,b);
};
};
var _b08;
var map=_b03.comparatorMap;
var bc=_b01.basicComparator;
for(var i=0;i<_b02.length;i++){
_b08=_b02[i];
var attr=_b08.attribute;
if(attr){
var dir=(_b08.descending)?-1:1;
var comp=bc;
if(map){
if(typeof attr!=="string"&&("toString" in attr)){
attr=attr.toString();
}
comp=map[attr]||bc;
}
_b04.push(_b05(attr,dir,comp,_b03));
}
}
return function(rowA,rowB){
var i=0;
while(i<_b04.length){
var ret=_b04[i++](rowA,rowB);
if(ret!==0){
return ret;
}
}
return 0;
};
};
return _b01;
});
},"dgrid/util/misc":function(){
define(["put-selector/put"],function(put){
var _b09=[],_b0a,_b0b,_b0c,_b0d=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g;
function _b0e(_b0f){
var _b10=_b09[_b0f],i,l;
if(_b10===undefined){
return;
}
_b0a[_b0b](_b10);
_b09[_b0f]=undefined;
for(i=_b0f+1,l=_b09.length;i<l;i++){
if(_b09[i]>_b10){
_b09[i]--;
}
}
};
var util={defaultDelay:15,throttle:function(cb,_b11,_b12){
var ran=false;
_b12=_b12||util.defaultDelay;
return function(){
if(ran){
return;
}
ran=true;
cb.apply(_b11,arguments);
setTimeout(function(){
ran=false;
},_b12);
};
},throttleDelayed:function(cb,_b13,_b14){
var ran=false;
_b14=_b14||util.defaultDelay;
return function(){
if(ran){
return;
}
ran=true;
var a=arguments;
setTimeout(function(){
ran=false;
cb.apply(_b13,a);
},_b14);
};
},debounce:function(cb,_b15,_b16){
var _b17;
_b16=_b16||util.defaultDelay;
return function(){
if(_b17){
clearTimeout(_b17);
_b17=null;
}
var a=arguments;
_b17=setTimeout(function(){
cb.apply(_b15,a);
},_b16);
};
},addCssRule:function(_b18,css){
if(!_b0a){
_b0a=put(document.getElementsByTagName("head")[0],"style");
_b0a=_b0a.sheet||_b0a.styleSheet;
_b0b=_b0a.deleteRule?"deleteRule":"removeRule";
_b0c=_b0a.cssRules?"cssRules":"rules";
}
var _b19=_b09.length;
_b09[_b19]=(_b0a.cssRules||_b0a.rules).length;
_b0a.addRule?_b0a.addRule(_b18,css):_b0a.insertRule(_b18+"{"+css+"}",_b09[_b19]);
return {get:function(prop){
return _b0a[_b0c][_b09[_b19]].style[prop];
},set:function(prop,_b1a){
if(typeof _b09[_b19]!=="undefined"){
_b0a[_b0c][_b09[_b19]].style[prop]=_b1a;
}
},remove:function(){
_b0e(_b19);
}};
},escapeCssIdentifier:function(id){
return id.replace(_b0d,"\\$1");
}};
return util;
});
},"dojo/window":function(){
define(["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style","./dom-construct"],function(lang,has,_b1b,dom,geom,_b1c,_b1d){
has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){
var body=_b1b.body(doc),_b1e=_b1d.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},body,"last"),div=_b1d.create("div",{style:{overflow:"hidden",direction:"ltr"}},_b1e,"last"),ret=geom.position(div).x!=0;
_b1e.removeChild(div);
body.removeChild(_b1e);
return ret;
});
has.add("position-fixed-support",function(win,doc){
var body=_b1b.body(doc),_b1f=_b1d.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},body,"last"),_b20=_b1d.create("span",{style:{position:"fixed",left:"0",top:"0"}},_b1f,"last"),ret=geom.position(_b20).x!=geom.position(_b1f).x;
_b1f.removeChild(_b20);
body.removeChild(_b1f);
return ret;
});
var _b21={getBox:function(doc){
doc=doc||_b1b.doc;
var _b22=(doc.compatMode=="BackCompat")?_b1b.body(doc):doc.documentElement,_b23=geom.docScroll(doc),w,h;
if(has("touch")){
var _b24=_b21.get(doc);
w=_b24.innerWidth||_b22.clientWidth;
h=_b24.innerHeight||_b22.clientHeight;
}else{
w=_b22.clientWidth;
h=_b22.clientHeight;
}
return {l:_b23.x,t:_b23.y,w:w,h:h};
},get:function(doc){
if(has("ie")&&_b21!==document.parentWindow){
doc.parentWindow.execScript("document._parentWindow = window;","Javascript");
var win=doc._parentWindow;
doc._parentWindow=null;
return win;
}
return doc.parentWindow||doc.defaultView;
},scrollIntoView:function(node,pos){
try{
node=dom.byId(node);
var doc=node.ownerDocument||_b1b.doc,body=_b1b.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");
if(node==body||node==html){
return;
}
if(!(has("mozilla")||isIE||isWK||has("opera")||has("trident"))&&("scrollIntoView" in node)){
node.scrollIntoView(false);
return;
}
var _b25=doc.compatMode=="BackCompat",_b26=Math.min(body.clientWidth||html.clientWidth,html.clientWidth||body.clientWidth),_b27=Math.min(body.clientHeight||html.clientHeight,html.clientHeight||body.clientHeight),_b28=(isWK||_b25)?body:html,_b29=pos||geom.position(node),el=node.parentNode,_b2a=function(el){
return (isIE<=6||(isIE==7&&_b25))?false:(has("position-fixed-support")&&(_b1c.get(el,"position").toLowerCase()=="fixed"));
};
if(_b2a(node)){
return;
}
while(el){
if(el==body){
el=_b28;
}
var _b2b=geom.position(el),_b2c=_b2a(el),rtl=_b1c.getComputedStyle(el).direction.toLowerCase()=="rtl";
if(el==_b28){
_b2b.w=_b26;
_b2b.h=_b27;
if(_b28==html&&isIE&&rtl){
_b2b.x+=_b28.offsetWidth-_b2b.w;
}
if(_b2b.x<0||!isIE||isIE>=9){
_b2b.x=0;
}
if(_b2b.y<0||!isIE||isIE>=9){
_b2b.y=0;
}
}else{
var pb=geom.getPadBorderExtents(el);
_b2b.w-=pb.w;
_b2b.h-=pb.h;
_b2b.x+=pb.l;
_b2b.y+=pb.t;
var _b2d=el.clientWidth,_b2e=_b2b.w-_b2d;
if(_b2d>0&&_b2e>0){
if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){
_b2b.x+=_b2e;
}
_b2b.w=_b2d;
}
_b2d=el.clientHeight;
_b2e=_b2b.h-_b2d;
if(_b2d>0&&_b2e>0){
_b2b.h=_b2d;
}
}
if(_b2c){
if(_b2b.y<0){
_b2b.h+=_b2b.y;
_b2b.y=0;
}
if(_b2b.x<0){
_b2b.w+=_b2b.x;
_b2b.x=0;
}
if(_b2b.y+_b2b.h>_b27){
_b2b.h=_b27-_b2b.y;
}
if(_b2b.x+_b2b.w>_b26){
_b2b.w=_b26-_b2b.x;
}
}
var l=_b29.x-_b2b.x,t=_b29.y-_b2b.y,r=l+_b29.w-_b2b.w,bot=t+_b29.h-_b2b.h;
var s,old;
if(r*l>0&&(!!el.scrollLeft||el==_b28||el.scrollWidth>el.offsetHeight)){
s=Math[l<0?"max":"min"](l,r);
if(rtl&&((isIE==8&&!_b25)||isIE>=9)){
s=-s;
}
old=el.scrollLeft;
el.scrollLeft+=s;
s=el.scrollLeft-old;
_b29.x-=s;
}
if(bot*t>0&&(!!el.scrollTop||el==_b28||el.scrollHeight>el.offsetHeight)){
s=Math.ceil(Math[t<0?"max":"min"](t,bot));
old=el.scrollTop;
el.scrollTop+=s;
s=el.scrollTop-old;
_b29.y-=s;
}
el=(el!=_b28)&&!_b2c&&el.parentNode;
}
}
catch(error){
console.error("scrollIntoView: "+error);
node.scrollIntoView(false);
}
}};
1&&lang.setObject("dojo.window",_b21);
return _b21;
});
},"dijit/_base/popup":function(){
define(["dojo/dom-class","dojo/_base/window","../popup","../BackgroundIframe"],function(_b2f,win,_b30){
var _b31=_b30._createWrapper;
_b30._createWrapper=function(_b32){
if(!_b32.declaredClass){
_b32={_popupWrapper:(_b32.parentNode&&_b2f.contains(_b32.parentNode,"dijitPopup"))?_b32.parentNode:null,domNode:_b32,destroy:function(){
},ownerDocument:_b32.ownerDocument,ownerDocumentBody:win.body(_b32.ownerDocument)};
}
return _b31.call(this,_b32);
};
var _b33=_b30.open;
_b30.open=function(args){
if(args.orient&&typeof args.orient!="string"&&!("length" in args.orient)){
var ary=[];
for(var key in args.orient){
ary.push({aroundCorner:key,corner:args.orient[key]});
}
args.orient=ary;
}
return _b33.call(this,args);
};
return _b30;
});
},"dijit/registry":function(){
define(["dojo/_base/array","dojo/sniff","dojo/_base/window","./main"],function(_b34,has,win,_b35){
var _b36={},hash={};
var _b37={length:0,add:function(_b38){
if(hash[_b38.id]){
throw new Error("Tried to register widget with id=="+_b38.id+" but that id is already registered");
}
hash[_b38.id]=_b38;
this.length++;
},remove:function(id){
if(hash[id]){
delete hash[id];
this.length--;
}
},byId:function(id){
return typeof id=="string"?hash[id]:id;
},byNode:function(node){
return hash[node.getAttribute("widgetId")];
},toArray:function(){
var ar=[];
for(var id in hash){
ar.push(hash[id]);
}
return ar;
},getUniqueId:function(_b39){
var id;
do{
id=_b39+"_"+(_b39 in _b36?++_b36[_b39]:_b36[_b39]=0);
}while(hash[id]);
return _b35._scopeName=="dijit"?id:_b35._scopeName+"_"+id;
},findWidgets:function(root,_b3a){
var _b3b=[];
function _b3c(root){
for(var node=root.firstChild;node;node=node.nextSibling){
if(node.nodeType==1){
var _b3d=node.getAttribute("widgetId");
if(_b3d){
var _b3e=hash[_b3d];
if(_b3e){
_b3b.push(_b3e);
}
}else{
if(node!==_b3a){
_b3c(node);
}
}
}
}
};
_b3c(root);
return _b3b;
},_destroyAll:function(){
_b35._curFocus=null;
_b35._prevFocus=null;
_b35._activeStack=[];
_b34.forEach(_b37.findWidgets(win.body()),function(_b3f){
if(!_b3f._destroyed){
if(_b3f.destroyRecursive){
_b3f.destroyRecursive();
}else{
if(_b3f.destroy){
_b3f.destroy();
}
}
}
});
},getEnclosingWidget:function(node){
while(node){
var id=node.nodeType==1&&node.getAttribute("widgetId");
if(id){
return hash[id];
}
node=node.parentNode;
}
return null;
},_hash:hash};
_b35.registry=_b37;
return _b37;
});
},"dijit/_base/focus":function(){
define(["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../selection","../main"],function(_b40,dom,lang,_b41,win,_b42,_b43,_b44){
var _b45={_curFocus:null,_prevFocus:null,isCollapsed:function(){
return _b44.getBookmark().isCollapsed;
},getBookmark:function(){
var sel=win.global==window?_b43:new _b43.SelectionManager(win.global);
return sel.getBookmark();
},moveToBookmark:function(_b46){
var sel=win.global==window?_b43:new _b43.SelectionManager(win.global);
return sel.moveToBookmark(_b46);
},getFocus:function(menu,_b47){
var node=!_b42.curNode||(menu&&dom.isDescendant(_b42.curNode,menu.domNode))?_b44._prevFocus:_b42.curNode;
return {node:node,bookmark:node&&(node==_b42.curNode)&&win.withGlobal(_b47||win.global,_b44.getBookmark),openedForWindow:_b47};
},_activeStack:[],registerIframe:function(_b48){
return _b42.registerIframe(_b48);
},unregisterIframe:function(_b49){
_b49&&_b49.remove();
},registerWin:function(_b4a,_b4b){
return _b42.registerWin(_b4a,_b4b);
},unregisterWin:function(_b4c){
_b4c&&_b4c.remove();
}};
_b42.focus=function(_b4d){
if(!_b4d){
return;
}
var node="node" in _b4d?_b4d.node:_b4d,_b4e=_b4d.bookmark,_b4f=_b4d.openedForWindow,_b50=_b4e?_b4e.isCollapsed:false;
if(node){
var _b51=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;
if(_b51&&_b51.focus){
try{
_b51.focus();
}
catch(e){
}
}
_b42._onFocusNode(node);
}
if(_b4e&&win.withGlobal(_b4f||win.global,_b44.isCollapsed)&&!_b50){
if(_b4f){
_b4f.focus();
}
try{
win.withGlobal(_b4f||win.global,_b44.moveToBookmark,null,[_b4e]);
}
catch(e2){
}
}
};
_b42.watch("curNode",function(name,_b52,_b53){
_b44._curFocus=_b53;
_b44._prevFocus=_b52;
if(_b53){
_b41.publish("focusNode",_b53);
}
});
_b42.watch("activeStack",function(name,_b54,_b55){
_b44._activeStack=_b55;
});
_b42.on("widget-blur",function(_b56,by){
_b41.publish("widgetBlur",_b56,by);
});
_b42.on("widget-focus",function(_b57,by){
_b41.publish("widgetFocus",_b57,by);
});
lang.mixin(_b44,_b45);
return _b44;
});
},"dijit/PopupMenuBarItem":function(){
define(["dojo/_base/declare","./PopupMenuItem","./MenuBarItem"],function(_b58,_b59,_b5a){
var _b5b=_b5a._MenuBarItemMixin;
return _b58("dijit.PopupMenuBarItem",[_b59,_b5b],{});
});
},"dijit/form/_FormMixin":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(_b5c,_b5d,_b5e,lang,on,_b5f){
return _b5d("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(_b60){
var res=[];
_b5c.forEach(_b60||this.getChildren(),function(_b61){
if("value" in _b61){
res.push(_b61);
}else{
res=res.concat(this._getDescendantFormWidgets(_b61.getChildren()));
}
},this);
return res;
},reset:function(){
_b5c.forEach(this._getDescendantFormWidgets(),function(_b62){
if(_b62.reset){
_b62.reset();
}
});
},validate:function(){
var _b63=false;
return _b5c.every(_b5c.map(this._getDescendantFormWidgets(),function(_b64){
_b64._hasBeenBlurred=true;
var _b65=_b64.disabled||!_b64.validate||_b64.validate();
if(!_b65&&!_b63){
_b5f.scrollIntoView(_b64.containerNode||_b64.domNode);
_b64.focus();
_b63=true;
}
return _b65;
}),function(item){
return item;
});
},setValues:function(val){
_b5e.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");
return this.set("value",val);
},_setValueAttr:function(obj){
var map={};
_b5c.forEach(this._getDescendantFormWidgets(),function(_b66){
if(!_b66.name){
return;
}
var _b67=map[_b66.name]||(map[_b66.name]=[]);
_b67.push(_b66);
});
for(var name in map){
if(!map.hasOwnProperty(name)){
continue;
}
var _b68=map[name],_b69=lang.getObject(name,false,obj);
if(_b69===undefined){
continue;
}
_b69=[].concat(_b69);
if(typeof _b68[0].checked=="boolean"){
_b5c.forEach(_b68,function(w){
w.set("value",_b5c.indexOf(_b69,w._get("value"))!=-1);
});
}else{
if(_b68[0].multiple){
_b68[0].set("value",_b69);
}else{
_b5c.forEach(_b68,function(w,i){
w.set("value",_b69[i]);
});
}
}
}
},getValues:function(){
_b5e.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");
return this.get("value");
},_getValueAttr:function(){
var obj={};
_b5c.forEach(this._getDescendantFormWidgets(),function(_b6a){
var name=_b6a.name;
if(!name||_b6a.disabled){
return;
}
var _b6b=_b6a.get("value");
if(typeof _b6a.checked=="boolean"){
if(/Radio/.test(_b6a.declaredClass)){
if(_b6b!==false){
lang.setObject(name,_b6b,obj);
}else{
_b6b=lang.getObject(name,false,obj);
if(_b6b===undefined){
lang.setObject(name,null,obj);
}
}
}else{
var ary=lang.getObject(name,false,obj);
if(!ary){
ary=[];
lang.setObject(name,ary,obj);
}
if(_b6b!==false){
ary.push(_b6b);
}
}
}else{
var prev=lang.getObject(name,false,obj);
if(typeof prev!="undefined"){
if(lang.isArray(prev)){
prev.push(_b6b);
}else{
lang.setObject(name,[prev,_b6b],obj);
}
}else{
lang.setObject(name,_b6b,obj);
}
}
});
return obj;
},isValid:function(){
return this.state=="";
},onValidStateChange:function(){
},_getState:function(){
var _b6c=_b5c.map(this._descendants,function(w){
return w.get("state")||"";
});
return _b5c.indexOf(_b6c,"Error")>=0?"Error":_b5c.indexOf(_b6c,"Incomplete")>=0?"Incomplete":"";
},disconnectChildren:function(){
},connectChildren:function(_b6d){
this._descendants=this._getDescendantFormWidgets();
_b5c.forEach(this._descendants,function(_b6e){
if(!_b6e._started){
_b6e.startup();
}
});
if(!_b6d){
this._onChildChange();
}
},_onChildChange:function(attr){
if(!attr||attr=="state"||attr=="disabled"){
this._set("state",this._getState());
}
if(!attr||attr=="value"||attr=="disabled"||attr=="checked"){
if(this._onChangeDelayTimer){
this._onChangeDelayTimer.remove();
}
this._onChangeDelayTimer=this.defer(function(){
delete this._onChangeDelayTimer;
this._set("value",this.get("value"));
},10);
}
},startup:function(){
this.inherited(arguments);
this._descendants=this._getDescendantFormWidgets();
this.value=this.get("value");
this.state=this._getState();
var self=this;
this.own(on(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(evt){
if(evt.target==self.domNode){
return;
}
self._onChildChange(evt.type.replace("attrmodified-",""));
}));
this.watch("state",function(attr,_b6f,_b70){
this.onValidStateChange(_b70=="");
});
},destroy:function(){
this.inherited(arguments);
}});
});
},"dijit/BackgroundIframe":function(){
define(["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff"],function(_b71,_b72,_b73,_b74,_b75,lang,on,has){
has.add("config-bgIframe",!has("touch"));
var _b76=new function(){
var _b77=[];
this.pop=function(){
var _b78;
if(_b77.length){
_b78=_b77.pop();
_b78.style.display="";
}else{
if(has("ie")<9){
var burl=_b73["dojoBlankHtmlUrl"]||_b71.toUrl("dojo/resources/blank.html")||"javascript:\"\"";
var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";
_b78=document.createElement(html);
}else{
_b78=_b74.create("iframe");
_b78.src="javascript:\"\"";
_b78.className="dijitBackgroundIframe";
_b78.setAttribute("role","presentation");
_b75.set(_b78,"opacity",0.1);
}
_b78.tabIndex=-1;
}
return _b78;
};
this.push=function(_b79){
_b79.style.display="none";
_b77.push(_b79);
};
}();
_b72.BackgroundIframe=function(node){
if(!node.id){
throw new Error("no id");
}
if(has("config-bgIframe")){
var _b7a=(this.iframe=_b76.pop());
node.appendChild(_b7a);
if(has("ie")<7||has("quirks")){
this.resize(node);
this._conn=on(node,"resize",lang.hitch(this,"resize",node));
}else{
_b75.set(_b7a,{width:"100%",height:"100%"});
}
}
};
lang.extend(_b72.BackgroundIframe,{resize:function(node){
if(this.iframe){
_b75.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});
}
},destroy:function(){
if(this._conn){
this._conn.remove();
this._conn=null;
}
if(this.iframe){
_b76.push(this.iframe);
delete this.iframe;
}
}});
return _b72.BackgroundIframe;
});
},"dijit/layout/TabController":function(){
define(["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/has","dojo/i18n","dojo/_base/lang","./StackController","../registry","../Menu","../MenuItem","dojo/text!./templates/_TabButton.html","dojo/i18n!../nls/common"],function(_b7b,dom,_b7c,_b7d,has,i18n,lang,_b7e,_b7f,Menu,_b80,_b81){
var _b82=_b7b("dijit.layout._TabButton"+(has("dojo-bidi")?"_NoBidi":""),_b7e.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:_b81,_setNameAttr:"focusNode",scrollOnFocus:false,buildRendering:function(){
this.inherited(arguments);
dom.setSelectable(this.containerNode,false);
},startup:function(){
this.inherited(arguments);
var n=this.domNode;
this.defer(function(){
n.className=n.className;
},1);
},_setCloseButtonAttr:function(disp){
this._set("closeButton",disp);
_b7d.toggle(this.domNode,"dijitClosable",disp);
this.closeNode.style.display=disp?"":"none";
if(disp){
var _b83=i18n.getLocalization("dijit","common");
if(this.closeNode){
_b7c.set(this.closeNode,"title",_b83.itemClose);
}
}
},_setDisabledAttr:function(_b84){
this.inherited(arguments);
if(this.closeNode){
if(_b84){
_b7c.remove(this.closeNode,"title");
}else{
var _b85=i18n.getLocalization("dijit","common");
_b7c.set(this.closeNode,"title",_b85.itemClose);
}
}
},_setLabelAttr:function(_b86){
this.inherited(arguments);
if(!this.showLabel&&!this.params.title){
this.iconNode.alt=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");
}
}});
if(has("dojo-bidi")){
_b82=_b7b("dijit.layout._TabButton",_b82,{_setLabelAttr:function(_b87){
this.inherited(arguments);
this.applyTextDir(this.iconNode,this.iconNode.alt);
}});
}
var _b88=_b7b("dijit.layout.TabController",_b7e,{baseClass:"dijitTabController",templateString:"<div role='tablist' data-dojo-attach-event='onkeydown:onkeydown'></div>",tabPosition:"top",buttonWidget:_b82,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){
this.inherited(arguments);
var _b89=new Menu({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(node){
return _b7d.contains(node,"dijitClosable")&&!_b7d.contains(node,"dijitTabDisabled");
}});
this.own(_b89);
var _b8a=i18n.getLocalization("dijit","common"),_b8b=this;
_b89.addChild(new _b80({label:_b8a.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(evt){
var _b8c=_b7f.byNode(this.getParent().currentTarget);
_b8b.onCloseButtonClick(_b8c.page);
}}));
}});
_b88.TabButton=_b82;
return _b88;
});
},"dijit/_MenuBase":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./registry","./_Widget","./_CssStateMixin","./_KeyNavContainer","./_TemplatedMixin"],function(_b8d,_b8e,dom,_b8f,_b90,lang,_b91,on,_b92,_b93,_b94,_b95,_b96,_b97,_b98){
return _b8e("dijit._MenuBase",[_b95,_b98,_b97,_b96],{selected:null,_setSelectedAttr:function(item){
if(this.selected!=item){
if(this.selected){
this.selected._setSelected(false);
this._onChildDeselect(this.selected);
}
if(item){
item._setSelected(true);
}
this._set("selected",item);
}
},activated:false,_setActivatedAttr:function(val){
_b90.toggle(this.domNode,"dijitMenuActive",val);
_b90.toggle(this.domNode,"dijitMenuPassive",!val);
this._set("activated",val);
},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:false,childSelector:function(node){
var _b99=_b94.byNode(node);
return node.parentNode==this.containerNode&&_b99&&_b99.focus;
},postCreate:function(){
var self=this,_b9a=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");
this.own(on(this.containerNode,on.selector(_b9a,_b91.enter),function(){
self.onItemHover(_b94.byNode(this));
}),on(this.containerNode,on.selector(_b9a,_b91.leave),function(){
self.onItemUnhover(_b94.byNode(this));
}),on(this.containerNode,on.selector(_b9a,_b93),function(evt){
self.onItemClick(_b94.byNode(this),evt);
evt.stopPropagation();
evt.preventDefault();
}));
this.inherited(arguments);
},onKeyboardSearch:function(item,evt,_b9b,_b9c){
this.inherited(arguments);
if(!!item&&(_b9c==-1||(!!item.popup&&_b9c==1))){
this.onItemClick(item,evt);
}
},_keyboardSearchCompare:function(item,_b9d){
if(!!item.shortcutKey){
return _b9d==item.shortcutKey.toLowerCase()?-1:0;
}
return this.inherited(arguments)?1:0;
},onExecute:function(){
},onCancel:function(){
},_moveToPopup:function(evt){
if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){
this.onItemClick(this.focusedChild,evt);
}else{
var _b9e=this._getTopMenu();
if(_b9e&&_b9e._isMenuBar){
_b9e.focusNext();
}
}
},_onPopupHover:function(){
this.set("selected",this.currentPopupItem);
this._stopPendingCloseTimer();
},onItemHover:function(item){
if(this.activated){
this.set("selected",item);
if(item.popup&&!item.disabled&&!this.hover_timer){
this.hover_timer=this.defer(function(){
this._openItemPopup(item);
},this.popupDelay);
}
}else{
if(this.passivePopupDelay<Infinity){
if(this.passive_hover_timer){
this.passive_hover_timer.remove();
}
this.passive_hover_timer=this.defer(function(){
this.onItemClick(item,{type:"click"});
},this.passivePopupDelay);
}
}
this._hoveredChild=item;
item._set("hovering",true);
},_onChildDeselect:function(item){
this._stopPopupTimer();
if(this.currentPopupItem==item){
this._stopPendingCloseTimer();
this._pendingClose_timer=this.defer(function(){
this._pendingClose_timer=null;
this.currentPopupItem=null;
item._closePopup();
},this.popupDelay);
}
},onItemUnhover:function(item){
if(this._hoveredChild==item){
this._hoveredChild=null;
}
if(this.passive_hover_timer){
this.passive_hover_timer.remove();
this.passive_hover_timer=null;
}
item._set("hovering",false);
},_stopPopupTimer:function(){
if(this.hover_timer){
this.hover_timer=this.hover_timer.remove();
}
},_stopPendingCloseTimer:function(){
if(this._pendingClose_timer){
this._pendingClose_timer=this._pendingClose_timer.remove();
}
},_getTopMenu:function(){
for(var top=this;top.parentMenu;top=top.parentMenu){
}
return top;
},onItemClick:function(item,evt){
if(this.passive_hover_timer){
this.passive_hover_timer.remove();
}
this.focusChild(item);
if(item.disabled){
return false;
}
if(item.popup){
this.set("selected",item);
this.set("activated",true);
var _b9f=/^key/.test(evt._origType||evt.type)||(evt.clientX==0&&evt.clientY==0);
this._openItemPopup(item,_b9f);
}else{
this.onExecute();
item._onClick?item._onClick(evt):item.onClick(evt);
}
},_openItemPopup:function(_ba0,_ba1){
if(_ba0==this.currentPopupItem){
return;
}
if(this.currentPopupItem){
this._stopPendingCloseTimer();
this.currentPopupItem._closePopup();
}
this._stopPopupTimer();
var _ba2=_ba0.popup;
_ba2.parentMenu=this;
this.own(this._mouseoverHandle=on.once(_ba2.domNode,"mouseover",lang.hitch(this,"_onPopupHover")));
var self=this;
_ba0._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){
if(_ba1){
self.focusChild(_ba0);
}
self._cleanUp();
},onExecute:lang.hitch(this,"_cleanUp",true),onClose:function(){
if(self._mouseoverHandle){
self._mouseoverHandle.remove();
delete self._mouseoverHandle;
}
}},_ba1);
this.currentPopupItem=_ba0;
},onOpen:function(){
this.isShowingNow=true;
this.set("activated",true);
},onClose:function(){
this.set("activated",false);
this.set("selected",null);
this.isShowingNow=false;
this.parentMenu=null;
},_closeChild:function(){
this._stopPopupTimer();
if(this.currentPopupItem){
if(this.focused){
_b8f.set(this.selected.focusNode,"tabIndex",this.tabIndex);
this.selected.focusNode.focus();
}
this.currentPopupItem._closePopup();
this.currentPopupItem=null;
}
},_onItemFocus:function(item){
if(this._hoveredChild&&this._hoveredChild!=item){
this.onItemUnhover(this._hoveredChild);
}
this.set("selected",item);
},_onBlur:function(){
this._cleanUp(true);
this.inherited(arguments);
},_cleanUp:function(_ba3){
this._closeChild();
if(typeof this.isShowingNow=="undefined"){
this.set("activated",false);
}
if(_ba3){
this.set("selected",null);
}
}});
});
},"dijit/_editor/_Plugin":function(){
define(["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","../Destroyable","../form/Button"],function(_ba4,_ba5,lang,_ba6,_ba7){
var _ba8=_ba5("dijit._editor._Plugin",_ba6,{constructor:function(args){
this.params=args||{};
lang.mixin(this,this.params);
this._attrPairNames={};
},editor:null,iconClassPrefix:"dijitEditorIcon",button:null,command:"",useDefaultCommand:true,buttonClass:_ba7,disabled:false,getLabel:function(key){
return this.editor.commands[key];
},_initButton:function(){
if(this.command.length){
var _ba9=this.getLabel(this.command),_baa=this.editor,_bab=this.iconClassPrefix+" "+this.iconClassPrefix+this.command.charAt(0).toUpperCase()+this.command.substr(1);
if(!this.button){
var _bac=lang.mixin({label:_ba9,ownerDocument:_baa.ownerDocument,dir:_baa.dir,lang:_baa.lang,showLabel:false,iconClass:_bab,dropDown:this.dropDown,tabIndex:"-1"},this.params||{});
this.button=new this.buttonClass(_bac);
}
}
if(this.get("disabled")&&this.button){
this.button.set("disabled",this.get("disabled"));
}
},destroy:function(){
if(this.dropDown){
this.dropDown.destroyRecursive();
}
this.inherited(arguments);
},connect:function(o,f,tf){
this.own(_ba4.connect(o,f,this,tf));
},updateState:function(){
var e=this.editor,c=this.command,_bad,_bae;
if(!e||!e.isLoaded||!c.length){
return;
}
var _baf=this.get("disabled");
if(this.button){
try{
_bae=!_baf&&e.queryCommandEnabled(c);
if(this.enabled!==_bae){
this.enabled=_bae;
this.button.set("disabled",!_bae);
}
if(_bae){
if(typeof this.button.checked=="boolean"){
_bad=e.queryCommandState(c);
if(this.checked!==_bad){
this.checked=_bad;
this.button.set("checked",e.queryCommandState(c));
}
}
}
}
catch(e){
}
}
},setEditor:function(_bb0){
this.editor=_bb0;
this._initButton();
if(this.button&&this.useDefaultCommand){
if(this.editor.queryCommandAvailable(this.command)){
this.own(this.button.on("click",lang.hitch(this.editor,"execCommand",this.command,this.commandArg)));
}else{
this.button.domNode.style.display="none";
}
}
this.own(this.editor.on("NormalizedDisplayChanged",lang.hitch(this,"updateState")));
},setToolbar:function(_bb1){
if(this.button){
_bb1.addChild(this.button);
}
},set:function(name,_bb2){
if(typeof name==="object"){
for(var x in name){
this.set(x,name[x]);
}
return this;
}
var _bb3=this._getAttrNames(name);
if(this[_bb3.s]){
var _bb4=this[_bb3.s].apply(this,Array.prototype.slice.call(arguments,1));
}else{
this._set(name,_bb2);
}
return _bb4||this;
},get:function(name){
var _bb5=this._getAttrNames(name);
return this[_bb5.g]?this[_bb5.g]():this[name];
},_setDisabledAttr:function(_bb6){
this._set("disabled",_bb6);
this.updateState();
},_getAttrNames:function(name){
var apn=this._attrPairNames;
if(apn[name]){
return apn[name];
}
var uc=name.charAt(0).toUpperCase()+name.substr(1);
return (apn[name]={s:"_set"+uc+"Attr",g:"_get"+uc+"Attr"});
},_set:function(name,_bb7){
this[name]=_bb7;
}});
_ba8.registry={};
return _ba8;
});
},"dijit/layout/ScrollingTabController":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/_base/lang","dojo/on","dojo/query","dojo/sniff","../registry","dojo/text!./templates/ScrollingTabController.html","dojo/text!./templates/_ScrollingTabControllerButton.html","./TabController","./utils","../_WidgetsInTemplateMixin","../Menu","../MenuItem","../form/Button","../_HasDropDown","dojo/NodeList-dom","../a11yclick"],function(_bb8,_bb9,_bba,_bbb,_bbc,fx,lang,on,_bbd,has,_bbe,_bbf,_bc0,_bc1,_bc2,_bc3,Menu,_bc4,_bc5,_bc6){
var _bc7=_bb9("dijit.layout.ScrollingTabController",[_bc1,_bc3],{baseClass:"dijitTabController dijitScrollingTabController",templateString:_bbf,useMenu:true,useSlider:true,tabStripClass:"",_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){
this.inherited(arguments);
var n=this.domNode;
this.scrollNode=this.tablistWrapper;
this._initButtons();
if(!this.tabStripClass){
this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None";
_bba.add(n,"tabStrip-disabled");
}
_bba.add(this.tablistWrapper,this.tabStripClass);
},onStartup:function(){
this.inherited(arguments);
_bbc.set(this.domNode,"visibility","");
this._postStartup=true;
this.own(on(this.containerNode,"attrmodified-label, attrmodified-iconclass",lang.hitch(this,function(evt){
if(this._dim){
this.resize(this._dim);
}
})));
},onAddChild:function(page,_bc8){
this.inherited(arguments);
_bbc.set(this.containerNode,"width",(_bbc.get(this.containerNode,"width")+200)+"px");
},onRemoveChild:function(page,_bc9){
var _bca=this.pane2button(page.id);
if(this._selectedTab===_bca.domNode){
this._selectedTab=null;
}
this.inherited(arguments);
},_initButtons:function(){
this._btnWidth=0;
this._buttons=_bbd("> .tabStripButton",this.domNode).filter(function(btn){
if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){
this._btnWidth+=_bbb.getMarginSize(btn).w;
return true;
}else{
_bbc.set(btn,"display","none");
return false;
}
},this);
},_getTabsWidth:function(){
var _bcb=this.getChildren();
if(_bcb.length){
var _bcc=_bcb[this.isLeftToRight()?0:_bcb.length-1].domNode,_bcd=_bcb[this.isLeftToRight()?_bcb.length-1:0].domNode;
return _bcd.offsetLeft+_bcd.offsetWidth-_bcc.offsetLeft;
}else{
return 0;
}
},_enableBtn:function(_bce){
var _bcf=this._getTabsWidth();
_bce=_bce||_bbc.get(this.scrollNode,"width");
return _bcf>0&&_bce<_bcf;
},resize:function(dim){
this._dim=dim;
this.scrollNode.style.height="auto";
var cb=this._contentBox=_bc2.marginBox2contentBox(this.domNode,{h:0,w:dim.w});
cb.h=this.scrollNode.offsetHeight;
_bbb.setContentSize(this.domNode,cb);
var _bd0=this._enableBtn(this._contentBox.w);
this._buttons.style("display",_bd0?"":"none");
this._leftBtn.region="left";
this._rightBtn.region="right";
this._menuBtn.region=this.isLeftToRight()?"right":"left";
_bc2.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,region:"center"}]);
if(this._selectedTab){
if(this._anim&&this._anim.status()=="playing"){
this._anim.stop();
}
this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab());
}
this._setButtonClass(this._getScroll());
this._postResize=true;
return {h:this._contentBox.h,w:dim.w};
},_getScroll:function(){
return (this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit"))?this.scrollNode.scrollLeft:_bbc.get(this.containerNode,"width")-_bbc.get(this.scrollNode,"width")+(has("ie")>=8?-1:1)*this.scrollNode.scrollLeft;
},_convertToScrollLeft:function(val){
if(this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit")){
return val;
}else{
var _bd1=_bbc.get(this.containerNode,"width")-_bbc.get(this.scrollNode,"width");
return (has("ie")>=8?-1:1)*(val-_bd1);
}
},onSelectChild:function(page){
var tab=this.pane2button(page.id);
if(!tab){
return;
}
var node=tab.domNode;
if(node!=this._selectedTab){
this._selectedTab=node;
if(this._postResize){
var sl=this._getScroll();
if(sl>node.offsetLeft||sl+_bbc.get(this.scrollNode,"width")<node.offsetLeft+_bbc.get(node,"width")){
this.createSmoothScroll().play();
}
}
}
this.inherited(arguments);
},_getScrollBounds:function(){
var _bd2=this.getChildren(),_bd3=_bbc.get(this.scrollNode,"width"),_bd4=_bbc.get(this.containerNode,"width"),_bd5=_bd4-_bd3,_bd6=this._getTabsWidth();
if(_bd2.length&&_bd6>_bd3){
return {min:this.isLeftToRight()?0:_bd2[_bd2.length-1].domNode.offsetLeft,max:this.isLeftToRight()?(_bd2[_bd2.length-1].domNode.offsetLeft+_bd2[_bd2.length-1].domNode.offsetWidth)-_bd3:_bd5};
}else{
var _bd7=this.isLeftToRight()?0:_bd5;
return {min:_bd7,max:_bd7};
}
},_getScrollForSelectedTab:function(){
var w=this.scrollNode,n=this._selectedTab,_bd8=_bbc.get(this.scrollNode,"width"),_bd9=this._getScrollBounds();
var pos=(n.offsetLeft+_bbc.get(n,"width")/2)-_bd8/2;
pos=Math.min(Math.max(pos,_bd9.min),_bd9.max);
return pos;
},createSmoothScroll:function(x){
if(arguments.length>0){
var _bda=this._getScrollBounds();
x=Math.min(Math.max(x,_bda.min),_bda.max);
}else{
x=this._getScrollForSelectedTab();
}
if(this._anim&&this._anim.status()=="playing"){
this._anim.stop();
}
var self=this,w=this.scrollNode,anim=new fx.Animation({beforeBegin:function(){
if(this.curve){
delete this.curve;
}
var oldS=w.scrollLeft,newS=self._convertToScrollLeft(x);
anim.curve=new fx._Line(oldS,newS);
},onAnimate:function(val){
w.scrollLeft=val;
}});
this._anim=anim;
this._setButtonClass(x);
return anim;
},_getBtnNode:function(e){
var n=e.target;
while(n&&!_bba.contains(n,"tabStripButton")){
n=n.parentNode;
}
return n;
},doSlideRight:function(e){
this.doSlide(1,this._getBtnNode(e));
},doSlideLeft:function(e){
this.doSlide(-1,this._getBtnNode(e));
},doSlide:function(_bdb,node){
if(node&&_bba.contains(node,"dijitTabDisabled")){
return;
}
var _bdc=_bbc.get(this.scrollNode,"width");
var d=(_bdc*0.75)*_bdb;
var to=this._getScroll()+d;
this._setButtonClass(to);
this.createSmoothScroll(to).play();
},_setButtonClass:function(_bdd){
var _bde=this._getScrollBounds();
this._leftBtn.set("disabled",_bdd<=_bde.min);
this._rightBtn.set("disabled",_bdd>=_bde.max);
}});
var _bdf=_bb9("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:_bc0,tabIndex:"",isFocusable:function(){
return false;
}});
_bb9("dijit.layout._ScrollingTabControllerButton",[_bc5,_bdf]);
_bb9("dijit.layout._ScrollingTabControllerMenuButton",[_bc5,_bc6,_bdf],{containerId:"",tabIndex:"-1",isLoaded:function(){
return false;
},loadDropDown:function(_be0){
this.dropDown=new Menu({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});
var _be1=_bbe.byId(this.containerId);
_bb8.forEach(_be1.getChildren(),function(page){
var _be2=new _bc4({id:page.id+"_stcMi",label:page.title,iconClass:page.iconClass,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir||_be1.textDir,onClick:function(){
_be1.selectChild(page);
}});
this.dropDown.addChild(_be2);
},this);
_be0();
},closeDropDown:function(_be3){
this.inherited(arguments);
if(this.dropDown){
this._popupStateNode.removeAttribute("aria-owns");
this.dropDown.destroyRecursive();
delete this.dropDown;
}
}});
return _bc7;
});
},"dojox/color":function(){
define(["./color/_base"],function(_be4){
return _be4;
});
},"dijit/form/_ListMouseMixin":function(){
define(["dojo/_base/declare","dojo/on","dojo/touch","./_ListBase"],function(_be5,on,_be6,_be7){
return _be5("dijit.form._ListMouseMixin",_be7,{postCreate:function(){
this.inherited(arguments);
this.domNode.dojoClick=true;
this.own(on(this.domNode,"mousedown",function(evt){
evt.preventDefault();
}));
this._listConnect("click","_onClick");
this._listConnect("mousedown","_onMouseDown");
this._listConnect("mouseup","_onMouseUp");
this._listConnect("mouseover","_onMouseOver");
this._listConnect("mouseout","_onMouseOut");
},_onClick:function(evt,_be8){
this._setSelectedAttr(_be8);
if(this._deferredClick){
this._deferredClick.remove();
}
this._deferredClick=this.defer(function(){
this._deferredClick=null;
this.onClick(_be8);
});
},_onMouseDown:function(evt,_be9){
if(this._hoveredNode){
this.onUnhover(this._hoveredNode);
this._hoveredNode=null;
}
this._isDragging=true;
this._setSelectedAttr(_be9);
},_onMouseUp:function(evt,_bea){
this._isDragging=false;
var _beb=this.selected;
var _bec=this._hoveredNode;
if(_beb&&_bea==_beb){
this.defer(function(){
this._onClick(evt,_beb);
});
}else{
if(_bec){
this.defer(function(){
this._onClick(evt,_bec);
});
}
}
},_onMouseOut:function(evt,_bed){
if(this._hoveredNode){
this.onUnhover(this._hoveredNode);
this._hoveredNode=null;
}
if(this._isDragging){
this._cancelDrag=(new Date()).getTime()+1000;
}
},_onMouseOver:function(evt,_bee){
if(this._cancelDrag){
var time=(new Date()).getTime();
if(time>this._cancelDrag){
this._isDragging=false;
}
this._cancelDrag=null;
}
this._hoveredNode=_bee;
this.onHover(_bee);
if(this._isDragging){
this._setSelectedAttr(_bee);
}
}});
});
},"dojox/validate/_base":function(){
define(["dojo/_base/lang","dojo/regexp","dojo/number","./regexp"],function(lang,_bef,_bf0,_bf1){
var _bf2=lang.getObject("dojox.validate",true);
_bf2.isText=function(_bf3,_bf4){
_bf4=(typeof _bf4=="object")?_bf4:{};
if(/^\s*$/.test(_bf3)){
return false;
}
if(typeof _bf4.length=="number"&&_bf4.length!=_bf3.length){
return false;
}
if(typeof _bf4.minlength=="number"&&_bf4.minlength>_bf3.length){
return false;
}
if(typeof _bf4.maxlength=="number"&&_bf4.maxlength<_bf3.length){
return false;
}
return true;
};
_bf2._isInRangeCache={};
_bf2.isInRange=function(_bf5,_bf6){
_bf5=_bf0.parse(_bf5,_bf6);
if(isNaN(_bf5)){
return false;
}
_bf6=(typeof _bf6=="object")?_bf6:{};
var max=(typeof _bf6.max=="number")?_bf6.max:Infinity,min=(typeof _bf6.min=="number")?_bf6.min:-Infinity,dec=(typeof _bf6.decimal=="string")?_bf6.decimal:".",_bf7=_bf2._isInRangeCache,_bf8=_bf5+"max"+max+"min"+min+"dec"+dec;
if(typeof _bf7[_bf8]!="undefined"){
return _bf7[_bf8];
}
_bf7[_bf8]=!(_bf5<min||_bf5>max);
return _bf7[_bf8];
};
_bf2.isNumberFormat=function(_bf9,_bfa){
var re=new RegExp("^"+_bf1.numberFormat(_bfa)+"$","i");
return re.test(_bf9);
};
_bf2.isValidLuhn=function(_bfb){
var sum=0,_bfc,_bfd;
if(!lang.isString(_bfb)){
_bfb=String(_bfb);
}
_bfb=_bfb.replace(/[- ]/g,"");
_bfc=_bfb.length%2;
for(var i=0;i<_bfb.length;i++){
_bfd=parseInt(_bfb.charAt(i));
if(i%2==_bfc){
_bfd*=2;
}
if(_bfd>9){
_bfd-=9;
}
sum+=_bfd;
}
return !(sum%10);
};
return _bf2;
});
},"manager/Window":function(){
define("manager/Window",["dojo/_base/declare","dojo/_base/lang","dojo/on","dojo/topic","manager/Dialog","manager/DialogSimple"],function(_bfe,lang,on,_bff,_c00,_c01){
return _bfe("Manager.Window",null,{id:"",title:"",href:"",parent:null,form:"",template:"",element:"",dialog:null,scripts:null,constructor:function(id){
this.obj=this;
this.id=id;
this.dialog=new _c00({id:id});
on(this.dialog,"load",lang.hitch(this.dialog,function(){
this.enableDrag();
this._position();
}));
},setTitle:function(_c02){
this.title=_c02;
},setHref:function(href){
this.href=href;
},push:function(){
this.obj.template=manager.page.template;
this.obj.element=manager.page.element;
manager.pushWindow(this.obj);
},open:function(){
this.obj.push();
manager.page.get(this.obj.href,this.obj.id);
this.dialog.show();
_bff.publish("windowActionOpen",this.obj.id);
},show:function(){
this.dialog.show();
},hide:function(){
this.dialog.hide();
},setContent:function(_c03){
this.dialog.set("content",_c03);
},showContent:function(_c04){
this.obj.push();
this.dialog.set("content",_c04);
this.dialog.show();
},close:function(){
this.dialog.hide();
_bff.publish("windowActionClose",this.obj.id);
this.dialog.destroyDescendants();
this.obj.pop();
},pop:function(){
manager.page.template=this.obj.template;
manager.page.element=this.obj.element;
manager.popWindow();
}});
});
},"dijit/tree/_dndSelector":function(){
define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/dom","dojo/mouse","dojo/on","dojo/touch","../a11yclick","./_dndContainer"],function(_c05,_c06,_c07,_c08,lang,dom,_c09,on,_c0a,_c0b,_c0c){
return _c07("dijit.tree._dndSelector",_c0c,{constructor:function(){
this.selection={};
this.anchor=null;
this.events.push(on(this.tree.domNode,_c0a.press,lang.hitch(this,"onMouseDown")),on(this.tree.domNode,_c0a.release,lang.hitch(this,"onMouseUp")),on(this.tree.domNode,_c0a.move,lang.hitch(this,"onMouseMove")),on(this.tree.domNode,_c0b.press,lang.hitch(this,"onClickPress")),on(this.tree.domNode,_c0b.release,lang.hitch(this,"onClickRelease")));
},singular:false,getSelectedTreeNodes:function(){
var _c0d=[],sel=this.selection;
for(var i in sel){
_c0d.push(sel[i]);
}
return _c0d;
},selectNone:function(){
this.setSelection([]);
return this;
},destroy:function(){
this.inherited(arguments);
this.selection=this.anchor=null;
},addTreeNode:function(node,_c0e){
this.setSelection(this.getSelectedTreeNodes().concat([node]));
if(_c0e){
this.anchor=node;
}
return node;
},removeTreeNode:function(node){
var _c0f=_c05.filter(this.getSelectedTreeNodes(),function(_c10){
return !dom.isDescendant(_c10.domNode,node.domNode);
});
this.setSelection(_c0f);
return node;
},isTreeNodeSelected:function(node){
return node.id&&!!this.selection[node.id];
},setSelection:function(_c11){
var _c12=this.getSelectedTreeNodes();
_c05.forEach(this._setDifference(_c12,_c11),lang.hitch(this,function(node){
node.setSelected(false);
if(this.anchor==node){
delete this.anchor;
}
delete this.selection[node.id];
}));
_c05.forEach(this._setDifference(_c11,_c12),lang.hitch(this,function(node){
node.setSelected(true);
this.selection[node.id]=node;
}));
this._updateSelectionProperties();
},_setDifference:function(xs,ys){
_c05.forEach(ys,function(y){
y.__exclude__=true;
});
var ret=_c05.filter(xs,function(x){
return !x.__exclude__;
});
_c05.forEach(ys,function(y){
delete y["__exclude__"];
});
return ret;
},_updateSelectionProperties:function(){
var _c13=this.getSelectedTreeNodes();
var _c14=[],_c15=[],_c16=[];
_c05.forEach(_c13,function(node){
var ary=node.getTreePath(),_c17=this.tree.model;
_c15.push(node);
_c14.push(ary);
ary=_c05.map(ary,function(item){
return _c17.getIdentity(item);
},this);
_c16.push(ary.join("/"));
},this);
var _c18=_c05.map(_c15,function(node){
return node.item;
});
this.tree._set("paths",_c14);
this.tree._set("path",_c14[0]||[]);
this.tree._set("selectedNodes",_c15);
this.tree._set("selectedNode",_c15[0]||null);
this.tree._set("selectedItems",_c18);
this.tree._set("selectedItem",_c18[0]||null);
},onClickPress:function(e){
if(this.current&&this.current.isExpandable&&this.tree.isExpandoNode(e.target,this.current)){
return;
}
if(_c09.isLeft(e)){
e.preventDefault();
}
var _c19=e.type=="keydown"?this.tree.focusedChild:this.current;
if(!_c19){
return;
}
var copy=_c06.isCopyKey(e),id=_c19.id;
if(!this.singular&&!e.shiftKey&&this.selection[id]){
this._doDeselect=true;
return;
}else{
this._doDeselect=false;
}
this.userSelect(_c19,copy,e.shiftKey);
},onClickRelease:function(e){
if(!this._doDeselect){
return;
}
this._doDeselect=false;
this.userSelect(e.type=="keyup"?this.tree.focusedChild:this.current,_c06.isCopyKey(e),e.shiftKey);
},onMouseMove:function(){
this._doDeselect=false;
},onMouseDown:function(){
},onMouseUp:function(){
},_compareNodes:function(n1,n2){
if(n1===n2){
return 0;
}
if("sourceIndex" in document.documentElement){
return n1.sourceIndex-n2.sourceIndex;
}else{
if("compareDocumentPosition" in document.documentElement){
return n1.compareDocumentPosition(n2)&2?1:-1;
}else{
if(document.createRange){
var r1=doc.createRange();
r1.setStartBefore(n1);
var r2=doc.createRange();
r2.setStartBefore(n2);
return r1.compareBoundaryPoints(r1.END_TO_END,r2);
}else{
throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");
}
}
}
},userSelect:function(node,_c1a,_c1b){
if(this.singular){
if(this.anchor==node&&_c1a){
this.selectNone();
}else{
this.setSelection([node]);
this.anchor=node;
}
}else{
if(_c1b&&this.anchor){
var cr=this._compareNodes(this.anchor.rowNode,node.rowNode),_c1c,end,_c1d=this.anchor;
if(cr<0){
_c1c=_c1d;
end=node;
}else{
_c1c=node;
end=_c1d;
}
var _c1e=[];
while(_c1c!=end){
_c1e.push(_c1c);
_c1c=this.tree._getNext(_c1c);
}
_c1e.push(end);
this.setSelection(_c1e);
}else{
if(this.selection[node.id]&&_c1a){
this.removeTreeNode(node);
}else{
if(_c1a){
this.addTreeNode(node,true);
}else{
this.setSelection([node]);
this.anchor=node;
}
}
}
}
},getItem:function(key){
var _c1f=this.selection[key];
return {data:_c1f,type:["treeNode"]};
},forInSelectedItems:function(f,o){
o=o||_c08.global;
for(var id in this.selection){
f.call(o,this.getItem(id),id,this);
}
}});
});
},"dojo/cldr/monetary":function(){
define(["../_base/kernel","../_base/lang"],function(dojo,lang){
var _c20={};
lang.setObject("dojo.cldr.monetary",_c20);
_c20.getData=function(code){
var _c21={ADP:0,AFN:0,ALL:0,AMD:0,BHD:3,BIF:0,BYR:0,CLF:0,CLP:0,COP:0,CRC:0,DJF:0,ESP:0,GNF:0,GYD:0,HUF:0,IDR:0,IQD:0,IRR:3,ISK:0,ITL:0,JOD:3,JPY:0,KMF:0,KPW:0,KRW:0,KWD:3,LAK:0,LBP:0,LUF:0,LYD:3,MGA:0,MGF:0,MMK:0,MNT:0,MRO:0,MUR:0,OMR:3,PKR:0,PYG:0,RSD:0,RWF:0,SLL:0,SOS:0,STD:0,SYP:0,TMM:0,TND:3,TRL:0,TZS:0,UGX:0,UZS:0,VND:0,VUV:0,XAF:0,XOF:0,XPF:0,YER:0,ZMK:0,ZWD:0};
var _c22={};
var _c23=_c21[code],_c24=_c22[code];
if(typeof _c23=="undefined"){
_c23=2;
}
if(typeof _c24=="undefined"){
_c24=0;
}
return {places:_c23,round:_c24};
};
return _c20;
});
},"dijit/_OnDijitClickMixin":function(){
define(["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","./a11yclick"],function(on,_c25,keys,_c26,has,_c27){
var ret=_c26("dijit._OnDijitClickMixin",null,{connect:function(obj,_c28,_c29){
return this.inherited(arguments,[obj,_c28=="ondijitclick"?_c27:_c28,_c29]);
}});
ret.a11yclick=_c27;
return ret;
});
},"dijit/layout/StackController":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","../focus","../registry","../_Widget","../_TemplatedMixin","../_Container","../form/ToggleButton","dojo/touch","dojo/i18n!../nls/common"],function(_c2a,_c2b,_c2c,_c2d,keys,lang,on,_c2e,_c2f,_c30,_c31,_c32,_c33,_c34){
var _c35=_c2b("dijit.layout._StackButton",_c34,{tabIndex:"-1",closeButton:false,_aria_attr:"aria-selected",buildRendering:function(evt){
this.inherited(arguments);
(this.focusNode||this.domNode).setAttribute("role","tab");
}});
var _c36=_c2b("dijit.layout.StackController",[_c31,_c32,_c33],{baseClass:"dijitStackController",templateString:"<span role='tablist' data-dojo-attach-event='onkeydown'></span>",containerId:"",buttonWidget:_c35,buttonWidgetCloseClass:"dijitStackCloseButton",pane2button:function(id){
return _c30.byId(this.id+"_"+id);
},postCreate:function(){
this.inherited(arguments);
this.own(_c2e.subscribe(this.containerId+"-startup",lang.hitch(this,"onStartup")),_c2e.subscribe(this.containerId+"-addChild",lang.hitch(this,"onAddChild")),_c2e.subscribe(this.containerId+"-removeChild",lang.hitch(this,"onRemoveChild")),_c2e.subscribe(this.containerId+"-selectChild",lang.hitch(this,"onSelectChild")),_c2e.subscribe(this.containerId+"-containerKeyDown",lang.hitch(this,"onContainerKeyDown")));
this.containerNode.dojoClick=true;
this.own(on(this.containerNode,"click",lang.hitch(this,function(evt){
var _c37=_c30.getEnclosingWidget(evt.target);
if(_c37!=this.containerNode&&!_c37.disabled&&_c37.page){
for(var _c38=evt.target;_c38!==this.containerNode;_c38=_c38.parentNode){
if(_c2c.contains(_c38,this.buttonWidgetCloseClass)){
this.onCloseButtonClick(_c37.page);
break;
}else{
if(_c38==_c37.domNode){
this.onButtonClick(_c37.page);
break;
}
}
}
}
})));
},onStartup:function(info){
this.textDir=info.textDir;
_c2a.forEach(info.children,this.onAddChild,this);
if(info.selected){
this.onSelectChild(info.selected);
}
var _c39=_c30.byId(this.containerId).containerNode,_c3a=lang.hitch(this,"pane2button"),_c3b={"title":"label","showtitle":"showLabel","iconclass":"iconClass","closable":"closeButton","tooltip":"title","disabled":"disabled","textdir":"textdir"},_c3c=function(attr,_c3d){
return on(_c39,"attrmodified-"+attr,function(evt){
var _c3e=_c3a(evt.detail&&evt.detail.widget&&evt.detail.widget.id);
if(_c3e){
_c3e.set(_c3d,evt.detail.newValue);
}
});
};
for(var attr in _c3b){
this.own(_c3c(attr,_c3b[attr]));
}
},destroy:function(_c3f){
this.destroyDescendants(_c3f);
this.inherited(arguments);
},onAddChild:function(page,_c40){
var Cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;
var _c41=new Cls({id:this.id+"_"+page.id,name:this.id+"_"+page.id,label:page.title,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir||this.textDir,showLabel:page.showTitle,iconClass:page.iconClass,closeButton:page.closable,title:page.tooltip,page:page});
this.addChild(_c41,_c40);
page.controlButton=_c41;
if(!this._currentChild){
this.onSelectChild(page);
}
var _c42=page._wrapper.getAttribute("aria-labelledby")?page._wrapper.getAttribute("aria-labelledby")+" "+_c41.id:_c41.id;
page._wrapper.removeAttribute("aria-label");
page._wrapper.setAttribute("aria-labelledby",_c42);
},onRemoveChild:function(page){
if(this._currentChild===page){
this._currentChild=null;
}
var _c43=this.pane2button(page.id);
if(_c43){
this.removeChild(_c43);
_c43.destroy();
}
delete page.controlButton;
},onSelectChild:function(page){
if(!page){
return;
}
if(this._currentChild){
var _c44=this.pane2button(this._currentChild.id);
_c44.set("checked",false);
_c44.focusNode.setAttribute("tabIndex","-1");
}
var _c45=this.pane2button(page.id);
_c45.set("checked",true);
this._currentChild=page;
_c45.focusNode.setAttribute("tabIndex","0");
var _c46=_c30.byId(this.containerId);
},onButtonClick:function(page){
var _c47=this.pane2button(page.id);
_c2f.focus(_c47.focusNode);
if(this._currentChild&&this._currentChild.id===page.id){
_c47.set("checked",true);
}
var _c48=_c30.byId(this.containerId);
_c48.selectChild(page);
},onCloseButtonClick:function(page){
var _c49=_c30.byId(this.containerId);
_c49.closeChild(page);
if(this._currentChild){
var b=this.pane2button(this._currentChild.id);
if(b){
_c2f.focus(b.focusNode||b.domNode);
}
}
},adjacent:function(_c4a){
if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){
_c4a=!_c4a;
}
var _c4b=this.getChildren();
var idx=_c2a.indexOf(_c4b,this.pane2button(this._currentChild.id)),_c4c=_c4b[idx];
var _c4d;
do{
idx=(idx+(_c4a?1:_c4b.length-1))%_c4b.length;
_c4d=_c4b[idx];
}while(_c4d.disabled&&_c4d!=_c4c);
return _c4d;
},onkeydown:function(e,_c4e){
if(this.disabled||e.altKey){
return;
}
var _c4f=null;
if(e.ctrlKey||!e._djpage){
switch(e.keyCode){
case keys.LEFT_ARROW:
case keys.UP_ARROW:
if(!e._djpage){
_c4f=false;
}
break;
case keys.PAGE_UP:
if(e.ctrlKey){
_c4f=false;
}
break;
case keys.RIGHT_ARROW:
case keys.DOWN_ARROW:
if(!e._djpage){
_c4f=true;
}
break;
case keys.PAGE_DOWN:
if(e.ctrlKey){
_c4f=true;
}
break;
case keys.HOME:
var _c50=this.getChildren();
for(var idx=0;idx<_c50.length;idx++){
var _c51=_c50[idx];
if(!_c51.disabled){
this.onButtonClick(_c51.page);
break;
}
}
e.stopPropagation();
e.preventDefault();
break;
case keys.END:
var _c50=this.getChildren();
for(var idx=_c50.length-1;idx>=0;idx--){
var _c51=_c50[idx];
if(!_c51.disabled){
this.onButtonClick(_c51.page);
break;
}
}
e.stopPropagation();
e.preventDefault();
break;
case keys.DELETE:
case "W".charCodeAt(0):
if(this._currentChild.closable&&(e.keyCode==keys.DELETE||e.ctrlKey)){
this.onCloseButtonClick(this._currentChild);
e.stopPropagation();
e.preventDefault();
}
break;
case keys.TAB:
if(e.ctrlKey){
this.onButtonClick(this.adjacent(!e.shiftKey).page);
e.stopPropagation();
e.preventDefault();
}
break;
}
if(_c4f!==null){
this.onButtonClick(this.adjacent(_c4f).page);
e.stopPropagation();
e.preventDefault();
}
}
},onContainerKeyDown:function(info){
info.e._djpage=info.page;
this.onkeydown(info.e);
}});
_c36.StackButton=_c35;
return _c36;
});
},"dojox/color/_base":function(){
define(["../main","dojo/_base/lang","dojo/_base/Color","dojo/colors"],function(_c52,lang,_c53,_c54){
var cx=lang.getObject("color",true,_c52);
cx.Color=_c53;
cx.blend=_c53.blendColors;
cx.fromRgb=_c53.fromRgb;
cx.fromHex=_c53.fromHex;
cx.fromArray=_c53.fromArray;
cx.fromString=_c53.fromString;
cx.greyscale=_c54.makeGrey;
lang.mixin(cx,{fromCmy:function(cyan,_c55,_c56){
if(lang.isArray(cyan)){
_c55=cyan[1],_c56=cyan[2],cyan=cyan[0];
}else{
if(lang.isObject(cyan)){
_c55=cyan.m,_c56=cyan.y,cyan=cyan.c;
}
}
cyan/=100,_c55/=100,_c56/=100;
var r=1-cyan,g=1-_c55,b=1-_c56;
return new _c53({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});
},fromCmyk:function(cyan,_c57,_c58,_c59){
if(lang.isArray(cyan)){
_c57=cyan[1],_c58=cyan[2],_c59=cyan[3],cyan=cyan[0];
}else{
if(lang.isObject(cyan)){
_c57=cyan.m,_c58=cyan.y,_c59=cyan.b,cyan=cyan.c;
}
}
cyan/=100,_c57/=100,_c58/=100,_c59/=100;
var r,g,b;
r=1-Math.min(1,cyan*(1-_c59)+_c59);
g=1-Math.min(1,_c57*(1-_c59)+_c59);
b=1-Math.min(1,_c58*(1-_c59)+_c59);
return new _c53({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});
},fromHsl:function(hue,_c5a,_c5b){
if(lang.isArray(hue)){
_c5a=hue[1],_c5b=hue[2],hue=hue[0];
}else{
if(lang.isObject(hue)){
_c5a=hue.s,_c5b=hue.l,hue=hue.h;
}
}
_c5a/=100;
_c5b/=100;
while(hue<0){
hue+=360;
}
while(hue>=360){
hue-=360;
}
var r,g,b;
if(hue<120){
r=(120-hue)/60,g=hue/60,b=0;
}else{
if(hue<240){
r=0,g=(240-hue)/60,b=(hue-120)/60;
}else{
r=(hue-240)/60,g=0,b=(360-hue)/60;
}
}
r=2*_c5a*Math.min(r,1)+(1-_c5a);
g=2*_c5a*Math.min(g,1)+(1-_c5a);
b=2*_c5a*Math.min(b,1)+(1-_c5a);
if(_c5b<0.5){
r*=_c5b,g*=_c5b,b*=_c5b;
}else{
r=(1-_c5b)*r+2*_c5b-1;
g=(1-_c5b)*g+2*_c5b-1;
b=(1-_c5b)*b+2*_c5b-1;
}
return new _c53({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});
}});
cx.fromHsv=function(hue,_c5c,_c5d){
if(lang.isArray(hue)){
_c5c=hue[1],_c5d=hue[2],hue=hue[0];
}else{
if(lang.isObject(hue)){
_c5c=hue.s,_c5d=hue.v,hue=hue.h;
}
}
if(hue==360){
hue=0;
}
_c5c/=100;
_c5d/=100;
var r,g,b;
if(_c5c==0){
r=_c5d,b=_c5d,g=_c5d;
}else{
var _c5e=hue/60,i=Math.floor(_c5e),f=_c5e-i;
var p=_c5d*(1-_c5c);
var q=_c5d*(1-(_c5c*f));
var t=_c5d*(1-(_c5c*(1-f)));
switch(i){
case 0:
r=_c5d,g=t,b=p;
break;
case 1:
r=q,g=_c5d,b=p;
break;
case 2:
r=p,g=_c5d,b=t;
break;
case 3:
r=p,g=q,b=_c5d;
break;
case 4:
r=t,g=p,b=_c5d;
break;
case 5:
r=_c5d,g=p,b=q;
break;
}
}
return new _c53({r:Math.round(r*255),g:Math.round(g*255),b:Math.round(b*255)});
};
lang.extend(_c53,{toCmy:function(){
var cyan=1-(this.r/255),_c5f=1-(this.g/255),_c60=1-(this.b/255);
return {c:Math.round(cyan*100),m:Math.round(_c5f*100),y:Math.round(_c60*100)};
},toCmyk:function(){
var cyan,_c61,_c62,_c63;
var r=this.r/255,g=this.g/255,b=this.b/255;
_c63=Math.min(1-r,1-g,1-b);
cyan=(1-r-_c63)/(1-_c63);
_c61=(1-g-_c63)/(1-_c63);
_c62=(1-b-_c63)/(1-_c63);
return {c:Math.round(cyan*100),m:Math.round(_c61*100),y:Math.round(_c62*100),b:Math.round(_c63*100)};
},toHsl:function(){
var r=this.r/255,g=this.g/255,b=this.b/255;
var min=Math.min(r,b,g),max=Math.max(r,g,b);
var _c64=max-min;
var h=0,s=0,l=(min+max)/2;
if(l>0&&l<1){
s=_c64/((l<0.5)?(2*l):(2-2*l));
}
if(_c64>0){
if(max==r&&max!=g){
h+=(g-b)/_c64;
}
if(max==g&&max!=b){
h+=(2+(b-r)/_c64);
}
if(max==b&&max!=r){
h+=(4+(r-g)/_c64);
}
h*=60;
}
return {h:h,s:Math.round(s*100),l:Math.round(l*100)};
},toHsv:function(){
var r=this.r/255,g=this.g/255,b=this.b/255;
var min=Math.min(r,b,g),max=Math.max(r,g,b);
var _c65=max-min;
var h=null,s=(max==0)?0:(_c65/max);
if(s==0){
h=0;
}else{
if(r==max){
h=60*(g-b)/_c65;
}else{
if(g==max){
h=120+60*(b-r)/_c65;
}else{
h=240+60*(r-g)/_c65;
}
}
if(h<0){
h+=360;
}
}
return {h:h,s:Math.round(s*100),v:Math.round(max*100)};
}});
return cx;
});
},"dijit/form/DateTextBox":function(){
define(["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(_c66,_c67,_c68){
return _c66("dijit.form.DateTextBox",_c68,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:_c67,_selector:"date",maxHeight:Infinity,value:new Date("")});
});
},"dijit/form/_FormValueMixin":function(){
define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./_FormWidgetMixin"],function(_c69,_c6a,keys,lang,on,has,_c6b){
return _c69("dijit.form._FormValueMixin",_c6b,{readOnly:false,_setReadOnlyAttr:function(_c6c){
_c6a.set(this.focusNode,"readOnly",_c6c);
this._set("readOnly",_c6c);
},postCreate:function(){
this.inherited(arguments);
if(this._resetValue===undefined){
this._lastValueReported=this._resetValue=this.value;
}
},_setValueAttr:function(_c6d,_c6e){
this._handleOnChange(_c6d,_c6e);
},_handleOnChange:function(_c6f,_c70){
this._set("value",_c6f);
this.inherited(arguments);
},undo:function(){
this._setValueAttr(this._lastValueReported,false);
},reset:function(){
this._hasBeenBlurred=false;
this._setValueAttr(this._resetValue,true);
}});
});
},"manager/ValidationTextarea":function(){
require(["dojo/_base/declare","dojo/parser","dijit/form/Form","dijit/form/SimpleTextarea","dijit/form/ValidationTextBox"],function(_c71,_c72,form,_c73,_c74){
return _c71("Manager.ValidationTextarea",[_c74,_c73],{regExp:"(.|\\s)*",onBlur:function(){
if(!this.isValid()){
this.displayMessage(this.getErrorMessage());
}
}});
});
},"dojo/date/stamp":function(){
define(["../_base/lang","../_base/array"],function(lang,_c75){
var _c76={};
lang.setObject("dojo.date.stamp",_c76);
_c76.fromISOString=function(_c77,_c78){
if(!_c76._isoRegExp){
_c76._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;
}
var _c79=_c76._isoRegExp.exec(_c77),_c7a=null;
if(_c79){
_c79.shift();
if(_c79[1]){
_c79[1]--;
}
if(_c79[6]){
_c79[6]*=1000;
}
if(_c78){
_c78=new Date(_c78);
_c75.forEach(_c75.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){
return _c78["get"+prop]();
}),function(_c7b,_c7c){
_c79[_c7c]=_c79[_c7c]||_c7b;
});
}
_c7a=new Date(_c79[0]||1970,_c79[1]||0,_c79[2]||1,_c79[3]||0,_c79[4]||0,_c79[5]||0,_c79[6]||0);
if(_c79[0]<100){
_c7a.setFullYear(_c79[0]||1970);
}
var _c7d=0,_c7e=_c79[7]&&_c79[7].charAt(0);
if(_c7e!="Z"){
_c7d=((_c79[8]||0)*60)+(Number(_c79[9])||0);
if(_c7e!="-"){
_c7d*=-1;
}
}
if(_c7e){
_c7d-=_c7a.getTimezoneOffset();
}
if(_c7d){
_c7a.setTime(_c7a.getTime()+_c7d*60000);
}
}
return _c7a;
};
_c76.toISOString=function(_c7f,_c80){
var _c81=function(n){
return (n<10)?"0"+n:n;
};
_c80=_c80||{};
var _c82=[],_c83=_c80.zulu?"getUTC":"get",date="";
if(_c80.selector!="time"){
var year=_c7f[_c83+"FullYear"]();
date=["0000".substr((year+"").length)+year,_c81(_c7f[_c83+"Month"]()+1),_c81(_c7f[_c83+"Date"]())].join("-");
}
_c82.push(date);
if(_c80.selector!="date"){
var time=[_c81(_c7f[_c83+"Hours"]()),_c81(_c7f[_c83+"Minutes"]()),_c81(_c7f[_c83+"Seconds"]())].join(":");
var _c84=_c7f[_c83+"Milliseconds"]();
if(_c80.milliseconds){
time+="."+(_c84<100?"0":"")+_c81(_c84);
}
if(_c80.zulu){
time+="Z";
}else{
if(_c80.selector!="time"){
var _c85=_c7f.getTimezoneOffset();
var _c86=Math.abs(_c85);
time+=(_c85>0?"-":"+")+_c81(Math.floor(_c86/60))+":"+_c81(_c86%60);
}
}
_c82.push(time);
}
return _c82.join("T");
};
return _c76;
});
},"dijit/layout/AccordionPane":function(){
define(["dojo/_base/declare","dojo/_base/kernel","./ContentPane"],function(_c87,_c88,_c89){
return _c87("dijit.layout.AccordionPane",_c89,{constructor:function(){
_c88.deprecated("dijit.layout.AccordionPane deprecated, use ContentPane instead","","2.0");
},onSelected:function(){
}});
});
},"manager/DnD":function(){
define("manager/DnD",["dojo/_base/declare"],function(_c8a){
return _c8a("Manager.Dnd",[],{id:"",dropped:null,constructor:function(id){
this.id=id;
this.dropped=new Array();
},onDrop:function(_c8b,s,n,c){
var sid=s.node.id;
var obj=this;
dojo.forEach(n,function(e,i,a){
obj.dropped.push(e.id+"="+_c8b);
});
},onSubmit:function(){
var s="";
dojo.forEach(this.dropped,function(e,i,a){
s=s+((s=="")?"":"&")+e;
});
dojo.byId(this.id).value=s;
return true;
}});
});
},"dijit/form/_AutoCompleterMixin":function(){
define(["dojo/aspect","dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/_base/lang","dojo/query","dojo/regexp","dojo/sniff","./DataList","./_TextBoxMixin","./_SearchMixin"],function(_c8c,_c8d,_c8e,keys,lang,_c8f,_c90,has,_c91,_c92,_c93){
var _c94=_c8d("dijit.form._AutoCompleterMixin",_c93,{item:null,autoComplete:true,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:false,_getCaretPos:function(_c95){
var pos=0;
if(typeof (_c95.selectionStart)=="number"){
pos=_c95.selectionStart;
}else{
if(has("ie")){
var tr=_c95.ownerDocument.selection.createRange().duplicate();
var ntr=_c95.createTextRange();
tr.move("character",0);
ntr.move("character",0);
try{
ntr.setEndPoint("EndToEnd",tr);
pos=String(ntr.text).replace(/\r/g,"").length;
}
catch(e){
}
}
}
return pos;
},_setCaretPos:function(_c96,_c97){
_c97=parseInt(_c97);
_c92.selectInputText(_c96,_c97,_c97);
},_setDisabledAttr:function(_c98){
this.inherited(arguments);
this.domNode.setAttribute("aria-disabled",_c98?"true":"false");
},_onKey:function(evt){
if(evt.charCode>=32){
return;
}
var key=evt.charCode||evt.keyCode;
if(key==keys.ALT||key==keys.CTRL||key==keys.META||key==keys.SHIFT){
return;
}
var pw=this.dropDown;
var _c99=null;
this._abortQuery();
this.inherited(arguments);
if(evt.altKey||evt.ctrlKey||evt.metaKey){
return;
}
if(this._opened){
_c99=pw.getHighlightedOption();
}
switch(key){
case keys.PAGE_DOWN:
case keys.DOWN_ARROW:
case keys.PAGE_UP:
case keys.UP_ARROW:
if(this._opened){
this._announceOption(_c99);
}
evt.stopPropagation();
evt.preventDefault();
break;
case keys.ENTER:
if(_c99){
if(_c99==pw.nextButton){
this._nextSearch(1);
evt.stopPropagation();
evt.preventDefault();
break;
}else{
if(_c99==pw.previousButton){
this._nextSearch(-1);
evt.stopPropagation();
evt.preventDefault();
break;
}
}
evt.stopPropagation();
evt.preventDefault();
}else{
this._setBlurValue();
this._setCaretPos(this.focusNode,this.focusNode.value.length);
}
case keys.TAB:
var _c9a=this.get("displayedValue");
if(pw&&(_c9a==pw._messages["previousMessage"]||_c9a==pw._messages["nextMessage"])){
break;
}
if(_c99){
this._selectOption(_c99);
}
case keys.ESCAPE:
if(this._opened){
this._lastQuery=null;
this.closeDropDown();
}
break;
}
},_autoCompleteText:function(text){
var fn=this.focusNode;
_c92.selectInputText(fn,fn.value.length);
var _c9b=this.ignoreCase?"toLowerCase":"substr";
if(text[_c9b](0).indexOf(this.focusNode.value[_c9b](0))==0){
var cpos=this.autoComplete?this._getCaretPos(fn):fn.value.length;
if((cpos+1)>fn.value.length){
fn.value=text;
_c92.selectInputText(fn,cpos);
}
}else{
fn.value=text;
_c92.selectInputText(fn);
}
},_openResultList:function(_c9c,_c9d,_c9e){
var _c9f=this.dropDown.getHighlightedOption();
this.dropDown.clearResultList();
if(!_c9c.length&&_c9e.start==0){
this.closeDropDown();
return;
}
this._nextSearch=this.dropDown.onPage=lang.hitch(this,function(_ca0){
_c9c.nextPage(_ca0!==-1);
this.focus();
});
this.dropDown.createOptions(_c9c,_c9e,lang.hitch(this,"_getMenuLabelFromItem"));
this._showResultList();
if("direction" in _c9e){
if(_c9e.direction){
this.dropDown.highlightFirstOption();
}else{
if(!_c9e.direction){
this.dropDown.highlightLastOption();
}
}
if(_c9f){
this._announceOption(this.dropDown.getHighlightedOption());
}
}else{
if(this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(_c9d[this.searchAttr].toString())){
this._announceOption(this.dropDown.containerNode.firstChild.nextSibling);
}
}
},_showResultList:function(){
this.closeDropDown(true);
this.openDropDown();
this.domNode.setAttribute("aria-expanded","true");
},loadDropDown:function(){
this._startSearchAll();
},isLoaded:function(){
return false;
},closeDropDown:function(){
this._abortQuery();
if(this._opened){
this.inherited(arguments);
this.domNode.setAttribute("aria-expanded","false");
}
},_setBlurValue:function(){
var _ca1=this.get("displayedValue");
var pw=this.dropDown;
if(pw&&(_ca1==pw._messages["previousMessage"]||_ca1==pw._messages["nextMessage"])){
this._setValueAttr(this._lastValueReported,true);
}else{
if(typeof this.item=="undefined"){
this.item=null;
this.set("displayedValue",_ca1);
}else{
if(this.value!=this._lastValueReported){
this._handleOnChange(this.value,true);
}
this._refreshState();
}
}
this.focusNode.removeAttribute("aria-activedescendant");
},_setItemAttr:function(item,_ca2,_ca3){
var _ca4="";
if(item){
if(!_ca3){
_ca3=this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr];
}
_ca4=this._getValueField()!=this.searchAttr?this.store.getIdentity(item):_ca3;
}
this.set("value",_ca4,_ca2,_ca3,item);
},_announceOption:function(node){
if(!node){
return;
}
var _ca5;
if(node==this.dropDown.nextButton||node==this.dropDown.previousButton){
_ca5=node.innerHTML;
this.item=undefined;
this.value="";
}else{
var item=this.dropDown.items[node.getAttribute("item")];
_ca5=(this.store._oldAPI?this.store.getValue(item,this.searchAttr):item[this.searchAttr]).toString();
this.set("item",item,false,_ca5);
}
this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);
this.focusNode.setAttribute("aria-activedescendant",_c8e.get(node,"id"));
this._autoCompleteText(_ca5);
},_selectOption:function(_ca6){
this.closeDropDown();
if(_ca6){
this._announceOption(_ca6);
}
this._setCaretPos(this.focusNode,this.focusNode.value.length);
this._handleOnChange(this.value,true);
this.focusNode.removeAttribute("aria-activedescendant");
},_startSearchAll:function(){
this._startSearch("");
},_startSearchFromInput:function(){
this.item=undefined;
this.inherited(arguments);
},_startSearch:function(key){
if(!this.dropDown){
var _ca7=this.id+"_popup",_ca8=lang.isString(this.dropDownClass)?lang.getObject(this.dropDownClass,false):this.dropDownClass;
this.dropDown=new _ca8({onChange:lang.hitch(this,this._selectOption),id:_ca7,dir:this.dir,textDir:this.textDir});
}
this._lastInput=key;
this.inherited(arguments);
},_getValueField:function(){
return this.searchAttr;
},postMixInProperties:function(){
this.inherited(arguments);
if(!this.store){
var _ca9=this.srcNodeRef;
this.store=new _c91({},_ca9);
if(!("value" in this.params)){
var item=(this.item=this.store.fetchSelectedItem());
if(item){
var _caa=this._getValueField();
this.value=this.store._oldAPI?this.store.getValue(item,_caa):item[_caa];
}
}
}
},postCreate:function(){
var _cab=_c8f("label[for=\""+this.id+"\"]");
if(_cab.length){
if(!_cab[0].id){
_cab[0].id=this.id+"_label";
}
this.domNode.setAttribute("aria-labelledby",_cab[0].id);
}
this.inherited(arguments);
_c8c.after(this,"onSearch",lang.hitch(this,"_openResultList"),true);
},_getMenuLabelFromItem:function(item){
var _cac=this.labelFunc(item,this.store),_cad=this.labelType;
if(this.highlightMatch!="none"&&this.labelType=="text"&&this._lastInput){
_cac=this.doHighlight(_cac,this._lastInput);
_cad="html";
}
return {html:_cad=="html",label:_cac};
},doHighlight:function(_cae,find){
var _caf=(this.ignoreCase?"i":"")+(this.highlightMatch=="all"?"g":""),i=this.queryExpr.indexOf("${0}");
find=_c90.escapeString(find);
return this._escapeHtml(_cae.replace(new RegExp((i==0?"^":"")+"("+find+")"+(i==(this.queryExpr.length-4)?"$":""),_caf),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,"<span class=\"dijitComboBoxHighlightMatch\">$1</span>");
},_escapeHtml:function(str){
str=String(str).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");
return str;
},reset:function(){
this.item=null;
this.inherited(arguments);
},labelFunc:function(item,_cb0){
return (_cb0._oldAPI?_cb0.getValue(item,this.labelAttr||this.searchAttr):item[this.labelAttr||this.searchAttr]).toString();
},_setValueAttr:function(_cb1,_cb2,_cb3,item){
this._set("item",item||null);
if(_cb1==null){
_cb1="";
}
this.inherited(arguments);
}});
if(has("dojo-bidi")){
_c94.extend({_setTextDirAttr:function(_cb4){
this.inherited(arguments);
if(this.dropDown){
this.dropDown._set("textDir",_cb4);
}
}});
}
return _c94;
});
},"dojo/dnd/Container":function(){
define(["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../_base/window","../dom","../dom-class","../dom-construct","../Evented","../has","../on","../query","../touch","./common"],function(_cb5,_cb6,_cb7,lang,win,dom,_cb8,_cb9,_cba,has,on,_cbb,_cbc,dnd){
var _cbd=_cb6("dojo.dnd.Container",_cba,{skipForm:false,allowNested:false,constructor:function(node,_cbe){
this.node=dom.byId(node);
if(!_cbe){
_cbe={};
}
this.creator=_cbe.creator||null;
this.skipForm=_cbe.skipForm;
this.parent=_cbe.dropParent&&dom.byId(_cbe.dropParent);
this.map={};
this.current=null;
this.containerState="";
_cb8.add(this.node,"dojoDndContainer");
if(!(_cbe&&_cbe._skipStartup)){
this.startup();
}
this.events=[on(this.node,_cbc.over,lang.hitch(this,"onMouseOver")),on(this.node,_cbc.out,lang.hitch(this,"onMouseOut")),on(this.node,"dragstart",lang.hitch(this,"onSelectStart")),on(this.node,"selectstart",lang.hitch(this,"onSelectStart"))];
},creator:function(){
},getItem:function(key){
return this.map[key];
},setItem:function(key,data){
this.map[key]=data;
},delItem:function(key){
delete this.map[key];
},forInItems:function(f,o){
o=o||_cb7.global;
var m=this.map,e=dnd._empty;
for(var i in m){
if(i in e){
continue;
}
f.call(o,m[i],i,this);
}
return o;
},clearItems:function(){
this.map={};
},getAllNodes:function(){
return _cbb((this.allowNested?"":"> ")+".dojoDndItem",this.parent);
},sync:function(){
var map={};
this.getAllNodes().forEach(function(node){
if(node.id){
var item=this.getItem(node.id);
if(item){
map[node.id]=item;
return;
}
}else{
node.id=dnd.getUniqueId();
}
var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");
map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};
},this);
this.map=map;
return this;
},insertNodes:function(data,_cbf,_cc0){
if(!this.parent.firstChild){
_cc0=null;
}else{
if(_cbf){
if(!_cc0){
_cc0=this.parent.firstChild;
}
}else{
if(_cc0){
_cc0=_cc0.nextSibling;
}
}
}
var i,t;
if(_cc0){
for(i=0;i<data.length;++i){
t=this._normalizedCreator(data[i]);
this.setItem(t.node.id,{data:t.data,type:t.type});
_cc0.parentNode.insertBefore(t.node,_cc0);
}
}else{
for(i=0;i<data.length;++i){
t=this._normalizedCreator(data[i]);
this.setItem(t.node.id,{data:t.data,type:t.type});
this.parent.appendChild(t.node);
}
}
return this;
},destroy:function(){
_cb5.forEach(this.events,function(_cc1){
_cc1.remove();
});
this.clearItems();
this.node=this.parent=this.current=null;
},markupFactory:function(_cc2,node,Ctor){
_cc2._skipStartup=true;
return new Ctor(node,_cc2);
},startup:function(){
if(!this.parent){
this.parent=this.node;
if(this.parent.tagName.toLowerCase()=="table"){
var c=this.parent.getElementsByTagName("tbody");
if(c&&c.length){
this.parent=c[0];
}
}
}
this.defaultCreator=dnd._defaultCreator(this.parent);
this.sync();
},onMouseOver:function(e){
var n=e.relatedTarget;
while(n){
if(n==this.node){
break;
}
try{
n=n.parentNode;
}
catch(x){
n=null;
}
}
if(!n){
this._changeState("Container","Over");
this.onOverEvent();
}
n=this._getChildByEvent(e);
if(this.current==n){
return;
}
if(this.current){
this._removeItemClass(this.current,"Over");
}
if(n){
this._addItemClass(n,"Over");
}
this.current=n;
},onMouseOut:function(e){
for(var n=e.relatedTarget;n;){
if(n==this.node){
return;
}
try{
n=n.parentNode;
}
catch(x){
n=null;
}
}
if(this.current){
this._removeItemClass(this.current,"Over");
this.current=null;
}
this._changeState("Container","");
this.onOutEvent();
},onSelectStart:function(e){
if(!this.skipForm||!dnd.isFormElement(e)){
e.stopPropagation();
e.preventDefault();
}
},onOverEvent:function(){
},onOutEvent:function(){
},_changeState:function(type,_cc3){
var _cc4="dojoDnd"+type;
var _cc5=type.toLowerCase()+"State";
_cb8.replace(this.node,_cc4+_cc3,_cc4+this[_cc5]);
this[_cc5]=_cc3;
},_addItemClass:function(node,type){
_cb8.add(node,"dojoDndItem"+type);
},_removeItemClass:function(node,type){
_cb8.remove(node,"dojoDndItem"+type);
},_getChildByEvent:function(e){
var node=e.target;
if(node){
for(var _cc6=node.parentNode;_cc6;node=_cc6,_cc6=node.parentNode){
if((_cc6==this.parent||this.allowNested)&&_cb8.contains(node,"dojoDndItem")){
return node;
}
}
}
return null;
},_normalizedCreator:function(item,hint){
var t=(this.creator||this.defaultCreator).call(this,item,hint);
if(!lang.isArray(t.type)){
t.type=["text"];
}
if(!t.node.id){
t.node.id=dnd.getUniqueId();
}
_cb8.add(t.node,"dojoDndItem");
return t;
}});
dnd._createNode=function(tag){
if(!tag){
return dnd._createSpan;
}
return function(text){
return _cb9.create(tag,{innerHTML:text});
};
};
dnd._createTrTd=function(text){
var tr=_cb9.create("tr");
_cb9.create("td",{innerHTML:text},tr);
return tr;
};
dnd._createSpan=function(text){
return _cb9.create("span",{innerHTML:text});
};
dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};
dnd._defaultCreator=function(node){
var tag=node.tagName.toLowerCase();
var c=tag=="tbody"||tag=="thead"?dnd._createTrTd:dnd._createNode(dnd._defaultCreatorNodes[tag]);
return function(item,hint){
var _cc7=item&&lang.isObject(item),data,type,n;
if(_cc7&&item.tagName&&item.nodeType&&item.getAttribute){
data=item.getAttribute("dndData")||item.innerHTML;
type=item.getAttribute("dndType");
type=type?type.split(/\s*,\s*/):["text"];
n=item;
}else{
data=(_cc7&&item.data)?item.data:item;
type=(_cc7&&item.type)?item.type:["text"];
n=(hint=="avatar"?dnd._createSpan:c)(String(data));
}
if(!n.id){
n.id=dnd.getUniqueId();
}
return {node:n,data:data,type:type};
};
};
return _cbd;
});
},"dijit/form/CurrencyTextBox":function(){
define(["dojo/currency","dojo/_base/declare","dojo/_base/lang","./NumberTextBox"],function(_cc8,_cc9,lang,_cca){
return _cc9("dijit.form.CurrencyTextBox",_cca,{currency:"",baseClass:"dijitTextBox dijitCurrencyTextBox",_formatter:_cc8.format,_parser:_cc8.parse,_regExpGenerator:_cc8.regexp,parse:function(_ccb,_ccc){
var v=this.inherited(arguments);
if(isNaN(v)&&/\d+/.test(_ccb)){
v=lang.hitch(lang.delegate(this,{_parser:_cca.prototype._parser}),"inherited")(arguments);
}
return v;
},_setConstraintsAttr:function(_ccd){
if(!_ccd.currency&&this.currency){
_ccd.currency=this.currency;
}
this.inherited(arguments,[_cc8._mixInDefaults(lang.mixin(_ccd,{exponent:false}))]);
}});
});
},"dijit/place":function(){
define(["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","./Viewport","./main"],function(_cce,_ccf,_cd0,_cd1,win,_cd2,_cd3){
function _cd4(node,_cd5,_cd6,_cd7){
var view=_cd2.getEffectiveBox(node.ownerDocument);
if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){
win.body(node.ownerDocument).appendChild(node);
}
var best=null;
_cce.some(_cd5,function(_cd8){
var _cd9=_cd8.corner;
var pos=_cd8.pos;
var _cda=0;
var _cdb={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_cd9.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_cd9.charAt(0)]};
var s=node.style;
s.left=s.right="auto";
if(_cd6){
var res=_cd6(node,_cd8.aroundCorner,_cd9,_cdb,_cd7);
_cda=typeof res=="undefined"?0:res;
}
var _cdc=node.style;
var _cdd=_cdc.display;
var _cde=_cdc.visibility;
if(_cdc.display=="none"){
_cdc.visibility="hidden";
_cdc.display="";
}
var bb=_ccf.position(node);
_cdc.display=_cdd;
_cdc.visibility=_cde;
var _cdf={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_cd9.charAt(1)],_ce0={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_cd9.charAt(0)],_ce1=Math.max(view.l,_cdf),_ce2=Math.max(view.t,_ce0),endX=Math.min(view.l+view.w,_cdf+bb.w),endY=Math.min(view.t+view.h,_ce0+bb.h),_ce3=endX-_ce1,_ce4=endY-_ce2;
_cda+=(bb.w-_ce3)+(bb.h-_ce4);
if(best==null||_cda<best.overflow){
best={corner:_cd9,aroundCorner:_cd8.aroundCorner,x:_ce1,y:_ce2,w:_ce3,h:_ce4,overflow:_cda,spaceAvailable:_cdb};
}
return !_cda;
});
if(best.overflow&&_cd6){
_cd6(node,best.aroundCorner,best.corner,best.spaceAvailable,_cd7);
}
var l=_ccf.isBodyLtr(node.ownerDocument),top=best.y,side=l?best.x:view.w-best.x-best.w;
if(/relative|absolute/.test(_cd0.get(win.body(node.ownerDocument),"position"))){
top-=_cd0.get(win.body(node.ownerDocument),"marginTop");
side-=(l?1:-1)*_cd0.get(win.body(node.ownerDocument),l?"marginLeft":"marginRight");
}
var s=node.style;
s.top=top+"px";
s[l?"left":"right"]=side+"px";
s[l?"right":"left"]="auto";
return best;
};
var _ce5={"TL":"BR","TR":"BL","BL":"TR","BR":"TL"};
var _ce6={at:function(node,pos,_ce7,_ce8,_ce9){
var _cea=_cce.map(_ce7,function(_ceb){
var c={corner:_ceb,aroundCorner:_ce5[_ceb],pos:{x:pos.x,y:pos.y}};
if(_ce8){
c.pos.x+=_ceb.charAt(1)=="L"?_ce8.x:-_ce8.x;
c.pos.y+=_ceb.charAt(0)=="T"?_ce8.y:-_ce8.y;
}
return c;
});
return _cd4(node,_cea,_ce9);
},around:function(node,_cec,_ced,_cee,_cef){
var _cf0;
if(typeof _cec=="string"||"offsetWidth" in _cec){
_cf0=_ccf.position(_cec,true);
if(/^(above|below)/.test(_ced[0])){
var _cf1=_ccf.getBorderExtents(_cec),_cf2=_cec.firstChild?_ccf.getBorderExtents(_cec.firstChild):{t:0,l:0,b:0,r:0},_cf3=_ccf.getBorderExtents(node),_cf4=node.firstChild?_ccf.getBorderExtents(node.firstChild):{t:0,l:0,b:0,r:0};
_cf0.y+=Math.min(_cf1.t+_cf2.t,_cf3.t+_cf4.t);
_cf0.h-=Math.min(_cf1.t+_cf2.t,_cf3.t+_cf4.t)+Math.min(_cf1.b+_cf2.b,_cf3.b+_cf4.b);
}
}else{
_cf0=_cec;
}
if(_cec.parentNode){
var _cf5=_cd0.getComputedStyle(_cec).position=="absolute";
var _cf6=_cec.parentNode;
while(_cf6&&_cf6.nodeType==1&&_cf6.nodeName!="BODY"){
var _cf7=_ccf.position(_cf6,true),pcs=_cd0.getComputedStyle(_cf6);
if(/relative|absolute/.test(pcs.position)){
_cf5=false;
}
if(!_cf5&&/hidden|auto|scroll/.test(pcs.overflow)){
var _cf8=Math.min(_cf0.y+_cf0.h,_cf7.y+_cf7.h);
var _cf9=Math.min(_cf0.x+_cf0.w,_cf7.x+_cf7.w);
_cf0.x=Math.max(_cf0.x,_cf7.x);
_cf0.y=Math.max(_cf0.y,_cf7.y);
_cf0.h=_cf8-_cf0.y;
_cf0.w=_cf9-_cf0.x;
}
if(pcs.position=="absolute"){
_cf5=true;
}
_cf6=_cf6.parentNode;
}
}
var x=_cf0.x,y=_cf0.y,_cfa="w" in _cf0?_cf0.w:(_cf0.w=_cf0.width),_cfb="h" in _cf0?_cf0.h:(_cd1.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_cf0.height+", width:"+_cfa+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_cf0.height+", w:"+_cfa+" }","","2.0"),_cf0.h=_cf0.height);
var _cfc=[];
function push(_cfd,_cfe){
_cfc.push({aroundCorner:_cfd,corner:_cfe,pos:{x:{"L":x,"R":x+_cfa,"M":x+(_cfa>>1)}[_cfd.charAt(1)],y:{"T":y,"B":y+_cfb,"M":y+(_cfb>>1)}[_cfd.charAt(0)]}});
};
_cce.forEach(_ced,function(pos){
var ltr=_cee;
switch(pos){
case "above-centered":
push("TM","BM");
break;
case "below-centered":
push("BM","TM");
break;
case "after-centered":
ltr=!ltr;
case "before-centered":
push(ltr?"ML":"MR",ltr?"MR":"ML");
break;
case "after":
ltr=!ltr;
case "before":
push(ltr?"TL":"TR",ltr?"TR":"TL");
push(ltr?"BL":"BR",ltr?"BR":"BL");
break;
case "below-alt":
ltr=!ltr;
case "below":
push(ltr?"BL":"BR",ltr?"TL":"TR");
push(ltr?"BR":"BL",ltr?"TR":"TL");
break;
case "above-alt":
ltr=!ltr;
case "above":
push(ltr?"TL":"TR",ltr?"BL":"BR");
push(ltr?"TR":"TL",ltr?"BR":"BL");
break;
default:
push(pos.aroundCorner,pos.corner);
}
});
var _cff=_cd4(node,_cfc,_cef,{w:_cfa,h:_cfb});
_cff.aroundNodePos=_cf0;
return _cff;
}};
return _cd3.place=_ce6;
});
},"dojox/widget/ColorPicker":function(){
define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/html","dojo/_base/connect","dojo/_base/sniff","dojo/_base/window","dojo/_base/event","dojo/dom","dojo/dom-class","dojo/keys","dojo/fx","dojo/dnd/move","dijit/registry","dijit/_base/focus","dijit/form/_FormWidget","dijit/typematic","dojox/color","dojo/i18n","dojo/i18n!./nls/ColorPicker","dojo/i18n!dojo/cldr/nls/number","dojo/text!./ColorPicker/ColorPicker.html"],function(_d00,_d01,lang,_d02,html,Hub,has,win,_d03,DOM,_d04,Keys,fx,move,_d05,_d06,_d07,_d08,_d09,i18n,_d0a,_d0b,_d0c){
_d00.experimental("dojox.widget.ColorPicker");
var _d0d=function(hex){
return hex;
};
return _d01("dojox.widget.ColorPicker",_d07,{showRgb:true,showHsv:true,showHex:true,webSafe:true,animatePoint:true,slideDuration:250,liveUpdate:false,PICKER_HUE_H:150,PICKER_SAT_VAL_H:150,PICKER_SAT_VAL_W:150,PICKER_HUE_SELECTOR_H:8,PICKER_SAT_SELECTOR_H:10,PICKER_SAT_SELECTOR_W:10,value:"#ffffff",_underlay:_d00.moduleUrl("dojox.widget","ColorPicker/images/underlay.png"),_hueUnderlay:_d00.moduleUrl("dojox.widget","ColorPicker/images/hue.png"),_pickerPointer:_d00.moduleUrl("dojox.widget","ColorPicker/images/pickerPointer.png"),_huePickerPointer:_d00.moduleUrl("dojox.widget","ColorPicker/images/hueHandle.png"),_huePickerPointerAlly:_d00.moduleUrl("dojox.widget","ColorPicker/images/hueHandleA11y.png"),templateString:_d0c,postMixInProperties:function(){
if(_d04.contains(win.body(),"dijit_a11y")){
this._huePickerPointer=this._huePickerPointerAlly;
}
this._uId=_d05.getUniqueId(this.id);
lang.mixin(this,i18n.getLocalization("dojox.widget","ColorPicker"));
lang.mixin(this,i18n.getLocalization("dojo.cldr","number"));
this.inherited(arguments);
},postCreate:function(){
this.inherited(arguments);
if(has("ie")<7){
this.colorUnderlay.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+this._underlay+"', sizingMethod='scale')";
this.colorUnderlay.src=this._blankGif.toString();
}
if(!this.showRgb){
this.rgbNode.style.visibility="hidden";
}
if(!this.showHsv){
this.hsvNode.style.visibility="hidden";
}
if(!this.showHex){
this.hexNode.style.visibility="hidden";
}
if(!this.webSafe){
this.safePreviewNode.style.visibility="hidden";
}
},startup:function(){
if(this._started){
return;
}
this._started=true;
this.set("value",this.value);
this._mover=new move.boxConstrainedMoveable(this.cursorNode,{box:{t:-(this.PICKER_SAT_SELECTOR_H/2),l:-(this.PICKER_SAT_SELECTOR_W/2),w:this.PICKER_SAT_VAL_W,h:this.PICKER_SAT_VAL_H}});
this._hueMover=new move.boxConstrainedMoveable(this.hueCursorNode,{box:{t:-(this.PICKER_HUE_SELECTOR_H/2),l:0,w:0,h:this.PICKER_HUE_H}});
this._subs=[];
this._subs.push(Hub.subscribe("/dnd/move/stop",lang.hitch(this,"_clearTimer")));
this._subs.push(Hub.subscribe("/dnd/move/start",lang.hitch(this,"_setTimer")));
this._keyListeners=[];
this._connects.push(_d08.addKeyListener(this.hueCursorNode,{charOrCode:Keys.UP_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateHueCursorNode),25,25));
this._connects.push(_d08.addKeyListener(this.hueCursorNode,{charOrCode:Keys.DOWN_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateHueCursorNode),25,25));
this._connects.push(_d08.addKeyListener(this.cursorNode,{charOrCode:Keys.UP_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateCursorNode),25,25));
this._connects.push(_d08.addKeyListener(this.cursorNode,{charOrCode:Keys.DOWN_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateCursorNode),25,25));
this._connects.push(_d08.addKeyListener(this.cursorNode,{charOrCode:Keys.LEFT_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateCursorNode),25,25));
this._connects.push(_d08.addKeyListener(this.cursorNode,{charOrCode:Keys.RIGHT_ARROW,shiftKey:false,metaKey:false,ctrlKey:false,altKey:false},this,lang.hitch(this,this._updateCursorNode),25,25));
},_setValueAttr:function(_d0e){
if(!this._started){
return;
}
this.setColor(_d0e,true);
},setColor:function(col,_d0f){
col=_d09.fromString(col);
this._updatePickerLocations(col);
this._updateColorInputs(col);
this._updateValue(col,_d0f);
},_setTimer:function(_d10){
if(_d10.node!=this.cursorNode){
return;
}
_d06.focus(_d10.node);
DOM.setSelectable(this.domNode,false);
this._timer=setInterval(lang.hitch(this,"_updateColor"),45);
},_clearTimer:function(_d11){
if(!this._timer){
return;
}
clearInterval(this._timer);
this._timer=null;
this.onChange(this.value);
DOM.setSelectable(this.domNode,true);
},_setHue:function(h){
html.style(this.colorUnderlay,"backgroundColor",_d09.fromHsv(h,100,100).toHex());
},_updateHueCursorNode:function(_d12,node,e){
if(_d12!==-1){
var y=html.style(this.hueCursorNode,"top");
var _d13=this.PICKER_HUE_SELECTOR_H/2;
y+=_d13;
var _d14=false;
if(e.charOrCode==Keys.UP_ARROW){
if(y>0){
y-=1;
_d14=true;
}
}else{
if(e.charOrCode==Keys.DOWN_ARROW){
if(y<this.PICKER_HUE_H){
y+=1;
_d14=true;
}
}
}
y-=_d13;
if(_d14){
html.style(this.hueCursorNode,"top",y+"px");
}
}else{
this._updateColor(true);
}
},_updateCursorNode:function(_d15,node,e){
var _d16=this.PICKER_SAT_SELECTOR_H/2;
var _d17=this.PICKER_SAT_SELECTOR_W/2;
if(_d15!==-1){
var y=html.style(this.cursorNode,"top");
var x=html.style(this.cursorNode,"left");
y+=_d16;
x+=_d17;
var _d18=false;
if(e.charOrCode==Keys.UP_ARROW){
if(y>0){
y-=1;
_d18=true;
}
}else{
if(e.charOrCode==Keys.DOWN_ARROW){
if(y<this.PICKER_SAT_VAL_H){
y+=1;
_d18=true;
}
}else{
if(e.charOrCode==Keys.LEFT_ARROW){
if(x>0){
x-=1;
_d18=true;
}
}else{
if(e.charOrCode==Keys.RIGHT_ARROW){
if(x<this.PICKER_SAT_VAL_W){
x+=1;
_d18=true;
}
}
}
}
}
if(_d18){
y-=_d16;
x-=_d17;
html.style(this.cursorNode,"top",y+"px");
html.style(this.cursorNode,"left",x+"px");
}
}else{
this._updateColor(true);
}
},_updateColor:function(_d19){
var _d1a=this.PICKER_HUE_SELECTOR_H/2,_d1b=this.PICKER_SAT_SELECTOR_H/2,_d1c=this.PICKER_SAT_SELECTOR_W/2;
var _d1d=html.style(this.hueCursorNode,"top")+_d1a,_d1e=html.style(this.cursorNode,"top")+_d1b,_d1f=html.style(this.cursorNode,"left")+_d1c,h=Math.round(360-(_d1d/this.PICKER_HUE_H*360)),col=_d09.fromHsv(h,_d1f/this.PICKER_SAT_VAL_W*100,100-(_d1e/this.PICKER_SAT_VAL_H*100));
this._updateColorInputs(col);
this._updateValue(col,_d19);
if(h!=this._hue){
this._setHue(h);
}
},_colorInputChange:function(e){
var col,_d20=false;
switch(e.target){
case this.hexCode:
col=_d09.fromString(e.target.value);
_d20=true;
break;
case this.Rval:
case this.Gval:
case this.Bval:
col=_d09.fromArray([this.Rval.value,this.Gval.value,this.Bval.value]);
_d20=true;
break;
case this.Hval:
case this.Sval:
case this.Vval:
col=_d09.fromHsv(this.Hval.value,this.Sval.value,this.Vval.value);
_d20=true;
break;
}
if(_d20){
this._updatePickerLocations(col);
this._updateColorInputs(col);
this._updateValue(col,true);
}
},_updateValue:function(col,_d21){
var hex=col.toHex();
this.value=this.valueNode.value=hex;
if(_d21&&(!this._timer||this.liveUpdate)){
this.onChange(hex);
}
},_updatePickerLocations:function(col){
var _d22=this.PICKER_HUE_SELECTOR_H/2,_d23=this.PICKER_SAT_SELECTOR_H/2,_d24=this.PICKER_SAT_SELECTOR_W/2;
var hsv=col.toHsv(),ypos=Math.round(this.PICKER_HUE_H-hsv.h/360*this.PICKER_HUE_H)-_d22,_d25=Math.round(hsv.s/100*this.PICKER_SAT_VAL_W)-_d24,_d26=Math.round(this.PICKER_SAT_VAL_H-hsv.v/100*this.PICKER_SAT_VAL_H)-_d23;
if(this.animatePoint){
fx.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:ypos,left:0}).play();
fx.slideTo({node:this.cursorNode,duration:this.slideDuration,top:_d26,left:_d25}).play();
}else{
html.style(this.hueCursorNode,"top",ypos+"px");
html.style(this.cursorNode,{left:_d25+"px",top:_d26+"px"});
}
if(hsv.h!=this._hue){
this._setHue(hsv.h);
}
},_updateColorInputs:function(col){
var hex=col.toHex();
if(this.showRgb){
this.Rval.value=col.r;
this.Gval.value=col.g;
this.Bval.value=col.b;
}
if(this.showHsv){
var hsv=col.toHsv();
this.Hval.value=Math.round((hsv.h));
this.Sval.value=Math.round(hsv.s);
this.Vval.value=Math.round(hsv.v);
}
if(this.showHex){
this.hexCode.value=hex;
}
this.previewNode.style.backgroundColor=hex;
if(this.webSafe){
this.safePreviewNode.style.backgroundColor=_d0d(hex);
}
},_setHuePoint:function(evt){
var _d27=this.PICKER_HUE_SELECTOR_H/2;
var ypos=evt.layerY-_d27;
if(this.animatePoint){
fx.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:ypos,left:0,onEnd:lang.hitch(this,function(){
this._updateColor(false);
_d06.focus(this.hueCursorNode);
})}).play();
}else{
html.style(this.hueCursorNode,"top",ypos+"px");
this._updateColor(false);
}
},_setPoint:function(evt){
var _d28=this.PICKER_SAT_SELECTOR_H/2;
var _d29=this.PICKER_SAT_SELECTOR_W/2;
var _d2a=evt.layerY-_d28;
var _d2b=evt.layerX-_d29;
if(evt){
_d06.focus(evt.target);
}
if(this.animatePoint){
fx.slideTo({node:this.cursorNode,duration:this.slideDuration,top:_d2a,left:_d2b,onEnd:lang.hitch(this,function(){
this._updateColor(true);
_d06.focus(this.cursorNode);
})}).play();
}else{
html.style(this.cursorNode,{left:_d2b+"px",top:_d2a+"px"});
this._updateColor(false);
}
},_handleKey:function(e){
},focus:function(){
if(!this.focused){
_d06.focus(this.focusNode);
}
},_stopDrag:function(e){
_d03.stop(e);
},destroy:function(){
this.inherited(arguments);
_d02.forEach(this._subs,function(sub){
Hub.unsubscribe(sub);
});
delete this._subs;
}});
});
},"dijit/form/ComboBox":function(){
define(["dojo/_base/declare","./ValidationTextBox","./ComboBoxMixin"],function(_d2c,_d2d,_d2e){
return _d2c("dijit.form.ComboBox",[_d2d,_d2e],{});
});
},"dijit/layout/_LayoutWidget":function(){
define(["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_d2f,_d30,_d31,_d32,_d33,_d34,_d35,_d36){
return _d33("dijit.layout._LayoutWidget",[_d2f,_d30,_d31],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){
this.inherited(arguments);
_d34.add(this.domNode,"dijitContainer");
},startup:function(){
if(this._started){
return;
}
this.inherited(arguments);
var _d37=this.getParent&&this.getParent();
if(!(_d37&&_d37.isLayoutContainer)){
this.resize();
this.own(_d32.on("resize",lang.hitch(this,"resize")));
}
},resize:function(_d38,_d39){
var node=this.domNode;
if(_d38){
_d35.setMarginBox(node,_d38);
}
var mb=_d39||{};
lang.mixin(mb,_d38||{});
if(!("h" in mb)||!("w" in mb)){
mb=lang.mixin(_d35.getMarginBox(node),mb);
}
var cs=_d36.getComputedStyle(node);
var me=_d35.getMarginExtents(node,cs);
var be=_d35.getBorderExtents(node,cs);
var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});
var pe=_d35.getPadExtents(node,cs);
this._contentBox={l:_d36.toPixelValue(node,cs.paddingLeft),t:_d36.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};
this.layout();
},layout:function(){
},_setupChild:function(_d3a){
var cls=this.baseClass+"-child "+(_d3a.baseClass?this.baseClass+"-"+_d3a.baseClass:"");
_d34.add(_d3a.domNode,cls);
},addChild:function(_d3b,_d3c){
this.inherited(arguments);
if(this._started){
this._setupChild(_d3b);
}
},removeChild:function(_d3d){
var cls=this.baseClass+"-child"+(_d3d.baseClass?" "+this.baseClass+"-"+_d3d.baseClass:"");
_d34.remove(_d3d.domNode,cls);
this.inherited(arguments);
}});
});
},"dgrid/util/touch":function(){
define(["dojo/on","dojo/query"],function(on,_d3e){
var util={tapRadius:10,dbltapTime:250,selector:function(_d3f,_d40,_d41){
return function(_d42,_d43){
var _d44=_d40.bubble;
if(_d44){
_d40=_d44;
}else{
if(_d41!==false){
_d41=true;
}
}
return on(_d42,_d40,function(_d45){
var _d46=_d45.target;
if(_d46.nodeType==3){
_d46=_d46.parentNode;
}
while(!_d3e.matches(_d46,_d3f,_d42)){
if(_d46==_d42||!_d41||!(_d46=_d46.parentNode)){
return;
}
}
return _d43.call(_d46,_d45);
});
};
},countCurrentTouches:function(evt,node){
var i,_d47,_d48;
for(i=0,_d47=0;(_d48=evt.touches[i]);++i){
if(node.contains(_d48.target)){
++_d47;
}
}
return _d47;
}};
function _d49(_d4a,_d4b,evt,_d4c){
if(evt.targetTouches.length>1){
return;
}
var _d4d=evt.changedTouches[0],_d4e=_d4d.screenX,_d4f=_d4d.screenY;
_d4c&&evt.preventDefault();
var _d50=on(_d4a,"touchend",function(evt){
var end=evt.changedTouches[0];
if(!evt.targetTouches.length){
if(Math.abs(end.screenX-_d4e)<util.tapRadius&&Math.abs(end.screenY-_d4f)<util.tapRadius){
_d4c&&evt.preventDefault();
_d4b.call(this,evt);
}
_d50.remove();
}
});
};
function tap(_d51,_d52){
return on(_d51,"touchstart",function(evt){
_d49(_d51,_d52,evt);
});
};
function _d53(_d54,_d55){
var _d56,_d57;
return on(_d54,"touchstart",function(evt){
if(!_d56){
_d49(_d54,function(evt){
_d56=evt.changedTouches[0];
_d57=setTimeout(function(){
_d56=_d57=null;
},util.dbltapTime);
},evt);
}else{
_d49(_d54,function(evt){
if(!_d56){
return;
}
var _d58=evt.changedTouches[0];
if(Math.abs(_d58.screenX-_d56.screenX)<util.tapRadius&&Math.abs(_d58.screenY-_d56.screenY)<util.tapRadius){
_d57&&clearTimeout(_d57);
_d56=_d57=null;
_d55.call(this,evt);
}
},evt,true);
}
});
};
util.tap=tap;
util.dbltap=_d53;
return util;
});
},"dojox/widget/nls/ColorPicker":function(){
define({root:({redLabel:"r",greenLabel:"g",blueLabel:"b",hueLabel:"h",saturationLabel:"s",valueLabel:"v",degLabel:"°",hexLabel:"hex",huePickerTitle:"Hue Selector",saturationPickerTitle:"Saturation Selector"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});
},"dojox/widget/nls/pt/ColorPicker":function(){
define(({redLabel:"r",greenLabel:"g",blueLabel:"b",hueLabel:"h",saturationLabel:"s",valueLabel:"v",degLabel:"°",hexLabel:"hex",huePickerTitle:"Seletor de Matiz",saturationPickerTitle:"Seletor de Saturação"}));
},"dojox/widget/nls/pt/ColorPicker":function(){
define(({redLabel:"r",greenLabel:"g",blueLabel:"b",hueLabel:"h",saturationLabel:"s",valueLabel:"v",degLabel:"°",hexLabel:"hex",huePickerTitle:"Seletor de Matiz",saturationPickerTitle:"Seletor de Saturação"}));
},"dojo/colors":function(){
define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(dojo,lang,_d59,_d5a){
var _d5b={};
lang.setObject("dojo.colors",_d5b);
var _d5c=function(m1,m2,h){
if(h<0){
++h;
}
if(h>1){
--h;
}
var h6=6*h;
if(h6<1){
return m1+(m2-m1)*h6;
}
if(2*h<1){
return m2;
}
if(3*h<2){
return m1+(m2-m1)*(2/3-h)*6;
}
return m1;
};
dojo.colorFromRgb=_d59.fromRgb=function(_d5d,obj){
var m=_d5d.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);
if(m){
var c=m[2].split(/\s*,\s*/),l=c.length,t=m[1],a;
if((t=="rgb"&&l==3)||(t=="rgba"&&l==4)){
var r=c[0];
if(r.charAt(r.length-1)=="%"){
a=_d5a.map(c,function(x){
return parseFloat(x)*2.56;
});
if(l==4){
a[3]=c[3];
}
return _d59.fromArray(a,obj);
}
return _d59.fromArray(c,obj);
}
if((t=="hsl"&&l==3)||(t=="hsla"&&l==4)){
var H=((parseFloat(c[0])%360)+360)%360/360,S=parseFloat(c[1])/100,L=parseFloat(c[2])/100,m2=L<=0.5?L*(S+1):L+S-L*S,m1=2*L-m2;
a=[_d5c(m1,m2,H+1/3)*256,_d5c(m1,m2,H)*256,_d5c(m1,m2,H-1/3)*256,1];
if(l==4){
a[3]=c[3];
}
return _d59.fromArray(a,obj);
}
}
return null;
};
var _d5e=function(c,low,high){
c=Number(c);
return isNaN(c)?high:c<low?low:c>high?high:c;
};
_d59.prototype.sanitize=function(){
var t=this;
t.r=Math.round(_d5e(t.r,0,255));
t.g=Math.round(_d5e(t.g,0,255));
t.b=Math.round(_d5e(t.b,0,255));
t.a=_d5e(t.a,0,1);
return this;
};
_d5b.makeGrey=_d59.makeGrey=function(g,a){
return _d59.fromArray([g,g,g,a]);
};
lang.mixin(_d59.named,{"aliceblue":[240,248,255],"antiquewhite":[250,235,215],"aquamarine":[127,255,212],"azure":[240,255,255],"beige":[245,245,220],"bisque":[255,228,196],"blanchedalmond":[255,235,205],"blueviolet":[138,43,226],"brown":[165,42,42],"burlywood":[222,184,135],"cadetblue":[95,158,160],"chartreuse":[127,255,0],"chocolate":[210,105,30],"coral":[255,127,80],"cornflowerblue":[100,149,237],"cornsilk":[255,248,220],"crimson":[220,20,60],"cyan":[0,255,255],"darkblue":[0,0,139],"darkcyan":[0,139,139],"darkgoldenrod":[184,134,11],"darkgray":[169,169,169],"darkgreen":[0,100,0],"darkgrey":[169,169,169],"darkkhaki":[189,183,107],"darkmagenta":[139,0,139],"darkolivegreen":[85,107,47],"darkorange":[255,140,0],"darkorchid":[153,50,204],"darkred":[139,0,0],"darksalmon":[233,150,122],"darkseagreen":[143,188,143],"darkslateblue":[72,61,139],"darkslategray":[47,79,79],"darkslategrey":[47,79,79],"darkturquoise":[0,206,209],"darkviolet":[148,0,211],"deeppink":[255,20,147],"deepskyblue":[0,191,255],"dimgray":[105,105,105],"dimgrey":[105,105,105],"dodgerblue":[30,144,255],"firebrick":[178,34,34],"floralwhite":[255,250,240],"forestgreen":[34,139,34],"gainsboro":[220,220,220],"ghostwhite":[248,248,255],"gold":[255,215,0],"goldenrod":[218,165,32],"greenyellow":[173,255,47],"grey":[128,128,128],"honeydew":[240,255,240],"hotpink":[255,105,180],"indianred":[205,92,92],"indigo":[75,0,130],"ivory":[255,255,240],"khaki":[240,230,140],"lavender":[230,230,250],"lavenderblush":[255,240,245],"lawngreen":[124,252,0],"lemonchiffon":[255,250,205],"lightblue":[173,216,230],"lightcoral":[240,128,128],"lightcyan":[224,255,255],"lightgoldenrodyellow":[250,250,210],"lightgray":[211,211,211],"lightgreen":[144,238,144],"lightgrey":[211,211,211],"lightpink":[255,182,193],"lightsalmon":[255,160,122],"lightseagreen":[32,178,170],"lightskyblue":[135,206,250],"lightslategray":[119,136,153],"lightslategrey":[119,136,153],"lightsteelblue":[176,196,222],"lightyellow":[255,255,224],"limegreen":[50,205,50],"linen":[250,240,230],"magenta":[255,0,255],"mediumaquamarine":[102,205,170],"mediumblue":[0,0,205],"mediumorchid":[186,85,211],"mediumpurple":[147,112,219],"mediumseagreen":[60,179,113],"mediumslateblue":[123,104,238],"mediumspringgreen":[0,250,154],"mediumturquoise":[72,209,204],"mediumvioletred":[199,21,133],"midnightblue":[25,25,112],"mintcream":[245,255,250],"mistyrose":[255,228,225],"moccasin":[255,228,181],"navajowhite":[255,222,173],"oldlace":[253,245,230],"olivedrab":[107,142,35],"orange":[255,165,0],"orangered":[255,69,0],"orchid":[218,112,214],"palegoldenrod":[238,232,170],"palegreen":[152,251,152],"paleturquoise":[175,238,238],"palevioletred":[219,112,147],"papayawhip":[255,239,213],"peachpuff":[255,218,185],"peru":[205,133,63],"pink":[255,192,203],"plum":[221,160,221],"powderblue":[176,224,230],"rosybrown":[188,143,143],"royalblue":[65,105,225],"saddlebrown":[139,69,19],"salmon":[250,128,114],"sandybrown":[244,164,96],"seagreen":[46,139,87],"seashell":[255,245,238],"sienna":[160,82,45],"skyblue":[135,206,235],"slateblue":[106,90,205],"slategray":[112,128,144],"slategrey":[112,128,144],"snow":[255,250,250],"springgreen":[0,255,127],"steelblue":[70,130,180],"tan":[210,180,140],"thistle":[216,191,216],"tomato":[255,99,71],"turquoise":[64,224,208],"violet":[238,130,238],"wheat":[245,222,179],"whitesmoke":[245,245,245],"yellowgreen":[154,205,50]});
return _d59;
});
},"dojox/grid/cells/_base":function(){
define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/event","dojo/_base/connect","dojo/_base/array","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dijit/_Widget","../util"],function(dojo,_d5f,lang,_d60,_d61,_d62,has,dom,_d63,_d64,_d65,util){
var _d66=_d5f("dojox.grid._DeferredTextWidget",_d65,{deferred:null,_destroyOnRemove:true,postCreate:function(){
if(this.deferred){
this.deferred.addBoth(lang.hitch(this,function(text){
if(this.domNode){
this.domNode.innerHTML=text;
}
}));
}
}});
var _d67=function(_d68){
try{
util.fire(_d68,"focus");
util.fire(_d68,"select");
}
catch(e){
}
};
var _d69=function(){
setTimeout(lang.hitch.apply(dojo,arguments),0);
};
var _d6a=_d5f("dojox.grid.cells._Base",null,{styles:"",classes:"",editable:false,alwaysEditing:false,formatter:null,defaultValue:"...",value:null,hidden:false,noresize:false,draggable:true,_valueProp:"value",_formatPending:false,constructor:function(_d6b){
this._props=_d6b||{};
lang.mixin(this,_d6b);
if(this.draggable===undefined){
this.draggable=true;
}
},_defaultFormat:function(_d6c,_d6d){
var s=this.grid.formatterScope||this;
var f=this.formatter;
if(f&&s&&typeof f=="string"){
f=this.formatter=s[f];
}
var v=(_d6c!=this.defaultValue&&f)?f.apply(s,_d6d):_d6c;
if(typeof v=="undefined"){
return this.defaultValue;
}
if(v&&v.addBoth){
v=new _d66({deferred:v},_d64.create("span",{innerHTML:this.defaultValue}));
}
if(v&&v.declaredClass&&v.startup){
return "<div class='dojoxGridStubNode' linkWidget='"+v.id+"' cellIdx='"+this.index+"'>"+this.defaultValue+"</div>";
}
return v;
},format:function(_d6e,_d6f){
var f,i=this.grid.edit.info,d=this.get?this.get(_d6e,_d6f):(this.value||this.defaultValue);
d=(d&&d.replace&&this.grid.escapeHTMLInData)?d.replace(/&/g,"&amp;").replace(/</g,"&lt;"):d;
if(this.editable&&(this.alwaysEditing||(i.rowIndex==_d6e&&i.cell==this))){
return this.formatEditing(i.value?i.value:d,_d6e);
}else{
return this._defaultFormat(d,[d,_d6e,this]);
}
},formatEditing:function(_d70,_d71){
},getNode:function(_d72){
return this.view.getCellNode(_d72,this.index);
},getHeaderNode:function(){
return this.view.getHeaderCellNode(this.index);
},getEditNode:function(_d73){
return (this.getNode(_d73)||0).firstChild||0;
},canResize:function(){
var uw=this.unitWidth;
return uw&&(uw!=="auto");
},isFlex:function(){
var uw=this.unitWidth;
return uw&&lang.isString(uw)&&(uw=="auto"||uw.slice(-1)=="%");
},applyEdit:function(_d74,_d75){
if(this.getNode(_d75)){
this.grid.edit.applyCellEdit(_d74,this,_d75);
}
},cancelEdit:function(_d76){
this.grid.doCancelEdit(_d76);
},_onEditBlur:function(_d77){
if(this.grid.edit.isEditCell(_d77,this.index)){
this.grid.edit.apply();
}
},registerOnBlur:function(_d78,_d79){
if(this.commitOnBlur){
_d61.connect(_d78,"onblur",function(e){
setTimeout(lang.hitch(this,"_onEditBlur",_d79),250);
});
}
},needFormatNode:function(_d7a,_d7b){
this._formatPending=true;
_d69(this,"_formatNode",_d7a,_d7b);
},cancelFormatNode:function(){
this._formatPending=false;
},_formatNode:function(_d7c,_d7d){
if(this._formatPending){
this._formatPending=false;
if(!has("ie")){
dom.setSelectable(this.grid.domNode,true);
}
this.formatNode(this.getEditNode(_d7d),_d7c,_d7d);
}
},formatNode:function(_d7e,_d7f,_d80){
if(has("ie")){
_d69(this,"focus",_d80,_d7e);
}else{
this.focus(_d80,_d7e);
}
},dispatchEvent:function(m,e){
if(m in this){
return this[m](e);
}
},getValue:function(_d81){
return this.getEditNode(_d81)[this._valueProp];
},setValue:function(_d82,_d83){
var n=this.getEditNode(_d82);
if(n){
n[this._valueProp]=_d83;
}
},focus:function(_d84,_d85){
_d67(_d85||this.getEditNode(_d84));
},save:function(_d86){
this.value=this.value||this.getValue(_d86);
},restore:function(_d87){
this.setValue(_d87,this.value);
},_finish:function(_d88){
dom.setSelectable(this.grid.domNode,false);
this.cancelFormatNode();
},apply:function(_d89){
this.applyEdit(this.getValue(_d89),_d89);
this._finish(_d89);
},cancel:function(_d8a){
this.cancelEdit(_d8a);
this._finish(_d8a);
}});
_d6a.markupFactory=function(node,_d8b){
var _d8c=lang.trim(_d63.get(node,"formatter")||"");
if(_d8c){
_d8b.formatter=lang.getObject(_d8c)||_d8c;
}
var get=lang.trim(_d63.get(node,"get")||"");
if(get){
_d8b.get=lang.getObject(get);
}
var _d8d=function(attr,cell,_d8e){
var _d8f=lang.trim(_d63.get(node,attr)||"");
if(_d8f){
cell[_d8e||attr]=!(_d8f.toLowerCase()=="false");
}
};
_d8d("sortDesc",_d8b);
_d8d("editable",_d8b);
_d8d("alwaysEditing",_d8b);
_d8d("noresize",_d8b);
_d8d("draggable",_d8b);
var _d90=lang.trim(_d63.get(node,"loadingText")||_d63.get(node,"defaultValue")||"");
if(_d90){
_d8b.defaultValue=_d90;
}
var _d91=function(attr,cell,_d92){
var _d93=lang.trim(_d63.get(node,attr)||"")||undefined;
if(_d93){
cell[_d92||attr]=_d93;
}
};
_d91("styles",_d8b);
_d91("headerStyles",_d8b);
_d91("cellStyles",_d8b);
_d91("classes",_d8b);
_d91("headerClasses",_d8b);
_d91("cellClasses",_d8b);
};
var Cell=_d6a.Cell=_d5f("dojox.grid.cells.Cell",_d6a,{constructor:function(){
this.keyFilter=this.keyFilter;
},keyFilter:null,formatEditing:function(_d94,_d95){
this.needFormatNode(_d94,_d95);
return "<input class=\"dojoxGridInput\" type=\"text\" value=\""+_d94+"\">";
},formatNode:function(_d96,_d97,_d98){
this.inherited(arguments);
this.registerOnBlur(_d96,_d98);
},doKey:function(e){
if(this.keyFilter){
var key=String.fromCharCode(e.charCode);
if(key.search(this.keyFilter)==-1){
_d60.stop(e);
}
}
},_finish:function(_d99){
this.inherited(arguments);
var n=this.getEditNode(_d99);
try{
util.fire(n,"blur");
}
catch(e){
}
}});
Cell.markupFactory=function(node,_d9a){
_d6a.markupFactory(node,_d9a);
var _d9b=lang.trim(_d63.get(node,"keyFilter")||"");
if(_d9b){
_d9a.keyFilter=new RegExp(_d9b);
}
};
var _d9c=_d6a.RowIndex=_d5f("dojox.grid.cells.RowIndex",Cell,{name:"Row",postscript:function(){
this.editable=false;
},get:function(_d9d){
return _d9d+1;
}});
_d9c.markupFactory=function(node,_d9e){
Cell.markupFactory(node,_d9e);
};
var _d9f=_d6a.Select=_d5f("dojox.grid.cells.Select",Cell,{options:null,values:null,returnIndex:-1,constructor:function(_da0){
this.values=this.values||this.options;
},formatEditing:function(_da1,_da2){
this.needFormatNode(_da1,_da2);
var h=["<select class=\"dojoxGridSelect\">"];
for(var i=0,o,v;((o=this.options[i])!==undefined)&&((v=this.values[i])!==undefined);i++){
v=v.replace?v.replace(/&/g,"&amp;").replace(/</g,"&lt;"):v;
o=o.replace?o.replace(/&/g,"&amp;").replace(/</g,"&lt;"):o;
h.push("<option",(_da1==v?" selected":"")," value=\""+v+"\"",">",o,"</option>");
}
h.push("</select>");
return h.join("");
},_defaultFormat:function(_da3,_da4){
var v=this.inherited(arguments);
if(!this.formatter&&this.values&&this.options){
var i=_d62.indexOf(this.values,v);
if(i>=0){
v=this.options[i];
}
}
return v;
},getValue:function(_da5){
var n=this.getEditNode(_da5);
if(n){
var i=n.selectedIndex,o=n.options[i];
return this.returnIndex>-1?i:o.value||o.innerHTML;
}
}});
_d9f.markupFactory=function(node,cell){
Cell.markupFactory(node,cell);
var _da6=lang.trim(_d63.get(node,"options")||"");
if(_da6){
var o=_da6.split(",");
if(o[0]!=_da6){
cell.options=o;
}
}
var _da7=lang.trim(_d63.get(node,"values")||"");
if(_da7){
var v=_da7.split(",");
if(v[0]!=_da7){
cell.values=v;
}
}
};
var _da8=_d6a.AlwaysEdit=_d5f("dojox.grid.cells.AlwaysEdit",Cell,{alwaysEditing:true,_formatNode:function(_da9,_daa){
this.formatNode(this.getEditNode(_daa),_da9,_daa);
},applyStaticValue:function(_dab){
var e=this.grid.edit;
e.applyCellEdit(this.getValue(_dab),this,_dab);
e.start(this,_dab,true);
}});
_da8.markupFactory=function(node,cell){
Cell.markupFactory(node,cell);
};
var Bool=_d6a.Bool=_d5f("dojox.grid.cells.Bool",_da8,{_valueProp:"checked",formatEditing:function(_dac,_dad){
return "<input class=\"dojoxGridInput\" type=\"checkbox\""+(_dac?" checked=\"checked\"":"")+" style=\"width: auto\" />";
},doclick:function(e){
if(e.target.tagName=="INPUT"){
this.applyStaticValue(e.rowIndex);
}
}});
Bool.markupFactory=function(node,cell){
_da8.markupFactory(node,cell);
};
return _d6a;
});
},"dojo/cldr/supplemental":function(){
define(["../_base/lang","../i18n"],function(lang,i18n){
var _dae={};
lang.setObject("dojo.cldr.supplemental",_dae);
_dae.getFirstDayOfWeek=function(_daf){
var _db0={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0};
var _db1=_dae._region(_daf);
var dow=_db0[_db1];
return (dow===undefined)?1:dow;
};
_dae._region=function(_db2){
_db2=i18n.normalizeLocale(_db2);
var tags=_db2.split("-");
var _db3=tags[1];
if(!_db3){
_db3={aa:"et",ab:"ge",af:"za",ak:"gh",am:"et",ar:"eg",as:"in",av:"ru",ay:"bo",az:"az",ba:"ru",be:"by",bg:"bg",bi:"vu",bm:"ml",bn:"bd",bo:"cn",br:"fr",bs:"ba",ca:"es",ce:"ru",ch:"gu",co:"fr",cr:"ca",cs:"cz",cv:"ru",cy:"gb",da:"dk",de:"de",dv:"mv",dz:"bt",ee:"gh",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",ff:"sn",fi:"fi",fj:"fj",fo:"fo",fr:"fr",fy:"nl",ga:"ie",gd:"gb",gl:"es",gn:"py",gu:"in",gv:"gb",ha:"ng",he:"il",hi:"in",ho:"pg",hr:"hr",ht:"ht",hu:"hu",hy:"am",ia:"fr",id:"id",ig:"ng",ii:"cn",ik:"us","in":"id",is:"is",it:"it",iu:"ca",iw:"il",ja:"jp",ji:"ua",jv:"id",jw:"id",ka:"ge",kg:"cd",ki:"ke",kj:"na",kk:"kz",kl:"gl",km:"kh",kn:"in",ko:"kr",ks:"in",ku:"tr",kv:"ru",kw:"gb",ky:"kg",la:"va",lb:"lu",lg:"ug",li:"nl",ln:"cd",lo:"la",lt:"lt",lu:"cd",lv:"lv",mg:"mg",mh:"mh",mi:"nz",mk:"mk",ml:"in",mn:"mn",mo:"ro",mr:"in",ms:"my",mt:"mt",my:"mm",na:"nr",nb:"no",nd:"zw",ne:"np",ng:"na",nl:"nl",nn:"no",no:"no",nr:"za",nv:"us",ny:"mw",oc:"fr",om:"et",or:"in",os:"ge",pa:"in",pl:"pl",ps:"af",pt:"br",qu:"pe",rm:"ch",rn:"bi",ro:"ro",ru:"ru",rw:"rw",sa:"in",sd:"in",se:"no",sg:"cf",si:"lk",sk:"sk",sl:"si",sm:"ws",sn:"zw",so:"so",sq:"al",sr:"rs",ss:"za",st:"za",su:"id",sv:"se",sw:"tz",ta:"in",te:"in",tg:"tj",th:"th",ti:"et",tk:"tm",tl:"ph",tn:"za",to:"to",tr:"tr",ts:"za",tt:"ru",ty:"pf",ug:"cn",uk:"ua",ur:"pk",uz:"uz",ve:"za",vi:"vn",wa:"be",wo:"sn",xh:"za",yi:"il",yo:"ng",za:"cn",zh:"cn",zu:"za",ace:"id",ady:"ru",agq:"cm",alt:"ru",amo:"ng",asa:"tz",ast:"es",awa:"in",bal:"pk",ban:"id",bas:"cm",bax:"cm",bbc:"id",bem:"zm",bez:"tz",bfq:"in",bft:"pk",bfy:"in",bhb:"in",bho:"in",bik:"ph",bin:"ng",bjj:"in",bku:"ph",bqv:"ci",bra:"in",brx:"in",bss:"cm",btv:"pk",bua:"ru",buc:"yt",bug:"id",bya:"id",byn:"er",cch:"ng",ccp:"in",ceb:"ph",cgg:"ug",chk:"fm",chm:"ru",chp:"ca",chr:"us",cja:"kh",cjm:"vn",ckb:"iq",crk:"ca",csb:"pl",dar:"ru",dav:"ke",den:"ca",dgr:"ca",dje:"ne",doi:"in",dsb:"de",dua:"cm",dyo:"sn",dyu:"bf",ebu:"ke",efi:"ng",ewo:"cm",fan:"gq",fil:"ph",fon:"bj",fur:"it",gaa:"gh",gag:"md",gbm:"in",gcr:"gf",gez:"et",gil:"ki",gon:"in",gor:"id",grt:"in",gsw:"ch",guz:"ke",gwi:"ca",haw:"us",hil:"ph",hne:"in",hnn:"ph",hoc:"in",hoj:"in",ibb:"ng",ilo:"ph",inh:"ru",jgo:"cm",jmc:"tz",kaa:"uz",kab:"dz",kaj:"ng",kam:"ke",kbd:"ru",kcg:"ng",kde:"tz",kdt:"th",kea:"cv",ken:"cm",kfo:"ci",kfr:"in",kha:"in",khb:"cn",khq:"ml",kht:"in",kkj:"cm",kln:"ke",kmb:"ao",koi:"ru",kok:"in",kos:"fm",kpe:"lr",krc:"ru",kri:"sl",krl:"ru",kru:"in",ksb:"tz",ksf:"cm",ksh:"de",kum:"ru",lag:"tz",lah:"pk",lbe:"ru",lcp:"cn",lep:"in",lez:"ru",lif:"np",lis:"cn",lki:"ir",lmn:"in",lol:"cd",lua:"cd",luo:"ke",luy:"ke",lwl:"th",mad:"id",mag:"in",mai:"in",mak:"id",man:"gn",mas:"ke",mdf:"ru",mdh:"ph",mdr:"id",men:"sl",mer:"ke",mfe:"mu",mgh:"mz",mgo:"cm",min:"id",mni:"in",mnk:"gm",mnw:"mm",mos:"bf",mua:"cm",mwr:"in",myv:"ru",nap:"it",naq:"na",nds:"de","new":"np",niu:"nu",nmg:"cm",nnh:"cm",nod:"th",nso:"za",nus:"sd",nym:"tz",nyn:"ug",pag:"ph",pam:"ph",pap:"bq",pau:"pw",pon:"fm",prd:"ir",raj:"in",rcf:"re",rej:"id",rjs:"np",rkt:"in",rof:"tz",rwk:"tz",saf:"gh",sah:"ru",saq:"ke",sas:"id",sat:"in",saz:"in",sbp:"tz",scn:"it",sco:"gb",sdh:"ir",seh:"mz",ses:"ml",shi:"ma",shn:"mm",sid:"et",sma:"se",smj:"se",smn:"fi",sms:"fi",snk:"ml",srn:"sr",srr:"sn",ssy:"er",suk:"tz",sus:"gn",swb:"yt",swc:"cd",syl:"bd",syr:"sy",tbw:"ph",tcy:"in",tdd:"cn",tem:"sl",teo:"ug",tet:"tl",tig:"er",tiv:"ng",tkl:"tk",tmh:"ne",tpi:"pg",trv:"tw",tsg:"ph",tts:"th",tum:"mw",tvl:"tv",twq:"ne",tyv:"ru",tzm:"ma",udm:"ru",uli:"fm",umb:"ao",unr:"in",unx:"in",vai:"lr",vun:"tz",wae:"ch",wal:"et",war:"ph",xog:"ug",xsr:"np",yao:"mz",yap:"fm",yav:"cm",zza:"tr"}[tags[0]];
}else{
if(_db3.length==4){
_db3=tags[2];
}
}
return _db3;
};
_dae.getWeekend=function(_db4){
var _db5={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5},_db6={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6},_db7=_dae._region(_db4),_db8=_db5[_db7],end=_db6[_db7];
if(_db8===undefined){
_db8=6;
}
if(end===undefined){
end=0;
}
return {start:_db8,end:end};
};
return _dae;
});
},"dijit/_editor/nls/commands":function(){
define({root:({"bold":"Bold","copy":"Copy","cut":"Cut","delete":"Delete","indent":"Indent","insertHorizontalRule":"Horizontal Rule","insertOrderedList":"Numbered List","insertUnorderedList":"Bullet List","italic":"Italic","justifyCenter":"Align Center","justifyFull":"Justify","justifyLeft":"Align Left","justifyRight":"Align Right","outdent":"Outdent","paste":"Paste","redo":"Redo","removeFormat":"Remove Format","selectAll":"Select All","strikethrough":"Strikethrough","subscript":"Subscript","superscript":"Superscript","underline":"Underline","undo":"Undo","unlink":"Remove Link","createLink":"Create Link","toggleDir":"Toggle Direction","insertImage":"Insert Image","insertTable":"Insert/Edit Table","toggleTableBorder":"Toggle Table Border","deleteTable":"Delete Table","tableProp":"Table Property","htmlToggle":"HTML Source","foreColor":"Foreground Color","hiliteColor":"Background Color","plainFormatBlock":"Paragraph Style","formatBlock":"Paragraph Style","fontSize":"Font Size","fontName":"Font Name","tabIndent":"Tab Indent","fullScreen":"Toggle Full Screen","viewSource":"View HTML Source","print":"Print","newPage":"New Page","systemShortcut":"The \"${0}\" action is only available in your browser using a keyboard shortcut. Use ${1}.","ctrlKey":"ctrl+${0}","appleKey":"⌘${0}"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});
},"dijit/_editor/nls/pt/commands":function(){
define(({"bold":"Negrito","copy":"Copiar","cut":"Recortar","delete":"Excluir","indent":"Recuar","insertHorizontalRule":"Régua Horizontal","insertOrderedList":"Lista Numerada","insertUnorderedList":"Lista com Marcadores","italic":"Itálico","justifyCenter":"Alinhar pelo Centro","justifyFull":"Justificar","justifyLeft":"Alinhar pela Esquerda","justifyRight":"Alinhar pela Direita","outdent":"Não-chanfrado","paste":"Colar","redo":"Refazer","removeFormat":"Remover Formato","selectAll":"Selecionar Todos","strikethrough":"Tachado","subscript":"Subscrito","superscript":"Sobrescrito","underline":"Sublinhado","undo":"Desfazer","unlink":"Remover Link","createLink":"Criar Link","toggleDir":"Comutar Direção","insertImage":"Inserir Imagem","insertTable":"Inserir/Editar Tabela","toggleTableBorder":"Alternar Moldura da Tabela","deleteTable":"Excluir Tabela","tableProp":"Propriedade da Tabela","htmlToggle":"Origem HTML","foreColor":"Cor do Primeiro Plano","hiliteColor":"Cor de segundo plano","plainFormatBlock":"Estilo de Parágrafo","formatBlock":"Estilo de Parágrafo","fontSize":"Tamanho da Fonte","fontName":"Nome da Fonte","tabIndent":"Recuo de Guia","fullScreen":"Comutar Tela Cheia","viewSource":"Visualizar Origem HTML","print":"Impressão","newPage":"Nova Página","systemShortcut":"A ação \"${0}\" está disponível em seu navegador apenas usando um atalho do teclado. Use ${1}.","ctrlKey":"ctrl+${0}","appleKey":"⌘${0}"}));
},"dijit/_editor/nls/pt/commands":function(){
define(({"bold":"Negrito","copy":"Copiar","cut":"Recortar","delete":"Excluir","indent":"Recuar","insertHorizontalRule":"Régua Horizontal","insertOrderedList":"Lista Numerada","insertUnorderedList":"Lista com Marcadores","italic":"Itálico","justifyCenter":"Alinhar pelo Centro","justifyFull":"Justificar","justifyLeft":"Alinhar pela Esquerda","justifyRight":"Alinhar pela Direita","outdent":"Não-chanfrado","paste":"Colar","redo":"Refazer","removeFormat":"Remover Formato","selectAll":"Selecionar Todos","strikethrough":"Tachado","subscript":"Subscrito","superscript":"Sobrescrito","underline":"Sublinhado","undo":"Desfazer","unlink":"Remover Link","createLink":"Criar Link","toggleDir":"Comutar Direção","insertImage":"Inserir Imagem","insertTable":"Inserir/Editar Tabela","toggleTableBorder":"Alternar Moldura da Tabela","deleteTable":"Excluir Tabela","tableProp":"Propriedade da Tabela","htmlToggle":"Origem HTML","foreColor":"Cor do Primeiro Plano","hiliteColor":"Cor de segundo plano","plainFormatBlock":"Estilo de Parágrafo","formatBlock":"Estilo de Parágrafo","fontSize":"Tamanho da Fonte","fontName":"Nome da Fonte","tabIndent":"Recuo de Guia","fullScreen":"Comutar Tela Cheia","viewSource":"Visualizar Origem HTML","print":"Impressão","newPage":"Nova Página","systemShortcut":"A ação \"${0}\" está disponível em seu navegador apenas usando um atalho do teclado. Use ${1}.","ctrlKey":"ctrl+${0}","appleKey":"⌘${0}"}));
},"dojo/number":function(){
define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(lang,i18n,_db9,_dba,_dbb){
var _dbc={};
lang.setObject("dojo.number",_dbc);
_dbc.format=function(_dbd,_dbe){
_dbe=lang.mixin({},_dbe||{});
var _dbf=i18n.normalizeLocale(_dbe.locale),_dc0=i18n.getLocalization("dojo.cldr","number",_dbf);
_dbe.customs=_dc0;
var _dc1=_dbe.pattern||_dc0[(_dbe.type||"decimal")+"Format"];
if(isNaN(_dbd)||Math.abs(_dbd)==Infinity){
return null;
}
return _dbc._applyPattern(_dbd,_dc1,_dbe);
};
_dbc._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;
_dbc._applyPattern=function(_dc2,_dc3,_dc4){
_dc4=_dc4||{};
var _dc5=_dc4.customs.group,_dc6=_dc4.customs.decimal,_dc7=_dc3.split(";"),_dc8=_dc7[0];
_dc3=_dc7[(_dc2<0)?1:0]||("-"+_dc8);
if(_dc3.indexOf("%")!=-1){
_dc2*=100;
}else{
if(_dc3.indexOf("‰")!=-1){
_dc2*=1000;
}else{
if(_dc3.indexOf("¤")!=-1){
_dc5=_dc4.customs.currencyGroup||_dc5;
_dc6=_dc4.customs.currencyDecimal||_dc6;
_dc3=_dc3.replace(/\u00a4{1,3}/,function(_dc9){
var prop=["symbol","currency","displayName"][_dc9.length-1];
return _dc4[prop]||_dc4.currency||"";
});
}else{
if(_dc3.indexOf("E")!=-1){
throw new Error("exponential notation not supported");
}
}
}
}
var _dca=_dbc._numberPatternRE;
var _dcb=_dc8.match(_dca);
if(!_dcb){
throw new Error("unable to find a number expression in pattern: "+_dc3);
}
if(_dc4.fractional===false){
_dc4.places=0;
}
return _dc3.replace(_dca,_dbc._formatAbsolute(_dc2,_dcb[0],{decimal:_dc6,group:_dc5,places:_dc4.places,round:_dc4.round}));
};
_dbc.round=function(_dcc,_dcd,_dce){
var _dcf=10/(_dce||10);
return (_dcf*+_dcc).toFixed(_dcd)/_dcf;
};
if((0.9).toFixed()==0){
var _dd0=_dbc.round;
_dbc.round=function(v,p,m){
var d=Math.pow(10,-p||0),a=Math.abs(v);
if(!v||a>=d){
d=0;
}else{
a/=d;
if(a<0.5||a>=0.95){
d=0;
}
}
return _dd0(v,p,m)+(v>0?d:-d);
};
}
_dbc._formatAbsolute=function(_dd1,_dd2,_dd3){
_dd3=_dd3||{};
if(_dd3.places===true){
_dd3.places=0;
}
if(_dd3.places===Infinity){
_dd3.places=6;
}
var _dd4=_dd2.split("."),_dd5=typeof _dd3.places=="string"&&_dd3.places.indexOf(","),_dd6=_dd3.places;
if(_dd5){
_dd6=_dd3.places.substring(_dd5+1);
}else{
if(!(_dd6>=0)){
_dd6=(_dd4[1]||[]).length;
}
}
if(!(_dd3.round<0)){
_dd1=_dbc.round(_dd1,_dd6,_dd3.round);
}
var _dd7=String(Math.abs(_dd1)).split("."),_dd8=_dd7[1]||"";
if(_dd4[1]||_dd3.places){
if(_dd5){
_dd3.places=_dd3.places.substring(0,_dd5);
}
var pad=_dd3.places!==undefined?_dd3.places:(_dd4[1]&&_dd4[1].lastIndexOf("0")+1);
if(pad>_dd8.length){
_dd7[1]=_dba.pad(_dd8,pad,"0",true);
}
if(_dd6<_dd8.length){
_dd7[1]=_dd8.substr(0,_dd6);
}
}else{
if(_dd7[1]){
_dd7.pop();
}
}
var _dd9=_dd4[0].replace(",","");
pad=_dd9.indexOf("0");
if(pad!=-1){
pad=_dd9.length-pad;
if(pad>_dd7[0].length){
_dd7[0]=_dba.pad(_dd7[0],pad);
}
if(_dd9.indexOf("#")==-1){
_dd7[0]=_dd7[0].substr(_dd7[0].length-pad);
}
}
var _dda=_dd4[0].lastIndexOf(","),_ddb,_ddc;
if(_dda!=-1){
_ddb=_dd4[0].length-_dda-1;
var _ddd=_dd4[0].substr(0,_dda);
_dda=_ddd.lastIndexOf(",");
if(_dda!=-1){
_ddc=_ddd.length-_dda-1;
}
}
var _dde=[];
for(var _ddf=_dd7[0];_ddf;){
var off=_ddf.length-_ddb;
_dde.push((off>0)?_ddf.substr(off):_ddf);
_ddf=(off>0)?_ddf.slice(0,off):"";
if(_ddc){
_ddb=_ddc;
delete _ddc;
}
}
_dd7[0]=_dde.reverse().join(_dd3.group||",");
return _dd7.join(_dd3.decimal||".");
};
_dbc.regexp=function(_de0){
return _dbc._parseInfo(_de0).regexp;
};
_dbc._parseInfo=function(_de1){
_de1=_de1||{};
var _de2=i18n.normalizeLocale(_de1.locale),_de3=i18n.getLocalization("dojo.cldr","number",_de2),_de4=_de1.pattern||_de3[(_de1.type||"decimal")+"Format"],_de5=_de3.group,_de6=_de3.decimal,_de7=1;
if(_de4.indexOf("%")!=-1){
_de7/=100;
}else{
if(_de4.indexOf("‰")!=-1){
_de7/=1000;
}else{
var _de8=_de4.indexOf("¤")!=-1;
if(_de8){
_de5=_de3.currencyGroup||_de5;
_de6=_de3.currencyDecimal||_de6;
}
}
}
var _de9=_de4.split(";");
if(_de9.length==1){
_de9.push("-"+_de9[0]);
}
var re=_dbb.buildGroupRE(_de9,function(_dea){
_dea="(?:"+_dbb.escapeString(_dea,".")+")";
return _dea.replace(_dbc._numberPatternRE,function(_deb){
var _dec={signed:false,separator:_de1.strict?_de5:[_de5,""],fractional:_de1.fractional,decimal:_de6,exponent:false},_ded=_deb.split("."),_dee=_de1.places;
if(_ded.length==1&&_de7!=1){
_ded[1]="###";
}
if(_ded.length==1||_dee===0){
_dec.fractional=false;
}else{
if(_dee===undefined){
_dee=_de1.pattern?_ded[1].lastIndexOf("0")+1:Infinity;
}
if(_dee&&_de1.fractional==undefined){
_dec.fractional=true;
}
if(!_de1.places&&(_dee<_ded[1].length)){
_dee+=","+_ded[1].length;
}
_dec.places=_dee;
}
var _def=_ded[0].split(",");
if(_def.length>1){
_dec.groupSize=_def.pop().length;
if(_def.length>1){
_dec.groupSize2=_def.pop().length;
}
}
return "("+_dbc._realNumberRegexp(_dec)+")";
});
},true);
if(_de8){
re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_df0,_df1,_df2,_df3){
var prop=["symbol","currency","displayName"][_df2.length-1],_df4=_dbb.escapeString(_de1[prop]||_de1.currency||"");
_df1=_df1?"[\\s\\xa0]":"";
_df3=_df3?"[\\s\\xa0]":"";
if(!_de1.strict){
if(_df1){
_df1+="*";
}
if(_df3){
_df3+="*";
}
return "(?:"+_df1+_df4+_df3+")?";
}
return _df1+_df4+_df3;
});
}
return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_de5,decimal:_de6,factor:_de7};
};
_dbc.parse=function(_df5,_df6){
var info=_dbc._parseInfo(_df6),_df7=(new RegExp("^"+info.regexp+"$")).exec(_df5);
if(!_df7){
return NaN;
}
var _df8=_df7[1];
if(!_df7[1]){
if(!_df7[2]){
return NaN;
}
_df8=_df7[2];
info.factor*=-1;
}
_df8=_df8.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");
return _df8*info.factor;
};
_dbc._realNumberRegexp=function(_df9){
_df9=_df9||{};
if(!("places" in _df9)){
_df9.places=Infinity;
}
if(typeof _df9.decimal!="string"){
_df9.decimal=".";
}
if(!("fractional" in _df9)||/^0/.test(_df9.places)){
_df9.fractional=[true,false];
}
if(!("exponent" in _df9)){
_df9.exponent=[true,false];
}
if(!("eSigned" in _df9)){
_df9.eSigned=[true,false];
}
var _dfa=_dbc._integerRegexp(_df9),_dfb=_dbb.buildGroupRE(_df9.fractional,function(q){
var re="";
if(q&&(_df9.places!==0)){
re="\\"+_df9.decimal;
if(_df9.places==Infinity){
re="(?:"+re+"\\d+)?";
}else{
re+="\\d{"+_df9.places+"}";
}
}
return re;
},true);
var _dfc=_dbb.buildGroupRE(_df9.exponent,function(q){
if(q){
return "([eE]"+_dbc._integerRegexp({signed:_df9.eSigned})+")";
}
return "";
});
var _dfd=_dfa+_dfb;
if(_dfb){
_dfd="(?:(?:"+_dfd+")|(?:"+_dfb+"))";
}
return _dfd+_dfc;
};
_dbc._integerRegexp=function(_dfe){
_dfe=_dfe||{};
if(!("signed" in _dfe)){
_dfe.signed=[true,false];
}
if(!("separator" in _dfe)){
_dfe.separator="";
}else{
if(!("groupSize" in _dfe)){
_dfe.groupSize=3;
}
}
var _dff=_dbb.buildGroupRE(_dfe.signed,function(q){
return q?"[-+]":"";
},true);
var _e00=_dbb.buildGroupRE(_dfe.separator,function(sep){
if(!sep){
return "(?:\\d+)";
}
sep=_dbb.escapeString(sep);
if(sep==" "){
sep="\\s";
}else{
if(sep==" "){
sep="\\s\\xa0";
}
}
var grp=_dfe.groupSize,grp2=_dfe.groupSize2;
if(grp2){
var _e01="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";
return ((grp-grp2)>0)?"(?:"+_e01+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_e01;
}
return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";
},true);
return _dff+_e00;
};
return _dbc;
});
},"dijit/layout/_ContentPaneResizeMixin":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","dojo/sniff","../registry","../Viewport","./utils"],function(_e02,_e03,_e04,_e05,_e06,lang,_e07,has,_e08,_e09,_e0a){
return _e03("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){
if(this._started){
return;
}
var _e0b=this.getParent();
this._childOfLayoutWidget=_e0b&&_e0b.isLayoutContainer;
this._needLayout=!this._childOfLayoutWidget;
this.inherited(arguments);
if(this._isShown()){
this._onShow();
}
if(!this._childOfLayoutWidget){
this.own(_e09.on("resize",lang.hitch(this,"resize")));
}
},_checkIfSingleChild:function(){
var _e0c=[],_e0d=false;
_e07("> *",this.containerNode).some(function(node){
var _e0e=_e08.byNode(node);
if(_e0e&&_e0e.resize){
_e0c.push(_e0e);
}else{
if(!/script|link|style/i.test(node.nodeName)&&node.offsetHeight){
_e0d=true;
}
}
});
this._singleChild=_e0c.length==1&&!_e0d?_e0c[0]:null;
_e04.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);
},resize:function(_e0f,_e10){
this._resizeCalled=true;
this._scheduleLayout(_e0f,_e10);
},_scheduleLayout:function(_e11,_e12){
if(this._isShown()){
this._layout(_e11,_e12);
}else{
this._needLayout=true;
this._changeSize=_e11;
this._resultSize=_e12;
}
},_layout:function(_e13,_e14){
delete this._needLayout;
if(!this._wasShown&&this.open!==false){
this._onShow();
}
if(_e13){
_e05.setMarginBox(this.domNode,_e13);
}
var cn=this.containerNode;
if(cn===this.domNode){
var mb=_e14||{};
lang.mixin(mb,_e13||{});
if(!("h" in mb)||!("w" in mb)){
mb=lang.mixin(_e05.getMarginBox(cn),mb);
}
this._contentBox=_e0a.marginBox2contentBox(cn,mb);
}else{
this._contentBox=_e05.getContentBox(cn);
}
this._layoutChildren();
},_layoutChildren:function(){
if(this.doLayout){
this._checkIfSingleChild();
}
if(this._singleChild&&this._singleChild.resize){
var cb=this._contentBox||_e05.getContentBox(this.containerNode);
this._singleChild.resize({w:cb.w,h:cb.h});
}else{
var _e15=this.getChildren(),_e16,i=0;
while(_e16=_e15[i++]){
if(_e16.resize){
_e16.resize();
}
}
}
},_isShown:function(){
if(this._childOfLayoutWidget){
if(this._resizeCalled&&"open" in this){
return this.open;
}
return this._resizeCalled;
}else{
if("open" in this){
return this.open;
}else{
var node=this.domNode,_e17=this.domNode.parentNode;
return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_e04.contains(node,"dijitHidden")&&_e17&&_e17.style&&(_e17.style.display!="none");
}
}
},_onShow:function(){
this._wasShown=true;
if(this._needLayout){
this._layout(this._changeSize,this._resultSize);
}
this.inherited(arguments);
}});
});
},"dijit/form/_ButtonMixin":function(){
define(["dojo/_base/declare","dojo/dom","dojo/has","../registry"],function(_e18,dom,has,_e19){
var _e1a=_e18("dijit.form._ButtonMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(e){
e.stopPropagation();
e.preventDefault();
if(!this.disabled){
this.valueNode.click(e);
}
return false;
},_onClick:function(e){
if(this.disabled){
e.stopPropagation();
e.preventDefault();
return false;
}
if(this.onClick(e)===false){
e.preventDefault();
}
var _e1b=e.defaultPrevented;
if(!_e1b&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){
for(var node=this.domNode;node.parentNode;node=node.parentNode){
var _e1c=_e19.byNode(node);
if(_e1c&&typeof _e1c._onSubmit=="function"){
_e1c._onSubmit(e);
e.preventDefault();
_e1b=true;
break;
}
}
}
return !_e1b;
},postCreate:function(){
this.inherited(arguments);
dom.setSelectable(this.focusNode,false);
},onClick:function(){
return true;
},_setLabelAttr:function(_e1d){
this._set("label",_e1d);
var _e1e=this.containerNode||this.focusNode;
_e1e.innerHTML=_e1d;
}});
if(has("dojo-bidi")){
_e1a=_e18("dijit.form._ButtonMixin",_e1a,{_setLabelAttr:function(){
this.inherited(arguments);
var _e1f=this.containerNode||this.focusNode;
this.applyTextDir(_e1f);
}});
}
return _e1a;
});
},"dijit/tree/TreeStoreModel":function(){
define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(_e20,_e21,_e22,lang){
return _e22("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(args){
lang.mixin(this,args);
this.connects=[];
var _e23=this.store;
if(!_e23.getFeatures()["dojo.data.api.Identity"]){
throw new Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");
}
if(_e23.getFeatures()["dojo.data.api.Notification"]){
this.connects=this.connects.concat([_e21.after(_e23,"onNew",lang.hitch(this,"onNewItem"),true),_e21.after(_e23,"onDelete",lang.hitch(this,"onDeleteItem"),true),_e21.after(_e23,"onSet",lang.hitch(this,"onSetItem"),true)]);
}
},destroy:function(){
var h;
while(h=this.connects.pop()){
h.remove();
}
},getRoot:function(_e24,_e25){
if(this.root){
_e24(this.root);
}else{
this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_e26){
if(_e26.length!=1){
throw new Error("dijit.tree.TreeStoreModel: root query returned "+_e26.length+" items, but must return exactly one");
}
this.root=_e26[0];
_e24(this.root);
}),onError:_e25});
}
},mayHaveChildren:function(item){
return _e20.some(this.childrenAttrs,function(attr){
return this.store.hasAttribute(item,attr);
},this);
},getChildren:function(_e27,_e28,_e29){
var _e2a=this.store;
if(!_e2a.isItemLoaded(_e27)){
var _e2b=lang.hitch(this,arguments.callee);
_e2a.loadItem({item:_e27,onItem:function(_e2c){
_e2b(_e2c,_e28,_e29);
},onError:_e29});
return;
}
var _e2d=[];
for(var i=0;i<this.childrenAttrs.length;i++){
var vals=_e2a.getValues(_e27,this.childrenAttrs[i]);
_e2d=_e2d.concat(vals);
}
var _e2e=0;
if(!this.deferItemLoadingUntilExpand){
_e20.forEach(_e2d,function(item){
if(!_e2a.isItemLoaded(item)){
_e2e++;
}
});
}
if(_e2e==0){
_e28(_e2d);
}else{
_e20.forEach(_e2d,function(item,idx){
if(!_e2a.isItemLoaded(item)){
_e2a.loadItem({item:item,onItem:function(item){
_e2d[idx]=item;
if(--_e2e==0){
_e28(_e2d);
}
},onError:_e29});
}
});
}
},isItem:function(_e2f){
return this.store.isItem(_e2f);
},fetchItemByIdentity:function(_e30){
this.store.fetchItemByIdentity(_e30);
},getIdentity:function(item){
return this.store.getIdentity(item);
},getLabel:function(item){
if(this.labelAttr){
return this.store.getValue(item,this.labelAttr);
}else{
return this.store.getLabel(item);
}
},newItem:function(args,_e31,_e32){
var _e33={parent:_e31,attribute:this.childrenAttrs[0]},_e34;
if(this.newItemIdAttr&&args[this.newItemIdAttr]){
this.fetchItemByIdentity({identity:args[this.newItemIdAttr],scope:this,onItem:function(item){
if(item){
this.pasteItem(item,null,_e31,true,_e32);
}else{
_e34=this.store.newItem(args,_e33);
if(_e34&&(_e32!=undefined)){
this.pasteItem(_e34,_e31,_e31,false,_e32);
}
}
}});
}else{
_e34=this.store.newItem(args,_e33);
if(_e34&&(_e32!=undefined)){
this.pasteItem(_e34,_e31,_e31,false,_e32);
}
}
},pasteItem:function(_e35,_e36,_e37,_e38,_e39){
var _e3a=this.store,_e3b=this.childrenAttrs[0];
if(_e36){
_e20.forEach(this.childrenAttrs,function(attr){
if(_e3a.containsValue(_e36,attr,_e35)){
if(!_e38){
var _e3c=_e20.filter(_e3a.getValues(_e36,attr),function(x){
return x!=_e35;
});
_e3a.setValues(_e36,attr,_e3c);
}
_e3b=attr;
}
});
}
if(_e37){
if(typeof _e39=="number"){
var _e3d=_e3a.getValues(_e37,_e3b).slice();
_e3d.splice(_e39,0,_e35);
_e3a.setValues(_e37,_e3b,_e3d);
}else{
_e3a.setValues(_e37,_e3b,_e3a.getValues(_e37,_e3b).concat(_e35));
}
}
},onChange:function(){
},onChildrenChange:function(){
},onDelete:function(){
},onNewItem:function(item,_e3e){
if(!_e3e){
return;
}
this.getChildren(_e3e.item,lang.hitch(this,function(_e3f){
this.onChildrenChange(_e3e.item,_e3f);
}));
},onDeleteItem:function(item){
this.onDelete(item);
},onSetItem:function(item,_e40){
if(_e20.indexOf(this.childrenAttrs,_e40)!=-1){
this.getChildren(item,lang.hitch(this,function(_e41){
this.onChildrenChange(item,_e41);
}));
}else{
this.onChange(item);
}
}});
});
},"dojo/dnd/TimedMoveable":function(){
define(["../_base/declare","./Moveable"],function(_e42,_e43){
var _e44=_e43.prototype.onMove;
return _e42("dojo.dnd.TimedMoveable",_e43,{timeout:40,constructor:function(node,_e45){
if(!_e45){
_e45={};
}
if(_e45.timeout&&typeof _e45.timeout=="number"&&_e45.timeout>=0){
this.timeout=_e45.timeout;
}
},onMoveStop:function(_e46){
if(_e46._timer){
clearTimeout(_e46._timer);
_e44.call(this,_e46,_e46._leftTop);
}
_e43.prototype.onMoveStop.apply(this,arguments);
},onMove:function(_e47,_e48){
_e47._leftTop=_e48;
if(!_e47._timer){
var _e49=this;
_e47._timer=setTimeout(function(){
_e47._timer=null;
_e44.call(_e49,_e47,_e47._leftTop);
},this.timeout);
}
}});
});
},"dijit/a11yclick":function(){
define(["dojo/keys","dojo/mouse","dojo/on","dojo/touch"],function(keys,_e4a,on,_e4b){
function _e4c(e){
if((e.keyCode===keys.ENTER||e.keyCode===keys.SPACE)&&!/input|button|textarea/i.test(e.target.nodeName)){
for(var node=e.target;node;node=node.parentNode){
if(node.dojoClick){
return true;
}
}
}
};
var _e4d;
on(document,"keydown",function(e){
if(_e4c(e)){
_e4d=e.target;
e.preventDefault();
}else{
_e4d=null;
}
});
on(document,"keyup",function(e){
if(_e4c(e)&&e.target==_e4d){
_e4d=null;
on.emit(e.target,"click",{cancelable:true,bubbles:true,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type});
}
});
var _e4e=function(node,_e4f){
node.dojoClick=true;
return on(node,"click",_e4f);
};
_e4e.click=_e4e;
_e4e.press=function(node,_e50){
var _e51=on(node,_e4b.press,function(evt){
if(evt.type=="mousedown"&&!_e4a.isLeft(evt)){
return;
}
_e50(evt);
}),_e52=on(node,"keydown",function(evt){
if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){
_e50(evt);
}
});
return {remove:function(){
_e51.remove();
_e52.remove();
}};
};
_e4e.release=function(node,_e53){
var _e54=on(node,_e4b.release,function(evt){
if(evt.type=="mouseup"&&!_e4a.isLeft(evt)){
return;
}
_e53(evt);
}),_e55=on(node,"keyup",function(evt){
if(evt.keyCode===keys.ENTER||evt.keyCode===keys.SPACE){
_e53(evt);
}
});
return {remove:function(){
_e54.remove();
_e55.remove();
}};
};
_e4e.move=_e4b.move;
return _e4e;
});
},"dijit/hccss":function(){
define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(_e56,has,_e57,win){
_e57(function(){
if(has("highcontrast")){
_e56.add(win.body(),"dijit_a11y");
}
});
return has;
});
},"dijit/Editor":function(){
define(["require","dojo/_base/array","dojo/_base/declare","dojo/Deferred","dojo/i18n","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/string","dojo/topic","./_Container","./Toolbar","./ToolbarSeparator","./layout/_LayoutWidget","./form/ToggleButton","./_editor/_Plugin","./_editor/plugins/EnterKeyHandling","./_editor/html","./_editor/range","./_editor/RichText","./main","dojo/i18n!./_editor/nls/commands"],function(_e58,_e59,_e5a,_e5b,i18n,_e5c,_e5d,_e5e,_e5f,keys,lang,has,_e60,_e61,_e62,_e63,_e64,_e65,_e66,_e67,_e68,html,_e69,_e6a,_e6b){
var _e6c=_e5a("dijit.Editor",_e6a,{plugins:null,extraPlugins:null,constructor:function(){
if(!lang.isArray(this.plugins)){
this.plugins=["undo","redo","|","cut","copy","paste","|","bold","italic","underline","strikethrough","|","insertOrderedList","insertUnorderedList","indent","outdent","|","justifyLeft","justifyRight","justifyCenter","justifyFull",_e68];
}
this._plugins=[];
this._editInterval=this.editActionInterval*1000;
if(has("ie")||has("trident")){
this.events.push("onBeforeDeactivate");
this.events.push("onBeforeActivate");
}
},postMixInProperties:function(){
this.setValueDeferred=new _e5b();
this.inherited(arguments);
},postCreate:function(){
this.inherited(arguments);
this._steps=this._steps.slice(0);
this._undoedSteps=this._undoedSteps.slice(0);
if(lang.isArray(this.extraPlugins)){
this.plugins=this.plugins.concat(this.extraPlugins);
}
this.commands=i18n.getLocalization("dijit._editor","commands",this.lang);
if(has("webkit")){
_e5f.set(this.domNode,"KhtmlUserSelect","none");
}
},startup:function(){
this.inherited(arguments);
if(!this.toolbar){
this.toolbar=new _e63({ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,"aria-label":this.id});
this.header.appendChild(this.toolbar.domNode);
}
_e59.forEach(this.plugins,this.addPlugin,this);
this.setValueDeferred.resolve(true);
_e5d.add(this.iframe.parentNode,"dijitEditorIFrameContainer");
_e5d.add(this.iframe,"dijitEditorIFrame");
_e5c.set(this.iframe,"allowTransparency",true);
this.toolbar.startup();
this.onNormalizedDisplayChanged();
},destroy:function(){
_e59.forEach(this._plugins,function(p){
if(p&&p.destroy){
p.destroy();
}
});
this._plugins=[];
this.toolbar.destroyRecursive();
delete this.toolbar;
this.inherited(arguments);
},addPlugin:function(_e6d,_e6e){
var args=lang.isString(_e6d)?{name:_e6d}:lang.isFunction(_e6d)?{ctor:_e6d}:_e6d;
if(!args.setEditor){
var o={"args":args,"plugin":null,"editor":this};
if(args.name){
if(_e67.registry[args.name]){
o.plugin=_e67.registry[args.name](args);
}else{
_e61.publish(_e6b._scopeName+".Editor.getPlugin",o);
}
}
if(!o.plugin){
try{
var pc=args.ctor||lang.getObject(args.name)||_e58(args.name);
if(pc){
o.plugin=new pc(args);
}
}
catch(e){
throw new Error(this.id+": cannot find plugin ["+args.name+"]");
}
}
if(!o.plugin){
throw new Error(this.id+": cannot find plugin ["+args.name+"]");
}
_e6d=o.plugin;
}
if(arguments.length>1){
this._plugins[_e6e]=_e6d;
}else{
this._plugins.push(_e6d);
}
_e6d.setEditor(this);
if(lang.isFunction(_e6d.setToolbar)){
_e6d.setToolbar(this.toolbar);
}
},resize:function(size){
if(size){
_e65.prototype.resize.apply(this,arguments);
}
},layout:function(){
var _e6f=(this._contentBox.h-(this.getHeaderHeight()+this.getFooterHeight()+_e5e.getPadBorderExtents(this.iframe.parentNode).h+_e5e.getMarginExtents(this.iframe.parentNode).h));
this.editingArea.style.height=_e6f+"px";
if(this.iframe){
this.iframe.style.height="100%";
}
this._layoutMode=true;
},_onIEMouseDown:function(e){
var _e70;
var b=this.document.body;
var _e71=b.clientWidth;
var _e72=b.clientHeight;
var _e73=b.clientLeft;
var _e74=b.offsetWidth;
var _e75=b.offsetHeight;
var _e76=b.offsetLeft;
if(/^rtl$/i.test(b.dir||"")){
if(_e71<_e74&&e.x>_e71&&e.x<_e74){
_e70=true;
}
}else{
if(e.x<_e73&&e.x>_e76){
_e70=true;
}
}
if(!_e70){
if(_e72<_e75&&e.y>_e72&&e.y<_e75){
_e70=true;
}
}
if(!_e70){
delete this._cursorToStart;
delete this._savedSelection;
if(e.target.tagName=="BODY"){
this.defer("placeCursorAtEnd");
}
this.inherited(arguments);
}
},onBeforeActivate:function(){
this._restoreSelection();
},onBeforeDeactivate:function(e){
if(this.customUndo){
this.endEditing(true);
}
if(e.target.tagName!="BODY"){
this._saveSelection();
}
},customUndo:true,editActionInterval:3,beginEditing:function(cmd){
if(!this._inEditing){
this._inEditing=true;
this._beginEditing(cmd);
}
if(this.editActionInterval>0){
if(this._editTimer){
this._editTimer.remove();
}
this._editTimer=this.defer("endEditing",this._editInterval);
}
},_steps:[],_undoedSteps:[],execCommand:function(cmd){
if(this.customUndo&&(cmd=="undo"||cmd=="redo")){
return this[cmd]();
}else{
if(this.customUndo){
this.endEditing();
this._beginEditing();
}
var r=this.inherited(arguments);
if(this.customUndo){
this._endEditing();
}
return r;
}
},_pasteImpl:function(){
return this._clipboardCommand("paste");
},_cutImpl:function(){
return this._clipboardCommand("cut");
},_copyImpl:function(){
return this._clipboardCommand("copy");
},_clipboardCommand:function(cmd){
var r;
try{
r=this.document.execCommand(cmd,false,null);
if(has("webkit")&&!r){
throw {code:1011};
}
}
catch(e){
if(e.code==1011||(e.code==9&&has("opera"))){
var sub=_e60.substitute,_e77={cut:"X",copy:"C",paste:"V"};
alert(sub(this.commands.systemShortcut,[this.commands[cmd],sub(this.commands[has("mac")?"appleKey":"ctrlKey"],[_e77[cmd]])]));
}
r=false;
}
return r;
},queryCommandEnabled:function(cmd){
if(this.customUndo&&(cmd=="undo"||cmd=="redo")){
return cmd=="undo"?(this._steps.length>1):(this._undoedSteps.length>0);
}else{
return this.inherited(arguments);
}
},_moveToBookmark:function(b){
var _e78=b.mark;
var mark=b.mark;
var col=b.isCollapsed;
var r,_e79,_e7a,sel;
if(mark){
if(has("ie")<9||(has("ie")===9&&has("quirks"))){
if(lang.isArray(mark)){
_e78=[];
_e59.forEach(mark,function(n){
_e78.push(_e69.getNode(n,this.editNode));
},this);
this.selection.moveToBookmark({mark:_e78,isCollapsed:col});
}else{
if(mark.startContainer&&mark.endContainer){
sel=_e69.getSelection(this.window);
if(sel&&sel.removeAllRanges){
sel.removeAllRanges();
r=_e69.create(this.window);
_e79=_e69.getNode(mark.startContainer,this.editNode);
_e7a=_e69.getNode(mark.endContainer,this.editNode);
if(_e79&&_e7a){
r.setStart(_e79,mark.startOffset);
r.setEnd(_e7a,mark.endOffset);
sel.addRange(r);
}
}
}
}
}else{
sel=_e69.getSelection(this.window);
if(sel&&sel.removeAllRanges){
sel.removeAllRanges();
r=_e69.create(this.window);
_e79=_e69.getNode(mark.startContainer,this.editNode);
_e7a=_e69.getNode(mark.endContainer,this.editNode);
if(_e79&&_e7a){
r.setStart(_e79,mark.startOffset);
r.setEnd(_e7a,mark.endOffset);
sel.addRange(r);
}
}
}
}
},_changeToStep:function(from,to){
this.setValue(to.text);
var b=to.bookmark;
if(!b){
return;
}
this._moveToBookmark(b);
},undo:function(){
var ret=false;
if(!this._undoRedoActive){
this._undoRedoActive=true;
this.endEditing(true);
var s=this._steps.pop();
if(s&&this._steps.length>0){
this.focus();
this._changeToStep(s,this._steps[this._steps.length-1]);
this._undoedSteps.push(s);
this.onDisplayChanged();
delete this._undoRedoActive;
ret=true;
}
delete this._undoRedoActive;
}
return ret;
},redo:function(){
var ret=false;
if(!this._undoRedoActive){
this._undoRedoActive=true;
this.endEditing(true);
var s=this._undoedSteps.pop();
if(s&&this._steps.length>0){
this.focus();
this._changeToStep(this._steps[this._steps.length-1],s);
this._steps.push(s);
this.onDisplayChanged();
ret=true;
}
delete this._undoRedoActive;
}
return ret;
},endEditing:function(_e7b){
if(this._editTimer){
this._editTimer=this._editTimer.remove();
}
if(this._inEditing){
this._endEditing(_e7b);
this._inEditing=false;
}
},_getBookmark:function(){
var b=this.selection.getBookmark();
var tmp=[];
if(b&&b.mark){
var mark=b.mark;
if(has("ie")<9||(has("ie")===9&&has("quirks"))){
var sel=_e69.getSelection(this.window);
if(!lang.isArray(mark)){
if(sel){
var _e7c;
if(sel.rangeCount){
_e7c=sel.getRangeAt(0);
}
if(_e7c){
b.mark=_e7c.cloneRange();
}else{
b.mark=this.selection.getBookmark();
}
}
}else{
_e59.forEach(b.mark,function(n){
tmp.push(_e69.getIndex(n,this.editNode).o);
},this);
b.mark=tmp;
}
}
try{
if(b.mark&&b.mark.startContainer){
tmp=_e69.getIndex(b.mark.startContainer,this.editNode).o;
b.mark={startContainer:tmp,startOffset:b.mark.startOffset,endContainer:b.mark.endContainer===b.mark.startContainer?tmp:_e69.getIndex(b.mark.endContainer,this.editNode).o,endOffset:b.mark.endOffset};
}
}
catch(e){
b.mark=null;
}
}
return b;
},_beginEditing:function(){
if(this._steps.length===0){
this._steps.push({"text":html.getChildrenHtml(this.editNode),"bookmark":this._getBookmark()});
}
},_endEditing:function(){
var v=html.getChildrenHtml(this.editNode);
this._undoedSteps=[];
this._steps.push({text:v,bookmark:this._getBookmark()});
},onKeyDown:function(e){
if(!has("ie")&&!this.iframe&&e.keyCode==keys.TAB&&!this.tabIndent){
this._saveSelection();
}
if(!this.customUndo){
this.inherited(arguments);
return;
}
var k=e.keyCode;
if(e.ctrlKey&&!e.shiftKey&&!e.altKey){
if(k==90||k==122){
e.stopPropagation();
e.preventDefault();
this.undo();
return;
}else{
if(k==89||k==121){
e.stopPropagation();
e.preventDefault();
this.redo();
return;
}
}
}
this.inherited(arguments);
switch(k){
case keys.ENTER:
case keys.BACKSPACE:
case keys.DELETE:
this.beginEditing();
break;
case 88:
case 86:
if(e.ctrlKey&&!e.altKey&&!e.metaKey){
this.endEditing();
if(e.keyCode==88){
this.beginEditing("cut");
}else{
this.beginEditing("paste");
}
this.defer("endEditing",1);
break;
}
default:
if(!e.ctrlKey&&!e.altKey&&!e.metaKey&&(e.keyCode<keys.F1||e.keyCode>keys.F15)){
this.beginEditing();
break;
}
case keys.ALT:
this.endEditing();
break;
case keys.UP_ARROW:
case keys.DOWN_ARROW:
case keys.LEFT_ARROW:
case keys.RIGHT_ARROW:
case keys.HOME:
case keys.END:
case keys.PAGE_UP:
case keys.PAGE_DOWN:
this.endEditing(true);
break;
case keys.CTRL:
case keys.SHIFT:
case keys.TAB:
break;
}
},_onBlur:function(){
this.inherited(arguments);
this.endEditing(true);
},_saveSelection:function(){
try{
this._savedSelection=this._getBookmark();
}
catch(e){
}
},_restoreSelection:function(){
if(this._savedSelection){
delete this._cursorToStart;
if(this.selection.isCollapsed()){
this._moveToBookmark(this._savedSelection);
}
delete this._savedSelection;
}
},onClick:function(){
this.endEditing(true);
this.inherited(arguments);
},replaceValue:function(html){
if(!this.customUndo){
this.inherited(arguments);
}else{
if(this.isClosed){
this.setValue(html);
}else{
this.beginEditing();
if(!html){
html="&#160;";
}
this.setValue(html);
this.endEditing();
}
}
},_setDisabledAttr:function(_e7d){
this.setValueDeferred.then(lang.hitch(this,function(){
if((!this.disabled&&_e7d)||(!this._buttonEnabledPlugins&&_e7d)){
_e59.forEach(this._plugins,function(p){
p.set("disabled",true);
});
}else{
if(this.disabled&&!_e7d){
_e59.forEach(this._plugins,function(p){
p.set("disabled",false);
});
}
}
}));
this.inherited(arguments);
},_setStateClass:function(){
try{
this.inherited(arguments);
if(this.document&&this.document.body){
_e5f.set(this.document.body,"color",_e5f.get(this.iframe,"color"));
}
}
catch(e){
}
}});
function _e7e(args){
return new _e67({command:args.name});
};
function _e7f(args){
return new _e67({buttonClass:_e66,command:args.name});
};
lang.mixin(_e67.registry,{"undo":_e7e,"redo":_e7e,"cut":_e7e,"copy":_e7e,"paste":_e7e,"insertOrderedList":_e7e,"insertUnorderedList":_e7e,"indent":_e7e,"outdent":_e7e,"justifyCenter":_e7e,"justifyFull":_e7e,"justifyLeft":_e7e,"justifyRight":_e7e,"delete":_e7e,"selectAll":_e7e,"removeFormat":_e7e,"unlink":_e7e,"insertHorizontalRule":_e7e,"bold":_e7f,"italic":_e7f,"underline":_e7f,"strikethrough":_e7f,"subscript":_e7f,"superscript":_e7f,"|":function(){
return new _e67({setEditor:function(_e80){
this.editor=_e80;
this.button=new _e64({ownerDocument:_e80.ownerDocument});
}});
}});
return _e6c;
});
},"dojox/grid/Selection":function(){
define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/dom-attr"],function(_e81,_e82,lang,_e83){
return _e81("dojox.grid.Selection",null,{constructor:function(_e84){
this.grid=_e84;
this.selected=[];
this.setMode(_e84.selectionMode);
},mode:"extended",selected:null,updating:0,selectedIndex:-1,rangeStartIndex:-1,setMode:function(mode){
if(this.selected.length){
this.deselectAll();
}
if(mode!="extended"&&mode!="multiple"&&mode!="single"&&mode!="none"){
this.mode="extended";
}else{
this.mode=mode;
}
},onCanSelect:function(_e85){
return this.grid.onCanSelect(_e85);
},onCanDeselect:function(_e86){
return this.grid.onCanDeselect(_e86);
},onSelected:function(_e87){
},onDeselected:function(_e88){
},onChanging:function(){
},onChanged:function(){
},isSelected:function(_e89){
if(this.mode=="none"){
return false;
}
return this.selected[_e89];
},getFirstSelected:function(){
if(!this.selected.length||this.mode=="none"){
return -1;
}
for(var i=0,l=this.selected.length;i<l;i++){
if(this.selected[i]){
return i;
}
}
return -1;
},getNextSelected:function(_e8a){
if(this.mode=="none"){
return -1;
}
for(var i=_e8a+1,l=this.selected.length;i<l;i++){
if(this.selected[i]){
return i;
}
}
return -1;
},getSelected:function(){
var _e8b=[];
for(var i=0,l=this.selected.length;i<l;i++){
if(this.selected[i]){
_e8b.push(i);
}
}
return _e8b;
},getSelectedCount:function(){
var c=0;
for(var i=0;i<this.selected.length;i++){
if(this.selected[i]){
c++;
}
}
return c;
},_beginUpdate:function(){
if(this.updating===0){
this.onChanging();
}
this.updating++;
},_endUpdate:function(){
this.updating--;
if(this.updating===0){
this.onChanged();
}
},select:function(_e8c){
if(this.mode=="none"){
return;
}
if(this.mode!="multiple"){
this.deselectAll(_e8c);
this.addToSelection(_e8c);
}else{
this.toggleSelect(_e8c);
}
},addToSelection:function(_e8d){
if(this.mode=="none"){
return;
}
if(lang.isArray(_e8d)){
_e82.forEach(_e8d,this.addToSelection,this);
return;
}
_e8d=Number(_e8d);
if(this.selected[_e8d]){
this.selectedIndex=_e8d;
}else{
if(this.onCanSelect(_e8d)!==false){
this.selectedIndex=_e8d;
var _e8e=this.grid.getRowNode(_e8d);
if(_e8e){
_e83.set(_e8e,"aria-selected","true");
}
this._beginUpdate();
this.selected[_e8d]=true;
this.onSelected(_e8d);
this._endUpdate();
}
}
},deselect:function(_e8f){
if(this.mode=="none"){
return;
}
if(lang.isArray(_e8f)){
_e82.forEach(_e8f,this.deselect,this);
return;
}
_e8f=Number(_e8f);
if(this.selectedIndex==_e8f){
this.selectedIndex=-1;
}
if(this.selected[_e8f]){
if(this.onCanDeselect(_e8f)===false){
return;
}
var _e90=this.grid.getRowNode(_e8f);
if(_e90){
_e83.set(_e90,"aria-selected","false");
}
this._beginUpdate();
delete this.selected[_e8f];
this.onDeselected(_e8f);
this._endUpdate();
}
},setSelected:function(_e91,_e92){
this[(_e92?"addToSelection":"deselect")](_e91);
},toggleSelect:function(_e93){
if(lang.isArray(_e93)){
_e82.forEach(_e93,this.toggleSelect,this);
return;
}
this.setSelected(_e93,!this.selected[_e93]);
},_range:function(_e94,inTo,func){
var s=(_e94>=0?_e94:inTo),e=inTo;
if(s>e){
e=s;
s=inTo;
}
for(var i=s;i<=e;i++){
func(i);
}
},selectRange:function(_e95,inTo){
this._range(_e95,inTo,lang.hitch(this,"addToSelection"));
},deselectRange:function(_e96,inTo){
this._range(_e96,inTo,lang.hitch(this,"deselect"));
},insert:function(_e97){
this.selected.splice(_e97,0,false);
if(this.selectedIndex>=_e97){
this.selectedIndex++;
}
},remove:function(_e98){
this.selected.splice(_e98,1);
if(this.selectedIndex>=_e98){
this.selectedIndex--;
}
},deselectAll:function(_e99){
for(var i in this.selected){
if((i!=_e99)&&(this.selected[i]===true)){
this.deselect(i);
}
}
},clickSelect:function(_e9a,_e9b,_e9c){
if(this.mode=="none"){
return;
}
this._beginUpdate();
if(this.mode!="extended"){
this.select(_e9a);
}else{
if(!_e9c||this.rangeStartIndex<0){
this.rangeStartIndex=_e9a;
}
if(!_e9b){
this.deselectAll(_e9a);
}
if(_e9c){
this.selectRange(this.rangeStartIndex,_e9a);
}else{
if(_e9b){
this.toggleSelect(_e9a);
}else{
this.addToSelection(_e9a);
}
}
}
this._endUpdate();
},clickSelectEvent:function(e){
this.clickSelect(e.rowIndex,dojo.isCopyKey(e),e.shiftKey);
},clear:function(){
this._beginUpdate();
this.deselectAll();
this._endUpdate();
}});
});
},"manager/MultiTextField":function(){
define("manager/MultiTextField",["dojo/_base/declare"],function(_e9d){
return _e9d("Manager.MultiTextField",[],{mtfName:"",constructor:function(_e9e){
this.mtfName=_e9e;
this.leftSeparator="[";
this.rightSeparator="]";
this.separator=this.rightSeparator+" "+this.leftSeparator;
this.emptyField=this.leftSeparator+this.rightSeparator;
},getTable:function(){
return eval(this.mtfName+"_table");
},split:function(_e9f){
return _e9f.substring(1,_e9f.length-1).split(this.separator);
},join:function(_ea0){
var _ea1=this.leftSeparator;
for(var i=0;i<_ea0.length;i++){
if(i>0){
_ea1+=this.separator;
}
_ea1+=_ea0[i];
}
_ea1+=this.rightSeparator;
return _ea1;
},onSubmit:function(_ea2){
var name=this.mtfName;
var form=dojo.byId(manager.getParentForm(name));
while(manager.getElementById(name+"[]")){
dojo._destroyElement(name+"[]");
}
var tbl=this.getTable();
data=tbl.getdata();
var _ea3="";
var _ea4=_ea2.split(",");
for(var i=0;i<data.length;i++){
for(var j=0;j<data[i].length;j++){
var list=document.createElement("INPUT");
list.id=name+"["+i+"]"+"["+j+"]";
list.name=name+"["+i+"]"+"["+j+"]";
list.type="hidden";
var _ea5=dijit.byId(_ea4[j]);
if(_ea5.store){
_ea5.store.query({name:data[i][j]}).forEach(function(_ea6){
_ea3=_ea6.id;
});
}else{
_ea3=data[i][j];
}
list.value=_ea3;
form.appendChild(list);
}
}
return true;
},onSelect:function(_ea7){
var tbl=this.getTable();
tbl.onmouse=false;
tbl.customSelect=function(){
var _ea8=_ea7.split(",");
var _ea9=new Array(_ea8.length);
var text=this.get(tbl.rowSelected);
for(var i=0;i<text.length;i++){
var _eaa=dijit.byId(_ea8[i]);
if(_eaa.store){
_eaa.store.query({name:text[i]}).forEach(function(_eab){
_eaa.setValue(_eab.id);
});
}else{
if(_eaa.options!=null){
for(var n=0;n<_eaa.options.length;n++){
if(_eaa.options[n].text==text[i]){
_eaa.selectedIndex=n;
break;
}
}
}else{
if(text[i]!==""){
_eaa.textbox.value=text[i];
}
}
}
}
};
},getInput:function(_eac){
var _ead=_eac.split(",");
var _eae=new Array(_ead.length);
for(var i=0;i<_ead.length;i++){
var _eaf=manager.getElementById(_ead[i]);
if(_eaf.options!=null){
_eae[i]=_eaf.options[_eaf.selectedIndex].text;
}else{
_eae[i]=_eaf.value;
}
}
return _eae;
},add:function(_eb0){
var tbl=this.getTable();
tbl.add(this.getInput(_eb0));
},remove:function(_eb1){
var tbl=this.getTable();
if(this.isSelected()){
tbl.drop(tbl.rowSelected);
}
},modify:function(_eb2){
var tbl=this.getTable();
if(this.isSelected()){
tbl.modify(tbl.rowSelected,this.getInput(_eb2));
}
},isSelected:function(){
var tbl=this.getTable();
if(tbl.rowSelected==""){
alert("Nenhum item selecionado!");
return false;
}else{
return true;
}
}});
});
},"dojo/fx/Toggler":function(){
define(["../_base/lang","../_base/declare","../_base/fx","../aspect"],function(lang,_eb3,_eb4,_eb5){
return _eb3("dojo.fx.Toggler",null,{node:null,showFunc:_eb4.fadeIn,hideFunc:_eb4.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){
var _eb6=this;
lang.mixin(_eb6,args);
_eb6.node=args.node;
_eb6._showArgs=lang.mixin({},args);
_eb6._showArgs.node=_eb6.node;
_eb6._showArgs.duration=_eb6.showDuration;
_eb6.showAnim=_eb6.showFunc(_eb6._showArgs);
_eb6._hideArgs=lang.mixin({},args);
_eb6._hideArgs.node=_eb6.node;
_eb6._hideArgs.duration=_eb6.hideDuration;
_eb6.hideAnim=_eb6.hideFunc(_eb6._hideArgs);
_eb5.after(_eb6.showAnim,"beforeBegin",lang.hitch(_eb6.hideAnim,"stop",true),true);
_eb5.after(_eb6.hideAnim,"beforeBegin",lang.hitch(_eb6.showAnim,"stop",true),true);
},show:function(_eb7){
return this.showAnim.play(_eb7||0);
},hide:function(_eb8){
return this.hideAnim.play(_eb8||0);
}});
});
},"dijit/popup":function(){
define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./place","./BackgroundIframe","./Viewport","./main"],function(_eb9,_eba,_ebb,dom,_ebc,_ebd,_ebe,_ebf,has,keys,lang,on,_ec0,_ec1,_ec2,_ec3){
function _ec4(){
if(this._popupWrapper){
_ebd.destroy(this._popupWrapper);
delete this._popupWrapper;
}
};
var _ec5=_ebb(null,{_stack:[],_beginZIndex:1000,_idGen:1,_repositionAll:function(){
if(this._firstAroundNode){
var _ec6=this._firstAroundPosition,_ec7=_ebe.position(this._firstAroundNode,true),dx=_ec7.x-_ec6.x,dy=_ec7.y-_ec6.y;
if(dx||dy){
this._firstAroundPosition=_ec7;
for(var i=0;i<this._stack.length;i++){
var _ec8=this._stack[i].wrapper.style;
_ec8.top=(parseInt(_ec8.top,10)+dy)+"px";
if(_ec8.right=="auto"){
_ec8.left=(parseInt(_ec8.left,10)+dx)+"px";
}else{
_ec8.right=(parseInt(_ec8.right,10)-dx)+"px";
}
}
}
this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),dx||dy?10:50);
}
},_createWrapper:function(_ec9){
var _eca=_ec9._popupWrapper,node=_ec9.domNode;
if(!_eca){
_eca=_ebd.create("div",{"class":"dijitPopup",style:{display:"none"},role:"region","aria-label":_ec9["aria-label"]||_ec9.label||_ec9.name||_ec9.id},_ec9.ownerDocumentBody);
_eca.appendChild(node);
var s=node.style;
s.display="";
s.visibility="";
s.position="";
s.top="0px";
_ec9._popupWrapper=_eca;
_eba.after(_ec9,"destroy",_ec4,true);
}
return _eca;
},moveOffScreen:function(_ecb){
var _ecc=this._createWrapper(_ecb);
var ltr=_ebe.isBodyLtr(_ecb.ownerDocument),_ecd={visibility:"hidden",top:"-9999px",display:""};
_ecd[ltr?"left":"right"]="-9999px";
_ecd[ltr?"right":"left"]="auto";
_ebf.set(_ecc,_ecd);
return _ecc;
},hide:function(_ece){
var _ecf=this._createWrapper(_ece);
_ebf.set(_ecf,{display:"none",height:"auto",overflow:"visible",border:""});
var node=_ece.domNode;
if("_originalStyle" in node){
node.style.cssText=node._originalStyle;
}
},getTopPopup:function(){
var _ed0=this._stack;
for(var pi=_ed0.length-1;pi>0&&_ed0[pi].parent===_ed0[pi-1].widget;pi--){
}
return _ed0[pi];
},open:function(args){
var _ed1=this._stack,_ed2=args.popup,node=_ed2.domNode,_ed3=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_ebe.isBodyLtr(_ed2.ownerDocument),_ed4=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);
while(_ed1.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_ed1[_ed1.length-1].widget.domNode))){
this.close(_ed1[_ed1.length-1].widget);
}
var _ed5=this.moveOffScreen(_ed2);
if(_ed2.startup&&!_ed2._started){
_ed2.startup();
}
var _ed6,_ed7=_ebe.position(node);
if("maxHeight" in args&&args.maxHeight!=-1){
_ed6=args.maxHeight||Infinity;
}else{
var _ed8=_ec2.getEffectiveBox(this.ownerDocument),_ed9=_ed4?_ebe.position(_ed4,false):{y:args.y-(args.padding||0),h:(args.padding||0)*2};
_ed6=Math.floor(Math.max(_ed9.y,_ed8.h-(_ed9.y+_ed9.h)));
}
if(_ed7.h>_ed6){
var cs=_ebf.getComputedStyle(node),_eda=cs.borderLeftWidth+" "+cs.borderLeftStyle+" "+cs.borderLeftColor;
_ebf.set(_ed5,{overflowY:"scroll",height:_ed6+"px",border:_eda});
node._originalStyle=node.style.cssText;
node.style.border="none";
}
_ebc.set(_ed5,{id:id,style:{zIndex:this._beginZIndex+_ed1.length},"class":"dijitPopup "+(_ed2.baseClass||_ed2["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});
if(_ed1.length==0&&_ed4){
this._firstAroundNode=_ed4;
this._firstAroundPosition=_ebe.position(_ed4,true);
this._aroundMoveListener=setTimeout(lang.hitch(this,"_repositionAll"),50);
}
if(has("config-bgIframe")&&!_ed2.bgIframe){
_ed2.bgIframe=new _ec1(_ed5);
}
var _edb=_ed2.orient?lang.hitch(_ed2,"orient"):null,best=_ed4?_ec0.around(_ed5,_ed4,_ed3,ltr,_edb):_ec0.at(_ed5,args,_ed3=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding,_edb);
_ed5.style.visibility="visible";
node.style.visibility="visible";
var _edc=[];
_edc.push(on(_ed5,"keydown",lang.hitch(this,function(evt){
if(evt.keyCode==keys.ESCAPE&&args.onCancel){
evt.stopPropagation();
evt.preventDefault();
args.onCancel();
}else{
if(evt.keyCode==keys.TAB){
evt.stopPropagation();
evt.preventDefault();
var _edd=this.getTopPopup();
if(_edd&&_edd.onCancel){
_edd.onCancel();
}
}
}
})));
if(_ed2.onCancel&&args.onCancel){
_edc.push(_ed2.on("cancel",args.onCancel));
}
_edc.push(_ed2.on(_ed2.onExecute?"execute":"change",lang.hitch(this,function(){
var _ede=this.getTopPopup();
if(_ede&&_ede.onExecute){
_ede.onExecute();
}
})));
_ed1.push({widget:_ed2,wrapper:_ed5,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_edc});
if(_ed2.onOpen){
_ed2.onOpen(best);
}
return best;
},close:function(_edf){
var _ee0=this._stack;
while((_edf&&_eb9.some(_ee0,function(elem){
return elem.widget==_edf;
}))||(!_edf&&_ee0.length)){
var top=_ee0.pop(),_ee1=top.widget,_ee2=top.onClose;
if(_ee1.onClose){
_ee1.onClose();
}
var h;
while(h=top.handlers.pop()){
h.remove();
}
if(_ee1&&_ee1.domNode){
this.hide(_ee1);
}
if(_ee2){
_ee2();
}
}
if(_ee0.length==0&&this._aroundMoveListener){
clearTimeout(this._aroundMoveListener);
this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null;
}
}});
return (_ec3.popup=new _ec5());
});
},"dijit/layout/TabContainer":function(){
define(["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(lang,_ee3,_ee4,_ee5,_ee6){
return _ee3("dijit.layout.TabContainer",_ee4,{useMenu:true,useSlider:true,controllerWidget:"",_makeController:function(_ee7){
var cls=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout"),_ee5=typeof this.controllerWidget=="string"?lang.getObject(this.controllerWidget):this.controllerWidget;
return new _ee5({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":cls,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},_ee7);
},postMixInProperties:function(){
this.inherited(arguments);
if(!this.controllerWidget){
this.controllerWidget=(this.tabPosition=="top"||this.tabPosition=="bottom")&&!this.nested?_ee6:_ee5;
}
}});
});
},"dijit/_base":function(){
define(["./main","./a11y","./WidgetSet","./_base/focus","./_base/manager","./_base/place","./_base/popup","./_base/scroll","./_base/sniff","./_base/typematic","./_base/wai","./_base/window"],function(_ee8){
return _ee8._base;
});
},"dijit/_editor/plugins/EnterKeyHandling":function(){
define(["dojo/_base/declare","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","../_Plugin","../RichText","../range","../../_base/focus"],function(_ee9,_eea,keys,lang,on,has,win,_eeb,_eec,_eed,_eee,_eef){
return _ee9("dijit._editor.plugins.EnterKeyHandling",_eec,{blockNodeForEnter:"BR",constructor:function(args){
if(args){
if("blockNodeForEnter" in args){
args.blockNodeForEnter=args.blockNodeForEnter.toUpperCase();
}
lang.mixin(this,args);
}
},setEditor:function(_ef0){
if(this.editor===_ef0){
return;
}
this.editor=_ef0;
if(this.blockNodeForEnter=="BR"){
this.editor.customUndo=true;
_ef0.onLoadDeferred.then(lang.hitch(this,function(d){
this.own(on(_ef0.document,"keydown",lang.hitch(this,function(e){
if(e.keyCode==keys.ENTER){
var ne=lang.mixin({},e);
ne.shiftKey=true;
if(!this.handleEnterKey(ne)){
e.stopPropagation();
e.preventDefault();
}
}
})));
if(has("ie")>=9&&has("ie")<=10){
this.own(on(_ef0.document,"paste",lang.hitch(this,function(e){
setTimeout(lang.hitch(this,function(){
var r=this.editor.document.selection.createRange();
r.move("character",-1);
r.select();
r.move("character",1);
r.select();
}),0);
})));
}
return d;
}));
}else{
if(this.blockNodeForEnter){
var h=lang.hitch(this,"handleEnterKey");
_ef0.addKeyHandler(13,0,0,h);
_ef0.addKeyHandler(13,0,1,h);
this.own(this.editor.on("KeyPressed",lang.hitch(this,"onKeyPressed")));
}
}
},onKeyPressed:function(){
if(this._checkListLater){
if(win.withGlobal(this.editor.window,"isCollapsed",_eef)){
var _ef1=this.editor.selection.getAncestorElement("LI");
if(!_ef1){
_eed.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);
var _ef2=this.editor.selection.getAncestorElement(this.blockNodeForEnter);
if(_ef2){
_ef2.innerHTML=this.bogusHtmlContent;
if(has("ie")<=9){
var r=this.editor.document.selection.createRange();
r.move("character",-1);
r.select();
}
}else{
console.error("onKeyPressed: Cannot find the new block node");
}
}else{
if(has("mozilla")){
if(_ef1.parentNode.parentNode.nodeName=="LI"){
_ef1=_ef1.parentNode.parentNode;
}
}
var fc=_ef1.firstChild;
if(fc&&fc.nodeType==1&&(fc.nodeName=="UL"||fc.nodeName=="OL")){
_ef1.insertBefore(fc.ownerDocument.createTextNode(" "),fc);
var _ef3=_eee.create(this.editor.window);
_ef3.setStart(_ef1.firstChild,0);
var _ef4=_eee.getSelection(this.editor.window,true);
_ef4.removeAllRanges();
_ef4.addRange(_ef3);
}
}
}
this._checkListLater=false;
}
if(this._pressedEnterInBlock){
if(this._pressedEnterInBlock.previousSibling){
this.removeTrailingBr(this._pressedEnterInBlock.previousSibling);
}
delete this._pressedEnterInBlock;
}
},bogusHtmlContent:"&#160;",blockNodes:/^(?:P|H1|H2|H3|H4|H5|H6|LI)$/,handleEnterKey:function(e){
var _ef5,_ef6,_ef7,_ef8,_ef9,_efa,doc=this.editor.document,br,rs,txt;
if(e.shiftKey){
var _efb=this.editor.selection.getParentElement();
var _efc=_eee.getAncestor(_efb,this.blockNodes);
if(_efc){
if(_efc.tagName=="LI"){
return true;
}
_ef5=_eee.getSelection(this.editor.window);
_ef6=_ef5.getRangeAt(0);
if(!_ef6.collapsed){
_ef6.deleteContents();
_ef5=_eee.getSelection(this.editor.window);
_ef6=_ef5.getRangeAt(0);
}
if(_eee.atBeginningOfContainer(_efc,_ef6.startContainer,_ef6.startOffset)){
br=doc.createElement("br");
_ef7=_eee.create(this.editor.window);
_efc.insertBefore(br,_efc.firstChild);
_ef7.setStartAfter(br);
_ef5.removeAllRanges();
_ef5.addRange(_ef7);
}else{
if(_eee.atEndOfContainer(_efc,_ef6.startContainer,_ef6.startOffset)){
_ef7=_eee.create(this.editor.window);
br=doc.createElement("br");
_efc.appendChild(br);
_efc.appendChild(doc.createTextNode(" "));
_ef7.setStart(_efc.lastChild,0);
_ef5.removeAllRanges();
_ef5.addRange(_ef7);
}else{
rs=_ef6.startContainer;
if(rs&&rs.nodeType==3){
txt=rs.nodeValue;
_ef8=doc.createTextNode(txt.substring(0,_ef6.startOffset));
_ef9=doc.createTextNode(txt.substring(_ef6.startOffset));
_efa=doc.createElement("br");
if(_ef9.nodeValue==""&&has("webkit")){
_ef9=doc.createTextNode(" ");
}
_eea.place(_ef8,rs,"after");
_eea.place(_efa,_ef8,"after");
_eea.place(_ef9,_efa,"after");
_eea.destroy(rs);
_ef7=_eee.create(this.editor.window);
_ef7.setStart(_ef9,0);
_ef5.removeAllRanges();
_ef5.addRange(_ef7);
return false;
}
return true;
}
}
}else{
_ef5=_eee.getSelection(this.editor.window);
if(_ef5.rangeCount){
_ef6=_ef5.getRangeAt(0);
if(_ef6&&_ef6.startContainer){
if(!_ef6.collapsed){
_ef6.deleteContents();
_ef5=_eee.getSelection(this.editor.window);
_ef6=_ef5.getRangeAt(0);
}
rs=_ef6.startContainer;
if(rs&&rs.nodeType==3){
var _efd=false;
var _efe=_ef6.startOffset;
if(rs.length<_efe){
ret=this._adjustNodeAndOffset(rs,_efe);
rs=ret.node;
_efe=ret.offset;
}
txt=rs.nodeValue;
_ef8=doc.createTextNode(txt.substring(0,_efe));
_ef9=doc.createTextNode(txt.substring(_efe));
_efa=doc.createElement("br");
if(!_ef9.length){
_ef9=doc.createTextNode(" ");
_efd=true;
}
if(_ef8.length){
_eea.place(_ef8,rs,"after");
}else{
_ef8=rs;
}
_eea.place(_efa,_ef8,"after");
_eea.place(_ef9,_efa,"after");
_eea.destroy(rs);
_ef7=_eee.create(this.editor.window);
_ef7.setStart(_ef9,0);
_ef7.setEnd(_ef9,_ef9.length);
_ef5.removeAllRanges();
_ef5.addRange(_ef7);
if(_efd&&!has("webkit")){
this.editor.selection.remove();
}else{
this.editor.selection.collapse(true);
}
}else{
var _eff;
if(_ef6.startOffset>=0){
_eff=rs.childNodes[_ef6.startOffset];
}
var _efa=doc.createElement("br");
var _ef9=doc.createTextNode(" ");
if(!_eff){
rs.appendChild(_efa);
rs.appendChild(_ef9);
}else{
_eea.place(_efa,_eff,"before");
_eea.place(_ef9,_efa,"after");
}
_ef7=_eee.create(this.editor.window);
_ef7.setStart(_ef9,0);
_ef7.setEnd(_ef9,_ef9.length);
_ef5.removeAllRanges();
_ef5.addRange(_ef7);
this.editor.selection.collapse(true);
}
}
}else{
_eed.prototype.execCommand.call(this.editor,"inserthtml","<br>");
}
}
return false;
}
var _f00=true;
_ef5=_eee.getSelection(this.editor.window);
_ef6=_ef5.getRangeAt(0);
if(!_ef6.collapsed){
_ef6.deleteContents();
_ef5=_eee.getSelection(this.editor.window);
_ef6=_ef5.getRangeAt(0);
}
var _f01=_eee.getBlockAncestor(_ef6.endContainer,null,this.editor.editNode);
var _f02=_f01.blockNode;
if((this._checkListLater=(_f02&&(_f02.nodeName=="LI"||_f02.parentNode.nodeName=="LI")))){
if(has("mozilla")){
this._pressedEnterInBlock=_f02;
}
if(/^(\s|&nbsp;|&#160;|\xA0|<span\b[^>]*\bclass=['"]Apple-style-span['"][^>]*>(\s|&nbsp;|&#160;|\xA0)<\/span>)?(<br>)?$/.test(_f02.innerHTML)){
_f02.innerHTML="";
if(has("webkit")){
_ef7=_eee.create(this.editor.window);
_ef7.setStart(_f02,0);
_ef5.removeAllRanges();
_ef5.addRange(_ef7);
}
this._checkListLater=false;
}
return true;
}
if(!_f01.blockNode||_f01.blockNode===this.editor.editNode){
try{
_eed.prototype.execCommand.call(this.editor,"formatblock",this.blockNodeForEnter);
}
catch(e2){
}
_f01={blockNode:this.editor.selection.getAncestorElement(this.blockNodeForEnter),blockContainer:this.editor.editNode};
if(_f01.blockNode){
if(_f01.blockNode!=this.editor.editNode&&(!(_f01.blockNode.textContent||_f01.blockNode.innerHTML).replace(/^\s+|\s+$/g,"").length)){
this.removeTrailingBr(_f01.blockNode);
return false;
}
}else{
_f01.blockNode=this.editor.editNode;
}
_ef5=_eee.getSelection(this.editor.window);
_ef6=_ef5.getRangeAt(0);
}
var _f03=doc.createElement(this.blockNodeForEnter);
_f03.innerHTML=this.bogusHtmlContent;
this.removeTrailingBr(_f01.blockNode);
var _f04=_ef6.endOffset;
var node=_ef6.endContainer;
if(node.length<_f04){
var ret=this._adjustNodeAndOffset(node,_f04);
node=ret.node;
_f04=ret.offset;
}
if(_eee.atEndOfContainer(_f01.blockNode,node,_f04)){
if(_f01.blockNode===_f01.blockContainer){
_f01.blockNode.appendChild(_f03);
}else{
_eea.place(_f03,_f01.blockNode,"after");
}
_f00=false;
_ef7=_eee.create(this.editor.window);
_ef7.setStart(_f03,0);
_ef5.removeAllRanges();
_ef5.addRange(_ef7);
if(this.editor.height){
_eeb.scrollIntoView(_f03);
}
}else{
if(_eee.atBeginningOfContainer(_f01.blockNode,_ef6.startContainer,_ef6.startOffset)){
_eea.place(_f03,_f01.blockNode,_f01.blockNode===_f01.blockContainer?"first":"before");
if(_f03.nextSibling&&this.editor.height){
_ef7=_eee.create(this.editor.window);
_ef7.setStart(_f03.nextSibling,0);
_ef5.removeAllRanges();
_ef5.addRange(_ef7);
_eeb.scrollIntoView(_f03.nextSibling);
}
_f00=false;
}else{
if(_f01.blockNode===_f01.blockContainer){
_f01.blockNode.appendChild(_f03);
}else{
_eea.place(_f03,_f01.blockNode,"after");
}
_f00=false;
if(_f01.blockNode.style){
if(_f03.style){
if(_f01.blockNode.style.cssText){
_f03.style.cssText=_f01.blockNode.style.cssText;
}
}
}
rs=_ef6.startContainer;
var _f05;
if(rs&&rs.nodeType==3){
var _f06,_f07;
_f04=_ef6.endOffset;
if(rs.length<_f04){
ret=this._adjustNodeAndOffset(rs,_f04);
rs=ret.node;
_f04=ret.offset;
}
txt=rs.nodeValue;
_ef8=doc.createTextNode(txt.substring(0,_f04));
_ef9=doc.createTextNode(txt.substring(_f04,txt.length));
_eea.place(_ef8,rs,"before");
_eea.place(_ef9,rs,"after");
_eea.destroy(rs);
var _f08=_ef8.parentNode;
while(_f08!==_f01.blockNode){
var tg=_f08.tagName;
var _f09=doc.createElement(tg);
if(_f08.style){
if(_f09.style){
if(_f08.style.cssText){
_f09.style.cssText=_f08.style.cssText;
}
}
}
if(_f08.tagName==="FONT"){
if(_f08.color){
_f09.color=_f08.color;
}
if(_f08.face){
_f09.face=_f08.face;
}
if(_f08.size){
_f09.size=_f08.size;
}
}
_f06=_ef9;
while(_f06){
_f07=_f06.nextSibling;
_f09.appendChild(_f06);
_f06=_f07;
}
_eea.place(_f09,_f08,"after");
_ef8=_f08;
_ef9=_f09;
_f08=_f08.parentNode;
}
_f06=_ef9;
if(_f06.nodeType==1||(_f06.nodeType==3&&_f06.nodeValue)){
_f03.innerHTML="";
}
_f05=_f06;
while(_f06){
_f07=_f06.nextSibling;
_f03.appendChild(_f06);
_f06=_f07;
}
}
_ef7=_eee.create(this.editor.window);
var _f0a;
var _f0b=_f05;
if(this.blockNodeForEnter!=="BR"){
while(_f0b){
_f0a=_f0b;
_f07=_f0b.firstChild;
_f0b=_f07;
}
if(_f0a&&_f0a.parentNode){
_f03=_f0a.parentNode;
_ef7.setStart(_f03,0);
_ef5.removeAllRanges();
_ef5.addRange(_ef7);
if(this.editor.height){
_eeb.scrollIntoView(_f03);
}
if(has("mozilla")){
this._pressedEnterInBlock=_f01.blockNode;
}
}else{
_f00=true;
}
}else{
_ef7.setStart(_f03,0);
_ef5.removeAllRanges();
_ef5.addRange(_ef7);
if(this.editor.height){
_eeb.scrollIntoView(_f03);
}
if(has("mozilla")){
this._pressedEnterInBlock=_f01.blockNode;
}
}
}
}
return _f00;
},_adjustNodeAndOffset:function(node,_f0c){
while(node.length<_f0c&&node.nextSibling&&node.nextSibling.nodeType==3){
_f0c=_f0c-node.length;
node=node.nextSibling;
}
return {"node":node,"offset":_f0c};
},removeTrailingBr:function(_f0d){
var para=/P|DIV|LI/i.test(_f0d.tagName)?_f0d:this.editor.selection.getParentOfType(_f0d,["P","DIV","LI"]);
if(!para){
return;
}
if(para.lastChild){
if((para.childNodes.length>1&&para.lastChild.nodeType==3&&/^[\s\xAD]*$/.test(para.lastChild.nodeValue))||para.lastChild.tagName=="BR"){
_eea.destroy(para.lastChild);
}
}
if(!para.childNodes.length){
para.innerHTML=this.bogusHtmlContent;
}
}});
});
},"manager/Currency":function(){
define("manager/Currency",["dojo/_base/declare"],function(_f0e){
return _f0e("Manager.Currency",[],{constructor:function(){
},format:function(_f0f){
var _f10=_f0f.value;
var v="";
for(var i=0;i<_f10.length;i++){
var c=_f10.charAt(i);
if((c>="0")&&(c<="9")){
v+=c;
}
}
var l=v.length;
if(l==0){
return true;
}
if(l<3){
alert("DÃgitos insuficientes para valor monetÃ¡rio!");
_f0f.focus();
return true;
}
v=v.slice(0,l-2)+","+v.slice(l-2,l);
v=this.add(v);
_f0f.value=v;
},remove:function(_f11){
var _f12=/\(/;
var _f13="";
if(_f12.test(_f11)){
_f13="-";
}
_f12=/\)|\(|[\.]/g;
_f11=_f11.replace(_f12,"");
if(_f11.indexOf("$")>=0){
_f11=_f11.substring(1,_f11.length);
}
return _f13+_f11;
},add:function(_f14){
var _f15=/-?[0-9]+\,[0-9]{2}$/;
if(_f15.test(_f14)){
_f15.compile("^-");
_f14=addDecimalPoints(_f14);
if(_f15.test(_f14)){
_f14="("+_f14.replace(_f15,"")+")";
}
}
return _f14;
}});
});
},"dijit/form/_FormValueWidget":function(){
define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_f16,has,_f17,_f18){
return _f16("dijit.form._FormValueWidget",[_f17,_f18],{_layoutHackIE7:function(){
if(has("ie")==7){
var _f19=this.domNode;
var _f1a=_f19.parentNode;
var _f1b=_f19.firstChild||_f19;
var _f1c=_f1b.style.filter;
var _f1d=this;
while(_f1a&&_f1a.clientHeight==0){
(function ping(){
var _f1e=_f1d.connect(_f1a,"onscroll",function(){
_f1d.disconnect(_f1e);
_f1b.style.filter=(new Date()).getMilliseconds();
_f1d.defer(function(){
_f1b.style.filter=_f1c;
});
});
})();
_f1a=_f1a.parentNode;
}
}
}});
});
},"dijit/tree/_dndContainer":function(){
define(["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/touch"],function(_f1f,_f20,_f21,lang,on,_f22){
return _f20("dijit.tree._dndContainer",null,{constructor:function(tree,_f23){
this.tree=tree;
this.node=tree.domNode;
lang.mixin(this,_f23);
this.containerState="";
_f21.add(this.node,"dojoDndContainer");
this.events=[on(this.node,_f22.enter,lang.hitch(this,"onOverEvent")),on(this.node,_f22.leave,lang.hitch(this,"onOutEvent")),_f1f.after(this.tree,"_onNodeMouseEnter",lang.hitch(this,"onMouseOver"),true),_f1f.after(this.tree,"_onNodeMouseLeave",lang.hitch(this,"onMouseOut"),true),on(this.node,"dragstart, selectstart",function(evt){
evt.preventDefault();
})];
},destroy:function(){
var h;
while(h=this.events.pop()){
h.remove();
}
this.node=this.parent=null;
},onMouseOver:function(_f24){
this.current=_f24;
},onMouseOut:function(){
this.current=null;
},_changeState:function(type,_f25){
var _f26="dojoDnd"+type;
var _f27=type.toLowerCase()+"State";
_f21.replace(this.node,_f26+_f25,_f26+this[_f27]);
this[_f27]=_f25;
},_addItemClass:function(node,type){
_f21.add(node,"dojoDndItem"+type);
},_removeItemClass:function(node,type){
_f21.remove(node,"dojoDndItem"+type);
},onOverEvent:function(){
this._changeState("Container","Over");
},onOutEvent:function(){
this._changeState("Container","");
}});
});
},"dijit/focus":function(){
define(["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/domReady","dojo/sniff","dojo/Stateful","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_f28,_f29,dom,_f2a,_f2b,_f2c,_f2d,lang,on,_f2e,has,_f2f,win,_f30,a11y,_f31,_f32){
var _f33;
var _f34=_f29([_f2f,_f2d],{curNode:null,activeStack:[],constructor:function(){
var _f35=lang.hitch(this,function(node){
if(dom.isDescendant(this.curNode,node)){
this.set("curNode",null);
}
if(dom.isDescendant(this.prevNode,node)){
this.set("prevNode",null);
}
});
_f28.before(_f2c,"empty",_f35);
_f28.before(_f2c,"destroy",_f35);
},registerIframe:function(_f36){
return this.registerWin(_f36.contentWindow,_f36);
},registerWin:function(_f37,_f38){
var _f39=this,body=_f37.document&&_f37.document.body;
if(body){
var mdh=on(_f37.document,"mousedown, touchstart",function(evt){
_f39._justMouseDowned=true;
setTimeout(function(){
_f39._justMouseDowned=false;
},0);
if(evt&&evt.target&&evt.target.parentNode==null){
return;
}
_f39._onTouchNode(_f38||evt.target,"mouse");
});
var fih=on(body,"focusin",function(evt){
_f33=(new Date()).getTime();
if(!evt.target.tagName){
return;
}
var tag=evt.target.tagName.toLowerCase();
if(tag=="#document"||tag=="body"){
return;
}
if(a11y.isFocusable(evt.target)){
_f39._onFocusNode(_f38||evt.target);
}else{
_f39._onTouchNode(_f38||evt.target);
}
});
var foh=on(body,"focusout",function(evt){
if((new Date()).getTime()<_f33+100){
return;
}
_f39._onBlurNode(_f38||evt.target);
});
return {remove:function(){
mdh.remove();
fih.remove();
foh.remove();
mdh=fih=foh=null;
body=null;
}};
}
},_onBlurNode:function(node){
if(this._clearFocusTimer){
clearTimeout(this._clearFocusTimer);
}
this._clearFocusTimer=setTimeout(lang.hitch(this,function(){
this.set("prevNode",this.curNode);
this.set("curNode",null);
}),0);
if(this._justMouseDowned){
return;
}
if(this._clearActiveWidgetsTimer){
clearTimeout(this._clearActiveWidgetsTimer);
}
this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){
delete this._clearActiveWidgetsTimer;
this._setStack([]);
}),0);
},_onTouchNode:function(node,by){
if(this._clearActiveWidgetsTimer){
clearTimeout(this._clearActiveWidgetsTimer);
delete this._clearActiveWidgetsTimer;
}
if(_f2b.contains(node,"dijitPopup")){
node=node.firstChild;
}
var _f3a=[];
try{
while(node){
var _f3b=_f2a.get(node,"dijitPopupParent");
if(_f3b){
node=_f31.byId(_f3b).domNode;
}else{
if(node.tagName&&node.tagName.toLowerCase()=="body"){
if(node===win.body()){
break;
}
node=_f30.get(node.ownerDocument).frameElement;
}else{
var id=node.getAttribute&&node.getAttribute("widgetId"),_f3c=id&&_f31.byId(id);
if(_f3c&&!(by=="mouse"&&_f3c.get("disabled"))){
_f3a.unshift(id);
}
node=node.parentNode;
}
}
}
}
catch(e){
}
this._setStack(_f3a,by);
},_onFocusNode:function(node){
if(!node){
return;
}
if(node.nodeType==9){
return;
}
if(this._clearFocusTimer){
clearTimeout(this._clearFocusTimer);
delete this._clearFocusTimer;
}
this._onTouchNode(node);
if(node==this.curNode){
return;
}
this.set("prevNode",this.curNode);
this.set("curNode",node);
},_setStack:function(_f3d,by){
var _f3e=this.activeStack,_f3f=_f3e.length-1,_f40=_f3d.length-1;
if(_f3d[_f40]==_f3e[_f3f]){
return;
}
this.set("activeStack",_f3d);
var _f41,i;
for(i=_f3f;i>=0&&_f3e[i]!=_f3d[i];i--){
_f41=_f31.byId(_f3e[i]);
if(_f41){
_f41._hasBeenBlurred=true;
_f41.set("focused",false);
if(_f41._focusManager==this){
_f41._onBlur(by);
}
this.emit("widget-blur",_f41,by);
}
}
for(i++;i<=_f40;i++){
_f41=_f31.byId(_f3d[i]);
if(_f41){
_f41.set("focused",true);
if(_f41._focusManager==this){
_f41._onFocus(by);
}
this.emit("widget-focus",_f41,by);
}
}
},focus:function(node){
if(node){
try{
node.focus();
}
catch(e){
}
}
}});
var _f42=new _f34();
_f2e(function(){
var _f43=_f42.registerWin(_f30.get(document));
if(has("ie")){
on(window,"unload",function(){
if(_f43){
_f43.remove();
_f43=null;
}
});
}
});
_f32.focus=function(node){
_f42.focus(node);
};
for(var attr in _f42){
if(!/^_/.test(attr)){
_f32.focus[attr]=typeof _f42[attr]=="function"?lang.hitch(_f42,attr):_f42[attr];
}
}
_f42.watch(function(attr,_f44,_f45){
_f32.focus[attr]=_f45;
});
return _f42;
});
},"manager/Page":function(){
define("manager/Page",["dojo/_base/declare","dojo/_base/lang","dojo/_base/window","dojo/_base/array","dijit/registry","dojo/dom-construct","dojo/dom-form","dojo/i18n!./nls/messages","manager/Base64","dojox/widget/Standby"],function(_f46,lang,_f47,_f48,_f49,_f4a,_f4b,i18n,_f4c,_f4d){
return _f46("Manager.Page",[],{version:"1.1",ajaxEvent:"no",fileUpload:"no",layout:"default",element:"",mainElement:"centerPane",template:"base",eventTarget:"",i18n:i18n,standby:"",callbackFunction:"",constructor:function(){
this.obj=this;
},getContent:function(_f4e){
var _f4f={__LAYOUT:manager.page.layout,__ELEMENT:manager.page.element,__TEMPLATE:manager.page.template,__ISFILEUPLOAD:manager.page.fileUpload,__ISAJAXEVENT:manager.page.ajaxEvent,__EVENTTARGET:manager.page.eventTarget};
var _f50={};
if(_f4e){
_f50=_f4b.toObject(_f4e);
}
return lang.mixin(_f4f,_f50);
},get:function(url,_f51){
if(_f51==""){
_f51=this.mainElement;
}
_f49.byId(_f51).set("href",url);
},page:function(url){
manager.disconnect();
_f47.location=url;
},ajax:function(url,_f52,_f53){
var _f54=this.fileUpload;
this.setBusy(_f53);
this.ajaxEvent="yes";
this.template="ajax";
this.fileUpload="no";
this.callbackFunction=_f52;
var _f55=new Manager.Ajax({url:url,form:_f53,content:manager.page.getContent(_f53),response_type:"JSON",callback_function:manager.page.callbackFunction});
_f55.call();
this.fileUpload=_f54;
},ajaxText:function(url,_f56,_f57){
var _f58=this.fileUpload;
this.setBusy(_f57);
this.ajaxEvent="yes";
this.template="ajax";
this.fileUpload="no";
var _f59=this.element;
this.element=_f56;
var _f5a=new Manager.Ajax({url:url,form:_f57,content:manager.page.getContent(_f57),response_type:"JSON",callback_function:manager.page.callback});
_f5a.call();
this.element=_f59;
this.fileUpload=_f58;
},postback:function(_f5b){
if(_f5b){
this.setBusy(_f5b);
this.element=manager.getLayoutElement(_f5b);
var _f5c=manager.getElementById("__ISFILEUPLOADPOST");
this.fileUpload=(_f5c!=null)?_f5c.value:this.fileUpload;
}
var url=_f49.byId(_f5b).get("action");
var _f5d=new Manager.Ajax({url:url,form:_f5b,content:manager.page.getContent(_f5b),response_type:"JSON",callback_function:manager.page.callback});
_f5d.call();
},callback:function(_f5e,_f5f){
var _f60=_f5f.args.content.__ELEMENT;
manager.page.updateElement(_f60,_f5e);
manager.page.clearBusy();
},updateElement:function(_f61,_f62){
if(_f62.base64){
var _f63=new _f4c();
var _f64=_f63.decode(_f62.base64);
_f62=eval("("+_f64+")");
}
if(_f62.data){
var html=_f62.data;
var id=_f62.id;
if(_f62.type=="page"){
if(_f61==""){
_f61="__updateElement";
}
var _f65=_f49.byId(_f61);
if(!_f65){
var div=_f4a.create("div");
div.id=_f61;
_f4a.place(div,_f47.body(),"last");
_f65=new Manager.ElementPane({content:html},_f61);
}
try{
_f48.forEach(_f65.getDescendants(),function(_f66){
if(_f49.byId(_f66.id)){
_f66.destroyRecursive();
}
});
_f65.setContent(html);
}
catch(err){
}
}
if(_f62.type=="prompt"){
manager.doPrompt(id,html);
}
if(_f62.type=="window"){
manager.doWindow(_f62.data);
}
if(_f62.type=="file"){
manager.doFile(_f62.data,id);
}
if(manager.onLoad[id]){
manager.onLoad[id].apply();
}
}
},setBusy:function(id){
var use=manager.getElementById("useSetBusy");
if(use&&(use.value=="no")){
return;
}
if(_f49.byId("page_standby")){
this.clearBusy(id);
}
this.standby=new _f4d({target:id,id:"page_standby",text:this.i18n.PLEASE_WAIT});
document.body.appendChild(this.standby.domNode);
this.standby.startup();
this.standby.show();
},clearBusy:function(){
if(_f49.byId("page_standby")){
_f49.byId("page_standby").hide();
_f49.byId("page_standby").destroy();
}
}});
});
},"dojo/text":function(){
define(["./_base/kernel","require","./has","./request"],function(dojo,_f67,has,_f68){
var _f69;
if(1){
_f69=function(url,sync,load){
_f68(url,{sync:!!sync}).then(load);
};
}else{
if(_f67.getText){
_f69=_f67.getText;
}else{
console.error("dojo/text plugin failed to load because loader does not support getText");
}
}
var _f6a={},_f6b=function(text){
if(text){
text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");
var _f6c=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
if(_f6c){
text=_f6c[1];
}
}else{
text="";
}
return text;
},_f6d={},_f6e={};
dojo.cache=function(_f6f,url,_f70){
var key;
if(typeof _f6f=="string"){
if(/\//.test(_f6f)){
key=_f6f;
_f70=url;
}else{
key=_f67.toUrl(_f6f.replace(/\./g,"/")+(url?("/"+url):""));
}
}else{
key=_f6f+"";
_f70=url;
}
var val=(_f70!=undefined&&typeof _f70!="string")?_f70.value:_f70,_f71=_f70&&_f70.sanitize;
if(typeof val=="string"){
_f6a[key]=val;
return _f71?_f6b(val):val;
}else{
if(val===null){
delete _f6a[key];
return null;
}else{
if(!(key in _f6a)){
_f69(key,true,function(text){
_f6a[key]=text;
});
}
return _f71?_f6b(_f6a[key]):_f6a[key];
}
}
};
return {dynamic:true,normalize:function(id,_f72){
var _f73=id.split("!"),url=_f73[0];
return (/^\./.test(url)?_f72(url):url)+(_f73[1]?"!"+_f73[1]:"");
},load:function(id,_f74,load){
var _f75=id.split("!"),_f76=_f75.length>1,_f77=_f75[0],url=_f74.toUrl(_f75[0]),_f78="url:"+url,text=_f6d,_f79=function(text){
load(_f76?_f6b(text):text);
};
if(_f77 in _f6a){
text=_f6a[_f77];
}else{
if(_f74.cache&&_f78 in _f74.cache){
text=_f74.cache[_f78];
}else{
if(url in _f6a){
text=_f6a[url];
}
}
}
if(text===_f6d){
if(_f6e[url]){
_f6e[url].push(_f79);
}else{
var _f7a=_f6e[url]=[_f79];
_f69(url,!_f74.async,function(text){
_f6a[_f77]=_f6a[url]=text;
for(var i=0;i<_f7a.length;){
_f7a[i++](text);
}
delete _f6e[url];
});
}
}else{
_f79(text);
}
}};
});
},"manager/ElementPane":function(){
define("manager/ElementPane",["dojo/_base/declare","dojo/query","dojox/layout/ContentPane"],function(_f7b,_f7c,_f7d){
return _f7b("Manager.ElementPane",[_f7d],{executeScripts:true,baseClass:"mElement",onLoad:function(){
var node=_f7c("#"+this.id+" div.mScripts");
if(node.length){
manager.onLoad[node[0].id].apply();
manager.onLoad[node[0].id]=null;
}
},cleanContent:true});
});
},"dojo/i18n":function(){
define(["./_base/kernel","require","./has","./_base/array","./_base/config","./_base/lang","./_base/xhr","./json","module"],function(dojo,_f7e,has,_f7f,_f80,lang,xhr,json,_f81){
has.add("dojo-preload-i18n-Api",1);
1||has.add("dojo-v1x-i18n-Api",1);
var _f82=dojo.i18n={},_f83=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,_f84=function(root,_f85,_f86,_f87){
for(var _f88=[_f86+_f87],_f89=_f85.split("-"),_f8a="",i=0;i<_f89.length;i++){
_f8a+=(_f8a?"-":"")+_f89[i];
if(!root||root[_f8a]){
_f88.push(_f86+_f8a+"/"+_f87);
_f88.specificity=_f8a;
}
}
return _f88;
},_f8b={},_f8c=function(_f8d,_f8e,_f8f){
_f8f=_f8f?_f8f.toLowerCase():dojo.locale;
_f8d=_f8d.replace(/\./g,"/");
_f8e=_f8e.replace(/\./g,"/");
return (/root/i.test(_f8f))?(_f8d+"/nls/"+_f8e):(_f8d+"/nls/"+_f8f+"/"+_f8e);
},_f90=dojo.getL10nName=function(_f91,_f92,_f93){
return _f91=_f81.id+"!"+_f8c(_f91,_f92,_f93);
},_f94=function(_f95,_f96,_f97,_f98,_f99,load){
_f95([_f96],function(root){
var _f9a=lang.clone(root.root||root.ROOT),_f9b=_f84(!root._v1x&&root,_f99,_f97,_f98);
_f95(_f9b,function(){
for(var i=1;i<_f9b.length;i++){
_f9a=lang.mixin(lang.clone(_f9a),arguments[i]);
}
var _f9c=_f96+"/"+_f99;
_f8b[_f9c]=_f9a;
_f9a.$locale=_f9b.specificity;
load();
});
});
},_f9d=function(id,_f9e){
return /^\./.test(id)?_f9e(id):id;
},_f9f=function(_fa0){
var list=_f80.extraLocale||[];
list=lang.isArray(list)?list:[list];
list.push(_fa0);
return list;
},load=function(id,_fa1,load){
if(has("dojo-preload-i18n-Api")){
var _fa2=id.split("*"),_fa3=_fa2[1]=="preload";
if(_fa3){
if(!_f8b[id]){
_f8b[id]=1;
_fa4(_fa2[2],json.parse(_fa2[3]),1,_fa1);
}
load(1);
}
if(_fa3||_fa5(id,_fa1,load)){
return;
}
}
var _fa6=_f83.exec(id),_fa7=_fa6[1]+"/",_fa8=_fa6[5]||_fa6[4],_fa9=_fa7+_fa8,_faa=(_fa6[5]&&_fa6[4]),_fab=_faa||dojo.locale||"",_fac=_fa9+"/"+_fab,_fad=_faa?[_fab]:_f9f(_fab),_fae=_fad.length,_faf=function(){
if(!--_fae){
load(lang.delegate(_f8b[_fac]));
}
};
_f7f.forEach(_fad,function(_fb0){
var _fb1=_fa9+"/"+_fb0;
if(has("dojo-preload-i18n-Api")){
_fb2(_fb1);
}
if(!_f8b[_fb1]){
_f94(_fa1,_fa9,_fa7,_fa8,_fb0,_faf);
}else{
_faf();
}
});
};
if(has("dojo-unit-tests")){
var _fb3=_f82.unitTests=[];
}
if(has("dojo-preload-i18n-Api")||1){
var _fb4=_f82.normalizeLocale=function(_fb5){
var _fb6=_fb5?_fb5.toLowerCase():dojo.locale;
return _fb6=="root"?"ROOT":_fb6;
},isXd=function(mid,_fb7){
return (1&&1)?_fb7.isXdUrl(_f7e.toUrl(mid+".js")):true;
},_fb8=0,_fb9=[],_fa4=_f82._preloadLocalizations=function(_fba,_fbb,_fbc,_fbd){
_fbd=_fbd||_f7e;
function _fbe(mid,_fbf){
if(isXd(mid,_fbd)||_fbc){
_fbd([mid],_fbf);
}else{
_fc9([mid],_fbf,_fbd);
}
};
function _fc0(_fc1,func){
var _fc2=_fc1.split("-");
while(_fc2.length){
if(func(_fc2.join("-"))){
return;
}
_fc2.pop();
}
func("ROOT");
};
function _fc3(_fc4){
_fc4=_fb4(_fc4);
_fc0(_fc4,function(loc){
if(_f7f.indexOf(_fbb,loc)>=0){
var mid=_fba.replace(/\./g,"/")+"_"+loc;
_fb8++;
_fbe(mid,function(_fc5){
for(var p in _fc5){
_f8b[_f7e.toAbsMid(p)+"/"+loc]=_fc5[p];
}
--_fb8;
while(!_fb8&&_fb9.length){
load.apply(null,_fb9.shift());
}
});
return true;
}
return false;
});
};
_fc3();
_f7f.forEach(dojo.config.extraLocale,_fc3);
},_fa5=function(id,_fc6,load){
if(_fb8){
_fb9.push([id,_fc6,load]);
}
return _fb8;
},_fb2=function(){
};
}
if(1){
var _fc7={},_fc8=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},"+"\t   require = function(){define.called = 1;};"+"try{"+"define.called = 0;"+"eval(__bundle);"+"if(define.called==1)"+"return __amdValue;"+"if((__checkForLegacyModules = __checkForLegacyModules(__mid)))"+"return __checkForLegacyModules;"+"}catch(e){}"+"try{"+"return eval('('+__bundle+')');"+"}catch(e){"+"return e;"+"}"),_fc9=function(deps,_fca,_fcb){
var _fcc=[];
_f7f.forEach(deps,function(mid){
var url=_fcb.toUrl(mid+".js");
function load(text){
var _fcd=_fc8(text,_fb2,mid,_fc7);
if(_fcd===_fc7){
_fcc.push(_f8b[url]=_fc7.result);
}else{
if(_fcd instanceof Error){
console.error("failed to evaluate i18n bundle; url="+url,_fcd);
_fcd={};
}
_fcc.push(_f8b[url]=(/nls\/[^\/]+\/[^\/]+$/.test(url)?_fcd:{root:_fcd,_v1x:1}));
}
};
if(_f8b[url]){
_fcc.push(_f8b[url]);
}else{
var _fce=_fcb.syncLoadNls(mid);
if(_fce){
_fcc.push(_fce);
}else{
if(!xhr){
try{
_fcb.getText(url,true,load);
}
catch(e){
_fcc.push(_f8b[url]={});
}
}else{
xhr.get({url:url,sync:true,load:load,error:function(){
_fcc.push(_f8b[url]={});
}});
}
}
}
});
_fca&&_fca.apply(null,_fcc);
};
_fb2=function(_fcf){
for(var _fd0,_fd1=_fcf.split("/"),_fd2=dojo.global[_fd1[0]],i=1;_fd2&&i<_fd1.length-1;_fd2=_fd2[_fd1[i++]]){
}
if(_fd2){
_fd0=_fd2[_fd1[i]];
if(!_fd0){
_fd0=_fd2[_fd1[i].replace(/-/g,"_")];
}
if(_fd0){
_f8b[_fcf]=_fd0;
}
}
return _fd0;
};
_f82.getLocalization=function(_fd3,_fd4,_fd5){
var _fd6,_fd7=_f8c(_fd3,_fd4,_fd5);
load(_fd7,(!isXd(_fd7,_f7e)?function(deps,_fd8){
_fc9(deps,_fd8,_f7e);
}:_f7e),function(_fd9){
_fd6=_fd9;
});
return _fd6;
};
if(has("dojo-unit-tests")){
_fb3.push(function(doh){
doh.register("tests.i18n.unit",function(t){
var _fda;
_fda=_fc8("{prop:1}",_fb2,"nonsense",_fc7);
t.is({prop:1},_fda);
t.is(undefined,_fda[1]);
_fda=_fc8("({prop:1})",_fb2,"nonsense",_fc7);
t.is({prop:1},_fda);
t.is(undefined,_fda[1]);
_fda=_fc8("{'prop-x':1}",_fb2,"nonsense",_fc7);
t.is({"prop-x":1},_fda);
t.is(undefined,_fda[1]);
_fda=_fc8("({'prop-x':1})",_fb2,"nonsense",_fc7);
t.is({"prop-x":1},_fda);
t.is(undefined,_fda[1]);
_fda=_fc8("define({'prop-x':1})",_fb2,"nonsense",_fc7);
t.is(_fc7,_fda);
t.is({"prop-x":1},_fc7.result);
_fda=_fc8("define('some/module', {'prop-x':1})",_fb2,"nonsense",_fc7);
t.is(_fc7,_fda);
t.is({"prop-x":1},_fc7.result);
_fda=_fc8("this is total nonsense and should throw an error",_fb2,"nonsense",_fc7);
t.is(_fda instanceof Error,true);
});
});
}
}
return lang.mixin(_f82,{dynamic:true,normalize:_f9d,load:load,cache:_f8b,getL10nName:_f90});
});
},"manager/DateTextBox":function(){
define("manager/DateTextBox",["dojo/_base/declare","dijit/form/DateTextBox"],function(_fdb,_fdc){
return _fdb("Manager.DateTextBox",[_fdc],{managerFormat:{selector:"date",datePattern:"dd/MM/yyyy"},value:"",postMixInProperties:function(){
this.inherited(arguments);
this.value=dojo.date.locale.parse(this.value,this.managerFormat);
},serialize:function(_fdd,_fde){
return dojo.date.locale.format(_fdd,this.managerFormat).toUpperCase();
}});
});
},"dijit/ColorPalette":function(){
define(["require","dojo/text!./templates/ColorPalette.html","./_Widget","./_TemplatedMixin","./_PaletteMixin","./hccss","dojo/i18n","dojo/_base/Color","dojo/_base/declare","dojo/dom-construct","dojo/string","dojo/i18n!dojo/nls/colors","dojo/colors"],function(_fdf,_fe0,_fe1,_fe2,_fe3,has,i18n,_fe4,_fe5,_fe6,_fe7){
var _fe8=_fe5("dijit.ColorPalette",[_fe1,_fe2,_fe3],{palette:"7x10",_palettes:{"7x10":[["white","seashell","cornsilk","lemonchiffon","lightyellow","palegreen","paleturquoise","lightcyan","lavender","plum"],["lightgray","pink","bisque","moccasin","khaki","lightgreen","lightseagreen","lightskyblue","cornflowerblue","violet"],["silver","lightcoral","sandybrown","orange","palegoldenrod","chartreuse","mediumturquoise","skyblue","mediumslateblue","orchid"],["gray","red","orangered","darkorange","yellow","limegreen","darkseagreen","royalblue","slateblue","mediumorchid"],["dimgray","crimson","chocolate","coral","gold","forestgreen","seagreen","blue","blueviolet","darkorchid"],["darkslategray","firebrick","saddlebrown","sienna","olive","green","darkcyan","mediumblue","darkslateblue","darkmagenta"],["black","darkred","maroon","brown","darkolivegreen","darkgreen","midnightblue","navy","indigo","purple"]],"3x4":[["white","lime","green","blue"],["silver","yellow","fuchsia","navy"],["gray","red","purple","black"]]},templateString:_fe0,baseClass:"dijitColorPalette",_dyeFactory:function(_fe9,row,col,_fea){
return new this._dyeClass(_fe9,row,col,_fea);
},buildRendering:function(){
this.inherited(arguments);
this._dyeClass=_fe5(_fe8._Color,{palette:this.palette});
this._preparePalette(this._palettes[this.palette],i18n.getLocalization("dojo","colors",this.lang));
}});
_fe8._Color=_fe5("dijit._Color",_fe4,{template:"<span class='dijitInline dijitPaletteImg'>"+"<img src='${blankGif}' alt='${alt}' title='${title}' class='dijitColorPaletteSwatch' style='background-color: ${color}'/>"+"</span>",hcTemplate:"<span class='dijitInline dijitPaletteImg' style='position: relative; overflow: hidden; height: 12px; width: 14px;'>"+"<img src='${image}' alt='${alt}' title='${title}' style='position: absolute; left: ${left}px; top: ${top}px; ${size}'/>"+"</span>",_imagePaths:{"7x10":_fdf.toUrl("./themes/a11y/colors7x10.png"),"3x4":_fdf.toUrl("./themes/a11y/colors3x4.png")},constructor:function(_feb,row,col,_fec){
this._title=_fec;
this._row=row;
this._col=col;
this.setColor(_fe4.named[_feb]);
},getValue:function(){
return this.toHex();
},fillCell:function(cell,_fed){
var html=_fe7.substitute(has("highcontrast")?this.hcTemplate:this.template,{color:this.toHex(),blankGif:_fed,alt:this._title,title:this._title,image:this._imagePaths[this.palette].toString(),left:this._col*-20-5,top:this._row*-20-5,size:this.palette=="7x10"?"height: 145px; width: 206px":"height: 64px; width: 86px"});
_fe6.place(html,cell);
}});
return _fe8;
});
},"dojo/store/Cache":function(){
define(["../_base/lang","../when"],function(lang,when){
var _fee=function(_fef,_ff0,_ff1){
_ff1=_ff1||{};
return lang.delegate(_fef,{query:function(_ff2,_ff3){
var _ff4=_fef.query(_ff2,_ff3);
_ff4.forEach(function(_ff5){
if(!_ff1.isLoaded||_ff1.isLoaded(_ff5)){
_ff0.put(_ff5);
}
});
return _ff4;
},queryEngine:_fef.queryEngine||_ff0.queryEngine,get:function(id,_ff6){
return when(_ff0.get(id),function(_ff7){
return _ff7||when(_fef.get(id,_ff6),function(_ff8){
if(_ff8){
_ff0.put(_ff8,{id:id});
}
return _ff8;
});
});
},add:function(_ff9,_ffa){
return when(_fef.add(_ff9,_ffa),function(_ffb){
_ff0.add(_ff9&&typeof _ffb=="object"?_ffb:_ff9,_ffa);
return _ffb;
});
},put:function(_ffc,_ffd){
_ff0.remove((_ffd&&_ffd.id)||this.getIdentity(_ffc));
return when(_fef.put(_ffc,_ffd),function(_ffe){
_ff0.put(_ffc&&typeof _ffe=="object"?_ffe:_ffc,_ffd);
return _ffe;
});
},remove:function(id,_fff){
return when(_fef.remove(id,_fff),function(_1000){
return _ff0.remove(id,_fff);
});
},evict:function(id){
return _ff0.remove(id);
}});
};
lang.setObject("dojo.store.Cache",_fee);
return _fee;
});
},"dojox/editor/plugins/PasteFromWord":function(){
define(["dojo","dijit","dojox","dijit/_editor/_Plugin","dijit/_base/manager","dijit/_editor/RichText","dijit/form/Button","dijit/Dialog","dojox/html/format","dojo/_base/connect","dojo/_base/declare","dojo/i18n","dojo/string","dojo/i18n!dojox/editor/plugins/nls/PasteFromWord","dojo/i18n!dijit/nls/common","dojo/i18n!dijit/_editor/nls/commands"],function(dojo,dijit,dojox,_1001){
var _1002=dojo.declare("dojox.editor.plugins.PasteFromWord",_1001,{iconClassPrefix:"dijitAdditionalEditorIcon",width:"400px",height:"300px",_template:["<div class='dijitPasteFromWordEmbeddedRTE'>","<div style='width: ${width}; padding-top: 5px; padding-bottom: 5px;'>${instructions}</div>","<div id='${uId}_rte' style='width: ${width}; height: ${height}'></div>","<table style='width: ${width}' tabindex='-1'>","<tbody>","<tr>","<td align='center'>","<button type='button' dojoType='dijit.form.Button' id='${uId}_paste'>${paste}</button>","&nbsp;","<button type='button' dojoType='dijit.form.Button' id='${uId}_cancel'>${buttonCancel}</button>","</td>","</tr>","</tbody>","</table>","</div>"].join(""),_filters:[{regexp:/(<meta\s*[^>]*\s*>)|(<\s*link\s* href="file:[^>]*\s*>)|(<\/?\s*\w+:[^>]*\s*>)/gi,handler:""},{regexp:/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,handler:""},{regexp:/(class="Mso[^"]*")|(<!--(.|\s){1,}?-->)/gi,handler:""},{regexp:/(<p[^>]*>\s*(\&nbsp;|\u00A0)*\s*<\/p[^>]*>)|(<p[^>]*>\s*<font[^>]*>\s*(\&nbsp;|\u00A0)*\s*<\/\s*font\s*>\s<\/p[^>]*>)/ig,handler:""},{regexp:/(style="[^"]*mso-[^;][^"]*")|(style="margin:\s*[^;"]*;")/gi,handler:""},{regexp:/(<\s*script[^>]*>((.|\s)*?)<\\?\/\s*script\s*>)|(<\s*script\b([^<>]|\s)*>?)|(<[^>]*=(\s|)*[("|')]javascript:[^$1][(\s|.)]*[$1][^>]*>)/ig,handler:""},{regexp:/<(\/?)o\:p[^>]*>/gi,handler:""}],_initButton:function(){
this._filters=this._filters.slice(0);
var _1003=dojo.i18n.getLocalization("dojox.editor.plugins","PasteFromWord");
dojo.mixin(_1003,dojo.i18n.getLocalization("dijit","common"));
dojo.mixin(_1003,dojo.i18n.getLocalization("dijit._editor","commands"));
this.button=new dijit.form.Button({label:_1003["pasteFromWord"],showLabel:false,iconClass:this.iconClassPrefix+" "+this.iconClassPrefix+"PasteFromWord",tabIndex:"-1",onClick:dojo.hitch(this,"_openDialog")});
this._uId=dijit.getUniqueId(this.editor.id);
_1003.uId=this._uId;
_1003.width=this.width||"400px";
_1003.height=this.height||"300px";
this._dialog=new dijit.Dialog({title:_1003["pasteFromWord"]}).placeAt(dojo.body());
this._dialog.set("content",dojo.string.substitute(this._template,_1003));
dojo.style(dojo.byId(this._uId+"_rte"),"opacity",0.001);
this.connect(dijit.byId(this._uId+"_paste"),"onClick","_paste");
this.connect(dijit.byId(this._uId+"_cancel"),"onClick","_cancel");
this.connect(this._dialog,"onHide","_clearDialog");
},updateState:function(){
this.button.set("disabled",this.get("disabled"));
},setEditor:function(_1004){
this.editor=_1004;
this._initButton();
},_openDialog:function(){
this._dialog.show();
if(!this._rte){
setTimeout(dojo.hitch(this,function(){
this._rte=new dijit._editor.RichText({height:this.height||"300px"},this._uId+"_rte");
this._rte.startup();
this._rte.onLoadDeferred.addCallback(dojo.hitch(this,function(){
dojo.animateProperty({node:this._rte.domNode,properties:{opacity:{start:0.001,end:1}}}).play();
}));
}),100);
}
},_paste:function(){
var _1005=dojox.html.format.prettyPrint(this._rte.get("value"));
this._dialog.hide();
var i;
for(i=0;i<this._filters.length;i++){
var _1006=this._filters[i];
_1005=_1005.replace(_1006.regexp,_1006.handler);
}
_1005=dojox.html.format.prettyPrint(_1005);
this.editor.focus();
this.editor.execCommand("inserthtml",_1005);
},_cancel:function(){
this._dialog.hide();
},_clearDialog:function(){
this._rte.set("value","");
},destroy:function(){
if(this._rte){
this._rte.destroy();
}
if(this._dialog){
this._dialog.destroyRecursive();
}
delete this._dialog;
delete this._rte;
this.inherited(arguments);
}});
dojo.subscribe(dijit._scopeName+".Editor.getPlugin",null,function(o){
if(o.plugin){
return;
}
var name=o.args.name.toLowerCase();
if(name==="pastefromword"){
o.plugin=new _1002({width:("width" in o.args)?o.args.width:"400px",height:("height" in o.args)?o.args.width:"300px"});
}
});
return _1002;
});
},"dojo/cldr/nls/pt/currency":function(){
define({"HKD_displayName":"Dólar de Hong Kong","CHF_displayName":"Franco suíço","JPY_symbol":"JP¥","CAD_displayName":"Dólar canadense","HKD_symbol":"HK$","CNY_displayName":"Yuan chinês","USD_symbol":"US$","AUD_displayName":"Dólar australiano","JPY_displayName":"Iene japonês","CAD_symbol":"CA$","USD_displayName":"Dólar norte-americano","EUR_symbol":"€","CNY_symbol":"CN¥","GBP_displayName":"Libra esterlina britânica","GBP_symbol":"£","AUD_symbol":"AU$","EUR_displayName":"Euro"});
},"dijit/_CssStateMixin":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/domReady","dojo/touch","dojo/_base/window","./a11yclick","./registry"],function(array,_1007,dom,_1008,has,lang,on,_1009,touch,win,_100a,_100b){
var _100c=_1007("dijit._CssStateMixin",[],{hovering:false,active:false,_applyAttributes:function(){
this.inherited(arguments);
array.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){
this.watch(attr,lang.hitch(this,"_setStateClass"));
},this);
for(var ap in this.cssStateNodes||{}){
this._trackMouseState(this[ap],this.cssStateNodes[ap]);
}
this._trackMouseState(this.domNode,this.baseClass);
this._setStateClass();
},_cssMouseEvent:function(event){
if(!this.disabled){
switch(event.type){
case "mouseover":
case "MSPointerOver":
case "pointerover":
this._set("hovering",true);
this._set("active",this._mouseDown);
break;
case "mouseout":
case "MSPointerOut":
case "pointerout":
this._set("hovering",false);
this._set("active",false);
break;
case "mousedown":
case "touchstart":
case "MSPointerDown":
case "pointerdown":
case "keydown":
this._set("active",true);
break;
case "mouseup":
case "dojotouchend":
case "MSPointerUp":
case "pointerup":
case "keyup":
this._set("active",false);
break;
}
}
},_setStateClass:function(){
var _100d=this.baseClass.split(" ");
function _100e(_100f){
_100d=_100d.concat(array.map(_100d,function(c){
return c+_100f;
}),"dijit"+_100f);
};
if(!this.isLeftToRight()){
_100e("Rtl");
}
var _1010=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");
if(this.checked){
_100e(_1010);
}
if(this.state){
_100e(this.state);
}
if(this.selected){
_100e("Selected");
}
if(this._opened){
_100e("Opened");
}
if(this.disabled){
_100e("Disabled");
}else{
if(this.readOnly){
_100e("ReadOnly");
}else{
if(this.active){
_100e("Active");
}else{
if(this.hovering){
_100e("Hover");
}
}
}
}
if(this.focused){
_100e("Focused");
}
var tn=this.stateNode||this.domNode,_1011={};
array.forEach(tn.className.split(" "),function(c){
_1011[c]=true;
});
if("_stateClasses" in this){
array.forEach(this._stateClasses,function(c){
delete _1011[c];
});
}
array.forEach(_100d,function(c){
_1011[c]=true;
});
var _1012=[];
for(var c in _1011){
_1012.push(c);
}
tn.className=_1012.join(" ");
this._stateClasses=_100d;
},_subnodeCssMouseEvent:function(node,clazz,evt){
if(this.disabled||this.readOnly){
return;
}
function hover(_1013){
_1008.toggle(node,clazz+"Hover",_1013);
};
function _1014(_1015){
_1008.toggle(node,clazz+"Active",_1015);
};
function _1016(_1017){
_1008.toggle(node,clazz+"Focused",_1017);
};
switch(evt.type){
case "mouseover":
case "MSPointerOver":
case "pointerover":
hover(true);
break;
case "mouseout":
case "MSPointerOut":
case "pointerout":
hover(false);
_1014(false);
break;
case "mousedown":
case "touchstart":
case "MSPointerDown":
case "pointerdown":
case "keydown":
_1014(true);
break;
case "mouseup":
case "MSPointerUp":
case "pointerup":
case "dojotouchend":
case "keyup":
_1014(false);
break;
case "focus":
case "focusin":
_1016(true);
break;
case "blur":
case "focusout":
_1016(false);
break;
}
},_trackMouseState:function(node,clazz){
node._cssState=clazz;
}});
_1009(function(){
function _1018(evt,_1019,_101a){
if(_101a&&dom.isDescendant(_101a,_1019)){
return;
}
for(var node=_1019;node&&node!=_101a;node=node.parentNode){
if(node._cssState){
var _101b=_100b.getEnclosingWidget(node);
if(_101b){
if(node==_101b.domNode){
_101b._cssMouseEvent(evt);
}else{
_101b._subnodeCssMouseEvent(node,node._cssState,evt);
}
}
}
}
};
var body=win.body(),_101c;
on(body,touch.over,function(evt){
_1018(evt,evt.target,evt.relatedTarget);
});
on(body,touch.out,function(evt){
_1018(evt,evt.target,evt.relatedTarget);
});
on(body,_100a.press,function(evt){
_101c=evt.target;
_1018(evt,_101c);
});
on(body,_100a.release,function(evt){
_1018(evt,_101c);
_101c=null;
});
on(body,"focusin, focusout",function(evt){
var node=evt.target;
if(node._cssState&&!node.getAttribute("widgetId")){
var _101d=_100b.getEnclosingWidget(node);
if(_101d){
_101d._subnodeCssMouseEvent(node,node._cssState,evt);
}
}
});
});
return _100c;
});
},"dojo/dnd/Source":function(){
define(["../_base/array","../_base/declare","../_base/kernel","../_base/lang","../dom-class","../dom-geometry","../mouse","../ready","../topic","./common","./Selector","./Manager"],function(array,_101e,_101f,lang,_1020,_1021,mouse,ready,topic,dnd,_1022,_1023){
if(!_101f.isAsync){
ready(0,function(){
var _1024=["dojo/dnd/AutoSource","dojo/dnd/Target"];
require(_1024);
});
}
var _1025=_101e("dojo.dnd.Source",_1022,{isSource:true,horizontal:false,copyOnly:false,selfCopy:false,selfAccept:true,skipForm:false,withHandles:false,autoSync:false,delay:0,accept:["text"],generateText:true,constructor:function(node,_1026){
lang.mixin(this,lang.mixin({},_1026));
var type=this.accept;
if(type.length){
this.accept={};
for(var i=0;i<type.length;++i){
this.accept[type[i]]=1;
}
}
this.isDragging=false;
this.mouseDown=false;
this.targetAnchor=null;
this.targetBox=null;
this.before=true;
this._lastX=0;
this._lastY=0;
this.sourceState="";
if(this.isSource){
_1020.add(this.node,"dojoDndSource");
}
this.targetState="";
if(this.accept){
_1020.add(this.node,"dojoDndTarget");
}
if(this.horizontal){
_1020.add(this.node,"dojoDndHorizontal");
}
this.topics=[topic.subscribe("/dnd/source/over",lang.hitch(this,"onDndSourceOver")),topic.subscribe("/dnd/start",lang.hitch(this,"onDndStart")),topic.subscribe("/dnd/drop",lang.hitch(this,"onDndDrop")),topic.subscribe("/dnd/cancel",lang.hitch(this,"onDndCancel"))];
},checkAcceptance:function(_1027,nodes){
if(this==_1027){
return !this.copyOnly||this.selfAccept;
}
for(var i=0;i<nodes.length;++i){
var type=_1027.getItem(nodes[i].id).type;
var flag=false;
for(var j=0;j<type.length;++j){
if(type[j] in this.accept){
flag=true;
break;
}
}
if(!flag){
return false;
}
}
return true;
},copyState:function(_1028,self){
if(_1028){
return true;
}
if(arguments.length<2){
self=this==_1023.manager().target;
}
if(self){
if(this.copyOnly){
return this.selfCopy;
}
}else{
return this.copyOnly;
}
return false;
},destroy:function(){
_1025.superclass.destroy.call(this);
array.forEach(this.topics,function(t){
t.remove();
});
this.targetAnchor=null;
},onMouseMove:function(e){
if(this.isDragging&&this.targetState=="Disabled"){
return;
}
_1025.superclass.onMouseMove.call(this,e);
var m=_1023.manager();
if(!this.isDragging){
if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){
var nodes=this.getSelectedNodes();
if(nodes.length){
m.startDrag(this,nodes,this.copyState(dnd.getCopyKeyState(e),true));
}
}
}
if(this.isDragging){
var _1029=false;
if(this.current){
if(!this.targetBox||this.targetAnchor!=this.current){
this.targetBox=_1021.position(this.current,true);
}
if(this.horizontal){
_1029=(e.pageX-this.targetBox.x<this.targetBox.w/2)==_1021.isBodyLtr(this.current.ownerDocument);
}else{
_1029=(e.pageY-this.targetBox.y)<(this.targetBox.h/2);
}
}
if(this.current!=this.targetAnchor||_1029!=this.before){
this._markTargetAnchor(_1029);
m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));
}
}
},onMouseDown:function(e){
if(!this.mouseDown&&this._legalMouseDown(e)&&(!this.skipForm||!dnd.isFormElement(e))){
this.mouseDown=true;
this._lastX=e.pageX;
this._lastY=e.pageY;
_1025.superclass.onMouseDown.call(this,e);
}
},onMouseUp:function(e){
if(this.mouseDown){
this.mouseDown=false;
_1025.superclass.onMouseUp.call(this,e);
}
},onDndSourceOver:function(_102a){
if(this!==_102a){
this.mouseDown=false;
if(this.targetAnchor){
this._unmarkTargetAnchor();
}
}else{
if(this.isDragging){
var m=_1023.manager();
m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(this.current.id in this.selection)));
}
}
},onDndStart:function(_102b,nodes,copy){
if(this.autoSync){
this.sync();
}
if(this.isSource){
this._changeState("Source",this==_102b?(copy?"Copied":"Moved"):"");
}
var _102c=this.accept&&this.checkAcceptance(_102b,nodes);
this._changeState("Target",_102c?"":"Disabled");
if(this==_102b){
_1023.manager().overSource(this);
}
this.isDragging=true;
},onDndDrop:function(_102d,nodes,copy,_102e){
if(this==_102e){
this.onDrop(_102d,nodes,copy);
}
this.onDndCancel();
},onDndCancel:function(){
if(this.targetAnchor){
this._unmarkTargetAnchor();
this.targetAnchor=null;
}
this.before=true;
this.isDragging=false;
this.mouseDown=false;
this._changeState("Source","");
this._changeState("Target","");
},onDrop:function(_102f,nodes,copy){
if(this!=_102f){
this.onDropExternal(_102f,nodes,copy);
}else{
this.onDropInternal(nodes,copy);
}
},onDropExternal:function(_1030,nodes,copy){
var _1031=this._normalizedCreator;
if(this.creator){
this._normalizedCreator=function(node,hint){
return _1031.call(this,_1030.getItem(node.id).data,hint);
};
}else{
if(copy){
this._normalizedCreator=function(node){
var t=_1030.getItem(node.id);
var n=node.cloneNode(true);
n.id=dnd.getUniqueId();
return {node:n,data:t.data,type:t.type};
};
}else{
this._normalizedCreator=function(node){
var t=_1030.getItem(node.id);
_1030.delItem(node.id);
return {node:node,data:t.data,type:t.type};
};
}
}
this.selectNone();
if(!copy&&!this.creator){
_1030.selectNone();
}
this.insertNodes(true,nodes,this.before,this.current);
if(!copy&&this.creator){
_1030.deleteSelectedNodes();
}
this._normalizedCreator=_1031;
},onDropInternal:function(nodes,copy){
var _1032=this._normalizedCreator;
if(this.current&&this.current.id in this.selection){
return;
}
if(copy){
if(this.creator){
this._normalizedCreator=function(node,hint){
return _1032.call(this,this.getItem(node.id).data,hint);
};
}else{
this._normalizedCreator=function(node){
var t=this.getItem(node.id);
var n=node.cloneNode(true);
n.id=dnd.getUniqueId();
return {node:n,data:t.data,type:t.type};
};
}
}else{
if(!this.current){
return;
}
this._normalizedCreator=function(node){
var t=this.getItem(node.id);
return {node:node,data:t.data,type:t.type};
};
}
this._removeSelection();
this.insertNodes(true,nodes,this.before,this.current);
this._normalizedCreator=_1032;
},onDraggingOver:function(){
},onDraggingOut:function(){
},onOverEvent:function(){
_1025.superclass.onOverEvent.call(this);
_1023.manager().overSource(this);
if(this.isDragging&&this.targetState!="Disabled"){
this.onDraggingOver();
}
},onOutEvent:function(){
_1025.superclass.onOutEvent.call(this);
_1023.manager().outSource(this);
if(this.isDragging&&this.targetState!="Disabled"){
this.onDraggingOut();
}
},_markTargetAnchor:function(_1033){
if(this.current==this.targetAnchor&&this.before==_1033){
return;
}
if(this.targetAnchor){
this._removeItemClass(this.targetAnchor,this.before?"Before":"After");
}
this.targetAnchor=this.current;
this.targetBox=null;
this.before=_1033;
if(this.targetAnchor){
this._addItemClass(this.targetAnchor,this.before?"Before":"After");
}
},_unmarkTargetAnchor:function(){
if(!this.targetAnchor){
return;
}
this._removeItemClass(this.targetAnchor,this.before?"Before":"After");
this.targetAnchor=null;
this.targetBox=null;
this.before=true;
},_markDndStatus:function(copy){
this._changeState("Source",copy?"Copied":"Moved");
},_legalMouseDown:function(e){
if(e.type!="touchstart"&&!mouse.isLeft(e)){
return false;
}
if(!this.withHandles){
return true;
}
for(var node=e.target;node&&node!==this.node;node=node.parentNode){
if(_1020.contains(node,"dojoDndHandle")){
return true;
}
if(_1020.contains(node,"dojoDndItem")||_1020.contains(node,"dojoDndIgnore")){
break;
}
}
return false;
}});
return _1025;
});
},"dojox/embed/Flash":function(){
define(["dojo"],function(dojo){
var _1034,_1035;
var _1036=9;
var _1037="dojox-embed-flash-",_1038=0;
var _1039={expressInstall:false,width:320,height:240,swLiveConnect:"true",allowScriptAccess:"sameDomain",allowNetworking:"all",style:null,redirect:null};
function prep(_103a){
_103a=dojo.delegate(_1039,_103a);
if(!("path" in _103a)){
console.error("dojox.embed.Flash(ctor):: no path reference to a Flash movie was provided.");
return null;
}
if(!("id" in _103a)){
_103a.id=(_1037+_1038++);
}
return _103a;
};
if(dojo.isIE){
_1034=function(_103b){
_103b=prep(_103b);
if(!_103b){
return null;
}
var p;
var path=_103b.path;
if(_103b.vars){
var a=[];
for(p in _103b.vars){
a.push(p+"="+_103b.vars[p]);
}
_103b.params.FlashVars=a.join("&");
delete _103b.vars;
}
var s="<object id=\""+_103b.id+"\" "+"classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" "+"width=\""+_103b.width+"\" "+"height=\""+_103b.height+"\""+((_103b.style)?" style=\""+_103b.style+"\"":"")+">"+"<param name=\"movie\" value=\""+path+"\" />";
if(_103b.params){
for(p in _103b.params){
s+="<param name=\""+p+"\" value=\""+_103b.params[p]+"\" />";
}
}
s+="</object>";
return {id:_103b.id,markup:s};
};
_1035=(function(){
var _103c=10,_103d=null;
while(!_103d&&_103c>7){
try{
_103d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+_103c--);
}
catch(e){
}
}
if(_103d){
var v=_103d.GetVariable("$version").split(" ")[1].split(",");
return {major:(v[0]!=null)?parseInt(v[0]):0,minor:(v[1]!=null)?parseInt(v[1]):0,rev:(v[2]!=null)?parseInt(v[2]):0};
}
return {major:0,minor:0,rev:0};
})();
dojo.addOnWindowUnload(function(){
console.warn("***************UNLOAD");
var dummy=function(){
};
var objs=dojo.query("object").reverse().style("display","none").forEach(function(i){
for(var p in i){
if((p!="FlashVars")&&dojo.isFunction(i[p])){
try{
i[p]=dummy;
}
catch(e){
}
}
}
});
});
}else{
_1034=function(_103e){
_103e=prep(_103e);
if(!_103e){
return null;
}
var p;
var path=_103e.path;
if(_103e.vars){
var a=[];
for(p in _103e.vars){
a.push(p+"="+_103e.vars[p]);
}
_103e.params.flashVars=a.join("&");
delete _103e.vars;
}
var s="<embed type=\"application/x-shockwave-flash\" "+"src=\""+path+"\" "+"id=\""+_103e.id+"\" "+"width=\""+_103e.width+"\" "+"height=\""+_103e.height+"\""+((_103e.style)?" style=\""+_103e.style+"\" ":"")+"pluginspage=\""+window.location.protocol+"//www.adobe.com/go/getflashplayer\" ";
if(_103e.params){
for(p in _103e.params){
s+=" "+p+"=\""+_103e.params[p]+"\"";
}
}
s+=" />";
return {id:_103e.id,markup:s};
};
_1035=(function(){
var _103f=navigator.plugins["Shockwave Flash"];
if(_103f&&_103f.description){
var v=_103f.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".");
return {major:(v[0]!=null)?parseInt(v[0]):0,minor:(v[1]!=null)?parseInt(v[1]):0,rev:(v[2]!=null)?parseInt(v[2]):0};
}
return {major:0,minor:0,rev:0};
})();
}
var Flash=function(_1040,node){
if(location.href.toLowerCase().indexOf("file://")>-1){
throw new Error("dojox.embed.Flash can't be run directly from a file. To instatiate the required SWF correctly it must be run from a server, like localHost.");
}
this.available=dojox.embed.Flash.available;
this.minimumVersion=_1040.minimumVersion||_1036;
this.id=null;
this.movie=null;
this.domNode=null;
if(node){
node=dojo.byId(node);
}
setTimeout(dojo.hitch(this,function(){
if(_1040.expressInstall||this.available&&this.available>=this.minimumVersion){
if(_1040&&node){
this.init(_1040,node);
}else{
this.onError("embed.Flash was not provided with the proper arguments.");
}
}else{
if(!this.available){
this.onError("Flash is not installed.");
}else{
this.onError("Flash version detected: "+this.available+" is out of date. Minimum required: "+this.minimumVersion);
}
}
}),100);
};
dojo.extend(Flash,{onReady:function(movie){
},onLoad:function(movie){
},onError:function(msg){
},_onload:function(){
clearInterval(this._poller);
delete this._poller;
delete this._pollCount;
delete this._pollMax;
this.onLoad(this.movie);
},init:function(_1041,node){
this.destroy();
node=dojo.byId(node||this.domNode);
if(!node){
throw new Error("dojox.embed.Flash: no domNode reference has been passed.");
}
var p=0,_1042=false;
this._poller=null;
this._pollCount=0;
this._pollMax=15;
this.pollTime=100;
if(dojox.embed.Flash.initialized){
this.id=dojox.embed.Flash.place(_1041,node);
this.domNode=node;
setTimeout(dojo.hitch(this,function(){
this.movie=this.byId(this.id,_1041.doc);
this.onReady(this.movie);
this._poller=setInterval(dojo.hitch(this,function(){
try{
p=this.movie.PercentLoaded();
}
catch(e){
console.warn("this.movie.PercentLoaded() failed",e,this.movie);
}
if(p==100){
this._onload();
}else{
if(p==0&&this._pollCount++>this._pollMax){
clearInterval(this._poller);
throw new Error("Building SWF failed.");
}
}
}),this.pollTime);
}),1);
}
},_destroy:function(){
try{
this.domNode.removeChild(this.movie);
}
catch(e){
}
this.id=this.movie=this.domNode=null;
},destroy:function(){
if(!this.movie){
return;
}
var test=dojo.delegate({id:true,movie:true,domNode:true,onReady:true,onLoad:true});
for(var p in this){
if(!test[p]){
delete this[p];
}
}
if(this._poller){
dojo.connect(this,"onLoad",this,"_destroy");
}else{
this._destroy();
}
},byId:function(_1043,doc){
doc=doc||document;
if(doc.embeds[_1043]){
return doc.embeds[_1043];
}
if(doc[_1043]){
return doc[_1043];
}
if(window[_1043]){
return window[_1043];
}
if(document[_1043]){
return document[_1043];
}
return null;
}});
dojo.mixin(Flash,{minSupported:8,available:_1035.major,supported:(_1035.major>=_1035.required),minimumRequired:_1035.required,version:_1035,initialized:false,onInitialize:function(){
Flash.initialized=true;
},__ie_markup__:function(_1044){
return _1034(_1044);
},proxy:function(obj,_1045){
dojo.forEach((dojo.isArray(_1045)?_1045:[_1045]),function(item){
this[item]=dojo.hitch(this,function(){
return (function(){
return eval(this.movie.CallFunction("<invoke name=\""+item+"\" returntype=\"javascript\">"+"<arguments>"+dojo.map(arguments,function(item){
return __flash__toXML(item);
}).join("")+"</arguments>"+"</invoke>"));
}).apply(this,arguments||[]);
});
},obj);
}});
Flash.place=function(_1046,node){
var o=_1034(_1046);
node=dojo.byId(node);
if(!node){
node=dojo.doc.createElement("div");
node.id=o.id+"-container";
dojo.body().appendChild(node);
}
if(o){
node.innerHTML=o.markup;
return o.id;
}
return null;
};
Flash.onInitialize();
dojo.setObject("dojox.embed.Flash",Flash);
return Flash;
});
},"dijit/form/FilteringSelect":function(){
define(["dojo/_base/declare","dojo/_base/lang","dojo/when","./MappedTextBox","./ComboBoxMixin"],function(_1047,lang,when,_1048,_1049){
return _1047("dijit.form.FilteringSelect",[_1048,_1049],{required:true,_lastDisplayedValue:"",_isValidSubset:function(){
return this._opened;
},isValid:function(){
return !!this.item||(!this.required&&this.get("displayedValue")=="");
},_refreshState:function(){
if(!this.searchTimer){
this.inherited(arguments);
}
},_callbackSetLabel:function(_104a,query,_104b,_104c){
if((query&&query[this.searchAttr]!==this._lastQuery)||(!query&&_104a.length&&this.store.getIdentity(_104a[0])!=this._lastQuery)){
return;
}
if(!_104a.length){
this.set("value","",_104c||(_104c===undefined&&!this.focused),this.textbox.value,null);
}else{
this.set("item",_104a[0],_104c);
}
},_openResultList:function(_104d,query,_104e){
if(query[this.searchAttr]!==this._lastQuery){
return;
}
this.inherited(arguments);
if(this.item===undefined){
this.validate(true);
}
},_getValueAttr:function(){
return this.valueNode.value;
},_getValueField:function(){
return "value";
},_setValueAttr:function(value,_104f,_1050,item){
if(!this._onChangeActive){
_104f=null;
}
if(item===undefined){
if(value===null||value===""){
value="";
if(!lang.isString(_1050)){
this._setDisplayedValueAttr(_1050||"",_104f);
return;
}
}
var self=this;
this._lastQuery=value;
when(this.store.get(value),function(item){
self._callbackSetLabel(item?[item]:[],undefined,undefined,_104f);
});
}else{
this.valueNode.value=value;
this.inherited(arguments);
}
},_setItemAttr:function(item,_1051,_1052){
this.inherited(arguments);
this._lastDisplayedValue=this.textbox.value;
},_getDisplayQueryString:function(text){
return text.replace(/([\\\*\?])/g,"\\$1");
},_setDisplayedValueAttr:function(label,_1053){
if(label==null){
label="";
}
if(!this._created){
if(!("displayedValue" in this.params)){
return;
}
_1053=false;
}
if(this.store){
this.closeDropDown();
var query=lang.clone(this.query);
var qs=this._getDisplayQueryString(label),q;
if(this.store._oldAPI){
q=qs;
}else{
q=this._patternToRegExp(qs);
q.toString=function(){
return qs;
};
}
this._lastQuery=query[this.searchAttr]=q;
this.textbox.value=label;
this._lastDisplayedValue=label;
this._set("displayedValue",label);
var _1054=this;
var _1055={queryOptions:{ignoreCase:this.ignoreCase,deep:true}};
lang.mixin(_1055,this.fetchProperties);
this._fetchHandle=this.store.query(query,_1055);
when(this._fetchHandle,function(_1056){
_1054._fetchHandle=null;
_1054._callbackSetLabel(_1056||[],query,_1055,_1053);
},function(err){
_1054._fetchHandle=null;
if(!_1054._cancelingQuery){
console.error("dijit.form.FilteringSelect: "+err.toString());
}
});
}
},undo:function(){
this.set("displayedValue",this._lastDisplayedValue);
}});
});
},"dijit/_WidgetBase":function(){
define(["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","dojo/has!dojo-bidi?./_BidiMixin","./registry"],function(_1057,array,_1058,_1059,_105a,_105b,dom,_105c,_105d,_105e,_105f,_1060,has,_1061,lang,on,ready,_1062,topic,win,_1063,_1064,_1065){
has.add("dijit-legacy-requires",!_1061.isAsync);
has.add("dojo-bidi",false);
if(has("dijit-legacy-requires")){
ready(0,function(){
var _1066=["dijit/_base/manager"];
_1057(_1066);
});
}
var _1067={};
function _1068(obj){
var ret={};
for(var attr in obj){
ret[attr.toLowerCase()]=true;
}
return ret;
};
function _1069(attr){
return function(val){
_105c[val?"set":"remove"](this.domNode,attr,val);
this._set(attr,val);
};
};
function _106a(a,b){
return a===b||(a!==a&&b!==b);
};
var _106b=_105b("dijit._WidgetBase",[_1062,_1063],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_1069("lang"),dir:"",_setDirAttr:_1069("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){
this._set("ownerDocument",val);
},attributeMap:{},_blankGif:_1059.blankGif||_1057.toUrl("dojo/resources/blank.gif"),_introspect:function(){
var ctor=this.constructor;
if(!ctor._setterAttrs){
var proto=ctor.prototype,attrs=ctor._setterAttrs=[],onMap=(ctor._onMap={});
for(var name in proto.attributeMap){
attrs.push(name);
}
for(name in proto){
if(/^on/.test(name)){
onMap[name.substring(2).toLowerCase()]=name;
}
if(/^_set[A-Z](.*)Attr$/.test(name)){
name=name.charAt(4).toLowerCase()+name.substr(5,name.length-9);
if(!proto.attributeMap||!(name in proto.attributeMap)){
attrs.push(name);
}
}
}
}
},postscript:function(_106c,_106d){
this.create(_106c,_106d);
},create:function(_106e,_106f){
this._introspect();
this.srcNodeRef=dom.byId(_106f);
this._connects=[];
this._supportingWidgets=[];
if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){
this.id=this.srcNodeRef.id;
}
if(_106e){
this.params=_106e;
lang.mixin(this,_106e);
}
this.postMixInProperties();
if(!this.id){
this.id=_1065.getUniqueId(this.declaredClass.replace(/\./g,"_"));
if(this.params){
delete this.params.id;
}
}
this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);
this.ownerDocumentBody=win.body(this.ownerDocument);
_1065.add(this);
this.buildRendering();
var _1070;
if(this.domNode){
this._applyAttributes();
var _1071=this.srcNodeRef;
if(_1071&&_1071.parentNode&&this.domNode!==_1071){
_1071.parentNode.replaceChild(this.domNode,_1071);
_1070=true;
}
this.domNode.setAttribute("widgetId",this.id);
}
this.postCreate();
if(_1070){
delete this.srcNodeRef;
}
this._created=true;
},_applyAttributes:function(){
var _1072={};
for(var key in this.params||{}){
_1072[key]=this._get(key);
}
array.forEach(this.constructor._setterAttrs,function(key){
if(!(key in _1072)){
var val=this._get(key);
if(val){
this.set(key,val);
}
}
},this);
for(key in _1072){
this.set(key,_1072[key]);
}
},postMixInProperties:function(){
},buildRendering:function(){
if(!this.domNode){
this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");
}
if(this.baseClass){
var _1073=this.baseClass.split(" ");
if(!this.isLeftToRight()){
_1073=_1073.concat(array.map(_1073,function(name){
return name+"Rtl";
}));
}
_105d.add(this.domNode,_1073);
}
},postCreate:function(){
},startup:function(){
if(this._started){
return;
}
this._started=true;
array.forEach(this.getChildren(),function(obj){
if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){
obj.startup();
obj._started=true;
}
});
},destroyRecursive:function(_1074){
this._beingDestroyed=true;
this.destroyDescendants(_1074);
this.destroy(_1074);
},destroy:function(_1075){
this._beingDestroyed=true;
this.uninitialize();
function _1076(w){
if(w.destroyRecursive){
w.destroyRecursive(_1075);
}else{
if(w.destroy){
w.destroy(_1075);
}
}
};
array.forEach(this._connects,lang.hitch(this,"disconnect"));
array.forEach(this._supportingWidgets,_1076);
if(this.domNode){
array.forEach(_1065.findWidgets(this.domNode,this.containerNode),_1076);
}
this.destroyRendering(_1075);
_1065.remove(this.id);
this._destroyed=true;
},destroyRendering:function(_1077){
if(this.bgIframe){
this.bgIframe.destroy(_1077);
delete this.bgIframe;
}
if(this.domNode){
if(_1077){
_105c.remove(this.domNode,"widgetId");
}else{
_105e.destroy(this.domNode);
}
delete this.domNode;
}
if(this.srcNodeRef){
if(!_1077){
_105e.destroy(this.srcNodeRef);
}
delete this.srcNodeRef;
}
},destroyDescendants:function(_1078){
array.forEach(this.getChildren(),function(_1079){
if(_1079.destroyRecursive){
_1079.destroyRecursive(_1078);
}
});
},uninitialize:function(){
return false;
},_setStyleAttr:function(value){
var _107a=this.domNode;
if(lang.isObject(value)){
_1060.set(_107a,value);
}else{
if(_107a.style.cssText){
_107a.style.cssText+="; "+value;
}else{
_107a.style.cssText=value;
}
}
this._set("style",value);
},_attrToDom:function(attr,value,_107b){
_107b=arguments.length>=3?_107b:this.attributeMap[attr];
array.forEach(lang.isArray(_107b)?_107b:[_107b],function(_107c){
var _107d=this[_107c.node||_107c||"domNode"];
var type=_107c.type||"attribute";
switch(type){
case "attribute":
if(lang.isFunction(value)){
value=lang.hitch(this,value);
}
var _107e=_107c.attribute?_107c.attribute:(/^on[A-Z][a-zA-Z]*$/.test(attr)?attr.toLowerCase():attr);
if(_107d.tagName){
_105c.set(_107d,_107e,value);
}else{
_107d.set(_107e,value);
}
break;
case "innerText":
_107d.innerHTML="";
_107d.appendChild(this.ownerDocument.createTextNode(value));
break;
case "innerHTML":
_107d.innerHTML=value;
break;
case "class":
_105d.replace(_107d,value,this[attr]);
break;
}
},this);
},get:function(name){
var names=this._getAttrNames(name);
return this[names.g]?this[names.g]():this._get(name);
},set:function(name,value){
if(typeof name==="object"){
for(var x in name){
this.set(x,name[x]);
}
return this;
}
var names=this._getAttrNames(name),_107f=this[names.s];
if(lang.isFunction(_107f)){
var _1080=_107f.apply(this,Array.prototype.slice.call(arguments,1));
}else{
var _1081=this.focusNode&&!lang.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_1081]&&this[_1081].tagName,_1082=tag&&(_1067[tag]||(_1067[tag]=_1068(this[_1081]))),map=name in this.attributeMap?this.attributeMap[name]:names.s in this?this[names.s]:((_1082&&names.l in _1082&&typeof value!="function")||/^aria-|^data-|^role$/.test(name))?_1081:null;
if(map!=null){
this._attrToDom(name,value,map);
}
this._set(name,value);
}
return _1080||this;
},_attrPairNames:{},_getAttrNames:function(name){
var apn=this._attrPairNames;
if(apn[name]){
return apn[name];
}
var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){
return c.charAt(c.length-1).toUpperCase();
});
return (apn[name]={n:name+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});
},_set:function(name,value){
var _1083=this[name];
this[name]=value;
if(this._created&&!_106a(_1083,value)){
if(this._watchCallbacks){
this._watchCallbacks(name,_1083,value);
}
this.emit("attrmodified-"+name,{detail:{prevValue:_1083,newValue:value}});
}
},_get:function(name){
return this[name];
},emit:function(type,_1084,_1085){
_1084=_1084||{};
if(_1084.bubbles===undefined){
_1084.bubbles=true;
}
if(_1084.cancelable===undefined){
_1084.cancelable=true;
}
if(!_1084.detail){
_1084.detail={};
}
_1084.detail.widget=this;
var ret,_1086=this["on"+type];
if(_1086){
ret=_1086.apply(this,_1085?_1085:[_1084]);
}
if(this._started&&!this._beingDestroyed){
on.emit(this.domNode,type.toLowerCase(),_1084);
}
return ret;
},on:function(type,func){
var _1087=this._onMap(type);
if(_1087){
return _1058.after(this,_1087,func,true);
}
return this.own(on(this.domNode,type,func))[0];
},_onMap:function(type){
var ctor=this.constructor,map=ctor._onMap;
if(!map){
map=(ctor._onMap={});
for(var attr in ctor.prototype){
if(/^on/.test(attr)){
map[attr.replace(/^on/,"").toLowerCase()]=attr;
}
}
}
return map[typeof type=="string"&&type.toLowerCase()];
},toString:function(){
return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";
},getChildren:function(){
return this.containerNode?_1065.findWidgets(this.containerNode):[];
},getParent:function(){
return _1065.getEnclosingWidget(this.domNode.parentNode);
},connect:function(obj,event,_1088){
return this.own(_105a.connect(obj,event,this,_1088))[0];
},disconnect:function(_1089){
_1089.remove();
},subscribe:function(t,_108a){
return this.own(topic.subscribe(t,lang.hitch(this,_108a)))[0];
},unsubscribe:function(_108b){
_108b.remove();
},isLeftToRight:function(){
return this.dir?(this.dir=="ltr"):_105f.isBodyLtr(this.ownerDocument);
},isFocusable:function(){
return this.focus&&(_1060.get(this.domNode,"display")!="none");
},placeAt:function(_108c,_108d){
var _108e=!_108c.tagName&&_1065.byId(_108c);
if(_108e&&_108e.addChild&&(!_108d||typeof _108d==="number")){
_108e.addChild(this,_108d);
}else{
var ref=_108e?(_108e.containerNode&&!/after|before|replace/.test(_108d||"")?_108e.containerNode:_108e.domNode):dom.byId(_108c,this.ownerDocument);
_105e.place(this.domNode,ref,_108d);
if(!this._started&&(this.getParent()||{})._started){
this.startup();
}
}
return this;
},defer:function(fcn,delay){
var timer=setTimeout(lang.hitch(this,function(){
if(!timer){
return;
}
timer=null;
if(!this._destroyed){
lang.hitch(this,fcn)();
}
}),delay||0);
return {remove:function(){
if(timer){
clearTimeout(timer);
timer=null;
}
return null;
}};
}});
if(has("dojo-bidi")){
_106b.extend(_1064);
}
return _106b;
});
},"dojo/cookie":function(){
define(["./_base/kernel","./regexp"],function(dojo,_108f){
dojo.cookie=function(name,value,props){
var c=document.cookie,ret;
if(arguments.length==1){
var _1090=c.match(new RegExp("(?:^|; )"+_108f.escapeString(name)+"=([^;]*)"));
ret=_1090?decodeURIComponent(_1090[1]):undefined;
}else{
props=props||{};
var exp=props.expires;
if(typeof exp=="number"){
var d=new Date();
d.setTime(d.getTime()+exp*24*60*60*1000);
exp=props.expires=d;
}
if(exp&&exp.toUTCString){
props.expires=exp.toUTCString();
}
value=encodeURIComponent(value);
var _1091=name+"="+value,_1092;
for(_1092 in props){
_1091+="; "+_1092;
var _1093=props[_1092];
if(_1093!==true){
_1091+="="+_1093;
}
}
document.cookie=_1091;
}
return ret;
};
dojo.cookie.isSupported=function(){
if(!("cookieEnabled" in navigator)){
this("__djCookieTest__","CookiesAllowed");
navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";
if(navigator.cookieEnabled){
this("__djCookieTest__","",{expires:-1});
}
}
return navigator.cookieEnabled;
};
return dojo.cookie;
});
},"manager/GridInput":function(){
define("manager/GridInput",["dojo/_base/declare","dojo/store/Memory","dojo/store/Observable","dojo/json"],function(_1094,store,_1095,JSON){
return _1094("Manager.GridInput",[],{constructor:function(id,_1096,_1097){
this.idGridInput=id;
this.fields=_1096;
this.idField=manager.getElementById(id+"_id");
this.actionGrid=_1097;
this.table=manager.getElementById(id+"_gridInput");
this.rowCount=0;
this.gridInputStore=new store();
this.gridInputStore=_1095(this.gridInputStore);
this.gridInputQuery=this.gridInputStore.query();
this.gridInputQuery.observe(function(row,_1098,_1099){
if(_1099>-1){
}
});
},setData:function(){
var data=manager.getElementById(this.idGridInput+"_data");
data.value=JSON.stringify(this.gridInputStore.data);
},loadData:function(data){
for(var chave in data){
data[chave].id=++this.rowCount;
this.gridInputStore.add(data[chave]);
}
this.setData();
manager.doAjaxText(this.actionGrid,this.idGridInput+"_divGrid",this.idGridInput+"_divGrid");
},getInput:function(){
var _109a=this.fields;
var _109b=_109a.split(",");
var _109c={};
for(var i=0;i<_109b.length;i++){
var id=_109b[i];
var field=dijit.byId(id);
if(field!=null){
_109c[id]=field.get("value");
if(field.get("displayedValue")!=field.get("value")){
_109c[id+"_text"]=field.get("displayedValue");
}
}else{
var field=manager.getElementById(_109b[i]);
_109c[id]=field.value;
}
}
return _109c;
},select:function(data){
},edit:function(id){
var _109d=this.fields;
var _109e=_109d.split(",");
var _109f={};
var data=this.gridInputStore.get(id);
this.idField.value=id;
for(var i=0;i<_109e.length;i++){
var id=_109e[i];
var field=dijit.byId(id);
var value=data[id];
if(field!=null){
field.set("value",value);
}else{
var field=manager.getElementById(_109e[i]);
field.value=value;
}
}
},clearInput:function(){
var _10a0=this.fields;
var _10a1=_10a0.split(",");
var _10a2={};
var value="";
this.idField.value="";
for(var i=0;i<_10a1.length;i++){
var id=_10a1[i];
var field=dijit.byId(id);
if(field!=null){
field.set("value",value);
if(field.get("displayedValue")!=field.get("value")){
field.set("displayedValue",value);
}
}else{
var field=manager.getElementById(_10a1[i]);
field.value=value;
}
}
},add:function(){
var row=this.getInput();
if(this.gridInputStore.get(this.idField.value)){
row.id=this.idField.value;
this.gridInputStore.put(row);
}else{
row.id=++this.rowCount;
this.gridInputStore.add(row);
}
this.setData();
this.clearInput();
manager.doAjaxText(this.actionGrid,this.idGridInput+"_divGrid",this.idGridInput+"_divGrid");
},remove:function(id){
if(id){
this.gridInputStore.remove(id);
}else{
var div=manager.getElementById(this.idGridInput+"_divGrid");
var tbody=manager.getElementsByTagName("TBODY",div).item(0);
var rows=manager.getElementsByTagName("TR",tbody);
for(var i=0;i<rows.length;i++){
var _10a3=manager.getElementsByTagName("INPUT",rows[i]);
if(_10a3[0].type=="checkbox"){
if(_10a3[0].checked){
var id=_10a3[0].value;
this.gridInputStore.remove(id);
}
}
}
}
this.setData();
manager.doAjaxText(this.actionGrid,this.idGridInput+"_divGrid",this.idGridInput+"_divGrid");
}});
});
},"manager/Core":function(){
define("manager/Core",["dojo/_base/declare","dojo/_base/array","dojo/dom","dojo/dom-class","dojo/dom-style","dojo/on","dojo/parser","dijit/registry","dojo/i18n!./nls/messages","manager/MD5","manager/Window","manager/Form","manager/DialogSimple","manager/Page","manager/Ajax"],function(_10a4,array,dom,_10a5,_10a6,on,_10a7,_10a8,i18n,MD5,Win,Form,_10a9,Page,Ajax){
return {version:"Manager 1.1",md5:new MD5(),grid:null,webForm:null,connections:[],onSubmit:[],onLoad:[],i18n:i18n,action:"",page:new Page(),windows:{handle:[],sufix:0,base:window},type:function(o){
return !!o&&Object.prototype.toString.call(o).match(/(\w+)\]/)[1];
},getAction:function(){
return this.action;
},setAction:function(_10aa,_10ab){
this.action=_10ab;
if(_10aa){
_10a8.byId(_10aa).set("action",_10ab);
}
return _10ab;
},getWindow:function(_10ac){
return this.windows.handle[(_10ac!=""?_10ac:"current")];
},addWindow:function(_10ad){
var _10ae=_10a8.byId(_10ad);
if(!_10ae){
this.windows.handle[_10ad]=new Win(_10ad);
}
return this.windows.handle[_10ad];
},setWindow:function(_10af){
this.windows.handle["current"]=_10af;
},pushWindow:function(_10b0){
var win=this.windows.handle["current"];
_10b0.parent=win;
this.windows.handle["current"]=_10b0;
},popWindow:function(){
var win=this.windows.handle["current"];
this.windows.handle["current"]=win.parent;
},forms:{handle:[]},getForm:function(_10b1){
return this.forms.handle[_10b1];
},addForm:function(_10b2){
this.forms.handle[_10b2]=new Form(_10b2);
return this.forms.handle[_10b2];
},setForm:function(_10b3){
var form=this.getForm(_10b3);
this.webForm=(form?form:this.addForm(_10b3));
},getElementById:function(e){
if(typeof (e)!="string"){
return e;
}
if(document.getElementById){
e=dom.byId(e);
}else{
if(document.all){
e=document.all[e];
}else{
e=null;
}
}
return e;
},byId:function(id){
var _10b4=_10a8.byId(id);
if(_10b4){
var node=_10b4;
}else{
var node=dom.byId(id);
}
return node;
},getElementsByTagName:function(_10b5,p){
var list=null;
_10b5=_10b5||"*";
p=p||document;
if(p.getElementsByTagName){
list=p.getElementsByTagName(_10b5);
}
return list||new Array();
},setElementValueById:function(e,value){
var node=this.getElementById(e);
if(node!=null){
node.value=value;
}
},getElementValueById:function(e){
var node=this.getElementById(e);
if(node!=null){
return node.value;
}
return null;
},getParentForm:function(_10b6){
var node=dom.byId(_10b6);
root=dojo.doc;
while(node&&node!==root){
if(node.action!==undefined){
return node.id;
}
node=node.parentNode;
}
return null;
},getLayoutElement:function(_10b7){
var node=dom.byId(_10b7);
root=dojo.doc;
while(node&&node!==root){
if(_10a5.contains(node,"mElement")){
return node.id;
}
node=node.parentNode;
}
return null;
},parse:function(id){
try{
var byId=dom.byId(id);
if(byId){
_10a7.parse(byId);
}
}
catch(e){
}
},isHandler:function(url){
return (url.indexOf("index.php")>-1);
},registerEvents:function(_10b8){
array.forEach(_10b8,function(event){
manager.registerEvent(event[0],event[1],event[2],event[3],event[4]);
});
},registerEvent:function(id,event,_10b9,_10ba,_10bb){
try{
if(this.type(_10b9)=="Function"){
var _10bc=_10b9;
}else{
var _10bc=new Function("event",_10b9+(_10ba?" event.preventDefault();":""));
}
node=this.byId(id);
if(!node){
console.error("registerEvent "+id+":"+event+". Error: node not found!");
return null;
}
var _10bd=this.getLayoutElement(id);
this.connectionPush(_10bd,on(node,event,_10bc));
}
catch(e){
console.error("registerEvent "+id+":"+event+". Error: "+e);
}
},connectionPush:function(_10be,_10bf){
if(!this.connections[_10be]){
this.connections[_10be]=[];
}
this.connections[_10be].push(_10bf);
},connect:function(arg1,arg2,arg3,arg4,arg5,arg6){
var _10c0=this.getLayoutElement(arg1);
this.connectionPush(_10c0,on(arg1,arg2,arg3,arg4,arg5,arg6));
},disconnect:function(_10c1){
if(_10c1!=""){
array.forEach(this.connections[_10c1],function(_10c2){
_10c2.remove;
});
this.connections[_10c1].length=0;
}
},submit:function(_10c3){
if(_10c3){
if(this.onSubmit[_10c3]()){
this.page.postback(_10c3);
}
}else{
this.page.postback();
}
},doPost:function(_10c4){
this.submit(_10c4);
},doPostBack:function(_10c5){
var _10c6=this.getParentForm(_10c5);
this.page.eventTarget=_10c5;
this.submit(_10c6);
},doLinkButton:function(url,_10c7){
var _10c8=this.getParentForm(_10c7);
this.setAction(_10c8,url);
this.page.eventTarget=_10c7;
this.submit(_10c8);
},doAjax:function(url,_10c9,_10ca){
var _10cb=this.getParentForm(_10ca);
this.page.ajax(url,_10c9,_10cb);
},doAjaxText:function(url,_10cc,_10cd){
var _10ce=this.getParentForm(_10cd);
this.page.ajaxText(url,_10cc,_10ce);
},doRedirect:function(url){
window.location=url;
},doGet:function(url,_10cf){
this.disconnect(_10cf);
this.page.get(url,_10cf);
},doDialog:function(_10d0,url){
var _10d1=this.getWindow(_10d0);
if(!_10d1){
this.addWindow(_10d0);
}
this.getWindow(_10d0).setHref(url);
this.getWindow(_10d0).open();
},doPrintForm:function(url){
var w=screen.width*0.75;
var h=screen.height*0.6;
var print=window.open(url,"print","toolbar=no,width="+w+",height="+h+",scrollbars=yes,"+"top=0,left=0,statusbar=yes,resizeable=yes");
},doPrintFile:function(id){
var ok=confirm(this.i18n.PRINT_FILE);
if(ok){
this.doPostBack(id);
}
},doShowPDF:function(id){
var ok=confirm(this.i18n.SHOW_PDF);
if(ok){
this.doPostBack(id);
}
},doWindow:function(url,_10d2){
if((_10d2==null)||(_10d2=="")){
_10d2="managerWindow";
}
var w=screen.width*0.95;
var h=screen.height*0.8;
var wnd=window.open(url,_10d2,"toolbar=no,width="+w+",height="+h+",scrollbars=yes,"+"top=0,left=0,statusbar=yes,resizeable=yes");
},doFile:function(url,_10d3){
url=url+"?filename="+(_10d3?_10d3:"download");
window.location.replace(url);
},doPrintURL:function(url){
var ok=confirm(this.i18n.PRINT_URL);
if(ok){
var tg=window.name;
var form=document.forms[0];
var w=screen.width*0.95;
var h=screen.height*0.8;
var print=window.open(url,"print","toolbar=no,width="+w+",height="+h+",scrollbars=yes,"+"top=0,left=0,statusbar=yes,resizeable=yes");
print.focus();
window.print();
form.target=tg;
}
},doPrompt:function(_10d4,html){
var _10d5=_10a8.byId(_10d4);
if(!_10d5){
_10d5=new _10a9({id:_10d4});
}
if(html){
_10d5.set("content",html);
}
_10d5.show();
},hover:function(id,over,out){
var _10d6=this.byId(id);
on(_10d6,"onmouseenter",over);
on(_10d6,"onmouseleave",out);
},hide:function(id){
if(_10a6.get(this.byId(id),"display")!="none"){
_10a6.set(this.byId(id),"display","none");
}
},show:function(id){
if(_10a6.get(this.byId(id),"display")=="none"){
_10a6.set(this.byId(id),"display","block");
}
},toggle:function(id){
if(_10a6.get(this.byId(id),"display")=="none"){
_10a6.set(this.byId(id),"display","block");
}else{
_10a6.set(this.byId(id),"display","none");
}
}};
});
},"dijit/MenuBarItem":function(){
define(["dojo/_base/declare","./MenuItem","dojo/text!./templates/MenuBarItem.html"],function(_10d7,_10d8,_10d9){
var _10da=_10d7("dijit._MenuBarItemMixin",null,{templateString:_10d9,_setIconClassAttr:null});
var _10db=_10d7("dijit.MenuBarItem",[_10d8,_10da],{});
_10db._MenuBarItemMixin=_10da;
return _10db;
});
},"dijit/_editor/html":function(){
define(["dojo/_base/array","dojo/_base/lang","dojo/sniff"],function(array,lang,has){
var _10dc={};
lang.setObject("dijit._editor.html",_10dc);
var _10dd=_10dc.escapeXml=function(str,_10de){
str=str.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;");
if(!_10de){
str=str.replace(/'/gm,"&#39;");
}
return str;
};
_10dc.getNodeHtml=function(node){
var _10df=[];
_10dc.getNodeHtmlHelper(node,_10df);
return _10df.join("");
};
_10dc.getNodeHtmlHelper=function(node,_10e0){
switch(node.nodeType){
case 1:
var lName=node.nodeName.toLowerCase();
if(!lName||lName.charAt(0)=="/"){
return "";
}
_10e0.push("<",lName);
var _10e1=[],_10e2={};
var attr;
if(has("dom-attributes-explicit")||has("dom-attributes-specified-flag")){
var i=0;
while((attr=node.attributes[i++])){
var n=attr.name;
if(n.substr(0,3)!=="_dj"&&(!has("dom-attributes-specified-flag")||attr.specified)&&!(n in _10e2)){
var v=attr.value;
if(n=="src"||n=="href"){
if(node.getAttribute("_djrealurl")){
v=node.getAttribute("_djrealurl");
}
}
if(has("ie")===8&&n==="style"){
v=v.replace("HEIGHT:","height:").replace("WIDTH:","width:");
}
_10e1.push([n,v]);
_10e2[n]=v;
}
}
}else{
var clone=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false);
var s=clone.outerHTML;
var _10e3=/[\w-]+=("[^"]*"|'[^']*'|\S*)/gi;
var _10e4=s.match(_10e3);
s=s.substr(0,s.indexOf(">"));
array.forEach(_10e4,function(attr){
if(attr){
var idx=attr.indexOf("=");
if(idx>0){
var key=attr.substring(0,idx);
if(key.substr(0,3)!="_dj"){
if(key=="src"||key=="href"){
if(node.getAttribute("_djrealurl")){
_10e1.push([key,node.getAttribute("_djrealurl")]);
return;
}
}
var val,match;
switch(key){
case "style":
val=node.style.cssText.toLowerCase();
break;
case "class":
val=node.className;
break;
case "width":
if(lName==="img"){
match=/width=(\S+)/i.exec(s);
if(match){
val=match[1];
}
break;
}
case "height":
if(lName==="img"){
match=/height=(\S+)/i.exec(s);
if(match){
val=match[1];
}
break;
}
default:
val=node.getAttribute(key);
}
if(val!=null){
_10e1.push([key,val.toString()]);
}
}
}
}
},this);
}
_10e1.sort(function(a,b){
return a[0]<b[0]?-1:(a[0]==b[0]?0:1);
});
var j=0;
while((attr=_10e1[j++])){
_10e0.push(" ",attr[0],"=\"",(typeof attr[1]==="string"?_10dd(attr[1],true):attr[1]),"\"");
}
switch(lName){
case "br":
case "hr":
case "img":
case "input":
case "base":
case "meta":
case "area":
case "basefont":
_10e0.push(" />");
break;
case "script":
_10e0.push(">",node.innerHTML,"</",lName,">");
break;
default:
_10e0.push(">");
if(node.hasChildNodes()){
_10dc.getChildrenHtmlHelper(node,_10e0);
}
_10e0.push("</",lName,">");
}
break;
case 4:
case 3:
_10e0.push(_10dd(node.nodeValue,true));
break;
case 8:
_10e0.push("<!--",_10dd(node.nodeValue,true),"-->");
break;
default:
_10e0.push("<!-- Element not recognized - Type: ",node.nodeType," Name: ",node.nodeName,"-->");
}
};
_10dc.getChildrenHtml=function(node){
var _10e5=[];
_10dc.getChildrenHtmlHelper(node,_10e5);
return _10e5.join("");
};
_10dc.getChildrenHtmlHelper=function(dom,_10e6){
if(!dom){
return;
}
var nodes=dom["childNodes"]||dom;
var _10e7=!has("ie")||nodes!==dom;
var node,i=0;
while((node=nodes[i++])){
if(!_10e7||node.parentNode==dom){
_10dc.getNodeHtmlHelper(node,_10e6);
}
}
};
return _10dc;
});
},"dojo/uacss":function(){
define(["./dom-geometry","./_base/lang","./domReady","./sniff","./_base/window"],function(_10e8,lang,_10e9,has,_10ea){
var html=_10ea.doc.documentElement,ie=has("ie"),opera=has("opera"),maj=Math.floor,ff=has("ff"),_10eb=_10e8.boxModel.replace(/-/,""),_10ec={"dj_quirks":has("quirks"),"dj_opera":opera,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla"),"dj_ios":has("ios"),"dj_android":has("android")};
if(ie){
_10ec["dj_ie"]=true;
_10ec["dj_ie"+maj(ie)]=true;
_10ec["dj_iequirks"]=has("quirks");
}
if(ff){
_10ec["dj_ff"+maj(ff)]=true;
}
_10ec["dj_"+_10eb]=true;
var _10ed="";
for(var clz in _10ec){
if(_10ec[clz]){
_10ed+=clz+" ";
}
}
html.className=lang.trim(html.className+" "+_10ed);
_10e9(function(){
if(!_10e8.isBodyLtr()){
var _10ee="dj_rtl dijitRtl "+_10ed.replace(/ /g,"-rtl ");
html.className=lang.trim(html.className+" "+_10ee+"dj_rtl dijitRtl "+_10ed.replace(/ /g,"-rtl "));
}
});
return has;
});
},"dijit/form/nls/validate":function(){
define({root:({invalidMessage:"The value entered is not valid.",missingMessage:"This value is required.",rangeMessage:"This value is out of range."}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});
},"dijit/form/nls/pt/validate":function(){
define(({invalidMessage:"O valor inserido não é válido.",missingMessage:"Este valor é necessário.",rangeMessage:"Este valor está fora do intervalo. "}));
},"dijit/form/nls/pt/validate":function(){
define(({invalidMessage:"O valor inserido não é válido.",missingMessage:"Este valor é necessário.",rangeMessage:"Este valor está fora do intervalo. "}));
},"dgrid/util/mouse":function(){
define(["dojo/on","dojo/dom","dojo/query"],function(on,dom){
function _10ef(_10f0,type){
return function(node,_10f1){
return on(node,_10f0+":"+type,function(evt){
if(!dom.isDescendant(evt.relatedTarget,this)){
return _10f1.call(this,evt);
}
});
};
};
return {enterRow:_10ef(".dgrid-content .dgrid-row","mouseover"),enterCell:_10ef(".dgrid-content .dgrid-cell","mouseover"),enterHeaderCell:_10ef(".dgrid-header .dgrid-cell","mouseover"),leaveRow:_10ef(".dgrid-content .dgrid-row","mouseout"),leaveCell:_10ef(".dgrid-content .dgrid-cell","mouseout"),leaveHeaderCell:_10ef(".dgrid-header .dgrid-cell","mouseout"),createDelegatingHandler:_10ef};
});
},"dijit/form/_FormWidget":function(){
define(["dojo/_base/declare","dojo/sniff","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_10f2,has,_10f3,ready,_10f4,_10f5,_10f6,_10f7){
if(has("dijit-legacy-requires")){
ready(0,function(){
var _10f8=["dijit/form/_FormValueWidget"];
require(_10f8);
});
}
return _10f2("dijit.form._FormWidget",[_10f4,_10f6,_10f5,_10f7],{setDisabled:function(_10f9){
_10f3.deprecated("setDisabled("+_10f9+") is deprecated. Use set('disabled',"+_10f9+") instead.","","2.0");
this.set("disabled",_10f9);
},setValue:function(value){
_10f3.deprecated("dijit.form._FormWidget:setValue("+value+") is deprecated.  Use set('value',"+value+") instead.","","2.0");
this.set("value",value);
},getValue:function(){
_10f3.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");
return this.get("value");
},postMixInProperties:function(){
this.nameAttrSetting=(this.name&&!has("msapp"))?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";
this.inherited(arguments);
},_setTypeAttr:null});
});
},"dojox/form/uploader/_IFrame":function(){
define(["dojo/query","dojo/dom-construct","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/dom-form","dojo/request/iframe"],function(query,_10fa,_10fb,lang,_10fc,_10fd,_10fe){
return _10fb("dojox.form.uploader._IFrame",[],{postMixInProperties:function(){
this.inherited(arguments);
if(this.uploadType==="iframe"){
this.uploadType="iframe";
this.upload=this.uploadIFrame;
}
},uploadIFrame:function(data){
var _10ff={},_1100,form=this.getForm(),url=this.getUrl(),self=this;
data=data||{};
data.uploadType=this.uploadType;
_1100=_10fa.place("<form enctype=\"multipart/form-data\" method=\"post\"></form>",this.domNode);
_10fc.forEach(this._inputs,function(n,i){
if(n.value!==""){
_1100.appendChild(n);
_10ff[n.name]=n.value;
}
},this);
if(data){
for(nm in data){
if(_10ff[nm]===undefined){
_10fa.create("input",{name:nm,value:data[nm],type:"hidden"},_1100);
}
}
}
_10fe.post(url,{form:_1100,handleAs:"json",content:data}).then(function(_1101){
_10fa.destroy(_1100);
if(data["ERROR"]||data["error"]){
self.onError(_1101);
}else{
self.onComplete(_1101);
}
},function(err){
console.error("error parsing server result",err);
_10fa.destroy(_1100);
self.onError(err);
});
}});
});
},"dojox/form/uploader/_Base":function(){
define(["dojo/dom-form","dojo/dom-style","dojo/dom-construct","dojo/dom-attr","dojo/has","dojo/_base/declare","dojo/_base/event","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin"],function(_1102,_1103,_1104,_1105,has,_1106,event,_1107,_1108,_1109){
has.add("FormData",function(){
return !!window.FormData;
});
has.add("xhr-sendAsBinary",function(){
var xhr=window.XMLHttpRequest&&new window.XMLHttpRequest();
return xhr&&!!xhr.sendAsBinary;
});
has.add("file-multiple",function(){
return !!({"true":1,"false":1}[_1105.get(document.createElement("input",{type:"file"}),"multiple")]);
});
return _1106("dojox.form.uploader._Base",[_1107,_1108,_1109],{getForm:function(){
if(!this.form){
var n=this.domNode;
while(n&&n.tagName&&n!==document.body){
if(n.tagName.toLowerCase()=="form"){
this.form=n;
break;
}
n=n.parentNode;
}
}
return this.form;
},getUrl:function(){
if(this.uploadUrl){
this.url=this.uploadUrl;
}
if(this.url){
return this.url;
}
if(this.getForm()){
this.url=this.form.action;
}
return this.url;
},connectForm:function(){
this.url=this.getUrl();
if(!this._fcon&&!!this.getForm()){
this._fcon=true;
this.connect(this.form,"onsubmit",function(evt){
event.stop(evt);
this.submit(this.form);
});
}
},supports:function(what){
switch(what){
case "multiple":
if(this.force=="flash"||this.force=="iframe"){
return false;
}
return has("file-multiple");
case "FormData":
return has(what);
case "sendAsBinary":
return has("xhr-sendAsBinary");
}
return false;
},getMimeType:function(){
return "application/octet-stream";
},getFileType:function(name){
return name.substring(name.lastIndexOf(".")+1).toUpperCase();
},convertBytes:function(bytes){
var kb=Math.round(bytes/1024*100000)/100000;
var mb=Math.round(bytes/1048576*100000)/100000;
var gb=Math.round(bytes/1073741824*100000)/100000;
var value=bytes;
if(kb>1){
value=kb.toFixed(1)+" kb";
}
if(mb>1){
value=mb.toFixed(1)+" mb";
}
if(gb>1){
value=gb.toFixed(1)+" gb";
}
return {kb:kb,mb:mb,gb:gb,bytes:bytes,value:value};
}});
});
},"manager/DialogSimple":function(){
define("manager/DialogSimple",["dojo/_base/declare","manager/Dialog"],function(_110a,_110b){
return _110a("Manager.DialogSimple",[_110b],{});
});
},"dijit/form/NumberSpinner":function(){
define(["dojo/_base/declare","dojo/keys","./_Spinner","./NumberTextBox"],function(_110c,keys,_110d,_110e){
return _110c("dijit.form.NumberSpinner",[_110d,_110e.Mixin],{baseClass:"dijitTextBox dijitSpinner dijitNumberTextBox",adjust:function(val,delta){
var tc=this.constraints,v=isNaN(val),_110f=!isNaN(tc.max),_1110=!isNaN(tc.min);
if(v&&delta!=0){
val=(delta>0)?_1110?tc.min:_110f?tc.max:0:_110f?this.constraints.max:_1110?tc.min:0;
}
var _1111=val+delta;
if(v||isNaN(_1111)){
return val;
}
if(_110f&&(_1111>tc.max)){
_1111=tc.max;
}
if(_1110&&(_1111<tc.min)){
_1111=tc.min;
}
return _1111;
},_onKeyDown:function(e){
if(this.disabled||this.readOnly){
return;
}
if((e.keyCode==keys.HOME||e.keyCode==keys.END)&&!(e.ctrlKey||e.altKey||e.metaKey)&&typeof this.get("value")!="undefined"){
var value=this.constraints[(e.keyCode==keys.HOME?"min":"max")];
if(typeof value=="number"){
this._setValueAttr(value,false);
}
e.stopPropagation();
e.preventDefault();
}
}});
});
},"dijit/MenuItem":function(){
define(["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","dojo/_base/lang","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_1112,dom,_1113,_1114,_1115,has,lang,_1116,_1117,_1118,_1119,_111a){
var _111b=_1112("dijit.MenuItem"+(has("dojo-bidi")?"_NoBidi":""),[_1116,_1117,_1118,_1119],{templateString:_111a,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(val){
this._set("label",val);
var _111c="";
var text;
var ndx=val.search(/{\S}/);
if(ndx>=0){
_111c=val.charAt(ndx+1);
var _111d=val.substr(0,ndx);
var _111e=val.substr(ndx+3);
text=_111d+_111c+_111e;
val=_111d+"<span class=\"dijitMenuItemShortcutKey\">"+_111c+"</span>"+_111e;
}else{
text=val;
}
this.domNode.setAttribute("aria-label",text+" "+this.accelKey);
this.containerNode.innerHTML=val;
this._set("shortcutKey",_111c);
},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_111f){
if(_111f&&!("label" in this.params)){
this._set("label",_111f.innerHTML);
}
},buildRendering:function(){
this.inherited(arguments);
var label=this.id+"_text";
_1113.set(this.containerNode,"id",label);
if(this.accelKeyNode){
_1113.set(this.accelKeyNode,"id",this.id+"_accel");
}
dom.setSelectable(this.domNode,false);
},onClick:function(){
},focus:function(){
try{
if(has("ie")==8){
this.containerNode.focus();
}
this.focusNode.focus();
}
catch(e){
}
},_onFocus:function(){
this.getParent()._onItemFocus(this);
this.inherited(arguments);
},_setSelected:function(_1120){
_1114.toggle(this.domNode,"dijitMenuItemSelected",_1120);
},setLabel:function(_1121){
_1115.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");
this.set("label",_1121);
},setDisabled:function(_1122){
_1115.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");
this.set("disabled",_1122);
},_setDisabledAttr:function(value){
this.focusNode.setAttribute("aria-disabled",value?"true":"false");
this._set("disabled",value);
},_setAccelKeyAttr:function(value){
if(this.accelKeyNode){
this.accelKeyNode.style.display=value?"":"none";
this.accelKeyNode.innerHTML=value;
_1113.set(this.containerNode,"colSpan",value?"1":"2");
}
this._set("accelKey",value);
}});
if(has("dojo-bidi")){
_111b=_1112("dijit.MenuItem",_111b,{_setLabelAttr:function(val){
this.inherited(arguments);
if(this.textDir==="auto"){
this.applyTextDir(this.textDirNode);
}
}});
}
return _111b;
});
},"dijit/_AttachMixin":function(){
define(["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/mouse","dojo/on","dojo/touch","./_WidgetBase"],function(_1123,array,_1124,_1125,lang,mouse,on,touch,_1126){
var _1127=lang.delegate(touch,{"mouseenter":mouse.enter,"mouseleave":mouse.leave,"keypress":_1124._keypress});
var _1128;
var _1129=_1125("dijit._AttachMixin",null,{constructor:function(){
this._attachPoints=[];
this._attachEvents=[];
},buildRendering:function(){
this.inherited(arguments);
this._attachTemplateNodes(this.domNode);
this._beforeFillContent();
},_beforeFillContent:function(){
},_attachTemplateNodes:function(_112a){
var node=_112a;
while(true){
if(node.nodeType==1&&(this._processTemplateNode(node,function(n,p){
return n.getAttribute(p);
},this._attach)||this.searchContainerNode)&&node.firstChild){
node=node.firstChild;
}else{
if(node==_112a){
return;
}
while(!node.nextSibling){
node=node.parentNode;
if(node==_112a){
return;
}
}
node=node.nextSibling;
}
}
},_processTemplateNode:function(_112b,_112c,_112d){
var ret=true;
var _112e=this.attachScope||this,_112f=_112c(_112b,"dojoAttachPoint")||_112c(_112b,"data-dojo-attach-point");
if(_112f){
var point,_1130=_112f.split(/\s*,\s*/);
while((point=_1130.shift())){
if(lang.isArray(_112e[point])){
_112e[point].push(_112b);
}else{
_112e[point]=_112b;
}
ret=(point!="containerNode");
this._attachPoints.push(point);
}
}
var _1131=_112c(_112b,"dojoAttachEvent")||_112c(_112b,"data-dojo-attach-event");
if(_1131){
var event,_1132=_1131.split(/\s*,\s*/);
var trim=lang.trim;
while((event=_1132.shift())){
if(event){
var _1133=null;
if(event.indexOf(":")!=-1){
var _1134=event.split(":");
event=trim(_1134[0]);
_1133=trim(_1134[1]);
}else{
event=trim(event);
}
if(!_1133){
_1133=event;
}
this._attachEvents.push(_112d(_112b,event,lang.hitch(_112e,_1133)));
}
}
}
return ret;
},_attach:function(node,type,func){
type=type.replace(/^on/,"").toLowerCase();
if(type=="dijitclick"){
type=_1128||(_1128=_1123("./a11yclick"));
}else{
type=_1127[type]||type;
}
return on(node,type,func);
},_detachTemplateNodes:function(){
var _1135=this.attachScope||this;
array.forEach(this._attachPoints,function(point){
delete _1135[point];
});
this._attachPoints=[];
array.forEach(this._attachEvents,function(_1136){
_1136.remove();
});
this._attachEvents=[];
},destroyRendering:function(){
this._detachTemplateNodes();
this.inherited(arguments);
}});
lang.extend(_1126,{dojoAttachEvent:"",dojoAttachPoint:""});
return _1129;
});
},"dojox/grid/_EditManager":function(){
define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/connect","dojo/_base/sniff","./util"],function(lang,array,_1137,_1138,has,util){
return _1137("dojox.grid._EditManager",null,{constructor:function(_1139){
this.grid=_1139;
this.connections=!has("ie")?[]:[_1138.connect(document.body,"onfocus",lang.hitch(this,"_boomerangFocus"))];
this.connections.push(_1138.connect(this.grid,"onBlur",this,"apply"));
this.connections.push(_1138.connect(this.grid,"prerender",this,"_onPreRender"));
},info:{},destroy:function(){
array.forEach(this.connections,_1138.disconnect);
},cellFocus:function(_113a,_113b){
if(this.grid.singleClickEdit||this.isEditRow(_113b)){
this.setEditCell(_113a,_113b);
}else{
this.apply();
}
if(this.isEditing()||(_113a&&_113a.editable&&_113a.alwaysEditing)){
this._focusEditor(_113a,_113b);
}
},rowClick:function(e){
if(this.isEditing()&&!this.isEditRow(e.rowIndex)){
this.apply();
}
},styleRow:function(inRow){
if(inRow.index==this.info.rowIndex){
inRow.customClasses+=" dojoxGridRowEditing";
}
},dispatchEvent:function(e){
var c=e.cell,ed=(c&&c["editable"])?c:0;
return ed&&ed.dispatchEvent(e.dispatch,e);
},isEditing:function(){
return this.info.rowIndex!==undefined;
},isEditCell:function(_113c,_113d){
return (this.info.rowIndex===_113c)&&(this.info.cell.index==_113d);
},isEditRow:function(_113e){
return this.info.rowIndex===_113e;
},setEditCell:function(_113f,_1140){
if(!this.isEditCell(_1140,_113f.index)&&this.grid.canEdit&&this.grid.canEdit(_113f,_1140)){
this.start(_113f,_1140,this.isEditRow(_1140)||_113f.editable);
}
},_focusEditor:function(_1141,_1142){
util.fire(_1141,"focus",[_1142]);
},focusEditor:function(){
if(this.isEditing()){
this._focusEditor(this.info.cell,this.info.rowIndex);
}
},_boomerangWindow:500,_shouldCatchBoomerang:function(){
return this._catchBoomerang>new Date().getTime();
},_boomerangFocus:function(){
if(this._shouldCatchBoomerang()){
this.grid.focus.focusGrid();
this.focusEditor();
this._catchBoomerang=0;
}
},_doCatchBoomerang:function(){
if(has("ie")){
this._catchBoomerang=new Date().getTime()+this._boomerangWindow;
}
},start:function(_1143,_1144,_1145){
if(!this._isValidInput()){
return;
}
this.grid.beginUpdate();
this.editorApply();
if(this.isEditing()&&!this.isEditRow(_1144)){
this.applyRowEdit();
this.grid.updateRow(_1144);
}
if(_1145){
this.info={cell:_1143,rowIndex:_1144};
this.grid.doStartEdit(_1143,_1144);
this.grid.updateRow(_1144);
}else{
this.info={};
}
this.grid.endUpdate();
this.grid.focus.focusGrid();
this._focusEditor(_1143,_1144);
this._doCatchBoomerang();
},_editorDo:function(_1146){
var c=this.info.cell;
if(c&&c.editable){
c[_1146](this.info.rowIndex);
}
},editorApply:function(){
this._editorDo("apply");
},editorCancel:function(){
this._editorDo("cancel");
},applyCellEdit:function(_1147,_1148,_1149){
if(this.grid.canEdit(_1148,_1149)){
this.grid.doApplyCellEdit(_1147,_1149,_1148.field);
}
},applyRowEdit:function(){
this.grid.doApplyEdit(this.info.rowIndex,this.info.cell.field);
},apply:function(){
if(this.isEditing()&&this._isValidInput()){
this.grid.beginUpdate();
this.editorApply();
this.applyRowEdit();
this.info={};
this.grid.endUpdate();
this.grid.focus.focusGrid();
this._doCatchBoomerang();
}
},cancel:function(){
if(this.isEditing()){
this.grid.beginUpdate();
this.editorCancel();
this.info={};
this.grid.endUpdate();
this.grid.focus.focusGrid();
this._doCatchBoomerang();
}
},save:function(_114a,_114b){
var c=this.info.cell;
if(this.isEditRow(_114a)&&(!_114b||c.view==_114b)&&c.editable){
c.save(c,this.info.rowIndex);
}
},restore:function(_114c,_114d){
var c=this.info.cell;
if(this.isEditRow(_114d)&&c.view==_114c&&c.editable){
c.restore(this.info.rowIndex);
}
},_isValidInput:function(){
var w=(this.info.cell||{}).widget;
if(!w||!w.isValid){
return true;
}
w.focused=true;
return w.isValid(true);
},_onPreRender:function(){
if(this.isEditing()){
this.info.value=this.info.cell.getValue();
}
}});
});
},"dojox/grid/_ViewManager":function(){
define(["dojo/_base/declare","dojo/_base/sniff","dojo/dom-class"],function(_114e,has,_114f){
return _114e("dojox.grid._ViewManager",null,{constructor:function(_1150){
this.grid=_1150;
},defaultWidth:200,views:[],resize:function(){
this.onEach("resize");
},render:function(){
this.onEach("render");
},addView:function(_1151){
_1151.idx=this.views.length;
this.views.push(_1151);
},destroyViews:function(){
for(var i=0,v;v=this.views[i];i++){
v.destroy();
}
this.views=[];
},getContentNodes:function(){
var nodes=[];
for(var i=0,v;v=this.views[i];i++){
nodes.push(v.contentNode);
}
return nodes;
},forEach:function(_1152){
for(var i=0,v;v=this.views[i];i++){
_1152(v,i);
}
},onEach:function(_1153,_1154){
_1154=_1154||[];
for(var i=0,v;v=this.views[i];i++){
if(_1153 in v){
v[_1153].apply(v,_1154);
}
}
},normalizeHeaderNodeHeight:function(){
var _1155=[];
for(var i=0,v;(v=this.views[i]);i++){
if(v.headerContentNode.firstChild){
_1155.push(v.headerContentNode);
}
}
this.normalizeRowNodeHeights(_1155);
},normalizeRowNodeHeights:function(_1156){
var h=0;
var _1157=[];
if(this.grid.rowHeight){
h=this.grid.rowHeight;
}else{
if(_1156.length<=1){
return;
}
for(var i=0,n;(n=_1156[i]);i++){
if(!_114f.contains(n,"dojoxGridNonNormalizedCell")){
_1157[i]=n.firstChild.offsetHeight;
h=Math.max(h,_1157[i]);
}
}
h=(h>=0?h:0);
if((has("mozilla")||has("ie")>8)&&h){
h++;
}
}
for(i=0;(n=_1156[i]);i++){
if(_1157[i]!=h){
n.firstChild.style.height=h+"px";
}
}
},resetHeaderNodeHeight:function(){
for(var i=0,v,n;(v=this.views[i]);i++){
n=v.headerContentNode.firstChild;
if(n){
n.style.height="";
}
}
},renormalizeRow:function(_1158){
var _1159=[];
for(var i=0,v,n;(v=this.views[i])&&(n=v.getRowNode(_1158));i++){
n.firstChild.style.height="";
_1159.push(n);
}
this.normalizeRowNodeHeights(_1159);
},getViewWidth:function(_115a){
return this.views[_115a].getWidth()||this.defaultWidth;
},measureHeader:function(){
this.resetHeaderNodeHeight();
this.forEach(function(_115b){
_115b.headerContentNode.style.height="";
});
var h=0;
this.forEach(function(_115c){
h=Math.max(_115c.headerNode.offsetHeight,h);
});
return h;
},measureContent:function(){
var h=0;
this.forEach(function(_115d){
h=Math.max(_115d.domNode.offsetHeight,h);
});
return h;
},findClient:function(_115e){
var c=this.grid.elasticView||-1;
if(c<0){
for(var i=1,v;(v=this.views[i]);i++){
if(v.viewWidth){
for(i=1;(v=this.views[i]);i++){
if(!v.viewWidth){
c=i;
break;
}
}
break;
}
}
}
if(c<0){
c=Math.floor(this.views.length/2);
}
return c;
},arrange:function(l,w){
var i,v,vw,len=this.views.length,self=this;
var c=(w<=0?len:this.findClient());
var _115f=function(v,l){
var ds=v.domNode.style;
var hs=v.headerNode.style;
if(!self.grid.isLeftToRight()){
ds.right=l+"px";
if(has("ff")<4){
hs.right=l+v.getScrollbarWidth()+"px";
}else{
hs.right=l+"px";
}
if(!has("webkit")&&hs.width!="auto"){
hs.width=parseInt(hs.width,10)-v.getScrollbarWidth()+"px";
}
}else{
ds.left=l+"px";
hs.left=l+"px";
}
ds.top=0+"px";
hs.top=0;
};
for(i=0;(v=this.views[i])&&(i<c);i++){
vw=this.getViewWidth(i);
v.setSize(vw,0);
_115f(v,l);
if(v.headerContentNode&&v.headerContentNode.firstChild){
vw=v.getColumnsWidth()+v.getScrollbarWidth();
}else{
vw=v.domNode.offsetWidth;
}
l+=vw;
}
i++;
var r=w;
for(var j=len-1;(v=this.views[j])&&(i<=j);j--){
vw=this.getViewWidth(j);
v.setSize(vw,0);
vw=v.domNode.offsetWidth;
r-=vw;
_115f(v,r);
}
if(c<len){
v=this.views[c];
vw=Math.max(1,r-l);
v.setSize(vw+"px",0);
_115f(v,l);
}
return l;
},renderRow:function(_1160,_1161,_1162){
var _1163=[];
for(var i=0,v,n,_1164;(v=this.views[i])&&(n=_1161[i]);i++){
_1164=v.renderRow(_1160);
n.appendChild(_1164);
_1163.push(_1164);
}
if(!_1162){
this.normalizeRowNodeHeights(_1163);
}
},rowRemoved:function(_1165){
this.onEach("rowRemoved",[_1165]);
},updateRow:function(_1166,_1167){
for(var i=0,v;v=this.views[i];i++){
v.updateRow(_1166);
}
if(!_1167){
this.renormalizeRow(_1166);
}
},updateRowStyles:function(_1168){
this.onEach("updateRowStyles",[_1168]);
},setScrollTop:function(inTop){
var top=inTop;
for(var i=0,v;v=this.views[i];i++){
top=v.setScrollTop(inTop);
if(has("ie")&&v.headerNode&&v.scrollboxNode){
v.headerNode.scrollLeft=v.scrollboxNode.scrollLeft;
}
}
return top;
},getFirstScrollingView:function(){
for(var i=0,v;(v=this.views[i]);i++){
if(v.hasHScrollbar()||v.hasVScrollbar()){
return v;
}
}
return null;
}});
});
},"dijit/DropDownMenu":function(){
define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(_1169,keys,_116a,_116b,_116c){
return _1169("dijit.DropDownMenu",[_116c,_116b],{templateString:_116a,baseClass:"dijitMenu",_onUpArrow:function(){
this.focusPrev();
},_onDownArrow:function(){
this.focusNext();
},_onRightArrow:function(evt){
this._moveToPopup(evt);
evt.stopPropagation();
evt.preventDefault();
},_onLeftArrow:function(evt){
if(this.parentMenu){
if(this.parentMenu._isMenuBar){
this.parentMenu.focusPrev();
}else{
this.onCancel(false);
}
}else{
evt.stopPropagation();
evt.preventDefault();
}
}});
});
},"dojox/form/uploader/_Flash":function(){
define(["dojo/dom-form","dojo/dom-style","dojo/dom-construct","dojo/dom-attr","dojo/_base/declare","dojo/_base/config","dojo/_base/connect","dojo/_base/lang","dojo/_base/array","dojox/embed/Flash"],function(_116d,_116e,_116f,_1170,_1171,_1172,_1173,lang,_1174,_1175){
return _1171("dojox.form.uploader._Flash",[],{swfPath:_1172.uploaderPath||require.toUrl("dojox/form/resources/uploader.swf"),preventCache:true,skipServerCheck:true,serverTimeout:2000,isDebug:false,devMode:false,deferredUploading:0,postMixInProperties:function(){
if(this.uploadType==="flash"){
this._files=[];
this._fileMap={};
this._createInput=this._createFlashUploader;
this.getFileList=this.getFlashFileList;
this.reset=this.flashReset;
this.upload=this.uploadFlash;
this.fieldname="flashUploadFiles";
}
this.inherited(arguments);
},onReady:function(_1176){
},onLoad:function(_1177){
},onFileChange:function(_1178){
},onFileProgress:function(_1179){
},getFlashFileList:function(){
return this._files;
},flashReset:function(){
this.flashMovie.reset();
this._files=[];
this._fileMap={};
},uploadFlash:function(_117a){
this.onBegin(this.getFileList());
_117a=_117a||{};
_117a.returnType="F";
_117a.uploadType=this.uploadType;
this.flashMovie.doUpload(_117a);
},_change:function(_117b){
this._files=this._files.concat(_117b);
_1174.forEach(_117b,function(f){
f.bytesLoaded=0;
f.bytesTotal=f.size;
this._fileMap[f.name+"_"+f.size]=f;
},this);
this.onChange(this._files);
this.onFileChange(_117b);
},_complete:function(_117c){
var o=this._getCustomEvent();
o.type="load";
this.onComplete(_117c);
},_progress:function(f){
this._fileMap[f.name+"_"+f.bytesTotal].bytesLoaded=f.bytesLoaded;
var o=this._getCustomEvent();
this.onFileProgress(f);
this.onProgress(o);
},_error:function(err){
this.onError(err);
},_onFlashBlur:function(_117d){
},_getCustomEvent:function(){
var o={bytesLoaded:0,bytesTotal:0,type:"progress",timeStamp:new Date().getTime()};
for(var nm in this._fileMap){
o.bytesTotal+=this._fileMap[nm].bytesTotal;
o.bytesLoaded+=this._fileMap[nm].bytesLoaded;
}
o.decimal=o.bytesLoaded/o.bytesTotal;
o.percent=Math.ceil((o.bytesLoaded/o.bytesTotal)*100)+"%";
return o;
},_connectFlash:function(){
this._subs=[];
this._cons=[];
var doSub=lang.hitch(this,function(s,_117e){
this._subs.push(_1173.subscribe(this.id+s,this,_117e));
});
doSub("/filesSelected","_change");
doSub("/filesUploaded","_complete");
doSub("/filesProgress","_progress");
doSub("/filesError","_error");
doSub("/filesCanceled","onCancel");
doSub("/stageBlur","_onFlashBlur");
this.connect(this.domNode,"focus",function(){
this.flashMovie.focus();
this.flashMovie.doFocus();
});
if(this.tabIndex>=0){
_1170.set(this.domNode,"tabIndex",this.tabIndex);
}
},_createFlashUploader:function(){
var w=this.btnSize.w;
var h=this.btnSize.h;
if(!w){
setTimeout(dojo.hitch(this,function(){
this._getButtonStyle(this.domNode);
this._createFlashUploader();
}),200);
return;
}
var url=this.getUrl();
if(url){
if(url.toLowerCase().indexOf("http")<0&&url.indexOf("/")!=0){
var loc=window.location.href.split("/");
loc.pop();
loc=loc.join("/")+"/";
url=loc+url;
}
}else{
console.warn("Warning: no uploadUrl provided.");
}
this.inputNode=_116f.create("div",{className:"dojoxFlashNode"},this.domNode,"first");
_116e.set(this.inputNode,{position:"absolute",top:"-2px",width:w+"px",height:h+"px",opacity:0});
var args={expressInstall:true,path:(this.swfPath.uri||this.swfPath)+((this.preventCache)?("?cb_"+(new Date().getTime())):""),width:w,height:h,allowScriptAccess:"always",allowNetworking:"all",vars:{uploadDataFieldName:this.flashFieldName||this.name+"Flash",uploadUrl:url,uploadOnSelect:this.uploadOnSelect,deferredUploading:this.deferredUploading||0,selectMultipleFiles:this.multiple,id:this.id,isDebug:this.isDebug,noReturnCheck:this.skipServerCheck,serverTimeout:this.serverTimeout},params:{scale:"noscale",wmode:"opaque",allowScriptAccess:"always",allowNetworking:"all"}};
this.flashObject=new _1175(args,this.inputNode);
this.flashObject.onError=lang.hitch(function(msg){
console.error("Flash Error: "+msg);
});
this.flashObject.onReady=lang.hitch(this,function(){
this.onReady(this);
});
this.flashObject.onLoad=lang.hitch(this,function(mov){
this.flashMovie=mov;
this.flashReady=true;
this.onLoad(this);
});
this._connectFlash();
}});
});
},"dojox/form/uploader/FileList":function(){
define(["dojo/_base/fx","dojo/dom-style","dojo/dom-class","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dijit/_base/manager","dojox/form/uploader/_Base","dojo/text!../resources/UploaderFileList.html"],function(fx,_117f,_1180,_1181,lang,_1182,_1183,Base,_1184){
return _1181("dojox.form.uploader.FileList",Base,{uploaderId:"",uploader:null,headerIndex:"#",headerType:"Type",headerFilename:"File Name",headerFilesize:"Size",_upCheckCnt:0,rowAmt:0,templateString:_1184,postCreate:function(){
this.setUploader();
this.hideProgress();
},reset:function(){
for(var i=0;i<this.rowAmt;i++){
this.listNode.deleteRow(0);
}
this.rowAmt=0;
},setUploader:function(){
if(!this.uploaderId&&!this.uploader){
console.warn("uploaderId not passed to UploaderFileList");
}else{
if(this.uploaderId&&!this.uploader){
this.uploader=_1183.byId(this.uploaderId);
}else{
if(this._upCheckCnt>4){
console.warn("uploader not found for ID ",this.uploaderId);
return;
}
}
}
if(this.uploader){
this.connect(this.uploader,"onChange","_onUploaderChange");
this.connect(this.uploader,"reset","reset");
this.connect(this.uploader,"onBegin",function(){
this.showProgress(true);
});
this.connect(this.uploader,"onProgress","_progress");
this.connect(this.uploader,"onComplete",function(){
setTimeout(lang.hitch(this,function(){
this.hideProgress(true);
}),1250);
});
if(!(this._fileSizeAvail={"html5":1,"flash":1}[this.uploader.uploadType])){
this.sizeHeader.style.display="none";
}
}else{
this._upCheckCnt++;
setTimeout(lang.hitch(this,"setUploader"),250);
}
},hideProgress:function(_1185){
var o=_1185?{ani:true,endDisp:"none",beg:15,end:0}:{endDisp:"none",ani:false};
this._hideShowProgress(o);
},showProgress:function(_1186){
var o=_1186?{ani:true,endDisp:"block",beg:0,end:15}:{endDisp:"block",ani:false};
this._hideShowProgress(o);
},_progress:function(_1187){
this.percentTextNode.innerHTML=_1187.percent;
_117f.set(this.percentBarNode,"width",_1187.percent);
},_hideShowProgress:function(o){
var node=this.progressNode;
var onEnd=function(){
_117f.set(node,"display",o.endDisp);
};
if(o.ani){
_117f.set(node,"display","block");
fx.animateProperty({node:node,properties:{height:{start:o.beg,end:o.end,units:"px"}},onEnd:onEnd}).play();
}else{
onEnd();
}
},_onUploaderChange:function(_1188){
this.reset();
_1182.forEach(_1188,function(f,i){
this._addRow(i+1,this.getFileType(f.name),f.name,f.size);
},this);
},_addRow:function(index,type,name,size){
var c,r=this.listNode.insertRow(-1);
c=r.insertCell(-1);
_1180.add(c,"dojoxUploaderIndex");
c.innerHTML=index;
c=r.insertCell(-1);
_1180.add(c,"dojoxUploaderIcon");
c.innerHTML=type;
c=r.insertCell(-1);
_1180.add(c,"dojoxUploaderFileName");
c.innerHTML=name;
if(this._fileSizeAvail){
c=r.insertCell(-1);
_1180.add(c,"dojoxUploaderSize");
c.innerHTML=this.convertBytes(size).value;
}
this.rowAmt++;
}});
});
},"dijit/_base/typematic":function(){
define(["../typematic"],function(){
});
},"dojox/form/nls/Uploader":function(){
define({root:({label:"Select Files..."}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true});
},"dojox/form/nls/pt/Uploader":function(){
define(({label:"Selecione Arquivos..."}));
},"dojox/form/nls/pt/Uploader":function(){
define(({label:"Selecione Arquivos..."}));
},"dojox/editor/plugins/nls/TableDialog":function(){
define({root:({insertTableTitle:"Insert Table",modifyTableTitle:"Modify Table",rows:"Rows:",columns:"Columns:",align:"Align:",cellPadding:"Cell Padding:",cellSpacing:"Cell Spacing:",tableWidth:"Table Width:",backgroundColor:"Background Color:",borderColor:"Border Color:",borderThickness:"Border Thickness:",percent:"percent",pixels:"pixels","default":"default",left:"left",center:"center",right:"right",buttonSet:"Set",buttonInsert:"Insert",buttonCancel:"Cancel",selectTableLabel:"Select Table",insertTableRowBeforeLabel:"Add Row Before",insertTableRowAfterLabel:"Add Row After",insertTableColumnBeforeLabel:"Add Column Before",insertTableColumnAfterLabel:"Add Column After",deleteTableRowLabel:"Delete Row",deleteTableColumnLabel:"Delete Column",colorTableCellTitle:"Background Color Table Cell",tableContextMenuTitle:"Table Context Menu"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});
},"dojox/editor/plugins/nls/pt/TableDialog":function(){
define(({insertTableTitle:"Inserir Tabela",modifyTableTitle:"Modificar Tabela",rows:"Linhas:",columns:"Colunas:",align:"Alinhar:",cellPadding:"Preenchimento de Célula:",cellSpacing:"Espaçamento de Célula:",tableWidth:"Largura da Tabela:",backgroundColor:"Cor do Plano de Fundo:",borderColor:"Cor da Borda:",borderThickness:"Espessura da Borda:",percent:"percentual",pixels:"pixels","default":"default",left:"esquerda",center:"centro",right:"direita",buttonSet:"Configurar",buttonInsert:"Inserir",buttonCancel:"Cancelar",selectTableLabel:"Selecionar Tabela",insertTableRowBeforeLabel:"Incluir Linha Antes",insertTableRowAfterLabel:"Incluir Linha Depois",insertTableColumnBeforeLabel:"Incluir Coluna Antes",insertTableColumnAfterLabel:"Incluir Coluna Depois",deleteTableRowLabel:"Excluir Linha",deleteTableColumnLabel:"Excluir Coluna",colorTableCellTitle:"Célula de Tabela de Cor do Segundo Plano",tableContextMenuTitle:"Menu de Contexto da Tabela"}));
},"dojox/editor/plugins/nls/pt/TableDialog":function(){
define(({insertTableTitle:"Inserir Tabela",modifyTableTitle:"Modificar Tabela",rows:"Linhas:",columns:"Colunas:",align:"Alinhar:",cellPadding:"Preenchimento de Célula:",cellSpacing:"Espaçamento de Célula:",tableWidth:"Largura da Tabela:",backgroundColor:"Cor do Plano de Fundo:",borderColor:"Cor da Borda:",borderThickness:"Espessura da Borda:",percent:"percentual",pixels:"pixels","default":"default",left:"esquerda",center:"centro",right:"direita",buttonSet:"Configurar",buttonInsert:"Inserir",buttonCancel:"Cancelar",selectTableLabel:"Selecionar Tabela",insertTableRowBeforeLabel:"Incluir Linha Antes",insertTableRowAfterLabel:"Incluir Linha Depois",insertTableColumnBeforeLabel:"Incluir Coluna Antes",insertTableColumnAfterLabel:"Incluir Coluna Depois",deleteTableRowLabel:"Excluir Linha",deleteTableColumnLabel:"Excluir Coluna",colorTableCellTitle:"Célula de Tabela de Cor do Segundo Plano",tableContextMenuTitle:"Menu de Contexto da Tabela"}));
},"dojox/grid/_Grid":function(){
define(["dojo/_base/kernel","../main","dojo/_base/declare","./_Events","./_Scroller","./_Layout","./_View","./_ViewManager","./_RowManager","./_FocusManager","./_EditManager","./Selection","./_RowSelector","./util","dijit/_Widget","dijit/_TemplatedMixin","dijit/CheckedMenuItem","dojo/text!./resources/_Grid.html","dojo/string","dojo/_base/array","dojo/_base/lang","dojo/_base/sniff","dojox/html/metrics","dojo/_base/html","dojo/query","dojo/dnd/common","dojo/i18n!dijit/nls/loading"],function(dojo,dojox,_1189,_118a,_118b,_118c,_118d,_118e,_118f,_1190,_1191,_1192,_1193,util,_1194,_1195,_1196,_1197,_1198,array,lang,has,_1199,html,query){
if(!dojo.isCopyKey){
dojo.isCopyKey=dojo.dnd.getCopyKeyState;
}
var _119a=_1189("dojox.grid._Grid",[_1194,_1195,_118a],{templateString:_1197,classTag:"dojoxGrid",rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:false,initialWidth:"",autoHeight:"",rowHeight:0,autoRender:true,defaultHeight:"15em",height:"",structure:null,elasticView:-1,singleClickEdit:false,selectionMode:"extended",rowSelector:"",columnReordering:false,headerMenu:null,placeholderLabel:"GridColumns",selectable:false,_click:null,loadingMessage:"<span class='dojoxGridLoading'>${loadingState}</span>",errorMessage:"<span class='dojoxGridError'>${errorState}</span>",noDataMessage:"",escapeHTMLInData:true,formatterScope:null,editable:false,summary:"",_setSummaryAttr:"domNode",sortInfo:0,_placeholders:null,_layoutClass:_118c,buildRendering:function(){
this.inherited(arguments);
if(!this.domNode.getAttribute("tabIndex")){
this.domNode.tabIndex="0";
}
this.createScroller();
this.createLayout();
this.createViews();
this.createManagers();
this.createSelection();
this.connect(this.selection,"onSelected","onSelected");
this.connect(this.selection,"onDeselected","onDeselected");
this.connect(this.selection,"onChanged","onSelectionChanged");
_1199.initOnFontResize();
this.connect(_1199,"onFontResize","textSizeChanged");
util.funnelEvents(this.domNode,this,"doKeyEvent",util.keyEvents);
if(this.selectionMode!="none"){
this.domNode.setAttribute("aria-multiselectable",this.selectionMode=="single"?"false":"true");
}
html.addClass(this.domNode,this.classTag);
if(!this.isLeftToRight()){
html.addClass(this.domNode,this.classTag+"Rtl");
}
if(this.rowHeight>0){
html.addClass(this.viewsNode,this.classTag+"FixedRowHeight");
}
},postMixInProperties:function(){
this.inherited(arguments);
var _119b=dojo.i18n.getLocalization("dijit","loading",this.lang);
this.loadingMessage=_1198.substitute(this.loadingMessage,_119b);
this.errorMessage=_1198.substitute(this.errorMessage,_119b);
if(this.srcNodeRef&&this.srcNodeRef.style.height){
this.height=this.srcNodeRef.style.height;
}
this._setAutoHeightAttr(this.autoHeight,true);
this.lastScrollTop=this.scrollTop=0;
},postCreate:function(){
this._placeholders=[];
this._setHeaderMenuAttr(this.headerMenu);
this._setStructureAttr(this.structure);
this._click=[];
this.inherited(arguments);
if(this.domNode&&this.autoWidth&&this.initialWidth){
this.domNode.style.width=this.initialWidth;
}
if(this.domNode&&!this.editable){
html.attr(this.domNode,"aria-readonly","true");
}
},destroy:function(){
this.domNode.onReveal=null;
this.domNode.onSizeChange=null;
delete this._click;
if(this.scroller){
this.scroller.destroy();
delete this.scroller;
}
this.edit.destroy();
delete this.edit;
this.views.destroyViews();
if(this.focus){
this.focus.destroy();
delete this.focus;
}
if(this.headerMenu&&this._placeholders.length){
array.forEach(this._placeholders,function(p){
p.unReplace(true);
});
this.headerMenu.unBindDomNode(this.viewsHeaderNode);
}
this.inherited(arguments);
},_setAutoHeightAttr:function(ah,_119c){
if(typeof ah=="string"){
if(!ah||ah=="false"){
ah=false;
}else{
if(ah=="true"){
ah=true;
}else{
ah=window.parseInt(ah,10);
}
}
}
if(typeof ah=="number"){
if(isNaN(ah)){
ah=false;
}
if(ah<0){
ah=true;
}else{
if(ah===0){
ah=false;
}
}
}
this.autoHeight=ah;
if(typeof ah=="boolean"){
this._autoHeight=ah;
}else{
if(typeof ah=="number"){
this._autoHeight=(ah>=this.get("rowCount"));
}else{
this._autoHeight=false;
}
}
if(this._started&&!_119c){
this.render();
}
},_getRowCountAttr:function(){
return this.updating&&this.invalidated&&this.invalidated.rowCount!=undefined?this.invalidated.rowCount:this.rowCount;
},textSizeChanged:function(){
this.render();
},sizeChange:function(){
this.update();
},createManagers:function(){
this.rows=new _118f(this);
this.focus=new _1190(this);
this.edit=new _1191(this);
},createSelection:function(){
this.selection=new _1192(this);
},createScroller:function(){
this.scroller=new _118b();
this.scroller.grid=this;
this.scroller.renderRow=lang.hitch(this,"renderRow");
this.scroller.removeRow=lang.hitch(this,"rowRemoved");
},createLayout:function(){
this.layout=new this._layoutClass(this);
this.connect(this.layout,"moveColumn","onMoveColumn");
},onMoveColumn:function(){
this.update();
},onResizeColumn:function(_119d){
},createViews:function(){
this.views=new _118e(this);
this.views.createView=lang.hitch(this,"createView");
},createView:function(_119e,idx){
var c=lang.getObject(_119e);
var view=new c({grid:this,index:idx});
this.viewsNode.appendChild(view.domNode);
this.viewsHeaderNode.appendChild(view.headerNode);
this.views.addView(view);
html.attr(this.domNode,"align",this.isLeftToRight()?"left":"right");
return view;
},buildViews:function(){
for(var i=0,vs;(vs=this.layout.structure[i]);i++){
this.createView(vs.type||dojox._scopeName+".grid._View",i).setStructure(vs);
}
this.scroller.setContentNodes(this.views.getContentNodes());
},_setStructureAttr:function(_119f){
var s=_119f;
if(s&&lang.isString(s)){
dojo.deprecated("dojox.grid._Grid.set('structure', 'objVar')","use dojox.grid._Grid.set('structure', objVar) instead","2.0");
s=lang.getObject(s);
}
this.structure=s;
if(!s){
if(this.layout.structure){
s=this.layout.structure;
}else{
return;
}
}
this.views.destroyViews();
this.focus.focusView=null;
if(s!==this.layout.structure){
this.layout.setStructure(s);
}
this._structureChanged();
},setStructure:function(_11a0){
dojo.deprecated("dojox.grid._Grid.setStructure(obj)","use dojox.grid._Grid.set('structure', obj) instead.","2.0");
this._setStructureAttr(_11a0);
},getColumnTogglingItems:function(){
var items,_11a1=[];
items=array.map(this.layout.cells,function(cell){
if(!cell.menuItems){
cell.menuItems=[];
}
var self=this;
var item=new _1196({label:cell.name,checked:!cell.hidden,_gridCell:cell,onChange:function(_11a2){
if(self.layout.setColumnVisibility(this._gridCell.index,_11a2)){
var items=this._gridCell.menuItems;
if(items.length>1){
array.forEach(items,function(item){
if(item!==this){
item.setAttribute("checked",_11a2);
}
},this);
}
_11a2=array.filter(self.layout.cells,function(c){
if(c.menuItems.length>1){
array.forEach(c.menuItems,"item.set('disabled', false);");
}else{
c.menuItems[0].set("disabled",false);
}
return !c.hidden;
});
if(_11a2.length==1){
array.forEach(_11a2[0].menuItems,"item.set('disabled', true);");
}
}
},destroy:function(){
var index=array.indexOf(this._gridCell.menuItems,this);
this._gridCell.menuItems.splice(index,1);
delete this._gridCell;
_1196.prototype.destroy.apply(this,arguments);
}});
cell.menuItems.push(item);
if(!cell.hidden){
_11a1.push(item);
}
return item;
},this);
if(_11a1.length==1){
_11a1[0].set("disabled",true);
}
return items;
},_setHeaderMenuAttr:function(menu){
if(this._placeholders&&this._placeholders.length){
array.forEach(this._placeholders,function(p){
p.unReplace(true);
});
this._placeholders=[];
}
if(this.headerMenu){
this.headerMenu.unBindDomNode(this.viewsHeaderNode);
}
this.headerMenu=menu;
if(!menu){
return;
}
this.headerMenu.bindDomNode(this.viewsHeaderNode);
if(this.headerMenu.getPlaceholders){
this._placeholders=this.headerMenu.getPlaceholders(this.placeholderLabel);
}
},setHeaderMenu:function(menu){
dojo.deprecated("dojox.grid._Grid.setHeaderMenu(obj)","use dojox.grid._Grid.set('headerMenu', obj) instead.","2.0");
this._setHeaderMenuAttr(menu);
},setupHeaderMenu:function(){
if(this._placeholders&&this._placeholders.length){
array.forEach(this._placeholders,function(p){
if(p._replaced){
p.unReplace(true);
}
p.replace(this.getColumnTogglingItems());
},this);
}
},_fetch:function(start){
this.setScrollTop(0);
},getItem:function(_11a3){
return null;
},showMessage:function(_11a4){
if(_11a4){
this.messagesNode.innerHTML=_11a4;
this.messagesNode.style.display="";
}else{
this.messagesNode.innerHTML="";
this.messagesNode.style.display="none";
}
},_structureChanged:function(){
this.buildViews();
if(this.autoRender&&this._started){
this.render();
}
},hasLayout:function(){
return this.layout.cells.length;
},resize:function(_11a5,_11a6){
this._pendingChangeSize=_11a5;
this._pendingResultSize=_11a6;
this.sizeChange();
},_getPadBorder:function(){
this._padBorder=this._padBorder||html._getPadBorderExtents(this.domNode);
return this._padBorder;
},_getHeaderHeight:function(){
var vns=this.viewsHeaderNode.style,t=vns.display=="none"?0:this.views.measureHeader();
vns.height=t+"px";
this.views.normalizeHeaderNodeHeight();
return t;
},_resize:function(_11a7,_11a8){
_11a7=_11a7||this._pendingChangeSize;
_11a8=_11a8||this._pendingResultSize;
delete this._pendingChangeSize;
delete this._pendingResultSize;
if(!this.domNode){
return;
}
var pn=this.domNode.parentNode;
if(!pn||pn.nodeType!=1||!this.hasLayout()||pn.style.visibility=="hidden"||pn.style.display=="none"){
return;
}
var _11a9=this._getPadBorder();
var hh=undefined;
var h;
if(this._autoHeight){
this.domNode.style.height="auto";
}else{
if(typeof this.autoHeight=="number"){
h=hh=this._getHeaderHeight();
h+=(this.scroller.averageRowHeight*this.autoHeight);
this.domNode.style.height=h+"px";
}else{
if(this.domNode.clientHeight<=_11a9.h){
if(pn==document.body){
this.domNode.style.height=this.defaultHeight;
}else{
if(this.height){
this.domNode.style.height=this.height;
}else{
this.fitTo="parent";
}
}
}
}
}
if(_11a8){
_11a7=_11a8;
}
if(!this._autoHeight&&_11a7){
html.marginBox(this.domNode,_11a7);
this.height=this.domNode.style.height;
delete this.fitTo;
}else{
if(this.fitTo=="parent"){
h=this._parentContentBoxHeight=(this._parentContentBoxHeight>0?this._parentContentBoxHeight:html._getContentBox(pn).h);
this.domNode.style.height=Math.max(0,h)+"px";
}
}
var _11aa=array.some(this.views.views,function(v){
return v.flexCells;
});
if(!this._autoHeight&&(h||html._getContentBox(this.domNode).h)===0){
this.viewsHeaderNode.style.display="none";
}else{
this.viewsHeaderNode.style.display="block";
if(!_11aa&&hh===undefined){
hh=this._getHeaderHeight();
}
}
if(_11aa){
hh=undefined;
}
this.adaptWidth();
this.adaptHeight(hh);
this.postresize();
},adaptWidth:function(){
var _11ab=(!this.initialWidth&&this.autoWidth);
var w=_11ab?0:this.domNode.clientWidth||(this.domNode.offsetWidth-this._getPadBorder().w),vw=this.views.arrange(1,w);
this.views.onEach("adaptWidth");
if(_11ab){
this.domNode.style.width=vw+"px";
}
},adaptHeight:function(_11ac){
var t=_11ac===undefined?this._getHeaderHeight():_11ac;
var h=(this._autoHeight?-1:Math.max(this.domNode.clientHeight-t,0)||0);
this.views.onEach("setSize",[0,h]);
this.views.onEach("adaptHeight");
if(!this._autoHeight){
var _11ad=0,_11ae=0;
var _11af=array.filter(this.views.views,function(v){
var has=v.hasHScrollbar();
if(has){
_11ad++;
}else{
_11ae++;
}
return (!has);
});
if(_11ad>0&&_11ae>0){
array.forEach(_11af,function(v){
v.adaptHeight(true);
});
}
}
if(this.autoHeight===true||h!=-1||(typeof this.autoHeight=="number"&&this.autoHeight>=this.get("rowCount"))){
this.scroller.windowHeight=h;
}else{
this.scroller.windowHeight=Math.max(this.domNode.clientHeight-t,0);
}
},startup:function(){
if(this._started){
return;
}
this.inherited(arguments);
if(this.autoRender){
this.render();
}
},render:function(){
if(!this.domNode){
return;
}
if(!this._started){
return;
}
if(!this.hasLayout()){
this.scroller.init(0,this.keepRows,this.rowsPerPage);
return;
}
this.update=this.defaultUpdate;
this._render();
},_render:function(){
this.scroller.init(this.get("rowCount"),this.keepRows,this.rowsPerPage);
this.prerender();
this.setScrollTop(0);
this.postrender();
},prerender:function(){
this.keepRows=this._autoHeight?0:this.keepRows;
this.scroller.setKeepInfo(this.keepRows);
this.views.render();
this._resize();
},postrender:function(){
this.postresize();
this.focus.initFocusView();
html.setSelectable(this.domNode,this.selectable);
},postresize:function(){
if(this._autoHeight){
var size=Math.max(this.views.measureContent())+"px";
this.viewsNode.style.height=size;
}
},renderRow:function(_11b0,_11b1){
this.views.renderRow(_11b0,_11b1,this._skipRowRenormalize);
},rowRemoved:function(_11b2){
this.views.rowRemoved(_11b2);
},invalidated:null,updating:false,beginUpdate:function(){
this.invalidated=[];
this.updating=true;
},endUpdate:function(){
this.updating=false;
var i=this.invalidated,r;
if(i.all){
this.update();
}else{
if(i.rowCount!=undefined){
this.updateRowCount(i.rowCount);
}else{
for(r in i){
this.updateRow(Number(r));
}
}
}
this.invalidated=[];
},defaultUpdate:function(){
if(!this.domNode){
return;
}
if(this.updating){
this.invalidated.all=true;
return;
}
this.lastScrollTop=this.scrollTop;
this.prerender();
this.scroller.invalidateNodes();
this.setScrollTop(this.lastScrollTop);
this.postrender();
},update:function(){
this.render();
},updateRow:function(_11b3){
_11b3=Number(_11b3);
if(this.updating){
this.invalidated[_11b3]=true;
}else{
this.views.updateRow(_11b3);
this.scroller.rowHeightChanged(_11b3);
}
},updateRows:function(_11b4,_11b5){
_11b4=Number(_11b4);
_11b5=Number(_11b5);
var i;
if(this.updating){
for(i=0;i<_11b5;i++){
this.invalidated[i+_11b4]=true;
}
}else{
for(i=0;i<_11b5;i++){
this.views.updateRow(i+_11b4,this._skipRowRenormalize);
}
this.scroller.rowHeightChanged(_11b4);
}
},updateRowCount:function(_11b6){
if(this.updating){
this.invalidated.rowCount=_11b6;
}else{
this.rowCount=_11b6;
this._setAutoHeightAttr(this.autoHeight,true);
if(this.layout.cells.length){
this.scroller.updateRowCount(_11b6);
}
this._resize();
if(this.layout.cells.length){
this.setScrollTop(this.scrollTop);
}
}
},updateRowStyles:function(_11b7){
this.views.updateRowStyles(_11b7);
},getRowNode:function(_11b8){
if(this.focus.focusView&&!(this.focus.focusView instanceof _1193)){
return this.focus.focusView.rowNodes[_11b8];
}else{
for(var i=0,cView;(cView=this.views.views[i]);i++){
if(!(cView instanceof _1193)){
return cView.rowNodes[_11b8];
}
}
}
return null;
},rowHeightChanged:function(_11b9){
this.views.renormalizeRow(_11b9);
this.scroller.rowHeightChanged(_11b9);
},fastScroll:true,delayScroll:false,scrollRedrawThreshold:(has("ie")?100:50),scrollTo:function(inTop){
if(!this.fastScroll){
this.setScrollTop(inTop);
return;
}
var delta=Math.abs(this.lastScrollTop-inTop);
this.lastScrollTop=inTop;
if(delta>this.scrollRedrawThreshold||this.delayScroll){
this.delayScroll=true;
this.scrollTop=inTop;
this.views.setScrollTop(inTop);
if(this._pendingScroll){
window.clearTimeout(this._pendingScroll);
}
var _11ba=this;
this._pendingScroll=window.setTimeout(function(){
delete _11ba._pendingScroll;
_11ba.finishScrollJob();
},200);
}else{
this.setScrollTop(inTop);
}
},finishScrollJob:function(){
this.delayScroll=false;
this.setScrollTop(this.scrollTop);
},setScrollTop:function(inTop){
this.scroller.scroll(this.views.setScrollTop(inTop));
},scrollToRow:function(_11bb){
this.setScrollTop(this.scroller.findScrollTop(_11bb)+1);
},styleRowNode:function(_11bc,_11bd){
if(_11bd){
this.rows.styleRowNode(_11bc,_11bd);
}
},_mouseOut:function(e){
this.rows.setOverRow(-2);
},getCell:function(_11be){
return this.layout.cells[_11be];
},setCellWidth:function(_11bf,_11c0){
this.getCell(_11bf).unitWidth=_11c0;
},getCellName:function(_11c1){
return "Cell "+_11c1.index;
},canSort:function(_11c2){
},sort:function(){
},getSortAsc:function(_11c3){
_11c3=_11c3==undefined?this.sortInfo:_11c3;
return Boolean(_11c3>0);
},getSortIndex:function(_11c4){
_11c4=_11c4==undefined?this.sortInfo:_11c4;
return Math.abs(_11c4)-1;
},setSortIndex:function(_11c5,inAsc){
var si=_11c5+1;
if(inAsc!=undefined){
si*=(inAsc?1:-1);
}else{
if(this.getSortIndex()==_11c5){
si=-this.sortInfo;
}
}
this.setSortInfo(si);
},setSortInfo:function(_11c6){
if(this.canSort(_11c6)){
this.sortInfo=_11c6;
this.sort();
this.update();
}
},doKeyEvent:function(e){
e.dispatch="do"+e.type;
this.onKeyEvent(e);
},_dispatch:function(m,e){
if(m in this){
return this[m](e);
}
return false;
},dispatchKeyEvent:function(e){
this._dispatch(e.dispatch,e);
},dispatchContentEvent:function(e){
this.edit.dispatchEvent(e)||e.sourceView.dispatchContentEvent(e)||this._dispatch(e.dispatch,e);
},dispatchHeaderEvent:function(e){
e.sourceView.dispatchHeaderEvent(e)||this._dispatch("doheader"+e.type,e);
},dokeydown:function(e){
this.onKeyDown(e);
},doclick:function(e){
if(e.cellNode){
this.onCellClick(e);
}else{
this.onRowClick(e);
}
},dodblclick:function(e){
if(e.cellNode){
this.onCellDblClick(e);
}else{
this.onRowDblClick(e);
}
},docontextmenu:function(e){
if(e.cellNode){
this.onCellContextMenu(e);
}else{
this.onRowContextMenu(e);
}
},doheaderclick:function(e){
if(e.cellNode){
this.onHeaderCellClick(e);
}else{
this.onHeaderClick(e);
}
},doheaderdblclick:function(e){
if(e.cellNode){
this.onHeaderCellDblClick(e);
}else{
this.onHeaderDblClick(e);
}
},doheadercontextmenu:function(e){
if(e.cellNode){
this.onHeaderCellContextMenu(e);
}else{
this.onHeaderContextMenu(e);
}
},doStartEdit:function(_11c7,_11c8){
this.onStartEdit(_11c7,_11c8);
},doApplyCellEdit:function(_11c9,_11ca,_11cb){
this.onApplyCellEdit(_11c9,_11ca,_11cb);
},doCancelEdit:function(_11cc){
this.onCancelEdit(_11cc);
},doApplyEdit:function(_11cd){
this.onApplyEdit(_11cd);
},addRow:function(){
this.updateRowCount(this.get("rowCount")+1);
},removeSelectedRows:function(){
if(this.allItemsSelected){
this.updateRowCount(0);
}else{
this.updateRowCount(Math.max(0,this.get("rowCount")-this.selection.getSelected().length));
}
this.selection.clear();
}});
_119a.markupFactory=function(props,node,ctor,_11ce){
var _11cf=function(n){
var w=html.attr(n,"width")||"auto";
if((w!="auto")&&(w.slice(-2)!="em")&&(w.slice(-1)!="%")){
w=parseInt(w,10)+"px";
}
return w;
};
if(!props.structure&&node.nodeName.toLowerCase()=="table"){
props.structure=query("> colgroup",node).map(function(cg){
var sv=html.attr(cg,"span");
var v={noscroll:(html.attr(cg,"noscroll")=="true")?true:false,__span:(!!sv?parseInt(sv,10):1),cells:[]};
if(html.hasAttr(cg,"width")){
v.width=_11cf(cg);
}
return v;
});
if(!props.structure.length){
props.structure.push({__span:Infinity,cells:[]});
}
query("thead > tr",node).forEach(function(tr,_11d0){
var _11d1=0;
var _11d2=0;
var _11d3;
var cView=null;
query("> th",tr).map(function(th){
if(!cView){
_11d3=0;
cView=props.structure[0];
}else{
if(_11d1>=(_11d3+cView.__span)){
_11d2++;
_11d3+=cView.__span;
var _11d4=cView;
cView=props.structure[_11d2];
}
}
var cell={name:lang.trim(html.attr(th,"name")||th.innerHTML),colSpan:parseInt(html.attr(th,"colspan")||1,10),type:lang.trim(html.attr(th,"cellType")||""),id:lang.trim(html.attr(th,"id")||"")};
_11d1+=cell.colSpan;
var _11d5=html.attr(th,"rowspan");
if(_11d5){
cell.rowSpan=_11d5;
}
if(html.hasAttr(th,"width")){
cell.width=_11cf(th);
}
if(html.hasAttr(th,"relWidth")){
cell.relWidth=window.parseInt(html.attr(th,"relWidth"),10);
}
if(html.hasAttr(th,"hidden")){
cell.hidden=(html.attr(th,"hidden")=="true"||html.attr(th,"hidden")===true);
}
if(_11ce){
_11ce(th,cell);
}
cell.type=cell.type?lang.getObject(cell.type):dojox.grid.cells.Cell;
if(cell.type&&cell.type.markupFactory){
cell.type.markupFactory(th,cell);
}
if(!cView.cells[_11d0]){
cView.cells[_11d0]=[];
}
cView.cells[_11d0].push(cell);
});
});
}
return new ctor(props,node);
};
return _119a;
});
},"dojo/store/Memory":function(){
define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(_11d6,_11d7,_11d8){
var base=null;
return _11d6("dojo.store.Memory",base,{constructor:function(_11d9){
for(var i in _11d9){
this[i]=_11d9[i];
}
this.setData(this.data||[]);
},data:null,idProperty:"id",index:null,queryEngine:_11d8,get:function(id){
return this.data[this.index[id]];
},getIdentity:function(_11da){
return _11da[this.idProperty];
},put:function(_11db,_11dc){
var data=this.data,index=this.index,_11dd=this.idProperty;
var id=_11db[_11dd]=(_11dc&&"id" in _11dc)?_11dc.id:_11dd in _11db?_11db[_11dd]:Math.random();
if(id in index){
if(_11dc&&_11dc.overwrite===false){
throw new Error("Object already exists");
}
data[index[id]]=_11db;
}else{
index[id]=data.push(_11db)-1;
}
return id;
},add:function(_11de,_11df){
(_11df=_11df||{}).overwrite=false;
return this.put(_11de,_11df);
},remove:function(id){
var index=this.index;
var data=this.data;
if(id in index){
data.splice(index[id],1);
this.setData(data);
return true;
}
},query:function(query,_11e0){
return _11d7(this.queryEngine(query,_11e0)(this.data));
},setData:function(data){
if(data.items){
this.idProperty=data.identifier;
data=this.data=data.items;
}else{
this.data=data;
}
this.index={};
for(var i=0,l=data.length;i<l;i++){
this.index[data[i][this.idProperty]]=i;
}
}});
});
},"dgrid/OnDemandList":function(){
define(["./List","./_StoreMixin","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","./util/misc","put-selector/put"],function(List,_11e1,_11e2,lang,_11e3,_11e4,_11e5,put){
return _11e2([List,_11e1],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2000,queryRowsOverlap:1,pagingMethod:"debounce",pagingDelay:_11e5.defaultDelay,keepScrollPosition:false,rowHeight:22,postCreate:function(){
this.inherited(arguments);
var self=this;
_11e4(this.bodyNode,"scroll",_11e5[this.pagingMethod](function(event){
self._processScroll(event);
},null,this.pagingDelay));
},renderQuery:function(query,_11e6,_11e7){
var self=this,_11e8={query:query,count:0,node:_11e6,options:_11e7},_11e9=this.preload,_11ea;
if(!_11e6){
var _11eb={node:put(this.contentNode,"div.dgrid-preload",{rowIndex:0}),count:0,query:query,next:_11e8,options:_11e7};
_11eb.node.style.height="0";
_11e8.node=_11e6=put(this.contentNode,"div.dgrid-preload");
_11e8.previous=_11eb;
}
_11e6.rowIndex=this.minRowsPerPage;
if(_11e9){
if((_11e8.next=_11e9.next)&&this.bodyNode.scrollTop>=_11e9.node.offsetTop){
_11e8.previous=_11e9;
}else{
_11e8.next=_11e9;
_11e8.previous=_11e9.previous;
}
_11e8.previous.next=_11e8;
_11e8.next.previous=_11e8;
}else{
this.preload=_11e8;
}
var _11ec=put(_11e6,"-div.dgrid-loading"),_11ed=put(_11ec,"div.dgrid-below");
_11ed.innerHTML=this.loadingMessage;
function _11ee(err){
put(_11ec,"!");
if(err){
if(self._refreshDeferred){
self._refreshDeferred.reject(err);
delete self._refreshDeferred;
}
throw err;
}
};
_11e7=lang.mixin(this.get("queryOptions"),_11e7,{start:0,count:this.minRowsPerPage,query:query});
this._trackError(function(){
return _11ea=query(_11e7);
});
if(typeof _11ea==="undefined"){
_11ee();
return;
}
_11e3.when(self.renderArray(_11ea,_11e6,_11e7),function(trs){
var total=typeof _11ea.total==="undefined"?_11ea.length:_11ea.total;
return _11e3.when(total,function(total){
put(_11ec,"!");
var _11ef=trs.length;
if(total===0){
if(self.noDataNode){
put(self.noDataNode,"!");
delete self.noDataNode;
}
self.noDataNode=put(self.contentNode,"div.dgrid-no-data");
self.noDataNode.innerHTML=self.noDataMessage;
}
var _11f0=0;
for(var i=0;i<_11ef;i++){
_11f0+=self._calcRowHeight(trs[i]);
}
if(_11ef&&_11f0){
self.rowHeight=_11f0/_11ef;
}
total-=_11ef;
_11e8.count=total;
_11e6.rowIndex=_11ef;
if(total){
_11e6.style.height=Math.min(total*self.rowHeight,self.maxEmptySpace)+"px";
}else{
_11e6.style.display="none";
}
if(self._previousScrollPosition){
self.scrollTo(self._previousScrollPosition);
delete self._previousScrollPosition;
}
self._processScroll();
if(self._refreshDeferred){
self._refreshDeferred.resolve(_11ea);
delete self._refreshDeferred;
}
return trs;
},_11ee);
},_11ee);
return _11ea;
},refresh:function(_11f1){
var self=this,keep=(_11f1&&_11f1.keepScrollPosition),dfd,_11f2;
if(typeof keep==="undefined"){
keep=this.keepScrollPosition;
}
if(keep){
this._previousScrollPosition=this.getScrollPosition();
}
this.inherited(arguments);
if(this.store){
dfd=this._refreshDeferred=new _11e3();
_11f2=self.renderQuery(function(_11f3){
return self.store.query(self.query,_11f3);
});
if(typeof _11f2==="undefined"){
dfd.reject();
}
return dfd.then(function(_11f4){
setTimeout(function(){
_11e4.emit(self.domNode,"dgrid-refresh-complete",{bubbles:true,cancelable:false,grid:self,results:_11f4});
},0);
delete self._refreshDeferred;
return _11f4;
},function(err){
delete self._refreshDeferred;
throw err;
});
}
},resize:function(){
this.inherited(arguments);
this._processScroll();
},_calcRowHeight:function(_11f5){
var _11f6=_11f5.previousSibling;
return _11f6&&_11f6.offsetTop!=_11f5.offsetTop?_11f5.offsetHeight:0;
},lastScrollTop:0,_processScroll:function(evt){
var grid=this,_11f7=grid.bodyNode,_11f8=(evt&&evt.scrollTop)||this.getScrollPosition().y,_11f9=_11f7.offsetHeight+_11f8,_11fa,_11fb,_11fc=grid.preload,_11fd=grid.lastScrollTop,_11fe=grid.bufferRows*grid.rowHeight,_11ff=_11fe-grid.rowHeight,_1200,_1201,_1202;
var _1203=1;
grid.lastScrollTop=_11f8;
function _1204(_1205,_1206,_1207,below){
var _1208=grid.farOffRemoval,_11fb=_1205.node;
if(_1206>2*_1208){
var row,_1209=_11fb[_1207];
var _120a=0;
var count=0;
var _120b=[];
while((row=_1209)){
var _120c=grid._calcRowHeight(row);
if(_120a+_120c+_1208>_1206||(_1209.className.indexOf("dgrid-row")<0&&_1209.className.indexOf("dgrid-loading")<0)){
break;
}
var _1209=row[_1207];
var _120d,_120e=row.observerIndex;
if(_120e!=_120d&&_120d>-1){
var _120f=grid.observers;
var _1210=_120f[_120d];
_1210&&_1210.cancel();
_120f[_120d]=0;
}
_120a+=_120c;
count+=row.count||1;
_120d=_120e;
grid.removeRow(row,true);
_120b.push(row);
}
_1205.count+=count;
if(below){
_11fb.rowIndex-=count;
_1211(_1205);
}else{
_11fb.style.height=(_11fb.offsetHeight+_120a)+"px";
}
var _1212=put("div",_120b);
setTimeout(function(){
put(_1212,"!");
},1);
}
};
function _1211(_1213,noMax){
_1213.node.style.height=Math.min(_1213.count*grid.rowHeight,noMax?Infinity:grid.maxEmptySpace)+"px";
};
while(_11fc&&!_11fc.node.offsetWidth){
_11fc=_11fc.previous;
}
while(_11fc&&_11fc!=_11fa){
_11fa=grid.preload;
grid.preload=_11fc;
_11fb=_11fc.node;
var _1214=_11fb.offsetTop;
var _1215;
if(_11f9+_1203+_11ff<_1214){
do{
_11fc=_11fc.previous;
}while(_11fc&&!_11fc.node.offsetWidth);
}else{
if(_11f8-_1203-_11ff>(_1214+(_1215=_11fb.offsetHeight))){
do{
_11fc=_11fc.next;
}while(_11fc&&!_11fc.node.offsetWidth);
}else{
var _1216=((_11fb.rowIndex?_11f8-_11fe:_11f9)-_1214)/grid.rowHeight;
var count=(_11f9-_11f8+2*_11fe)/grid.rowHeight;
var _1217=Math.max(Math.min((_11f8-_11fd)*grid.rowHeight,grid.maxRowsPerPage/2),grid.maxRowsPerPage/-2);
count+=Math.min(Math.abs(_1217),10);
if(_11fb.rowIndex==0){
_1216-=count;
}
_1216=Math.max(_1216,0);
if(_1216<10&&_1216>0&&count+_1216<grid.maxRowsPerPage){
count+=Math.max(0,_1216);
_1216=0;
}
count=Math.min(Math.max(count,grid.minRowsPerPage),grid.maxRowsPerPage,_11fc.count);
if(count==0){
return;
}
count=Math.ceil(count);
_1216=Math.min(Math.floor(_1216),_11fc.count-count);
var _1218=lang.mixin(grid.get("queryOptions"),_11fc.options);
_11fc.count-=count;
var _1219=_11fb,_121a,_121b=grid.queryRowsOverlap,below=_11fb.rowIndex>0&&_11fc;
if(below){
var _121c=_11fc.previous;
if(_121c){
_1204(_121c,_11f8-(_121c.node.offsetTop+_121c.node.offsetHeight),"nextSibling");
if(_1216>0&&_121c.node==_11fb.previousSibling){
_1216=Math.min(_11fc.count,_1216);
_11fc.previous.count+=_1216;
_1211(_11fc.previous,true);
_11fb.rowIndex+=_1216;
_121b=0;
}else{
count+=_1216;
}
_11fc.count-=_1216;
}
_1218.start=_11fb.rowIndex-_121b;
_11fb.rowIndex+=count;
}else{
if(_11fc.next){
_1204(_11fc.next,_11fc.next.node.offsetTop-_11f9,"previousSibling",true);
var _1219=_11fb.nextSibling;
if(_1219==_11fc.next.node){
_11fc.next.count+=_11fc.count-_1216;
_11fc.next.node.rowIndex=_1216+count;
_1211(_11fc.next);
_11fc.count=_1216;
_121b=0;
}else{
_121a=true;
}
}
_1218.start=_11fc.count;
}
_1218.count=Math.min(count+_121b,grid.maxRowsPerPage);
if(_121a&&_1219&&_1219.offsetWidth){
_121a=_1219.offsetTop;
}
_1211(_11fc);
var _121d=put(_1219,"-div.dgrid-loading[style=height:"+count*grid.rowHeight+"px]"),_121e=put(_121d,"div.dgrid-"+(below?"below":"above"));
_121e.innerHTML=grid.loadingMessage;
_121d.count=count;
_121d.blockRowIndex=true;
_1218.query=_11fc.query;
var _121f=_11fc.query(_1218),_1220=grid._trackError(function(){
return _121f;
});
if(_1220===undefined){
put(_121d,"!");
return;
}
(function(_1221,_1222,below,_1223,_1224){
_1202=_11e3.when(grid.renderArray(_1224,_1221,_1218),function(rows){
_1201=_1224;
_1219=_1221.nextSibling;
put(_1221,"!");
if(_1223&&_1219&&_1219.offsetWidth){
var pos=grid.getScrollPosition();
grid.scrollTo({x:pos.x,y:pos.y+_1219.offsetTop-_1223,preserveMomentum:true});
}
if(below){
_11e3.when(_1224.total||_1224.length,function(total){
below.count=total-below.node.rowIndex;
_1211(below);
});
}
grid._processScroll();
return rows;
},function(e){
put(_1221,"!");
throw e;
});
}).call(this,_121d,_11f7,below,_121a,_121f);
_11fc=_11fc.previous;
}
}
}
if(_1202&&(_1200=this._refreshDeferred)){
delete this._refreshDeferred;
_11e3.when(_1202,function(){
_1200.resolve(_1201);
});
}
}});
});
},"dojo/hccss":function(){
define(["require","./_base/config","./dom-class","./dom-style","./has","./domReady","./_base/window"],function(_1225,_1226,_1227,_1228,has,_1229,win){
has.add("highcontrast",function(){
var div=win.doc.createElement("div");
div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url("+(_1226.blankGif||_1225.toUrl("./resources/blank.gif"))+");";
win.body().appendChild(div);
var cs=_1228.getComputedStyle(div),bkImg=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(bkImg&&(bkImg=="none"||bkImg=="url(invalid-url:)"));
if(has("ie")<=8){
div.outerHTML="";
}else{
win.body().removeChild(div);
}
return hc;
});
_1229(function(){
if(has("highcontrast")){
_1227.add(win.body(),"dj_a11y");
}
});
return has;
});
},"dojo/request/iframe":function(){
define(["module","require","./watch","./util","./handlers","../_base/lang","../io-query","../query","../has","../dom","../dom-construct","../_base/window","../NodeList-dom"],function(_122a,_122b,watch,util,_122c,lang,_122d,query,has,dom,_122e,win){
var mid=_122a.id.replace(/[\/\.\-]/g,"_"),_122f=mid+"_onload";
if(!win.global[_122f]){
win.global[_122f]=function(){
var dfd=_1230._currentDfd;
if(!dfd){
_1230._fireNextRequest();
return;
}
var _1231=dfd.response,_1232=_1231.options,_1233=dom.byId(_1232.form)||dfd._tmpForm;
if(_1233){
var _1234=dfd._contentToClean;
for(var i=0;i<_1234.length;i++){
var key=_1234[i];
for(var j=0;j<_1233.childNodes.length;j++){
var _1235=_1233.childNodes[j];
if(_1235.name===key){
_122e.destroy(_1235);
break;
}
}
}
dfd._originalAction&&_1233.setAttribute("action",dfd._originalAction);
if(dfd._originalMethod){
_1233.setAttribute("method",dfd._originalMethod);
_1233.method=dfd._originalMethod;
}
if(dfd._originalTarget){
_1233.setAttribute("target",dfd._originalTarget);
_1233.target=dfd._originalTarget;
}
}
if(dfd._tmpForm){
_122e.destroy(dfd._tmpForm);
delete dfd._tmpForm;
}
dfd._finished=true;
};
}
function _1236(name,_1237,uri){
if(win.global[name]){
return win.global[name];
}
if(win.global.frames[name]){
return win.global.frames[name];
}
if(!uri){
if(has("config-useXDomain")&&!has("config-dojoBlankHtmlUrl")){
console.warn("dojo/request/iframe: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");
}
uri=(has("config-dojoBlankHtmlUrl")||_122b.toUrl("dojo/resources/blank.html"));
}
var frame=_122e.place("<iframe id=\""+name+"\" name=\""+name+"\" src=\""+uri+"\" onload=\""+_1237+"\" style=\"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden\">",win.body());
win.global[name]=frame;
return frame;
};
function _1238(_1239,src,_123a){
var frame=win.global.frames[_1239.name];
if(frame.contentWindow){
frame=frame.contentWindow;
}
try{
if(!_123a){
frame.location=src;
}else{
frame.location.replace(src);
}
}
catch(e){
}
};
function doc(_123b){
if(_123b.contentDocument){
return _123b.contentDocument;
}
var name=_123b.name;
if(name){
var _123c=win.doc.getElementsByTagName("iframe");
if(_123b.document&&_123c[name].contentWindow&&_123c[name].contentWindow.document){
return _123c[name].contentWindow.document;
}else{
if(win.doc.frames[name]&&win.doc.frames[name].document){
return win.doc.frames[name].document;
}
}
}
return null;
};
function _123d(){
return _122e.create("form",{name:mid+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},win.body());
};
function _123e(){
var dfd;
try{
if(_1230._currentDfd||!_1230._dfdQueue.length){
return;
}
do{
dfd=_1230._currentDfd=_1230._dfdQueue.shift();
}while(dfd&&(dfd.canceled||(dfd.isCanceled&&dfd.isCanceled()))&&_1230._dfdQueue.length);
if(!dfd||dfd.canceled||(dfd.isCanceled&&dfd.isCanceled())){
_1230._currentDfd=null;
return;
}
var _123f=dfd.response,_1240=_123f.options,c2c=dfd._contentToClean=[],_1241=dom.byId(_1240.form),_1242=util.notify,data=_1240.data||null,_1243;
if(!dfd._legacy&&_1240.method==="POST"&&!_1241){
_1241=dfd._tmpForm=_123d();
}else{
if(_1240.method==="GET"&&_1241&&_123f.url.indexOf("?")>-1){
_1243=_123f.url.slice(_123f.url.indexOf("?")+1);
data=lang.mixin(_122d.queryToObject(_1243),data);
}
}
if(_1241){
if(!dfd._legacy){
var _1244=_1241;
do{
_1244=_1244.parentNode;
}while(_1244!==win.doc.documentElement);
if(!_1244){
_1241.style.position="absolute";
_1241.style.left="-1000px";
_1241.style.top="-1000px";
win.body().appendChild(_1241);
}
if(!_1241.name){
_1241.name=mid+"_form";
}
}
if(data){
var _1245=function(name,value){
_122e.create("input",{type:"hidden",name:name,value:value},_1241);
c2c.push(name);
};
for(var x in data){
var val=data[x];
if(lang.isArray(val)&&val.length>1){
for(var i=0;i<val.length;i++){
_1245(x,val[i]);
}
}else{
if(!_1241[x]){
_1245(x,val);
}else{
_1241[x].value=val;
}
}
}
}
var _1246=_1241.getAttributeNode("action"),_1247=_1241.getAttributeNode("method"),_1248=_1241.getAttributeNode("target");
if(_123f.url){
dfd._originalAction=_1246?_1246.value:null;
if(_1246){
_1246.value=_123f.url;
}else{
_1241.setAttribute("action",_123f.url);
}
}
if(!dfd._legacy){
dfd._originalMethod=_1247?_1247.value:null;
if(_1247){
_1247.value=_1240.method;
}else{
_1241.setAttribute("method",_1240.method);
}
}else{
if(!_1247||!_1247.value){
if(_1247){
_1247.value=_1240.method;
}else{
_1241.setAttribute("method",_1240.method);
}
}
}
dfd._originalTarget=_1248?_1248.value:null;
if(_1248){
_1248.value=_1230._iframeName;
}else{
_1241.setAttribute("target",_1230._iframeName);
}
_1241.target=_1230._iframeName;
_1242&&_1242.emit("send",_123f,dfd.promise.cancel);
_1230._notifyStart(_123f);
_1241.submit();
}else{
var extra="";
if(_123f.options.data){
extra=_123f.options.data;
if(typeof extra!=="string"){
extra=_122d.objectToQuery(extra);
}
}
var _1249=_123f.url+(_123f.url.indexOf("?")>-1?"&":"?")+extra;
_1242&&_1242.emit("send",_123f,dfd.promise.cancel);
_1230._notifyStart(_123f);
_1230.setSrc(_1230._frame,_1249,true);
}
}
catch(e){
dfd.reject(e);
}
};
function _124a(_124b){
return !this.isFulfilled();
};
function _124c(_124d){
return !!this._finished;
};
function _124e(_124f,error){
if(!error){
try{
var _1250=_124f.options,doc=_1230.doc(_1230._frame),_1251=_1250.handleAs;
if(_1251!=="html"){
if(_1251==="xml"){
if(doc.documentElement.tagName.toLowerCase()==="html"){
query("a",doc.documentElement).orphan();
var _1252=doc.documentElement.innerText;
_1252=_1252.replace(/>\s+</g,"><");
_124f.text=lang.trim(_1252);
}else{
_124f.data=doc;
}
}else{
_124f.text=doc.getElementsByTagName("textarea")[0].value;
}
_122c(_124f);
}else{
_124f.data=doc;
}
}
catch(e){
error=e;
}
}
if(error){
this.reject(error);
}else{
if(this._finished){
this.resolve(_124f);
}else{
this.reject(new Error("Invalid dojo/request/iframe request state"));
}
}
};
function last(_1253){
this._callNext();
};
var _1254={method:"POST"};
function _1230(url,_1255,_1256){
var _1257=util.parseArgs(url,util.deepCreate(_1254,_1255),true);
url=_1257.url;
_1255=_1257.options;
if(_1255.method!=="GET"&&_1255.method!=="POST"){
throw new Error(_1255.method+" not supported by dojo/request/iframe");
}
if(!_1230._frame){
_1230._frame=_1230.create(_1230._iframeName,_122f+"();");
}
var dfd=util.deferred(_1257,null,_124a,_124c,_124e,last);
dfd._callNext=function(){
if(!this._calledNext){
this._calledNext=true;
_1230._currentDfd=null;
_1230._fireNextRequest();
}
};
dfd._legacy=_1256;
_1230._dfdQueue.push(dfd);
_1230._fireNextRequest();
watch(dfd);
return _1256?dfd:dfd.promise;
};
_1230.create=_1236;
_1230.doc=doc;
_1230.setSrc=_1238;
_1230._iframeName=mid+"_IoIframe";
_1230._notifyStart=function(){
};
_1230._dfdQueue=[];
_1230._currentDfd=null;
_1230._fireNextRequest=_123e;
util.addCommonMethods(_1230,["GET","POST"]);
return _1230;
});
},"dojox/grid/_Events":function(){
define(["dojo/keys","dojo/dom-class","dojo/_base/declare","dojo/_base/event","dojo/_base/sniff"],function(keys,_1258,_1259,event,has){
return _1259("dojox.grid._Events",null,{cellOverClass:"dojoxGridCellOver",onKeyEvent:function(e){
this.dispatchKeyEvent(e);
},onContentEvent:function(e){
this.dispatchContentEvent(e);
},onHeaderEvent:function(e){
this.dispatchHeaderEvent(e);
},onStyleRow:function(inRow){
var i=inRow;
i.customClasses+=(i.odd?" dojoxGridRowOdd":"")+(i.selected?" dojoxGridRowSelected":"")+(i.over?" dojoxGridRowOver":"");
this.focus.styleRow(inRow);
this.edit.styleRow(inRow);
},onKeyDown:function(e){
if(e.altKey||e.metaKey){
return;
}
var _125a;
switch(e.keyCode){
case keys.ESCAPE:
this.edit.cancel();
break;
case keys.ENTER:
if(!this.edit.isEditing()){
_125a=this.focus.getHeaderIndex();
if(_125a>=0){
this.setSortIndex(_125a);
break;
}else{
this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(e),e.shiftKey);
}
event.stop(e);
}
if(!e.shiftKey){
var _125b=this.edit.isEditing();
this.edit.apply();
if(!_125b){
this.edit.setEditCell(this.focus.cell,this.focus.rowIndex);
}
}
if(!this.edit.isEditing()){
var _125c=this.focus.focusView||this.views.views[0];
_125c.content.decorateEvent(e);
this.onRowClick(e);
event.stop(e);
}
break;
case keys.SPACE:
if(!this.edit.isEditing()){
_125a=this.focus.getHeaderIndex();
if(_125a>=0){
this.setSortIndex(_125a);
break;
}else{
this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(e),e.shiftKey);
}
event.stop(e);
}
break;
case keys.TAB:
this.focus[e.shiftKey?"previousKey":"nextKey"](e);
break;
case keys.LEFT_ARROW:
case keys.RIGHT_ARROW:
if(!this.edit.isEditing()){
var _125d=e.keyCode;
event.stop(e);
_125a=this.focus.getHeaderIndex();
if(_125a>=0&&(e.shiftKey&&e.ctrlKey)){
this.focus.colSizeAdjust(e,_125a,(_125d==keys.LEFT_ARROW?-1:1)*5);
}else{
var _125e=(_125d==keys.LEFT_ARROW)?1:-1;
if(this.isLeftToRight()){
_125e*=-1;
}
this.focus.move(0,_125e);
}
}
break;
case keys.UP_ARROW:
if(!this.edit.isEditing()&&this.focus.rowIndex!==0){
event.stop(e);
this.focus.move(-1,0);
}
break;
case keys.DOWN_ARROW:
if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){
event.stop(e);
this.focus.move(1,0);
}
break;
case keys.PAGE_UP:
if(!this.edit.isEditing()&&this.focus.rowIndex!==0){
event.stop(e);
if(this.focus.rowIndex!=this.scroller.firstVisibleRow+1){
this.focus.move(this.scroller.firstVisibleRow-this.focus.rowIndex,0);
}else{
this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex-1));
this.focus.move(this.scroller.firstVisibleRow-this.scroller.lastVisibleRow+1,0);
}
}
break;
case keys.PAGE_DOWN:
if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){
event.stop(e);
if(this.focus.rowIndex!=this.scroller.lastVisibleRow-1){
this.focus.move(this.scroller.lastVisibleRow-this.focus.rowIndex-1,0);
}else{
this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex+1));
this.focus.move(this.scroller.lastVisibleRow-this.scroller.firstVisibleRow-1,0);
}
}
break;
default:
break;
}
},onMouseOver:function(e){
e.rowIndex==-1?this.onHeaderCellMouseOver(e):this.onCellMouseOver(e);
},onMouseOut:function(e){
e.rowIndex==-1?this.onHeaderCellMouseOut(e):this.onCellMouseOut(e);
},onMouseDown:function(e){
e.rowIndex==-1?this.onHeaderCellMouseDown(e):this.onCellMouseDown(e);
},onMouseOverRow:function(e){
if(!this.rows.isOver(e.rowIndex)){
this.rows.setOverRow(e.rowIndex);
e.rowIndex==-1?this.onHeaderMouseOver(e):this.onRowMouseOver(e);
}
},onMouseOutRow:function(e){
if(this.rows.isOver(-1)){
this.onHeaderMouseOut(e);
}else{
if(!this.rows.isOver(-2)){
this.rows.setOverRow(-2);
this.onRowMouseOut(e);
}
}
},onMouseDownRow:function(e){
if(e.rowIndex!=-1){
this.onRowMouseDown(e);
}
},onCellMouseOver:function(e){
if(e.cellNode){
_1258.add(e.cellNode,this.cellOverClass);
}
},onCellMouseOut:function(e){
if(e.cellNode){
_1258.remove(e.cellNode,this.cellOverClass);
}
},onCellMouseDown:function(e){
},onCellClick:function(e){
this._click[0]=this._click[1];
this._click[1]=e;
if(!this.edit.isEditCell(e.rowIndex,e.cellIndex)){
this.focus.setFocusCell(e.cell,e.rowIndex);
}
if(this._click.length>1&&this._click[0]==null){
this._click.shift();
}
this.onRowClick(e);
},onCellDblClick:function(e){
var event;
if(this._click.length>1&&has("ie")){
event=this._click[1];
}else{
if(this._click.length>1&&this._click[0].rowIndex!=this._click[1].rowIndex){
event=this._click[0];
}else{
event=e;
}
}
this.focus.setFocusCell(event.cell,event.rowIndex);
this.edit.setEditCell(event.cell,event.rowIndex);
this.onRowDblClick(e);
},onCellContextMenu:function(e){
this.onRowContextMenu(e);
},onCellFocus:function(_125f,_1260){
this.edit.cellFocus(_125f,_1260);
},onRowClick:function(e){
this.edit.rowClick(e);
this.selection.clickSelectEvent(e);
},onRowDblClick:function(e){
},onRowMouseOver:function(e){
},onRowMouseOut:function(e){
},onRowMouseDown:function(e){
},onRowContextMenu:function(e){
event.stop(e);
},onHeaderMouseOver:function(e){
},onHeaderMouseOut:function(e){
},onHeaderCellMouseOver:function(e){
if(e.cellNode){
_1258.add(e.cellNode,this.cellOverClass);
}
},onHeaderCellMouseOut:function(e){
if(e.cellNode){
_1258.remove(e.cellNode,this.cellOverClass);
}
},onHeaderCellMouseDown:function(e){
},onHeaderClick:function(e){
},onHeaderCellClick:function(e){
this.setSortIndex(e.cell.index);
this.onHeaderClick(e);
},onHeaderDblClick:function(e){
},onHeaderCellDblClick:function(e){
this.onHeaderDblClick(e);
},onHeaderCellContextMenu:function(e){
this.onHeaderContextMenu(e);
},onHeaderContextMenu:function(e){
if(!this.headerMenu){
event.stop(e);
}
},onStartEdit:function(_1261,_1262){
},onApplyCellEdit:function(_1263,_1264,_1265){
},onCancelEdit:function(_1266){
},onApplyEdit:function(_1267){
},onCanSelect:function(_1268){
return true;
},onCanDeselect:function(_1269){
return true;
},onSelected:function(_126a){
this.updateRowStyles(_126a);
},onDeselected:function(_126b){
this.updateRowStyles(_126b);
},onSelectionChanged:function(){
}});
});
},"dijit/form/_ListBase":function(){
define(["dojo/_base/declare","dojo/on","dojo/window"],function(_126c,on,_126d){
return _126c("dijit.form._ListBase",null,{selected:null,_listConnect:function(_126e,_126f){
var self=this;
return self.own(on(self.containerNode,on.selector(function(_1270,_1271,_1272){
return _1270.parentNode==_1272;
},_126e),function(evt){
if(!/^touch/.test(evt.type)){
evt.preventDefault();
}
self[_126f](evt,this);
}));
},selectFirstNode:function(){
var first=this.containerNode.firstChild;
while(first&&first.style.display=="none"){
first=first.nextSibling;
}
this._setSelectedAttr(first);
},selectLastNode:function(){
var last=this.containerNode.lastChild;
while(last&&last.style.display=="none"){
last=last.previousSibling;
}
this._setSelectedAttr(last);
},selectNextNode:function(){
var _1273=this.selected;
if(!_1273){
this.selectFirstNode();
}else{
var next=_1273.nextSibling;
while(next&&next.style.display=="none"){
next=next.nextSibling;
}
if(!next){
this.selectFirstNode();
}else{
this._setSelectedAttr(next);
}
}
},selectPreviousNode:function(){
var _1274=this.selected;
if(!_1274){
this.selectLastNode();
}else{
var prev=_1274.previousSibling;
while(prev&&prev.style.display=="none"){
prev=prev.previousSibling;
}
if(!prev){
this.selectLastNode();
}else{
this._setSelectedAttr(prev);
}
}
},_setSelectedAttr:function(node){
if(this.selected!=node){
var _1275=this.selected;
if(_1275){
this.onDeselect(_1275);
}
if(node){
_126d.scrollIntoView(node);
this.onSelect(node);
}
this._set("selected",node);
}else{
if(node){
this.onSelect(node);
}
}
}});
});
},"dijit/typematic":function(){
define(["dojo/_base/array","dojo/_base/connect","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(array,_1276,lang,on,has,dijit){
var _1277=(dijit.typematic={_fireEventAndReload:function(){
this._timer=null;
this._callback(++this._count,this._node,this._evt);
this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);
this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);
},trigger:function(evt,_1278,node,_1279,obj,_127a,_127b,_127c){
if(obj!=this._obj){
this.stop();
this._initialDelay=_127b||500;
this._subsequentDelay=_127a||0.9;
this._minDelay=_127c||10;
this._obj=obj;
this._node=node;
this._currentTimeout=-1;
this._count=-1;
this._callback=lang.hitch(_1278,_1279);
this._evt={faux:true};
for(var attr in evt){
if(attr!="layerX"&&attr!="layerY"){
var v=evt[attr];
if(typeof v!="function"&&typeof v!="undefined"){
this._evt[attr]=v;
}
}
}
this._fireEventAndReload();
}
},stop:function(){
if(this._timer){
clearTimeout(this._timer);
this._timer=null;
}
if(this._obj){
this._callback(-1,this._node,this._evt);
this._obj=null;
}
},addKeyListener:function(node,_127d,_127e,_127f,_1280,_1281,_1282){
var type="keyCode" in _127d?"keydown":"charCode" in _127d?"keypress":_1276._keypress,attr="keyCode" in _127d?"keyCode":"charCode" in _127d?"charCode":"charOrCode";
var _1283=[on(node,type,lang.hitch(this,function(evt){
if(evt[attr]==_127d[attr]&&(_127d.ctrlKey===undefined||_127d.ctrlKey==evt.ctrlKey)&&(_127d.altKey===undefined||_127d.altKey==evt.altKey)&&(_127d.metaKey===undefined||_127d.metaKey==(evt.metaKey||false))&&(_127d.shiftKey===undefined||_127d.shiftKey==evt.shiftKey)){
evt.stopPropagation();
evt.preventDefault();
_1277.trigger(evt,_127e,node,_127f,_127d,_1280,_1281,_1282);
}else{
if(_1277._obj==_127d){
_1277.stop();
}
}
})),on(node,"keyup",lang.hitch(this,function(){
if(_1277._obj==_127d){
_1277.stop();
}
}))];
return {remove:function(){
array.forEach(_1283,function(h){
h.remove();
});
}};
},addMouseListener:function(node,_1284,_1285,_1286,_1287,_1288){
var _1289=[on(node,"mousedown",lang.hitch(this,function(evt){
evt.preventDefault();
_1277.trigger(evt,_1284,node,_1285,node,_1286,_1287,_1288);
})),on(node,"mouseup",lang.hitch(this,function(evt){
if(this._obj){
evt.preventDefault();
}
_1277.stop();
})),on(node,"mouseout",lang.hitch(this,function(evt){
if(this._obj){
evt.preventDefault();
}
_1277.stop();
})),on(node,"dblclick",lang.hitch(this,function(evt){
evt.preventDefault();
if(has("ie")<9){
_1277.trigger(evt,_1284,node,_1285,node,_1286,_1287,_1288);
setTimeout(lang.hitch(this,_1277.stop),50);
}
}))];
return {remove:function(){
array.forEach(_1289,function(h){
h.remove();
});
}};
},addListener:function(_128a,_128b,_128c,_128d,_128e,_128f,_1290,_1291){
var _1292=[this.addKeyListener(_128b,_128c,_128d,_128e,_128f,_1290,_1291),this.addMouseListener(_128a,_128d,_128e,_128f,_1290,_1291)];
return {remove:function(){
array.forEach(_1292,function(h){
h.remove();
});
}};
}});
return _1277;
});
},"dgrid/List":function(){
define(["dojo/_base/kernel","dojo/_base/declare","dojo/on","dojo/has","./util/misc","dojo/has!touch?./TouchScroll","xstyle/has-class","put-selector/put","dojo/_base/sniff","xstyle/css!./css/dgrid.css"],function(_1293,_1294,_1295,has,_1296,_1297,_1298,put){
_1298("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");
var _1299="dgrid-row-odd",_129a="dgrid-row-even",_129b,_129c;
function byId(id){
return document.getElementById(id);
};
function _129d(node,_129e){
var body=document.body,size;
put(body,node,".dgrid-scrollbar-measure");
size=node["offset"+_129e]-node["client"+_129e];
put(node,"!dgrid-scrollbar-measure");
body.removeChild(node);
return size;
};
has.add("dom-scrollbar-width",function(_129f,doc,_12a0){
return _129d(_12a0,"Width");
});
has.add("dom-scrollbar-height",function(_12a1,doc,_12a2){
return _129d(_12a2,"Height");
});
var _12a3=0;
function _12a4(){
return "dgrid_"+_12a3++;
};
var _12a5=/ +/g;
function _12a6(cls){
var _12a7=cls?"."+cls.replace(_12a5,"."):"";
if(this._class){
_12a7="!"+this._class.replace(_12a5,"!")+_12a7;
}
put(this.domNode,_12a7);
this._class=cls;
};
function _12a8(){
return this._class;
};
var _12a9=has("ie")<7&&!has("quirks")?function(){
var root,w,h,dims;
if(!this._started){
return;
}
root=document.documentElement;
w=root.clientWidth;
h=root.clientHeight;
dims=this._prevWinDims||[];
if(dims[0]!==w||dims[1]!==h){
this.resize();
this._prevWinDims=[w,h];
}
}:function(){
if(this._started){
this.resize();
}
};
return _1294(_1297?_1297:null,{tabableHeader:false,showHeader:false,showFooter:false,maintainOddEven:true,cleanAddedRules:true,postscript:function(_12aa,_12ab){
var grid=this;
(this._Row=function(id,_12ac,_12ad){
this.id=id;
this.data=_12ac;
this.element=_12ad;
}).prototype.remove=function(){
grid.removeRow(this.element);
};
if(_12ab){
this.srcNodeRef=_12ab=_12ab.nodeType?_12ab:byId(_12ab);
}
this.create(_12aa,_12ab);
},listType:"list",create:function(_12ae,_12af){
var _12b0=this.domNode=_12af||put("div"),cls;
if(_12ae){
this.params=_12ae;
_1294.safeMixin(this,_12ae);
cls=_12ae["class"]||_12ae.className||_12b0.className;
this._sort=_12ae.sort||[];
delete this.sort;
}else{
this._sort=[];
}
this.observers=[];
this._listeners=[];
this._rowIdToObject={};
this.postMixInProperties&&this.postMixInProperties();
this.id=_12b0.id=_12b0.id||this.id||_12a4();
this.buildRendering();
if(cls){
_12a6.call(this,cls);
}
this.postCreate&&this.postCreate();
delete this.srcNodeRef;
if(this.domNode.offsetHeight){
this.startup();
}
},buildRendering:function(){
var _12b1=this.domNode,self=this,_12b2,_12b3,_12b4,_12b5,isRTL;
isRTL=this.isRTL=(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase()=="rtl";
_12b1.className="";
put(_12b1,"[role=grid].ui-widget.dgrid.dgrid-"+this.listType);
_12b2=this.headerNode=put(_12b1,"div.dgrid-header.dgrid-header-row.ui-widget-header"+(this.showHeader?"":".dgrid-header-hidden"));
if(has("quirks")||has("ie")<8){
_12b3=put(_12b1,"div.dgrid-spacer");
}
_12b4=this.bodyNode=put(_12b1,"div.dgrid-scroller");
_12b4.tabIndex=-1;
this.headerScrollNode=put(_12b1,"div.dgrid-header-scroll.dgrid-scrollbar-width.ui-widget-header");
_12b5=this.footerNode=put("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));
put(_12b1,_12b5);
if(isRTL){
_12b1.className+=" dgrid-rtl"+(has("webkit")?"":" dgrid-rtl-nonwebkit");
}
_1295(_12b4,"scroll",function(event){
if(self.showHeader){
_12b2.scrollLeft=event.scrollLeft||_12b4.scrollLeft;
}
event.stopPropagation();
_1295.emit(_12b1,"scroll",{scrollTarget:_12b4});
});
this.configStructure();
this.renderHeader();
this.contentNode=this.touchNode=put(this.bodyNode,"div.dgrid-content.ui-widget-content");
this._listeners.push(this._resizeHandle=_1295(window,"resize",_1296.throttleDelayed(_12a9,this)));
},startup:function(){
if(this._started){
return;
}
this.inherited(arguments);
this._started=true;
this.resize();
this.set("sort",this._sort);
},configStructure:function(){
},resize:function(){
var _12b6=this.bodyNode,_12b7=this.headerNode,_12b8=this.footerNode,_12b9=_12b7.offsetHeight,_12ba=this.showFooter?_12b8.offsetHeight:0,_12bb=has("quirks")||has("ie")<7;
this.headerScrollNode.style.height=_12b6.style.marginTop=_12b9+"px";
_12b6.style.marginBottom=_12ba+"px";
if(_12bb){
_12b6.style.height="";
_12b6.style.height=Math.max((this.domNode.offsetHeight-_12b9-_12ba),0)+"px";
if(_12ba){
_12b8.style.bottom="1px";
setTimeout(function(){
_12b8.style.bottom="";
},0);
}
}
if(!_129b){
_129b=has("dom-scrollbar-width");
_129c=has("dom-scrollbar-height");
if(has("ie")){
_129b++;
_129c++;
}
_1296.addCssRule(".dgrid-scrollbar-width","width: "+_129b+"px");
_1296.addCssRule(".dgrid-scrollbar-height","height: "+_129c+"px");
if(_129b!=17&&!_12bb){
_1296.addCssRule(".dgrid-header","right: "+_129b+"px");
_1296.addCssRule(".dgrid-rtl-nonwebkit .dgrid-header","left: "+_129b+"px");
}
}
if(_12bb){
_12b7.style.width=_12b6.clientWidth+"px";
setTimeout(function(){
_12b7.scrollLeft=_12b6.scrollLeft;
},0);
}
},addCssRule:function(_12bc,css){
var rule=_1296.addCssRule(_12bc,css);
if(this.cleanAddedRules){
this._listeners.push(rule);
}
return rule;
},on:function(_12bd,_12be){
var _12bf=_1295(this.domNode,_12bd,_12be);
if(!has("dom-addeventlistener")){
this._listeners.push(_12bf);
}
return _12bf;
},cleanup:function(){
var _12c0=this.observers,i;
for(i in this._rowIdToObject){
if(this._rowIdToObject[i]!=this.columns){
var _12c1=byId(i);
if(_12c1){
this.removeRow(_12c1,true);
}
}
}
for(i=0;i<_12c0.length;i++){
var _12c2=_12c0[i];
_12c2&&_12c2.cancel();
}
this.observers=[];
this.preload=null;
},destroy:function(){
if(this._listeners){
for(var i=this._listeners.length;i--;){
this._listeners[i].remove();
}
delete this._listeners;
}
this.cleanup();
put(this.domNode,"!");
},refresh:function(){
this.cleanup();
this._rowIdToObject={};
this._autoId=0;
this.contentNode.innerHTML="";
this.scrollTo({x:0,y:0});
},newRow:function(_12c3,_12c4,_12c5,i,_12c6){
if(_12c4){
var row=this.insertRow(_12c3,_12c4,_12c5,i,_12c6);
put(row,".ui-state-highlight");
setTimeout(function(){
put(row,"!ui-state-highlight");
},250);
return row;
}
},adjustRowIndices:function(_12c7){
if(this.maintainOddEven){
var next=_12c7;
var _12c8=next.rowIndex;
if(_12c8>-1){
do{
if(next.rowIndex>-1){
if((next.className+" ").indexOf("dgrid-row ")>-1){
put(next,"."+(_12c8%2==1?_1299:_129a)+"!"+(_12c8%2==0?_1299:_129a));
}
next.rowIndex=_12c8++;
}
}while((next=next.nextSibling)&&next.rowIndex!=_12c8&&!next.blockRowIndex);
}
}
},renderArray:function(_12c9,_12ca,_12cb){
_12cb=_12cb||{};
var self=this,start=_12cb.start||0,row,rows,_12cc;
if(!_12ca){
this._lastCollection=_12c9;
}
if(_12c9.observe){
var _12cd=this.observers.push(_12c9.observe(function(_12ce,from,to){
var _12cf,_12d0,_12d1;
if(from>-1&&rows[from]){
row=rows.splice(from,1)[0];
if(row.parentNode==_12cc){
_12cf=row.nextSibling;
if(_12cf){
if(from!=to){
_12cf.rowIndex--;
}
}
self.removeRow(row);
}
if(self._processScroll){
self._processScroll();
}
}
if(to>-1){
_12d0=rows[to];
if(!_12d0){
_12d0=rows[to-1];
if(_12d0){
_12d0=(_12d0.connected||_12d0).nextSibling;
}
}
_12d1=(_12ca&&_12ca.parentNode)||(_12d0&&_12d0.parentNode)||self.contentNode;
row=self.newRow(_12ce,_12d1,_12d0,_12cb.start+to,_12cb);
if(row){
row.observerIndex=_12cd;
rows.splice(to,0,row);
if(!_12cf||to<from){
var _12d2=row.previousSibling;
_12cf=!_12d2||_12d2.rowIndex+1==row.rowIndex||row.rowIndex==0?row:_12d2;
}
}
_12cb.count++;
}
from!=to&&_12cf&&self.adjustRowIndices(_12cf);
self._onNotification(rows,_12ce,from,to);
},true))-1;
}
var _12d3=document.createDocumentFragment();
if(_12c9.map){
rows=_12c9.map(_12d4,console.error);
if(rows.then){
return rows.then(_12d5);
}
}else{
rows=[];
for(var i=0,l=_12c9.length;i<l;i++){
rows[i]=_12d4(_12c9[i]);
}
}
var _12d6;
function _12d4(_12d7){
_12d6=self.insertRow(_12d7,_12d3,null,start++,_12cb);
_12d6.observerIndex=_12cd;
return _12d6;
};
function _12d5(_12d8){
_12cc=_12ca?_12ca.parentNode:self.contentNode;
if(_12cc){
_12cc.insertBefore(_12d3,_12ca||null);
_12d6=_12d8[_12d8.length-1];
_12d6&&self.adjustRowIndices(_12d6);
}
return (rows=_12d8);
};
return _12d5(rows);
},_onNotification:function(rows,_12d9,from,to){
},renderHeader:function(){
},_autoId:0,insertRow:function(_12da,_12db,_12dc,i,_12dd){
var _12de=_12dd.parentId,id=this.id+"-row-"+(_12de?_12de+"-":"")+((this.store&&this.store.getIdentity)?this.store.getIdentity(_12da):this._autoId++),row=byId(id),_12df=row&&row.previousSibling;
if(row){
this.removeRow(row);
}
row=this.renderRow(_12da,_12dd);
row.className=(row.className||"")+" ui-state-default dgrid-row "+(i%2==1?_1299:_129a);
this._rowIdToObject[row.id=id]=_12da;
_12db.insertBefore(row,_12dc||null);
if(_12df){
this.adjustRowIndices(_12df);
}
row.rowIndex=i;
return row;
},renderRow:function(value,_12e0){
return put("div",""+value);
},removeRow:function(_12e1,_12e2){
_12e1=_12e1.element||_12e1;
delete this._rowIdToObject[_12e1.id];
if(!_12e2){
put(_12e1,"!");
}
},row:function(_12e3){
var id;
if(_12e3 instanceof this._Row){
return _12e3;
}
if(_12e3.target&&_12e3.target.nodeType){
_12e3=_12e3.target;
}
if(_12e3.nodeType){
var _12e4;
do{
var rowId=_12e3.id;
if((_12e4=this._rowIdToObject[rowId])){
return new this._Row(rowId.substring(this.id.length+5),_12e4,_12e3);
}
_12e3=_12e3.parentNode;
}while(_12e3&&_12e3!=this.domNode);
return;
}
if(typeof _12e3=="object"){
id=this.store.getIdentity(_12e3);
}else{
id=_12e3;
_12e3=this._rowIdToObject[this.id+"-row-"+id];
}
return new this._Row(id,_12e3,byId(this.id+"-row-"+id));
},cell:function(_12e5){
return {row:this.row(_12e5)};
},_move:function(item,steps,_12e6,_12e7){
var _12e8,_12e9,_12ea;
_12ea=_12e9=item.element;
steps=steps||1;
do{
if((_12e8=_12e9[steps<0?"previousSibling":"nextSibling"])){
do{
_12e9=_12e8;
if(_12e9&&(_12e9.className+" ").indexOf(_12e6+" ")>-1){
_12ea=_12e9;
steps+=steps<0?1:-1;
break;
}
}while((_12e8=(!_12e7||!_12e9.hidden)&&_12e9[steps<0?"lastChild":"firstChild"]));
}else{
_12e9=_12e9.parentNode;
if(_12e9===this.bodyNode||_12e9===this.headerNode){
break;
}
}
}while(steps);
return _12ea;
},up:function(row,steps,_12eb){
if(!row.element){
row=this.row(row);
}
return this.row(this._move(row,-(steps||1),"dgrid-row",_12eb));
},down:function(row,steps,_12ec){
if(!row.element){
row=this.row(row);
}
return this.row(this._move(row,steps||1,"dgrid-row",_12ec));
},scrollTo:has("touch")?function(){
return this.inherited(arguments);
}:function(_12ed){
if(typeof _12ed.x!=="undefined"){
this.bodyNode.scrollLeft=_12ed.x;
}
if(typeof _12ed.y!=="undefined"){
this.bodyNode.scrollTop=_12ed.y;
}
},getScrollPosition:has("touch")?function(){
return this.inherited(arguments);
}:function(){
return {x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop};
},get:function(name){
var fn="_get"+name.charAt(0).toUpperCase()+name.slice(1);
if(typeof this[fn]==="function"){
return this[fn].apply(this,[].slice.call(arguments,1));
}
if(!1&&typeof this[fn+"Attr"]==="function"){
console.warn("dgrid: Use "+fn+" instead of "+fn+"Attr for getting "+name);
}
return this[name];
},set:function(name,value){
if(typeof name==="object"){
for(var k in name){
this.set(k,name[k]);
}
}else{
var fn="_set"+name.charAt(0).toUpperCase()+name.slice(1);
if(typeof this[fn]==="function"){
this[fn].apply(this,[].slice.call(arguments,1));
}else{
if(!1&&typeof this[fn+"Attr"]==="function"){
console.warn("dgrid: Use "+fn+" instead of "+fn+"Attr for setting "+name);
}
this[name]=value;
}
}
return this;
},_getClass:_12a8,_setClass:_12a6,_getClassName:_12a8,_setClassName:_12a6,_setSort:function(_12ee,_12ef){
this._sort=typeof _12ee!="string"?_12ee:[{attribute:_12ee,descending:_12ef}];
this.refresh();
if(this._lastCollection){
if(_12ee.length){
if(typeof _12ee!="string"){
_12ef=_12ee[0].descending;
_12ee=_12ee[0].attribute;
}
this._lastCollection.sort(function(a,b){
var aVal=a[_12ee],bVal=b[_12ee];
if(aVal===undefined){
aVal="";
}
if(bVal===undefined){
bVal="";
}
return aVal==bVal?0:(aVal>bVal==!_12ef?1:-1);
});
}
this.renderArray(this._lastCollection);
}
},sort:function(_12f0,_12f1){
_1293.deprecated("sort(...)","use set(\"sort\", ...) instead","dgrid 1.0");
this.set("sort",_12f0,_12f1);
},_getSort:function(){
return this._sort;
},_setShowHeader:function(show){
var _12f2=this.headerNode;
this.showHeader=show;
put(_12f2,(show?"!":".")+"dgrid-header-hidden");
this.renderHeader();
this.resize();
if(show){
_12f2.scrollLeft=this.getScrollPosition().x;
}
},setShowHeader:function(show){
_1293.deprecated("setShowHeader(...)","use set(\"showHeader\", ...) instead","dgrid 1.0");
this.set("showHeader",show);
},_setShowFooter:function(show){
this.showFooter=show;
put(this.footerNode,(show?"!":".")+"dgrid-footer-hidden");
this.resize();
}});
});
},"dijit/_editor/plugins/FontChoice":function(){
define(["require","dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/i18n","dojo/_base/lang","dojo/store/Memory","../../registry","../../_Widget","../../_TemplatedMixin","../../_WidgetsInTemplateMixin","../../form/FilteringSelect","../_Plugin","../range","dojo/i18n!../nls/FontChoice"],function(_12f3,array,_12f4,_12f5,i18n,lang,_12f6,_12f7,_12f8,_12f9,_12fa,_12fb,_12fc,_12fd){
var _12fe=_12f4("dijit._editor.plugins._FontDropDown",[_12f8,_12f9,_12fa],{label:"",plainText:false,templateString:"<span style='white-space: nowrap' class='dijit dijitReset dijitInline'>"+"<label class='dijitLeft dijitInline' for='${selectId}'>${label}</label>"+"<input data-dojo-type='../../form/FilteringSelect' required='false' "+"data-dojo-props='labelType:\"html\", labelAttr:\"label\", searchAttr:\"name\"' "+"class='${comboClass}' "+"tabIndex='-1' id='${selectId}' data-dojo-attach-point='select' value=''/>"+"</span>",contextRequire:_12f3,postMixInProperties:function(){
this.inherited(arguments);
this.strings=i18n.getLocalization("dijit._editor","FontChoice");
this.label=this.strings[this.command];
this.id=_12f7.getUniqueId(this.declaredClass.replace(/\./g,"_"));
this.selectId=this.id+"_select";
this.inherited(arguments);
},postCreate:function(){
this.select.set("store",new _12f6({idProperty:"value",data:array.map(this.values,function(value){
var name=this.strings[value]||value;
return {label:this.getLabel(value,name),name:name,value:value};
},this)}));
this.select.set("value","",false);
this.disabled=this.select.get("disabled");
},_setValueAttr:function(value,_12ff){
_12ff=_12ff!==false;
this.select.set("value",array.indexOf(this.values,value)<0?"":value,_12ff);
if(!_12ff){
this.select._lastValueReported=null;
}
},_getValueAttr:function(){
return this.select.get("value");
},focus:function(){
this.select.focus();
},_setDisabledAttr:function(value){
this._set("disabled",value);
this.select.set("disabled",value);
}});
var _1300=_12f4("dijit._editor.plugins._FontNameDropDown",_12fe,{generic:false,command:"fontName",comboClass:"dijitFontNameCombo",postMixInProperties:function(){
if(!this.values){
this.values=this.generic?["serif","sans-serif","monospace","cursive","fantasy"]:["Arial","Times New Roman","Comic Sans MS","Courier New"];
}
this.inherited(arguments);
},getLabel:function(value,name){
if(this.plainText){
return name;
}else{
return "<div style='font-family: "+value+"'>"+name+"</div>";
}
},_setValueAttr:function(value,_1301){
_1301=_1301!==false;
if(this.generic){
var map={"Arial":"sans-serif","Helvetica":"sans-serif","Myriad":"sans-serif","Times":"serif","Times New Roman":"serif","Comic Sans MS":"cursive","Apple Chancery":"cursive","Courier":"monospace","Courier New":"monospace","Papyrus":"fantasy","Estrangelo Edessa":"cursive","Gabriola":"fantasy"};
value=map[value]||value;
}
this.inherited(arguments,[value,_1301]);
}});
var _1302=_12f4("dijit._editor.plugins._FontSizeDropDown",_12fe,{command:"fontSize",comboClass:"dijitFontSizeCombo",values:[1,2,3,4,5,6,7],getLabel:function(value,name){
if(this.plainText){
return name;
}else{
return "<font size="+value+"'>"+name+"</font>";
}
},_setValueAttr:function(value,_1303){
_1303=_1303!==false;
if(value.indexOf&&value.indexOf("px")!=-1){
var _1304=parseInt(value,10);
value={10:1,13:2,16:3,18:4,24:5,32:6,48:7}[_1304]||value;
}
this.inherited(arguments,[value,_1303]);
}});
var _1305=_12f4("dijit._editor.plugins._FormatBlockDropDown",_12fe,{command:"formatBlock",comboClass:"dijitFormatBlockCombo",values:["noFormat","p","h1","h2","h3","pre"],postCreate:function(){
this.inherited(arguments);
this.set("value","noFormat",false);
},getLabel:function(value,name){
if(this.plainText||value=="noFormat"){
return name;
}else{
return "<"+value+">"+name+"</"+value+">";
}
},_execCommand:function(_1306,_1307,_1308){
if(_1308==="noFormat"){
var start;
var end;
var sel=_12fd.getSelection(_1306.window);
if(sel&&sel.rangeCount>0){
var range=sel.getRangeAt(0);
var node,tag;
if(range){
start=range.startContainer;
end=range.endContainer;
while(start&&start!==_1306.editNode&&start!==_1306.document.body&&start.nodeType!==1){
start=start.parentNode;
}
while(end&&end!==_1306.editNode&&end!==_1306.document.body&&end.nodeType!==1){
end=end.parentNode;
}
var _1309=lang.hitch(this,function(node,ary){
if(node.childNodes&&node.childNodes.length){
var i;
for(i=0;i<node.childNodes.length;i++){
var c=node.childNodes[i];
if(c.nodeType==1){
if(_1306.selection.inSelection(c)){
var tag=c.tagName?c.tagName.toLowerCase():"";
if(array.indexOf(this.values,tag)!==-1){
ary.push(c);
}
_1309(c,ary);
}
}
}
}
});
var _130a=lang.hitch(this,function(nodes){
if(nodes&&nodes.length){
_1306.beginEditing();
while(nodes.length){
this._removeFormat(_1306,nodes.pop());
}
_1306.endEditing();
}
});
var _130b=[];
if(start==end){
var block;
node=start;
while(node&&node!==_1306.editNode&&node!==_1306.document.body){
if(node.nodeType==1){
tag=node.tagName?node.tagName.toLowerCase():"";
if(array.indexOf(this.values,tag)!==-1){
block=node;
break;
}
}
node=node.parentNode;
}
_1309(start,_130b);
if(block){
_130b=[block].concat(_130b);
}
_130a(_130b);
}else{
node=start;
while(_1306.selection.inSelection(node)){
if(node.nodeType==1){
tag=node.tagName?node.tagName.toLowerCase():"";
if(array.indexOf(this.values,tag)!==-1){
_130b.push(node);
}
_1309(node,_130b);
}
node=node.nextSibling;
}
_130a(_130b);
}
_1306.onDisplayChanged();
}
}
}else{
_1306.execCommand(_1307,_1308);
}
},_removeFormat:function(_130c,node){
if(_130c.customUndo){
while(node.firstChild){
_12f5.place(node.firstChild,node,"before");
}
node.parentNode.removeChild(node);
}else{
_130c.selection.selectElementChildren(node);
var html=_130c.selection.getSelectedHtml();
_130c.selection.selectElement(node);
_130c.execCommand("inserthtml",html||"");
}
}});
var _130d=_12f4("dijit._editor.plugins.FontChoice",_12fc,{useDefaultCommand:false,_initButton:function(){
var clazz={fontName:_1300,fontSize:_1302,formatBlock:_1305}[this.command],_130e=this.params;
if(this.params.custom){
_130e.values=this.params.custom;
}
var _130f=this.editor;
this.button=new clazz(lang.delegate({dir:_130f.dir,lang:_130f.lang},_130e));
this.own(this.button.select.on("change",lang.hitch(this,function(_1310){
if(this.editor.focused){
this.editor.focus();
}
if(this.command=="fontName"&&_1310.indexOf(" ")!=-1){
_1310="'"+_1310+"'";
}
if(this.button._execCommand){
this.button._execCommand(this.editor,this.command,_1310);
}else{
this.editor.execCommand(this.command,_1310);
}
})));
},updateState:function(){
var _1311=this.editor;
var _1312=this.command;
if(!_1311||!_1311.isLoaded||!_1312.length){
return;
}
if(this.button){
var _1313=this.get("disabled");
this.button.set("disabled",_1313);
if(_1313){
return;
}
var value;
try{
value=_1311.queryCommandValue(_1312)||"";
}
catch(e){
value="";
}
var _1314=lang.isString(value)&&value.match(/'([^']*)'/);
if(_1314){
value=_1314[1];
}
if(_1312==="formatBlock"){
if(!value||value=="p"){
value=null;
var elem;
var sel=_12fd.getSelection(this.editor.window);
if(sel&&sel.rangeCount>0){
var range=sel.getRangeAt(0);
if(range){
elem=range.endContainer;
}
}
while(elem&&elem!==_1311.editNode&&elem!==_1311.document){
var tg=elem.tagName?elem.tagName.toLowerCase():"";
if(tg&&array.indexOf(this.button.values,tg)>-1){
value=tg;
break;
}
elem=elem.parentNode;
}
if(!value){
value="noFormat";
}
}else{
if(array.indexOf(this.button.values,value)<0){
value="noFormat";
}
}
}
if(value!==this.button.get("value")){
this.button.set("value",value,false);
}
}
}});
array.forEach(["fontName","fontSize","formatBlock"],function(name){
_12fc.registry[name]=function(args){
return new _130d({command:name,plainText:args.plainText});
};
});
_130d._FontDropDown=_12fe;
_130d._FontNameDropDown=_1300;
_130d._FontSizeDropDown=_1302;
_130d._FormatBlockDropDown=_1305;
return _130d;
});
},"dojo/dnd/move":function(){
define(["../_base/declare","../dom-geometry","../dom-style","./common","./Mover","./Moveable"],function(_1315,_1316,_1317,dnd,Mover,_1318){
var _1319=_1315("dojo.dnd.move.constrainedMoveable",_1318,{constraints:function(){
},within:false,constructor:function(node,_131a){
if(!_131a){
_131a={};
}
this.constraints=_131a.constraints;
this.within=_131a.within;
},onFirstMove:function(mover){
var c=this.constraintBox=this.constraints.call(this,mover);
c.r=c.l+c.w;
c.b=c.t+c.h;
if(this.within){
var mb=_1316.getMarginSize(mover.node);
c.r-=mb.w;
c.b-=mb.h;
}
},onMove:function(mover,_131b){
var c=this.constraintBox,s=mover.node.style;
this.onMoving(mover,_131b);
_131b.l=_131b.l<c.l?c.l:c.r<_131b.l?c.r:_131b.l;
_131b.t=_131b.t<c.t?c.t:c.b<_131b.t?c.b:_131b.t;
s.left=_131b.l+"px";
s.top=_131b.t+"px";
this.onMoved(mover,_131b);
}});
var _131c=_1315("dojo.dnd.move.boxConstrainedMoveable",_1319,{box:{},constructor:function(node,_131d){
var box=_131d&&_131d.box;
this.constraints=function(){
return box;
};
}});
var _131e=_1315("dojo.dnd.move.parentConstrainedMoveable",_1319,{area:"content",constructor:function(node,_131f){
var area=_131f&&_131f.area;
this.constraints=function(){
var n=this.node.parentNode,s=_1317.getComputedStyle(n),mb=_1316.getMarginBox(n,s);
if(area=="margin"){
return mb;
}
var t=_1316.getMarginExtents(n,s);
mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;
if(area=="border"){
return mb;
}
t=_1316.getBorderExtents(n,s);
mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;
if(area=="padding"){
return mb;
}
t=_1316.getPadExtents(n,s);
mb.l+=t.l,mb.t+=t.t,mb.w-=t.w,mb.h-=t.h;
return mb;
};
}});
return {constrainedMoveable:_1319,boxConstrainedMoveable:_131c,parentConstrainedMoveable:_131e};
});
},"dojox/editor/plugins/TablePlugins":function(){
define(["dojo/_base/declare","dojo/_base/array","dojo/_base/Color","dojo/aspect","dojo/dom-attr","dojo/dom-style","dijit/_editor/_Plugin","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/Dialog","dijit/Menu","dijit/MenuItem","dijit/MenuSeparator","dijit/ColorPalette","dojox/widget/ColorPicker","dojo/text!./resources/insertTable.html","dojo/text!./resources/modifyTable.html","dojo/i18n!./nls/TableDialog","dijit/_base/popup","dijit/popup","dojo/_base/connect","dijit/TooltipDialog","dijit/form/Button","dijit/form/DropDownButton","dijit/form/TextBox","dijit/form/FilteringSelect"],function(_1320,array,Color,_1321,_1322,_1323,_1324,_1325,_1326,_1327,_1328,Menu,_1329,_132a,_132b,_132c,_132d,_132e,_132f){
dojo.experimental("dojox.editor.plugins.TablePlugins");
var _1330=_1320(_1324,{tablesConnected:false,currentlyAvailable:false,alwaysAvailable:false,availableCurrentlySet:false,initialized:false,tableData:null,shiftKeyDown:false,editorDomNode:null,undoEnabled:true,refCount:0,doMixins:function(){
dojo.mixin(this.editor,{getAncestorElement:function(_1331){
return this._sCall("getAncestorElement",[_1331]);
},hasAncestorElement:function(_1332){
return this._sCall("hasAncestorElement",[_1332]);
},selectElement:function(elem){
this._sCall("selectElement",[elem]);
},byId:function(id){
return dojo.byId(id,this.document);
},query:function(arg,scope,_1333){
var ar=dojo.query(arg,scope||this.document);
return (_1333)?ar[0]:ar;
}});
},initialize:function(_1334){
this.refCount++;
_1334.customUndo=true;
if(this.initialized){
return;
}
this.initialized=true;
this.editor=_1334;
this.editor._tablePluginHandler=this;
_1334.onLoadDeferred.addCallback(dojo.hitch(this,function(){
this.editorDomNode=this.editor.editNode||this.editor.iframe.document.body.firstChild;
this._myListeners=[dojo.connect(this.editorDomNode,"mouseup",this.editor,"onClick"),dojo.connect(this.editor,"onDisplayChanged",this,"checkAvailable"),dojo.connect(this.editor,"onBlur",this,"checkAvailable"),dojo.connect(this.editor,"_saveSelection",this,function(){
this._savedTableInfo=this.getTableInfo();
}),dojo.connect(this.editor,"_restoreSelection",this,function(){
delete this._savedTableInfo;
})];
this.doMixins();
this.connectDraggable();
}));
},getTableInfo:function(_1335){
if(this._savedTableInfo){
return this._savedTableInfo;
}
if(_1335){
this._tempStoreTableData(false);
}
if(this.tableData){
return this.tableData;
}
var tr,trs,td,tds,tbl,cols,_1336,_1337,o;
td=this.editor.getAncestorElement("td");
if(td){
tr=td.parentNode;
}
tbl=this.editor.getAncestorElement("table");
if(tbl){
tds=dojo.query("td",tbl);
tds.forEach(function(d,i){
if(td==d){
_1336=i;
}
});
trs=dojo.query("tr",tbl);
trs.forEach(function(r,i){
if(tr==r){
_1337=i;
}
});
cols=tds.length/trs.length;
o={tbl:tbl,td:td,tr:tr,trs:trs,tds:tds,rows:trs.length,cols:cols,tdIndex:_1336,trIndex:_1337,colIndex:_1336%cols};
}else{
o={};
}
this.tableData=o;
this._tempStoreTableData(500);
return this.tableData;
},connectDraggable:function(){
if(!dojo.isIE){
return;
}
this.editorDomNode.ondragstart=dojo.hitch(this,"onDragStart");
this.editorDomNode.ondragend=dojo.hitch(this,"onDragEnd");
},onDragStart:function(){
var e=window.event;
if(!e.srcElement.id){
e.srcElement.id="tbl_"+(new Date().getTime());
}
},onDragEnd:function(){
var e=window.event;
var node=e.srcElement;
var id=node.id;
var doc=this.editor.document;
if(node.tagName.toLowerCase()=="table"){
setTimeout(function(){
var node=dojo.byId(id,doc);
dojo.removeAttr(node,"align");
},100);
}
},checkAvailable:function(){
if(this.availableCurrentlySet){
return this.currentlyAvailable;
}
if(!this.editor){
return false;
}
if(this.alwaysAvailable){
return true;
}
this.currentlyAvailable=this.editor.focused&&(this._savedTableInfo?this._savedTableInfo.tbl:this.editor.hasAncestorElement("table"));
if(this.currentlyAvailable){
this.connectTableKeys();
}else{
this.disconnectTableKeys();
}
this._tempAvailability(500);
dojo.publish(this.editor.id+"_tablePlugins",[this.currentlyAvailable]);
return this.currentlyAvailable;
},_prepareTable:function(tbl){
var tds=this.editor.query("td",tbl);
if(!tds[0].id){
tds.forEach(function(td,i){
if(!td.id){
td.id="tdid"+i+this.getTimeStamp();
}
},this);
}
return tds;
},getTimeStamp:function(){
return new Date().getTime();
},_tempStoreTableData:function(type){
if(type===true){
}else{
if(type===false){
this.tableData=null;
}else{
if(type===undefined){
console.warn("_tempStoreTableData must be passed an argument");
}else{
setTimeout(dojo.hitch(this,function(){
this.tableData=null;
}),type);
}
}
}
},_tempAvailability:function(type){
if(type===true){
this.availableCurrentlySet=true;
}else{
if(type===false){
this.availableCurrentlySet=false;
}else{
if(type===undefined){
console.warn("_tempAvailability must be passed an argument");
}else{
this.availableCurrentlySet=true;
setTimeout(dojo.hitch(this,function(){
this.availableCurrentlySet=false;
}),type);
}
}
}
},connectTableKeys:function(){
if(this.tablesConnected){
return;
}
this.tablesConnected=true;
var node=(this.editor.iframe)?this.editor.document:this.editor.editNode;
this.cnKeyDn=dojo.connect(node,"onkeydown",this,"onKeyDown");
this.cnKeyUp=dojo.connect(node,"onkeyup",this,"onKeyUp");
this._myListeners.push(dojo.connect(node,"onkeypress",this,"onKeyUp"));
},disconnectTableKeys:function(){
dojo.disconnect(this.cnKeyDn);
dojo.disconnect(this.cnKeyUp);
this.tablesConnected=false;
},onKeyDown:function(evt){
var key=evt.keyCode;
if(key==16){
this.shiftKeyDown=true;
}
if(key==9){
var o=this.getTableInfo();
o.tdIndex=(this.shiftKeyDown)?o.tdIndex-1:tabTo=o.tdIndex+1;
if(o.tdIndex>=0&&o.tdIndex<o.tds.length){
this.editor.selectElement(o.tds[o.tdIndex]);
this.currentlyAvailable=true;
this._tempAvailability(true);
this._tempStoreTableData(true);
this.stopEvent=true;
}else{
this.stopEvent=false;
this.onDisplayChanged();
}
if(this.stopEvent){
dojo.stopEvent(evt);
}
}
},onKeyUp:function(evt){
var key=evt.keyCode;
if(key==16){
this.shiftKeyDown=false;
}
if(key==37||key==38||key==39||key==40){
this.onDisplayChanged();
}
if(key==9&&this.stopEvent){
dojo.stopEvent(evt);
}
},onDisplayChanged:function(){
this.currentlyAvailable=false;
this._tempStoreTableData(false);
this._tempAvailability(false);
this.checkAvailable();
},uninitialize:function(_1338){
if(this.editor==_1338){
this.refCount--;
if(!this.refCount&&this.initialized){
if(this.tablesConnected){
this.disconnectTableKeys();
}
this.initialized=false;
dojo.forEach(this._myListeners,function(l){
dojo.disconnect(l);
});
delete this._myListeners;
delete this.editor._tablePluginHandler;
delete this.editor;
}
this.inherited(arguments);
}
}});
var _1339=_1320("dojox.editor.plugins.TablePlugins",_1324,{iconClassPrefix:"editorIcon",useDefaultCommand:false,buttonClass:dijit.form.Button,commandName:"",label:"",alwaysAvailable:false,undoEnabled:true,onDisplayChanged:function(_133a){
if(!this.alwaysAvailable){
this.available=_133a;
this.button.set("disabled",!this.available);
}
},setEditor:function(_133b){
this.editor=_133b;
this.editor.customUndo=true;
this.inherited(arguments);
this._availableTopic=dojo.subscribe(this.editor.id+"_tablePlugins",this,"onDisplayChanged");
this.onEditorLoaded();
},onEditorLoaded:function(){
if(!this.editor._tablePluginHandler){
var _133c=new _1330();
_133c.initialize(this.editor);
}else{
this.editor._tablePluginHandler.initialize(this.editor);
}
},selectTable:function(){
var o=this.getTableInfo();
if(o&&o.tbl){
this.editor._sCall("selectElement",[o.tbl]);
}
},_initButton:function(){
this.command=this.name;
this.label=this.editor.commands[this.command]=this._makeTitle(this.command);
this.inherited(arguments);
delete this.command;
this.connect(this.button,"onClick","modTable");
this.onDisplayChanged(false);
},modTable:function(cmd,args){
if(dojo.isIE){
this.editor.focus();
}
this.begEdit();
var o=this.getTableInfo();
var sw=(dojo.isString(cmd))?cmd:this.name;
var r,c,i;
var _133d=false;
switch(sw){
case "insertTableRowBefore":
r=o.tbl.insertRow(o.trIndex);
for(i=0;i<o.cols;i++){
c=r.insertCell(-1);
c.innerHTML="&nbsp;";
}
break;
case "insertTableRowAfter":
r=o.tbl.insertRow(o.trIndex+1);
for(i=0;i<o.cols;i++){
c=r.insertCell(-1);
c.innerHTML="&nbsp;";
}
break;
case "insertTableColumnBefore":
o.trs.forEach(function(r){
c=r.insertCell(o.colIndex);
c.innerHTML="&nbsp;";
});
_133d=true;
break;
case "insertTableColumnAfter":
o.trs.forEach(function(r){
c=r.insertCell(o.colIndex+1);
c.innerHTML="&nbsp;";
});
_133d=true;
break;
case "deleteTableRow":
o.tbl.deleteRow(o.trIndex);
break;
case "deleteTableColumn":
o.trs.forEach(function(tr){
tr.deleteCell(o.colIndex);
});
_133d=true;
break;
case "modifyTable":
break;
case "insertTable":
break;
}
if(_133d){
this.makeColumnsEven();
}
this.endEdit();
},begEdit:function(){
if(this.editor._tablePluginHandler.undoEnabled){
if(this.editor.customUndo){
this.editor.beginEditing();
}else{
this.valBeforeUndo=this.editor.getValue();
}
}
},endEdit:function(){
if(this.editor._tablePluginHandler.undoEnabled){
if(this.editor.customUndo){
this.editor.endEditing();
}else{
var _133e=this.editor.getValue();
this.editor.setValue(this.valBeforeUndo);
this.editor.replaceValue(_133e);
}
this.editor.onDisplayChanged();
}
},makeColumnsEven:function(){
setTimeout(dojo.hitch(this,function(){
var o=this.getTableInfo(true);
var w=Math.floor(100/o.cols);
o.tds.forEach(function(d){
dojo.attr(d,"width",w+"%");
});
}),10);
},getTableInfo:function(_133f){
return this.editor._tablePluginHandler.getTableInfo(_133f);
},_makeTitle:function(str){
this._strings=dojo.i18n.getLocalization("dojox.editor.plugins","TableDialog");
var title=this._strings[str+"Title"]||this._strings[str+"Label"]||str;
return title;
},getSelectedCells:function(){
var cells=[];
var tbl=this.getTableInfo().tbl;
this.editor._tablePluginHandler._prepareTable(tbl);
var e=this.editor;
var text=e._sCall("getSelectedHtml",[null]);
var str=text.match(/id="*\w*"*/g);
dojo.forEach(str,function(a){
var id=a.substring(3,a.length);
if(id.charAt(0)=="\""&&id.charAt(id.length-1)=="\""){
id=id.substring(1,id.length-1);
}
var node=e.byId(id);
if(node&&node.tagName.toLowerCase()=="td"){
cells.push(node);
}
},this);
if(!cells.length){
var sel=dijit.range.getSelection(e.window);
if(sel.rangeCount){
var r=sel.getRangeAt(0);
var node=r.startContainer;
while(node&&node!=e.editNode&&node!=e.document){
if(node.nodeType===1){
var tg=node.tagName?node.tagName.toLowerCase():"";
if(tg==="td"){
return [node];
}
}
node=node.parentNode;
}
}
}
return cells;
},updateState:function(){
if(this.button){
if((this.available||this.alwaysAvailable)&&!this.get("disabled")){
this.button.set("disabled",false);
}else{
this.button.set("disabled",true);
}
}
},destroy:function(){
this.inherited(arguments);
dojo.unsubscribe(this._availableTopic);
this.editor._tablePluginHandler.uninitialize(this.editor);
}});
var _1340=_1320(_1339,{constructor:function(){
this.connect(this,"setEditor",function(_1341){
_1341.onLoadDeferred.addCallback(dojo.hitch(this,function(){
this._createContextMenu();
}));
this.button.domNode.style.display="none";
});
},destroy:function(){
if(this.menu){
this.menu.destroyRecursive();
delete this.menu;
}
this.inherited(arguments);
},_initButton:function(){
this.inherited(arguments);
if(this.name==="tableContextMenu"){
this.button.domNode.display="none";
}
},_createContextMenu:function(){
var pMenu=new Menu({targetNodeIds:[this.editor.iframe]});
var _1342=_132f;
pMenu.addChild(new _1329({label:_1342.selectTableLabel,onClick:dojo.hitch(this,"selectTable")}));
pMenu.addChild(new _132a());
pMenu.addChild(new _1329({label:_1342.insertTableRowBeforeLabel,onClick:dojo.hitch(this,"modTable","insertTableRowBefore")}));
pMenu.addChild(new _1329({label:_1342.insertTableRowAfterLabel,onClick:dojo.hitch(this,"modTable","insertTableRowAfter")}));
pMenu.addChild(new _1329({label:_1342.insertTableColumnBeforeLabel,onClick:dojo.hitch(this,"modTable","insertTableColumnBefore")}));
pMenu.addChild(new _1329({label:_1342.insertTableColumnAfterLabel,onClick:dojo.hitch(this,"modTable","insertTableColumnAfter")}));
pMenu.addChild(new _132a());
pMenu.addChild(new _1329({label:_1342.deleteTableRowLabel,onClick:dojo.hitch(this,"modTable","deleteTableRow")}));
pMenu.addChild(new _1329({label:_1342.deleteTableColumnLabel,onClick:dojo.hitch(this,"modTable","deleteTableColumn")}));
this.menu=pMenu;
}});
var _1343=_1320("dojox.editor.plugins.EditorTableDialog",[_1328,_1326,_1327],{baseClass:"EditorTableDialog",templateString:_132d,postMixInProperties:function(){
dojo.mixin(this,_132f);
this.inherited(arguments);
},postCreate:function(){
dojo.addClass(this.domNode,this.baseClass);
this.inherited(arguments);
},onInsert:function(){
var rows=this.selectRow.get("value")||1,cols=this.selectCol.get("value")||1,width=this.selectWidth.get("value"),_1344=this.selectWidthType.get("value"),_1345=this.selectBorder.get("value"),pad=this.selectPad.get("value"),space=this.selectSpace.get("value"),_1346="tbl_"+(new Date().getTime()),t="<table id=\""+_1346+"\"width=\""+width+((_1344=="percent")?"%":"")+"\" border=\""+_1345+"\" cellspacing=\""+space+"\" cellpadding=\""+pad+"\">\n";
for(var r=0;r<rows;r++){
t+="\t<tr>\n";
for(var c=0;c<cols;c++){
t+="\t\t<td width=\""+(Math.floor(100/cols))+"%\">&nbsp;</td>\n";
}
t+="\t</tr>\n";
}
t+="</table><br />";
var cl=dojo.connect(this,"onHide",function(){
dojo.disconnect(cl);
var self=this;
setTimeout(function(){
self.destroyRecursive();
},10);
});
this.hide();
this.onBuildTable({htmlText:t,id:_1346});
},onCancel:function(){
var c=dojo.connect(this,"onHide",function(){
dojo.disconnect(c);
var self=this;
setTimeout(function(){
self.destroyRecursive();
},10);
});
},onBuildTable:function(_1347){
}});
var _1348=_1320("dojox.editor.plugins.InsertTable",_1339,{alwaysAvailable:true,modTable:function(){
var w=new _1343({});
w.show();
var c=dojo.connect(w,"onBuildTable",this,function(obj){
dojo.disconnect(c);
this.editor.focus();
var res=this.editor.execCommand("inserthtml",obj.htmlText);
});
}});
var _1349=_1320([_1328,_1326,_1327],{baseClass:"EditorTableDialog",table:null,tableAtts:{},templateString:_132e,postMixInProperties:function(){
dojo.mixin(this,_132f);
this.inherited(arguments);
},postCreate:function(){
dojo.addClass(this.domNode,this.baseClass);
this.inherited(arguments);
var w1=new this.colorPicker({params:this.params});
this.connect(w1,"onChange",function(color){
if(!this._started){
return;
}
dijit.popup.close(w1);
this.setBrdColor(color);
});
this.connect(w1,"onBlur",function(){
dijit.popup.close(w1);
});
this.connect(this.borderCol,"click",function(){
w1.set("value",this.brdColor,false);
dijit.popup.open({popup:w1,around:this.borderCol});
w1.focus();
});
var w2=new this.colorPicker({params:this.params});
this.connect(w2,"onChange",function(color){
if(!this._started){
return;
}
dijit.popup.close(w2);
this.setBkColor(color);
});
this.connect(w2,"onBlur",function(){
dijit.popup.close(w2);
});
this.connect(this.backgroundCol,"click",function(){
w2.set("value",this.bkColor,false);
dijit.popup.open({popup:w2,around:this.backgroundCol});
w2.focus();
});
this.own(w1,w2);
this.pickers=[w1,w2];
this.setBrdColor(_1323.get(this.table,"borderColor"));
this.setBkColor(_1323.get(this.table,"backgroundColor"));
var w=_1322.get(this.table,"width");
if(!w){
w=this.table.style.width;
}
var p="pixels";
if(dojo.isString(w)&&w.indexOf("%")>-1){
p="percent";
w=w.replace(/%/,"");
}
if(w){
this.selectWidth.set("value",w);
this.selectWidthType.set("value",p);
}else{
this.selectWidth.set("value","");
this.selectWidthType.set("value","percent");
}
this.selectBorder.set("value",_1322.get(this.table,"border"));
this.selectPad.set("value",_1322.get(this.table,"cellPadding"));
this.selectSpace.set("value",_1322.get(this.table,"cellSpacing"));
this.selectAlign.set("value",_1322.get(this.table,"align"));
},startup:function(){
array.forEach(this.pickers,function(_134a){
_134a.startup();
});
this.inherited(arguments);
},setBrdColor:function(color){
this.brdColor=color;
_1323.set(this.borderCol,"backgroundColor",color);
},setBkColor:function(color){
this.bkColor=color;
_1323.set(this.backgroundCol,"backgroundColor",color);
},onSet:function(){
_1323.set(this.table,"borderColor",this.brdColor);
_1323.set(this.table,"backgroundColor",this.bkColor);
if(this.selectWidth.get("value")){
_1323.set(this.table,"width","");
_1322.set(this.table,"width",(this.selectWidth.get("value")+((this.selectWidthType.get("value")=="pixels")?"":"%")));
}
_1322.set(this.table,"border",this.selectBorder.get("value"));
_1322.set(this.table,"cellPadding",this.selectPad.get("value"));
_1322.set(this.table,"cellSpacing",this.selectSpace.get("value"));
_1322.set(this.table,"align",this.selectAlign.get("value"));
var c=dojo.connect(this,"onHide",function(){
dojo.disconnect(c);
var self=this;
setTimeout(function(){
self.destroyRecursive();
},10);
});
this.hide();
},onCancel:function(){
var c=dojo.connect(this,"onHide",function(){
dojo.disconnect(c);
var self=this;
setTimeout(function(){
self.destroyRecursive();
},10);
});
},onSetTable:function(_134b){
}});
var _134c=_1320("dojox.editor.plugins.ModifyTable",_1339,{colorPicker:_132b,modTable:function(){
if(!this.editor._tablePluginHandler.checkAvailable()){
return;
}
var o=this.getTableInfo();
var w=new _1349({table:o.tbl,colorPicker:typeof this.colorPicker==="string"?require(this.colorPicker):this.colorPicker,params:this.params});
w.show();
this.connect(w,"onSetTable",function(color){
var o=this.getTableInfo();
_1323.set(o.td,"backgroundColor",color);
});
}});
var _134d=_1320([_1325,_1326,_1327],{colorPicker:_132c,templateString:"<div style='display: none; position: absolute; top: -10000; z-index: -10000'>"+"<div dojoType='dijit.TooltipDialog' dojoAttachPoint='dialog' class='dojoxEditorColorPicker'>"+"<div dojoAttachPoint='_colorPicker'></div>"+"<div style='margin: 0.5em 0em 0em 0em'>"+"<button dojoType='dijit.form.Button' type='submit' dojoAttachPoint='_setButton'>${buttonSet}</button>"+"&nbsp;"+"<button dojoType='dijit.form.Button' type='button' dojoAttachPoint='_cancelButton'>${buttonCancel}</button>"+"</div>"+"</div>"+"</div>",widgetsInTemplate:true,constructor:function(){
dojo.mixin(this,_132f);
},postCreate:function(){
var _134e=typeof this.colorPicker=="string"?require(this.colorPicker):this.colorPicker;
this._colorPicker=new _134e({params:this.params},this._colorPicker);
},startup:function(){
if(!this._started){
this.inherited(arguments);
this.connect(this.dialog,"execute",function(){
this.onChange(this.get("value"));
});
this.connect(this._cancelButton,"onClick",function(){
dijit.popup.close(this.dialog);
});
this.connect(this.dialog,"onCancel","onCancel");
dojo.style(this.domNode,"display","block");
}
},_setValueAttr:function(value,_134f){
this._colorPicker.set("value",value,_134f);
},_getValueAttr:function(){
return this._colorPicker.get("value");
},onChange:function(value){
},onCancel:function(){
}});
var _1350=_1320("dojox.editor.plugins.ColorTableCell",_1339,{colorPicker:_132c,constructor:function(){
this.closable=true;
this.buttonClass=dijit.form.DropDownButton;
var self=this,_1351,_1352={colorPicker:this.colorPicker,params:this.params};
if(!this.dropDown){
_1351=new _134d(_1352);
_1351.startup();
this.dropDown=_1351.dialog;
}else{
_1351=this.dropDown;
_1351.set(_1352);
}
this.connect(_1351,"onChange",function(color){
this.editor.focus();
this.modTable(null,color);
});
this.connect(_1351,"onCancel",function(){
this.editor.focus();
});
_1321.before(this.dropDown,"onOpen",function(){
var o=self.getTableInfo(),tds=self.getSelectedCells(o.tbl);
if(tds&&tds.length>0){
var t=tds[0]===self.lastObject?tds[0]:tds[tds.length-1],color;
while(t&&t!==self.editor.document&&((color=dojo.style(t,"backgroundColor"))==="transparent"||color.indexOf("rgba")===0)){
t=t.parentNode;
}
if(color!=="transparent"&&color.indexOf("rgba")!==0){
_1351.set("value",Color.fromString(color).toHex());
}
}
});
this.connect(this,"setEditor",function(_1353){
_1353.onLoadDeferred.addCallback(dojo.hitch(this,function(){
this.connect(this.editor.editNode,"onmouseup",function(evt){
this.lastObject=evt.target;
});
}));
});
},_initButton:function(){
this.command=this.name;
this.label=this.editor.commands[this.command]=this._makeTitle(this.command);
this.inherited(arguments);
delete this.command;
this.onDisplayChanged(false);
},modTable:function(cmd,args){
this.begEdit();
var o=this.getTableInfo();
var tds=this.getSelectedCells(o.tbl);
dojo.forEach(tds,function(td){
dojo.style(td,"backgroundColor",args);
});
this.endEdit();
}});
function _1354(args){
return new _1339(args);
};
_1324.registry["insertTableRowBefore"]=_1354;
_1324.registry["insertTableRowAfter"]=_1354;
_1324.registry["insertTableColumnBefore"]=_1354;
_1324.registry["insertTableColumnAfter"]=_1354;
_1324.registry["deleteTableRow"]=_1354;
_1324.registry["deleteTableColumn"]=_1354;
_1324.registry["colorTableCell"]=function(args){
return new _1350(args);
};
_1324.registry["modifyTable"]=function(args){
return new _134c(args);
};
_1324.registry["insertTable"]=function(args){
return new _1348(args);
};
_1324.registry["tableContextMenu"]=function(args){
return new _1340(args);
};
return _1339;
});
},"dojox/validate":function(){
define(["./validate/_base"],function(_1355){
return _1355;
});
},"dijit/form/_FormSelectWidget":function(){
define(["dojo/_base/array","dojo/_base/Deferred","dojo/aspect","dojo/data/util/sorter","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/when","dojo/store/util/QueryResults","./_FormValueWidget"],function(array,_1356,_1357,_1358,_1359,dom,_135a,_135b,lang,query,when,_135c,_135d){
var _135e=_1359("dijit.form._FormSelectWidget",_135d,{multiple:false,options:null,store:null,query:null,queryOptions:null,labelAttr:"",onFetch:null,sortByLabel:true,loadChildrenOnOpen:false,onLoadDeferred:null,getOptions:function(_135f){
var opts=this.options||[];
if(_135f==null){
return opts;
}
if(lang.isArray(_135f)){
return array.map(_135f,"return this.getOptions(item);",this);
}
if(lang.isString(_135f)){
_135f={value:_135f};
}
if(lang.isObject(_135f)){
if(!array.some(opts,function(_1360,idx){
for(var a in _135f){
if(!(a in _1360)||_1360[a]!=_135f[a]){
return false;
}
}
_135f=idx;
return true;
})){
_135f=-1;
}
}
if(_135f>=0&&_135f<opts.length){
return opts[_135f];
}
return null;
},addOption:function(_1361){
array.forEach(lang.isArray(_1361)?_1361:[_1361],function(i){
if(i&&lang.isObject(i)){
this.options.push(i);
}
},this);
this._loadChildren();
},removeOption:function(_1362){
var _1363=this.getOptions(lang.isArray(_1362)?_1362:[_1362]);
array.forEach(_1363,function(_1364){
if(_1364){
this.options=array.filter(this.options,function(node){
return (node.value!==_1364.value||node.label!==_1364.label);
});
this._removeOptionItem(_1364);
}
},this);
this._loadChildren();
},updateOption:function(_1365){
array.forEach(lang.isArray(_1365)?_1365:[_1365],function(i){
var _1366=this.getOptions({value:i.value}),k;
if(_1366){
for(k in i){
_1366[k]=i[k];
}
}
},this);
this._loadChildren();
},setStore:function(store,_1367,_1368){
var _1369=this.store;
_1368=_1368||{};
if(_1369!==store){
var h;
while((h=this._notifyConnections.pop())){
h.remove();
}
if(!store.get){
lang.mixin(store,{_oldAPI:true,get:function(id){
var _136a=new _1356();
this.fetchItemByIdentity({identity:id,onItem:function(_136b){
_136a.resolve(_136b);
},onError:function(error){
_136a.reject(error);
}});
return _136a.promise;
},query:function(query,_136c){
var _136d=new _1356(function(){
if(_136e.abort){
_136e.abort();
}
});
_136d.total=new _1356();
var _136e=this.fetch(lang.mixin({query:query,onBegin:function(count){
_136d.total.resolve(count);
},onComplete:function(_136f){
_136d.resolve(_136f);
},onError:function(error){
_136d.reject(error);
}},_136c));
return new _135c(_136d);
}});
if(store.getFeatures()["dojo.data.api.Notification"]){
this._notifyConnections=[_1357.after(store,"onNew",lang.hitch(this,"_onNewItem"),true),_1357.after(store,"onDelete",lang.hitch(this,"_onDeleteItem"),true),_1357.after(store,"onSet",lang.hitch(this,"_onSetItem"),true)];
}
}
this._set("store",store);
}
if(this.options&&this.options.length){
this.removeOption(this.options);
}
if(this._queryRes&&this._queryRes.close){
this._queryRes.close();
}
if(this._observeHandle&&this._observeHandle.remove){
this._observeHandle.remove();
this._observeHandle=null;
}
if(_1368.query){
this._set("query",_1368.query);
this._set("queryOptions",_1368.queryOptions);
}
if(store){
this._loadingStore=true;
this.onLoadDeferred=new _1356();
this._queryRes=store.query(this.query,this.queryOptions);
when(this._queryRes,lang.hitch(this,function(items){
if(this.sortByLabel&&!_1368.sort&&items.length){
if(store.getValue){
items.sort(_1358.createSortFunction([{attribute:store.getLabelAttributes(items[0])[0]}],store));
}else{
var _1370=this.labelAttr;
items.sort(function(a,b){
return a[_1370]>b[_1370]?1:b[_1370]>a[_1370]?-1:0;
});
}
}
if(_1368.onFetch){
items=_1368.onFetch.call(this,items,_1368);
}
array.forEach(items,function(i){
this._addOptionForItem(i);
},this);
if(this._queryRes.observe){
this._observeHandle=this._queryRes.observe(lang.hitch(this,function(_1371,_1372,_1373){
if(_1372==_1373){
this._onSetItem(_1371);
}else{
if(_1372!=-1){
this._onDeleteItem(_1371);
}
if(_1373!=-1){
this._onNewItem(_1371);
}
}
}),true);
}
this._loadingStore=false;
this.set("value","_pendingValue" in this?this._pendingValue:_1367);
delete this._pendingValue;
if(!this.loadChildrenOnOpen){
this._loadChildren();
}else{
this._pseudoLoadChildren(items);
}
this.onLoadDeferred.resolve(true);
this.onSetStore();
}),function(err){
console.error("dijit.form.Select: "+err.toString());
this.onLoadDeferred.reject(err);
});
}
return _1369;
},_setValueAttr:function(_1374,_1375){
if(!this._onChangeActive){
_1375=null;
}
if(this._loadingStore){
this._pendingValue=_1374;
return;
}
if(_1374==null){
return;
}
if(lang.isArray(_1374)){
_1374=array.map(_1374,function(value){
return lang.isObject(value)?value:{value:value};
});
}else{
if(lang.isObject(_1374)){
_1374=[_1374];
}else{
_1374=[{value:_1374}];
}
}
_1374=array.filter(this.getOptions(_1374),function(i){
return i&&i.value;
});
var opts=this.getOptions()||[];
if(!this.multiple&&(!_1374[0]||!_1374[0].value)&&!!opts.length){
_1374[0]=opts[0];
}
array.forEach(opts,function(opt){
opt.selected=array.some(_1374,function(v){
return v.value===opt.value;
});
});
var val=array.map(_1374,function(opt){
return opt.value;
});
if(typeof val=="undefined"||typeof val[0]=="undefined"){
return;
}
var disp=array.map(_1374,function(opt){
return opt.label;
});
this._setDisplay(this.multiple?disp:disp[0]);
this.inherited(arguments,[this.multiple?val:val[0],_1375]);
this._updateSelection();
},_getDisplayedValueAttr:function(){
var ret=array.map([].concat(this.get("selectedOptions")),function(v){
if(v&&"label" in v){
return v.label;
}else{
if(v){
return v.value;
}
}
return null;
},this);
return this.multiple?ret:ret[0];
},_setDisplayedValueAttr:function(label){
this.set("value",this.getOptions(typeof label=="string"?{label:label}:label));
},_loadChildren:function(){
if(this._loadingStore){
return;
}
array.forEach(this._getChildren(),function(child){
child.destroyRecursive();
});
array.forEach(this.options,this._addOptionItem,this);
this._updateSelection();
},_updateSelection:function(){
this.focusedChild=null;
this._set("value",this._getValueFromOpts());
var val=[].concat(this.value);
if(val&&val[0]){
var self=this;
array.forEach(this._getChildren(),function(child){
var _1376=array.some(val,function(v){
return child.option&&(v===child.option.value);
});
if(_1376&&!self.multiple){
self.focusedChild=child;
}
_135a.toggle(child.domNode,this.baseClass.replace(/\s+|$/g,"SelectedOption "),_1376);
child.domNode.setAttribute("aria-selected",_1376?"true":"false");
},this);
}
},_getValueFromOpts:function(){
var opts=this.getOptions()||[];
if(!this.multiple&&opts.length){
var opt=array.filter(opts,function(i){
return i.selected;
})[0];
if(opt&&opt.value){
return opt.value;
}else{
opts[0].selected=true;
return opts[0].value;
}
}else{
if(this.multiple){
return array.map(array.filter(opts,function(i){
return i.selected;
}),function(i){
return i.value;
})||[];
}
}
return "";
},_onNewItem:function(item,_1377){
if(!_1377||!_1377.parent){
this._addOptionForItem(item);
}
},_onDeleteItem:function(item){
var store=this.store;
this.removeOption({value:store.getIdentity(item)});
},_onSetItem:function(item){
this.updateOption(this._getOptionObjForItem(item));
},_getOptionObjForItem:function(item){
var store=this.store,label=(this.labelAttr&&this.labelAttr in item)?item[this.labelAttr]:store.getLabel(item),value=(label?store.getIdentity(item):null);
return {value:value,label:label,item:item};
},_addOptionForItem:function(item){
var store=this.store;
if(store.isItemLoaded&&!store.isItemLoaded(item)){
store.loadItem({item:item,onItem:function(i){
this._addOptionForItem(i);
},scope:this});
return;
}
var _1378=this._getOptionObjForItem(item);
this.addOption(_1378);
},constructor:function(_1379){
this._oValue=(_1379||{}).value||null;
this._notifyConnections=[];
},buildRendering:function(){
this.inherited(arguments);
dom.setSelectable(this.focusNode,false);
},_fillContent:function(){
if(!this.options){
this.options=this.srcNodeRef?query("> *",this.srcNodeRef).map(function(node){
if(node.getAttribute("type")==="separator"){
return {value:"",label:"",selected:false,disabled:false};
}
return {value:(node.getAttribute("data-"+_135b._scopeName+"-value")||node.getAttribute("value")),label:String(node.innerHTML),selected:node.getAttribute("selected")||false,disabled:node.getAttribute("disabled")||false};
},this):[];
}
if(!this.value){
this._set("value",this._getValueFromOpts());
}else{
if(this.multiple&&typeof this.value=="string"){
this._set("value",this.value.split(","));
}
}
},postCreate:function(){
this.inherited(arguments);
_1357.after(this,"onChange",lang.hitch(this,"_updateSelection"));
var store=this.store;
if(store&&(store.getIdentity||store.getFeatures()["dojo.data.api.Identity"])){
this.store=null;
this.setStore(store,this._oValue);
}
},startup:function(){
this._loadChildren();
this.inherited(arguments);
},destroy:function(){
var h;
while((h=this._notifyConnections.pop())){
h.remove();
}
if(this._queryRes&&this._queryRes.close){
this._queryRes.close();
}
if(this._observeHandle&&this._observeHandle.remove){
this._observeHandle.remove();
this._observeHandle=null;
}
this.inherited(arguments);
},_addOptionItem:function(){
},_removeOptionItem:function(){
},_setDisplay:function(){
},_getChildren:function(){
return [];
},_getSelectedOptionsAttr:function(){
return this.getOptions({selected:true});
},_pseudoLoadChildren:function(){
},onSetStore:function(){
}});
return _135e;
});
},"dijit/form/_ComboBoxMenu":function(){
define(["dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/keys","../_WidgetBase","../_TemplatedMixin","./_ComboBoxMenuMixin","./_ListMouseMixin"],function(_137a,_137b,_137c,keys,_137d,_137e,_137f,_1380){
return _137a("dijit.form._ComboBoxMenu",[_137d,_137e,_1380,_137f],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'>"+"<div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div>"+"<div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div>"+"</div>",baseClass:"dijitComboBoxMenu",postCreate:function(){
this.inherited(arguments);
if(!this.isLeftToRight()){
_137b.add(this.previousButton,"dijitMenuItemRtl");
_137b.add(this.nextButton,"dijitMenuItemRtl");
}
this.containerNode.setAttribute("role","listbox");
},_createMenuItem:function(){
var item=this.ownerDocument.createElement("div");
item.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");
item.setAttribute("role","option");
return item;
},onHover:function(node){
_137b.add(node,"dijitMenuItemHover");
},onUnhover:function(node){
_137b.remove(node,"dijitMenuItemHover");
},onSelect:function(node){
_137b.add(node,"dijitMenuItemSelected");
},onDeselect:function(node){
_137b.remove(node,"dijitMenuItemSelected");
},_page:function(up){
var _1381=0;
var _1382=this.domNode.scrollTop;
var _1383=_137c.get(this.domNode,"height");
if(!this.getHighlightedOption()){
this.selectNextNode();
}
while(_1381<_1383){
var _1384=this.getHighlightedOption();
if(up){
if(!_1384.previousSibling||_1384.previousSibling.style.display=="none"){
break;
}
this.selectPreviousNode();
}else{
if(!_1384.nextSibling||_1384.nextSibling.style.display=="none"){
break;
}
this.selectNextNode();
}
var _1385=this.domNode.scrollTop;
_1381+=(_1385-_1382)*(up?-1:1);
_1382=_1385;
}
},handleKey:function(evt){
switch(evt.keyCode){
case keys.DOWN_ARROW:
this.selectNextNode();
return false;
case keys.PAGE_DOWN:
this._page(false);
return false;
case keys.UP_ARROW:
this.selectPreviousNode();
return false;
case keys.PAGE_UP:
this._page(true);
return false;
default:
return true;
}
}});
});
},"dijit/layout/_TabContainerBase":function(){
define(["dojo/text!./templates/TabContainer.html","./StackContainer","./utils","../_TemplatedMixin","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(_1386,_1387,_1388,_1389,_138a,_138b,_138c,_138d){
return _138a("dijit.layout._TabContainerBase",[_1387,_1389],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,nested:false,templateString:_1386,postMixInProperties:function(){
this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");
this.srcNodeRef&&_138d.set(this.srcNodeRef,"visibility","hidden");
this.inherited(arguments);
},buildRendering:function(){
this.inherited(arguments);
this.tablist=this._makeController(this.tablistNode);
if(!this.doLayout){
_138b.add(this.domNode,"dijitTabContainerNoLayout");
}
if(this.nested){
_138b.add(this.domNode,"dijitTabContainerNested");
_138b.add(this.tablist.containerNode,"dijitTabContainerTabListNested");
_138b.add(this.tablistSpacer,"dijitTabContainerSpacerNested");
_138b.add(this.containerNode,"dijitTabPaneWrapperNested");
}else{
_138b.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"));
}
},_setupChild:function(tab){
_138b.add(tab.domNode,"dijitTabPane");
this.inherited(arguments);
},startup:function(){
if(this._started){
return;
}
this.tablist.startup();
this.inherited(arguments);
},layout:function(){
if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){
return;
}
var sc=this.selectedChildWidget;
if(this.doLayout){
var _138e=this.tabPosition.replace(/-h/,"");
this.tablist.region=_138e;
var _138f=[this.tablist,{domNode:this.tablistSpacer,region:_138e},{domNode:this.containerNode,region:"center"}];
_1388.layoutChildren(this.domNode,this._contentBox,_138f);
this._containerContentBox=_1388.marginBox2contentBox(this.containerNode,_138f[2]);
if(sc&&sc.resize){
sc.resize(this._containerContentBox);
}
}else{
if(this.tablist.resize){
var s=this.tablist.domNode.style;
s.width="0";
var width=_138c.getContentBox(this.domNode).w;
s.width="";
this.tablist.resize({w:width});
}
if(sc&&sc.resize){
sc.resize();
}
}
},destroy:function(_1390){
if(this.tablist){
this.tablist.destroy(_1390);
}
this.inherited(arguments);
}});
});
},"dijit/_KeyNavContainer":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/kernel","dojo/keys","dojo/_base/lang","./registry","./_Container","./_FocusMixin","./_KeyNavMixin"],function(array,_1391,_1392,_1393,keys,lang,_1394,_1395,_1396,_1397){
return _1391("dijit._KeyNavContainer",[_1396,_1397,_1395],{connectKeyNavHandlers:function(_1398,_1399){
var _139a=(this._keyNavCodes={});
var prev=lang.hitch(this,"focusPrev");
var next=lang.hitch(this,"focusNext");
array.forEach(_1398,function(code){
_139a[code]=prev;
});
array.forEach(_1399,function(code){
_139a[code]=next;
});
_139a[keys.HOME]=lang.hitch(this,"focusFirstChild");
_139a[keys.END]=lang.hitch(this,"focusLastChild");
},startupKeyNavChildren:function(){
_1393.deprecated("startupKeyNavChildren() call no longer needed","","2.0");
},startup:function(){
this.inherited(arguments);
array.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));
},addChild:function(_139b,_139c){
this.inherited(arguments);
this._startupChild(_139b);
},_startupChild:function(_139d){
_139d.set("tabIndex","-1");
},_getFirst:function(){
var _139e=this.getChildren();
return _139e.length?_139e[0]:null;
},_getLast:function(){
var _139f=this.getChildren();
return _139f.length?_139f[_139f.length-1]:null;
},focusNext:function(){
this.focusChild(this._getNextFocusableChild(this.focusedChild,1));
},focusPrev:function(){
this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);
},childSelector:function(node){
var node=_1394.byNode(node);
return node&&node.getParent()==this;
}});
});
},"dijit/form/DataList":function(){
define(["dojo/_base/declare","dojo/dom","dojo/_base/lang","dojo/query","dojo/store/Memory","../registry"],function(_13a0,dom,lang,query,_13a1,_13a2){
function _13a3(_13a4){
return {id:_13a4.value,value:_13a4.value,name:lang.trim(_13a4.innerText||_13a4.textContent||"")};
};
return _13a0("dijit.form.DataList",_13a1,{constructor:function(_13a5,_13a6){
this.domNode=dom.byId(_13a6);
lang.mixin(this,_13a5);
if(this.id){
_13a2.add(this);
}
this.domNode.style.display="none";
this.inherited(arguments,[{data:query("option",this.domNode).map(_13a3)}]);
},destroy:function(){
_13a2.remove(this.id);
},fetchSelectedItem:function(){
var _13a7=query("> option[selected]",this.domNode)[0]||query("> option",this.domNode)[0];
return _13a7&&_13a3(_13a7);
}});
});
},"dijit/Tooltip":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(array,_13a8,fx,dom,_13a9,_13aa,_13ab,lang,mouse,on,has,_13ac,place,_13ad,_13ae,_13af,_13b0,dijit){
var _13b1=_13a8("dijit._MasterTooltip",[_13ad,_13ae],{duration:_13ac.defaultDuration,templateString:_13b0,postCreate:function(){
this.ownerDocumentBody.appendChild(this.domNode);
this.bgIframe=new _13af(this.domNode);
this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});
this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});
},show:function(_13b2,_13b3,_13b4,rtl,_13b5){
if(this.aroundNode&&this.aroundNode===_13b3&&this.containerNode.innerHTML==_13b2){
return;
}
if(this.fadeOut.status()=="playing"){
this._onDeck=arguments;
return;
}
this.containerNode.innerHTML=_13b2;
if(_13b5){
this.set("textDir",_13b5);
}
this.containerNode.align=rtl?"right":"left";
var pos=place.around(this.domNode,_13b3,_13b4&&_13b4.length?_13b4:_13b6.defaultPosition,!rtl,lang.hitch(this,"orient"));
var _13b7=pos.aroundNodePos;
if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){
this.connectorNode.style.top=_13b7.y+((_13b7.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";
this.connectorNode.style.left="";
}else{
if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){
this.connectorNode.style.left=_13b7.x+((_13b7.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";
}else{
this.connectorNode.style.left="";
this.connectorNode.style.top="";
}
}
_13ab.set(this.domNode,"opacity",0);
this.fadeIn.play();
this.isShowingNow=true;
this.aroundNode=_13b3;
},orient:function(node,_13b8,_13b9,_13ba,_13bb){
this.connectorNode.style.top="";
var _13bc=_13ba.h,_13bd=_13ba.w;
node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_13b8+"-"+_13b9];
this.domNode.style.width="auto";
var size=_13aa.position(this.domNode);
if(has("ie")==9){
size.w+=2;
}
var width=Math.min((Math.max(_13bd,1)),size.w);
_13aa.setMarginBox(this.domNode,{w:width});
if(_13b9.charAt(0)=="B"&&_13b8.charAt(0)=="B"){
var bb=_13aa.position(node);
var _13be=this.connectorNode.offsetHeight;
if(bb.h>_13bc){
var _13bf=_13bc-((_13bb.h+_13be)>>1);
this.connectorNode.style.top=_13bf+"px";
this.connectorNode.style.bottom="";
}else{
this.connectorNode.style.bottom=Math.min(Math.max(_13bb.h/2-_13be/2,0),bb.h-_13be)+"px";
this.connectorNode.style.top="";
}
}else{
this.connectorNode.style.top="";
this.connectorNode.style.bottom="";
}
return Math.max(0,size.w-_13bd);
},_onShow:function(){
if(has("ie")){
this.domNode.style.filter="";
}
},hide:function(_13c0){
if(this._onDeck&&this._onDeck[1]==_13c0){
this._onDeck=null;
}else{
if(this.aroundNode===_13c0){
this.fadeIn.stop();
this.isShowingNow=false;
this.aroundNode=null;
this.fadeOut.play();
}else{
}
}
},_onHide:function(){
this.domNode.style.cssText="";
this.containerNode.innerHTML="";
if(this._onDeck){
this.show.apply(this,this._onDeck);
this._onDeck=null;
}
}});
if(has("dojo-bidi")){
_13b1.extend({_setAutoTextDir:function(node){
this.applyTextDir(node);
array.forEach(node.children,function(child){
this._setAutoTextDir(child);
},this);
},_setTextDirAttr:function(_13c1){
this._set("textDir",_13c1);
if(_13c1=="auto"){
this._setAutoTextDir(this.containerNode);
}else{
this.containerNode.dir=this.textDir;
}
}});
}
dijit.showTooltip=function(_13c2,_13c3,_13c4,rtl,_13c5){
if(_13c4){
_13c4=array.map(_13c4,function(val){
return {after:"after-centered",before:"before-centered"}[val]||val;
});
}
if(!_13b6._masterTT){
dijit._masterTT=_13b6._masterTT=new _13b1();
}
return _13b6._masterTT.show(_13c2,_13c3,_13c4,rtl,_13c5);
};
dijit.hideTooltip=function(_13c6){
return _13b6._masterTT&&_13b6._masterTT.hide(_13c6);
};
var _13b6=_13a8("dijit.Tooltip",_13ad,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(newId){
array.forEach(this._connections||[],function(_13c7){
array.forEach(_13c7,function(_13c8){
_13c8.remove();
});
},this);
this._connectIds=array.filter(lang.isArrayLike(newId)?newId:(newId?[newId]:[]),function(id){
return dom.byId(id,this.ownerDocument);
},this);
this._connections=array.map(this._connectIds,function(id){
var node=dom.byId(id,this.ownerDocument),_13c9=this.selector,_13ca=_13c9?function(_13cb){
return on.selector(_13c9,_13cb);
}:function(_13cc){
return _13cc;
},self=this;
return [on(node,_13ca(mouse.enter),function(){
self._onHover(this);
}),on(node,_13ca("focusin"),function(){
self._onHover(this);
}),on(node,_13ca(mouse.leave),lang.hitch(self,"_onUnHover")),on(node,_13ca("focusout"),lang.hitch(self,"_onUnHover"))];
},this);
this._set("connectId",newId);
},addTarget:function(node){
var id=node.id||node;
if(array.indexOf(this._connectIds,id)==-1){
this.set("connectId",this._connectIds.concat(id));
}
},removeTarget:function(node){
var id=node.id||node,idx=array.indexOf(this._connectIds,id);
if(idx>=0){
this._connectIds.splice(idx,1);
this.set("connectId",this._connectIds);
}
},buildRendering:function(){
this.inherited(arguments);
_13a9.add(this.domNode,"dijitTooltipData");
},startup:function(){
this.inherited(arguments);
var ids=this.connectId;
array.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);
},getContent:function(node){
return this.label||this.domNode.innerHTML;
},_onHover:function(_13cd){
if(!this._showTimer){
this._showTimer=this.defer(function(){
this.open(_13cd);
},this.showDelay);
}
},_onUnHover:function(){
if(this._showTimer){
this._showTimer.remove();
delete this._showTimer;
}
this.close();
},open:function(_13ce){
if(this._showTimer){
this._showTimer.remove();
delete this._showTimer;
}
var _13cf=this.getContent(_13ce);
if(!_13cf){
return;
}
_13b6.show(_13cf,_13ce,this.position,!this.isLeftToRight(),this.textDir);
this._connectNode=_13ce;
this.onShow(_13ce,this.position);
},close:function(){
if(this._connectNode){
_13b6.hide(this._connectNode);
delete this._connectNode;
this.onHide();
}
if(this._showTimer){
this._showTimer.remove();
delete this._showTimer;
}
},onShow:function(){
},onHide:function(){
},destroy:function(){
this.close();
array.forEach(this._connections||[],function(_13d0){
array.forEach(_13d0,function(_13d1){
_13d1.remove();
});
},this);
this.inherited(arguments);
}});
_13b6._MasterTooltip=_13b1;
_13b6.show=dijit.showTooltip;
_13b6.hide=dijit.hideTooltip;
_13b6.defaultPosition=["after-centered","before-centered"];
return _13b6;
});
},"dijit/PopupMenuItem":function(){
define(["dojo/_base/declare","dojo/dom-style","dojo/_base/lang","dojo/query","./popup","./registry","./MenuItem","./hccss"],function(_13d2,_13d3,lang,query,pm,_13d4,_13d5){
return _13d2("dijit.PopupMenuItem",_13d5,{_fillContent:function(){
if(this.srcNodeRef){
var nodes=query("*",this.srcNodeRef);
this.inherited(arguments,[nodes[0]]);
this.dropDownContainer=this.srcNodeRef;
}
},_openPopup:function(_13d6,focus){
var popup=this.popup;
pm.open(lang.delegate(_13d6,{popup:this.popup,around:this.domNode}));
if(focus&&popup.focus){
popup.focus();
}
},_closePopup:function(){
pm.close(this.popup);
this.popup.parentMenu=null;
},startup:function(){
if(this._started){
return;
}
this.inherited(arguments);
if(!this.popup){
var node=query("[widgetId]",this.dropDownContainer)[0];
this.popup=_13d4.byNode(node);
}
this.ownerDocumentBody.appendChild(this.popup.domNode);
this.popup.domNode.setAttribute("aria-labelledby",this.containerNode.id);
this.popup.startup();
this.popup.domNode.style.display="none";
if(this.arrowWrapper){
_13d3.set(this.arrowWrapper,"visibility","");
}
this.focusNode.setAttribute("aria-haspopup","true");
},destroyDescendants:function(_13d7){
if(this.popup){
if(!this.popup._destroyed){
this.popup.destroyRecursive(_13d7);
}
delete this.popup;
}
this.inherited(arguments);
}});
});
},"dijit/main":function(){
define(["dojo/_base/kernel"],function(dojo){
return dojo.dijit;
});
},"dijit/layout/ContentPane":function(){
define(["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(_13d8,lang,_13d9,_13da,_13db,_13dc,html,_13dd,array,_13de,_13df,dom,_13e0,_13e1,xhr,i18n,when){
return _13de("dijit.layout.ContentPane",[_13d9,_13da,_13db],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_13d8._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,markupFactory:function(_13e2,node,ctor){
var self=new ctor(_13e2,node);
return !self.href&&self._contentSetter&&self._contentSetter.parseDeferred&&!self._contentSetter.parseDeferred.isFulfilled()?self._contentSetter.parseDeferred.then(function(){
return self;
}):self;
},create:function(_13e3,_13e4){
if((!_13e3||!_13e3.template)&&_13e4&&!("href" in _13e3)&&!("content" in _13e3)){
_13e4=dom.byId(_13e4);
var df=_13e4.ownerDocument.createDocumentFragment();
while(_13e4.firstChild){
df.appendChild(_13e4.firstChild);
}
_13e3=lang.delegate(_13e3,{content:df});
}
this.inherited(arguments,[_13e3,_13e4]);
},postMixInProperties:function(){
this.inherited(arguments);
var _13e5=i18n.getLocalization("dijit","loading",this.lang);
this.loadingMessage=_13dc.substitute(this.loadingMessage,_13e5);
this.errorMessage=_13dc.substitute(this.errorMessage,_13e5);
},buildRendering:function(){
this.inherited(arguments);
if(!this.containerNode){
this.containerNode=this.domNode;
}
this.domNode.removeAttribute("title");
},startup:function(){
this.inherited(arguments);
if(this._contentSetter){
array.forEach(this._contentSetter.parseResults,function(obj){
if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){
obj.startup();
obj._started=true;
}
},this);
}
},_startChildren:function(){
array.forEach(this.getChildren(),function(obj){
if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){
obj.startup();
obj._started=true;
}
});
if(this._contentSetter){
array.forEach(this._contentSetter.parseResults,function(obj){
if(!obj._started&&!obj._destroyed&&lang.isFunction(obj.startup)){
obj.startup();
obj._started=true;
}
},this);
}
},setHref:function(href){
_13d8.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");
return this.set("href",href);
},_setHrefAttr:function(href){
this.cancel();
this.onLoadDeferred=new _13df(lang.hitch(this,"cancel"));
this.onLoadDeferred.then(lang.hitch(this,"onLoad"));
this._set("href",href);
if(this.preload||(this._created&&this._isShown())){
this._load();
}else{
this._hrefChanged=true;
}
return this.onLoadDeferred;
},setContent:function(data){
_13d8.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");
this.set("content",data);
},_setContentAttr:function(data){
this._set("href","");
this.cancel();
this.onLoadDeferred=new _13df(lang.hitch(this,"cancel"));
if(this._created){
this.onLoadDeferred.then(lang.hitch(this,"onLoad"));
}
this._setContent(data||"");
this._isDownloaded=false;
return this.onLoadDeferred;
},_getContentAttr:function(){
return this.containerNode.innerHTML;
},cancel:function(){
if(this._xhrDfd&&(this._xhrDfd.fired==-1)){
this._xhrDfd.cancel();
}
delete this._xhrDfd;
this.onLoadDeferred=null;
},destroy:function(){
this.cancel();
this.inherited(arguments);
},destroyRecursive:function(_13e6){
if(this._beingDestroyed){
return;
}
this.inherited(arguments);
},_onShow:function(){
this.inherited(arguments);
if(this.href){
if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){
return this.refresh();
}
}
},refresh:function(){
this.cancel();
this.onLoadDeferred=new _13df(lang.hitch(this,"cancel"));
this.onLoadDeferred.then(lang.hitch(this,"onLoad"));
this._load();
return this.onLoadDeferred;
},_load:function(){
this._setContent(this.onDownloadStart(),true);
var self=this;
var _13e7={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};
if(lang.isObject(this.ioArgs)){
lang.mixin(_13e7,this.ioArgs);
}
var hand=(this._xhrDfd=(this.ioMethod||xhr.get)(_13e7)),_13e8;
hand.then(function(html){
_13e8=html;
try{
self._isDownloaded=true;
return self._setContent(html,false);
}
catch(err){
self._onError("Content",err);
}
},function(err){
if(!hand.canceled){
self._onError("Download",err);
}
delete self._xhrDfd;
return err;
}).then(function(){
self.onDownloadEnd();
delete self._xhrDfd;
return _13e8;
});
delete this._hrefChanged;
},_onLoadHandler:function(data){
this._set("isLoaded",true);
try{
this.onLoadDeferred.resolve(data);
}
catch(e){
console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);
}
},_onUnloadHandler:function(){
this._set("isLoaded",false);
try{
this.onUnload();
}
catch(e){
console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);
}
},destroyDescendants:function(_13e9){
if(this.isLoaded){
this._onUnloadHandler();
}
var _13ea=this._contentSetter;
array.forEach(this.getChildren(),function(_13eb){
if(_13eb.destroyRecursive){
_13eb.destroyRecursive(_13e9);
}else{
if(_13eb.destroy){
_13eb.destroy(_13e9);
}
}
_13eb._destroyed=true;
});
if(_13ea){
array.forEach(_13ea.parseResults,function(_13ec){
if(!_13ec._destroyed){
if(_13ec.destroyRecursive){
_13ec.destroyRecursive(_13e9);
}else{
if(_13ec.destroy){
_13ec.destroy(_13e9);
}
}
_13ec._destroyed=true;
}
});
delete _13ea.parseResults;
}
if(!_13e9){
_13e1.empty(this.containerNode);
}
delete this._singleChild;
},_setContent:function(cont,_13ed){
this.destroyDescendants();
var _13ee=this._contentSetter;
if(!(_13ee&&_13ee instanceof html._ContentSetter)){
_13ee=this._contentSetter=new html._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){
var _13ef=this.onContentError(e);
try{
this.containerNode.innerHTML=_13ef;
}
catch(e){
console.error("Fatal "+this.id+" could not change content due to "+e.message,e);
}
})});
}
var _13f0=lang.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!cont.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});
var p=_13ee.set((lang.isObject(cont)&&cont.domNode)?cont.domNode:cont,_13f0);
var self=this;
return when(p&&p.then?p:_13ee.parseDeferred,function(){
delete self._contentSetterParams;
if(!_13ed){
if(self._started){
self._startChildren();
self._scheduleLayout();
}
self._onLoadHandler(cont);
}
});
},_onError:function(type,err,_13f1){
this.onLoadDeferred.reject(err);
var _13f2=this["on"+type+"Error"].call(this,err);
if(_13f1){
console.error(_13f1,err);
}else{
if(_13f2){
this._setContent(_13f2,true);
}
}
},onLoad:function(){
},onUnload:function(){
},onDownloadStart:function(){
return this.loadingMessage;
},onContentError:function(){
},onDownloadError:function(){
return this.errorMessage;
},onDownloadEnd:function(){
}});
});
},"manager/BoxPane":function(){
require({cache:{"url:manager/templates/BoxPane.html":"<div class=\"mBoxPane\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"mBoxPaneTitleBar ${classTitle}\" id=\"${id}_titleBar\">\n\t<span data-dojo-attach-point=\"titleNode\" class=\"mBoxPaneTitle\" id=\"${id}_title\"></span>\n\t<div data-dojo-attach-point=\"toolBarNode\" class=\"mBoxPaneToolBar\"></div>\n\t</div>\n\t\t<div data-dojo-attach-point=\"containerNode\" class=\"mBoxPaneContent\"></div>\n</div>\n"}});
define("manager/BoxPane",["dojo/_base/declare","dojox/layout/ContentPane","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_CssStateMixin","dijit/form/_FormMixin","dojo/text!./templates/BoxPane.html"],function(_13f3,_13f4,_13f5,_13f6,_13f7,_13f8,_13f9){
return _13f3("Manager.BoxPane",[_13f4,_13f5,_13f6,_13f8,_13f7],{templateString:_13f9,baseClass:"mBoxPane",classTitle:"",toolBar:"",cssStateNodes:{toolBarNode:"toolIcon"},focus:function(){
},attributeMap:dojo.delegate(dijit._Widget.prototype.attributeMap,{title:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],"aria-describedby":""}),onCancel:function(){
},startup:function(){
if(this.toolBar!=""){
this.toolBarNode.appendChild(dojo.byId(this.toolBar));
}
this.inherited(arguments);
}});
});
},"manager/TextTable":function(){
define("manager/TextTable",["dojo/_base/declare"],function(_13fa){
return _13fa("Manager.TextTable",[],{constructor:function(id,zebra,cols){
this.id=id;
this.table=manager.getElementById(id);
this.rowSelected="";
this.lastRow=manager.getElementsByTagName("TR",this.table).length;
this.onmouse=true;
this.zebra=true;
this.data=new Array();
this.textTable=this;
this.cols=cols;
this.iterate(this.init);
this.reorder();
},setRowClass:function(obj,isRow,r){
obj.className=this.zebra?"row"+(r%2):"row0";
obj.baseClassName=this.oldClassName=obj.className;
},setRowId:function(obj,r){
var tbl=obj.parentNode.parentNode;
obj.id=tbl.id+"row"+r;
},init:function(obj,isRow,r,c,data,tbl,_13fb){
if(isRow){
obj.textTable=_13fb;
_13fb.setRowId(obj,r);
_13fb.setRowClass(obj,isRow,r);
obj.onclick=function(){
var tbl=this.textTable;
tbl.select(this.id);
};
if(_13fb.onmouse){
obj.onmouseover=function(){
this.oldClassName=this.className;
this.className="hover";
};
obj.onmouseout=function(){
this.className=this.oldClassName;
};
}
}
},iterate:function(_13fc,data){
var r,c;
if(!_13fc){
return;
}
for(r=0;r<this.table.rows.length;++r){
if(false==_13fc(this.table.rows[r],true,r,c,data,this.table,this)){
return;
}
for(c=0;c<this.table.rows[r].cells.length;++c){
if(false==_13fc(this.table.rows[r].cells[c],false,r,c,data,this.table,this)){
return;
}
}
}
},add:function(_13fd){
var tbody=manager.getElementsByTagName("TBODY",this.table).item(0);
var rows=manager.getElementsByTagName("TR",tbody);
if(_13fd.length>0){
var r=document.createElement("TR");
tbody.insertBefore(r,tbody.firstChild);
for(var i=0;i<_13fd.length;i++){
var c=document.createElement("TD");
r.appendChild(c);
var t=document.createTextNode(_13fd[i]);
c.appendChild(t);
}
var _13fe=this.lastRow++;
this.init(r,true,_13fe,null,null,null,this);
}
},drop:function(rowId){
var tbody=manager.getElementsByTagName("TBODY",this.table).item(0);
var row=manager.getElementById(rowId);
if(row){
tbody.removeChild(row);
this.reorder();
this.lastRow--;
this.rowSelected="";
}
},modify:function(rowId,_13ff){
var row=manager.getElementById(rowId);
if(_13ff.length>0){
var cols=manager.getElementsByTagName("TD",row);
if(cols.length>0){
for(var i=0;i<cols.length;i++){
cols[i].innerHTML=_13ff[i];
}
}
}
},select:function(rowId){
var row=manager.getElementById(rowId);
if(rowId==this.rowSelected){
row.className=row.baseClassName;
row.oldClassName=row.baseClassName;
this.rowSelected="";
}else{
row.oldClassName=row.className;
row.className="hover";
if(this.rowSelected!=""){
row=manager.getElementById(this.rowSelected);
row.className=row.baseClassName;
}
this.rowSelected=rowId;
this.customSelect();
}
},get:function(rowId){
var row=manager.getElementById(rowId);
var cols=manager.getElementsByTagName("TD",row);
var text=new Array(cols.length);
if(cols.length>0){
for(var i=0;i<cols.length;i++){
text[i]=cols[i].firstChild?cols[i].innerHTML:"";
}
}
return text;
},setdata:function(){
var r,c;
for(r=0;r<this.table.rows.length;++r){
this.data[r]=new Array();
for(c=0;c<this.table.rows[r].cells.length;++c){
this.data[r][c]=this.table.rows[r].cells[c].innerHTML;
}
}
},getdata:function(){
this.setdata();
return this.data;
},customSelect:function(){
},reorder:function(){
var _1400=this.table.rows.length;
var _1401=_1400;
for(row=0;row<_1400;++row){
_1401--;
this.setRowClass(this.table.rows[row],true,_1401);
this.setRowId(this.table.rows[row],_1401);
}
},unload:function(){
this.iterate(function(o){
o.onmouseover=o.onmouseout=null;
});
}});
});
},"dojox/grid/_SelectionPreserver":function(){
define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array"],function(_1402,_1403,lang,array){
return _1402("dojox.grid._SelectionPreserver",null,{constructor:function(_1404){
this.selection=_1404;
var grid=this.grid=_1404.grid;
this.reset();
this._connects=[_1403.connect(grid,"_setStore",this,"reset"),_1403.connect(grid,"_addItem",this,"_reSelectById"),_1403.connect(_1404,"onSelected",lang.hitch(this,"_selectById",true)),_1403.connect(_1404,"onDeselected",lang.hitch(this,"_selectById",false)),_1403.connect(_1404,"deselectAll",this,"reset")];
},destroy:function(){
this.reset();
array.forEach(this._connects,_1403.disconnect);
delete this._connects;
},reset:function(){
this._selectedById={};
},_reSelectById:function(item,index){
if(item&&this.grid._hasIdentity){
this.selection.selected[index]=this._selectedById[this.grid.store.getIdentity(item)];
}
},_selectById:function(_1405,_1406){
if(this.selection.mode=="none"||!this.grid._hasIdentity){
return;
}
var item=_1406,g=this.grid;
if(typeof _1406=="number"||typeof _1406=="string"){
var entry=g._by_idx[_1406];
item=entry&&entry.item;
}
if(item){
this._selectedById[g.store.getIdentity(item)]=!!_1405;
}
return item;
}});
});
},"dojo/cldr/nls/pt/number":function(){
define({"group":".","percentSign":"%","exponential":"E","scientificFormat":"#E0","percentFormat":"#,##0%","list":";","infinity":"∞","minusSign":"-","decimal":",","nan":"NaN","perMille":"‰","decimalFormat":"#,##0.###","currencyFormat":"¤#,##0.00;(¤#,##0.00)","plusSign":"+","decimalFormat-long":"000 trilhões","decimalFormat-short":"000 tri"});
},"dijit/_WidgetsInTemplateMixin":function(){
define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(array,_1407,_1408,lang,_1409){
return _1408("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,contextRequire:null,_beforeFillContent:function(){
if(this.widgetsInTemplate){
var node=this.domNode;
if(this.containerNode&&!this.searchContainerNode){
this.containerNode.stopParser=true;
}
_1409.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(lang.hitch(this,function(_140a){
this._startupWidgets=_140a;
for(var i=0;i<_140a.length;i++){
this._processTemplateNode(_140a[i],function(n,p){
return n[p];
},function(_140b,type,_140c){
if(type in _140b){
return _140b.connect(_140b,type,_140c);
}else{
return _140b.on(type,_140c,true);
}
});
}
if(this.containerNode&&this.containerNode.stopParser){
delete this.containerNode.stopParser;
}
}));
if(!this._startupWidgets){
throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), "+"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");
}
}
},_processTemplateNode:function(_140d,_140e,_140f){
if(_140e(_140d,"dojoType")||_140e(_140d,"data-dojo-type")){
return true;
}
return this.inherited(arguments);
},startup:function(){
array.forEach(this._startupWidgets,function(w){
if(w&&!w._started&&w.startup){
w.startup();
}
});
this._startupWidgets=null;
this.inherited(arguments);
}});
});
},"dijit/_HasDropDown":function(){
define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","./registry","./focus","./popup","./_FocusMixin"],function(_1410,_1411,dom,_1412,_1413,_1414,_1415,has,keys,lang,on,touch,_1416,focus,popup,_1417){
return _1410("dijit._HasDropDown",_1417,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){
if(this.disabled||this.readOnly){
return;
}
if(e.type!="MSPointerDown"&&e.type!="pointerdown"){
e.preventDefault();
}
this._docHandler=this.own(on(this.ownerDocument,touch.release,lang.hitch(this,"_onDropDownMouseUp")))[0];
this.toggleDropDown();
},_onDropDownMouseUp:function(e){
if(e&&this._docHandler){
this._docHandler.remove();
this._docHandler=null;
}
var _1418=this.dropDown,_1419=false;
if(e&&this._opened){
var c=_1414.position(this._buttonNode,true);
if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){
var t=e.target;
while(t&&!_1419){
if(_1413.contains(t,"dijitPopup")){
_1419=true;
}else{
t=t.parentNode;
}
}
if(_1419){
t=e.target;
if(_1418.onItemClick){
var _141a;
while(t&&!(_141a=_1416.byNode(t))){
t=t.parentNode;
}
if(_141a&&_141a.onClick&&_141a.getParent){
_141a.getParent().onItemClick(_141a,e);
}
}
return;
}
}
}
if(this._opened){
if(_1418.focus&&(_1418.autoFocus!==false||(e.type=="mouseup"&&!this.hovering))){
this._focusDropDownTimer=this.defer(function(){
_1418.focus();
delete this._focusDropDownTimer;
});
}
}else{
if(this.focus){
this.defer("focus");
}
}
},_onDropDownClick:function(e){
if(this._stopClickEvents){
e.stopPropagation();
e.preventDefault();
}
},buildRendering:function(){
this.inherited(arguments);
this._buttonNode=this._buttonNode||this.focusNode||this.domNode;
this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;
var _141b={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";
_1413.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_141b+"ArrowButton");
},postCreate:function(){
this.inherited(arguments);
var _141c=this.focusNode||this.domNode;
this.own(on(this._buttonNode,touch.press,lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_141c,"keydown",lang.hitch(this,"_onKey")),on(_141c,"keyup",lang.hitch(this,"_onKeyUp")));
},destroy:function(){
if(this.dropDown){
if(!this.dropDown._destroyed){
this.dropDown.destroyRecursive();
}
delete this.dropDown;
}
this.inherited(arguments);
},_onKey:function(e){
if(this.disabled||this.readOnly){
return;
}
var d=this.dropDown,_141d=e.target;
if(d&&this._opened&&d.handleKey){
if(d.handleKey(e)===false){
e.stopPropagation();
e.preventDefault();
return;
}
}
if(d&&this._opened&&e.keyCode==keys.ESCAPE){
this.closeDropDown();
e.stopPropagation();
e.preventDefault();
}else{
if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||(e.keyCode==keys.SPACE&&(!this._searchTimer||(e.ctrlKey||e.altKey||e.metaKey))))&&((_141d.tagName||"").toLowerCase()!=="input"||(_141d.type&&_141d.type.toLowerCase()!=="text"))))){
this._toggleOnKeyUp=true;
e.stopPropagation();
e.preventDefault();
}
}
},_onKeyUp:function(){
if(this._toggleOnKeyUp){
delete this._toggleOnKeyUp;
this.toggleDropDown();
var d=this.dropDown;
if(d&&d.focus){
this.defer(lang.hitch(d,"focus"),1);
}
}
},_onBlur:function(){
this.closeDropDown(false);
this.inherited(arguments);
},isLoaded:function(){
return true;
},loadDropDown:function(_141e){
_141e();
},loadAndOpenDropDown:function(){
var d=new _1411(),_141f=lang.hitch(this,function(){
this.openDropDown();
d.resolve(this.dropDown);
});
if(!this.isLoaded()){
this.loadDropDown(_141f);
}else{
_141f();
}
return d;
},toggleDropDown:function(){
if(this.disabled||this.readOnly){
return;
}
if(!this._opened){
this.loadAndOpenDropDown();
}else{
this.closeDropDown(true);
}
},openDropDown:function(){
var _1420=this.dropDown,_1421=_1420.domNode,_1422=this._aroundNode||this.domNode,self=this;
var _1423=popup.open({parent:this,popup:_1420,around:_1422,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){
self.closeDropDown(true);
},onCancel:function(){
self.closeDropDown(true);
},onClose:function(){
_1412.set(self._popupStateNode,"popupActive",false);
_1413.remove(self._popupStateNode,"dijitHasDropDownOpen");
self._set("_opened",false);
}});
if(this.forceWidth||(this.autoWidth&&_1422.offsetWidth>_1420._popupWrapper.offsetWidth)){
var _1424={w:_1422.offsetWidth-(_1420._popupWrapper.offsetWidth-_1420.domNode.offsetWidth)};
if(lang.isFunction(_1420.resize)){
_1420.resize(_1424);
}else{
_1414.setMarginBox(_1421,_1424);
}
}
_1412.set(this._popupStateNode,"popupActive","true");
_1413.add(this._popupStateNode,"dijitHasDropDownOpen");
this._set("_opened",true);
this._popupStateNode.setAttribute("aria-expanded","true");
this._popupStateNode.setAttribute("aria-owns",_1420.id);
if(_1421.getAttribute("role")!=="presentation"&&!_1421.getAttribute("aria-labelledby")){
_1421.setAttribute("aria-labelledby",this.id);
}
return _1423;
},closeDropDown:function(focus){
if(this._focusDropDownTimer){
this._focusDropDownTimer.remove();
delete this._focusDropDownTimer;
}
if(this._opened){
this._popupStateNode.setAttribute("aria-expanded","false");
if(focus){
this.focus();
}
popup.close(this.dropDown);
this._opened=false;
}
}});
});
},"dojo/cldr/nls/pt/gregorian":function(){
define({"days-standAlone-short":["dom","seg","ter","qua","qui","sex","sáb"],"months-format-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"quarters-standAlone-narrow":["1","2","3","4"],"field-weekday":"Dia da semana","dateFormatItem-yQQQ":"y QQQ","dateFormatItem-yMEd":"E, dd/MM/y","dateFormatItem-GyMMMEd":"E, d 'de' MMM 'de' y G","dateFormatItem-MMMEd":"E, d 'de' MMM","eraNarrow":["a.C.","d.C."],"dateFormatItem-yMM":"MM/y","dayPeriods-format-wide-morning":"manhã","days-format-short":["dom","seg","ter","qua","qui","sex","sáb"],"dateFormat-long":"d 'de' MMMM 'de' y","months-format-wide":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],"dateTimeFormat-medium":"{1} {0}","dayPeriods-format-wide-pm":"PM","dateFormat-full":"EEEE, d 'de' MMMM 'de' y","dateFormatItem-Md":"d/M","dayPeriods-format-abbr-am":"AM","dayPeriods-format-wide-noon":"meio-dia","dateFormatItem-yMd":"dd/MM/y","field-era":"Era","dateFormatItem-yM":"MM/y","months-standAlone-wide":["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],"timeFormat-short":"HH:mm","quarters-format-wide":["1º trimestre","2º trimestre","3º trimestre","4º trimestre"],"dateFormatItem-yQQQQ":"y QQQQ","timeFormat-long":"HH:mm:ss z","field-year":"Ano","dateFormatItem-yMMM":"MMM 'de' y","field-hour":"Hora","dateFormatItem-MMdd":"dd/MM","months-format-abbr":["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],"timeFormat-full":"HH:mm:ss zzzz","field-day-relative+0":"Hoje","field-day-relative+1":"Amanhã","dateFormatItem-GyMMMd":"d 'de' MMM 'de' y G","field-day-relative+2":"Depois de amanhã","dateFormatItem-H":"HH","months-standAlone-abbr":["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],"quarters-format-abbr":["T1","T2","T3","T4"],"quarters-standAlone-wide":["1º trimestre","2º trimestre","3º trimestre","4º trimestre"],"dateFormatItem-Gy":"y G","dateFormatItem-HHmmss":"HH:mm:ss","dateFormatItem-M":"L","days-standAlone-wide":["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],"timeFormat-medium":"HH:mm:ss","dateFormatItem-Hm":"HH:mm","quarters-standAlone-abbr":["T1","T2","T3","T4"],"eraAbbr":["a.C.","d.C."],"field-minute":"Minuto","field-dayperiod":"Período do dia","days-standAlone-abbr":["dom","seg","ter","qua","qui","sex","sáb"],"dayPeriods-format-wide-night":"noite","dateFormatItem-d":"d","dateFormatItem-ms":"mm:ss","quarters-format-narrow":["1","2","3","4"],"field-day-relative+-1":"Ontem","dateFormatItem-h":"h a","dateTimeFormat-long":"{1} {0}","dayPeriods-format-narrow-am":"a","field-day-relative+-2":"Anteontem","dateFormatItem-MMMd":"d 'de' MMM","dateFormatItem-MEd":"E, dd/MM","dateTimeFormat-full":"{1} {0}","field-day":"Dia","days-format-wide":["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],"field-zone":"Fuso","dateFormatItem-y":"y","months-standAlone-narrow":["J","F","M","A","M","J","J","A","S","O","N","D"],"field-year-relative+-1":"Ano passado","field-month-relative+-1":"Mês passado","dateFormatItem-hm":"h:mm a","dayPeriods-format-abbr-pm":"PM","days-format-abbr":["dom","seg","ter","qua","qui","sex","sáb"],"eraNames":["Antes de Cristo","Ano do Senhor"],"dateFormatItem-yMMMd":"d 'de' MMM 'de' y","days-format-narrow":["D","S","T","Q","Q","S","S"],"days-standAlone-narrow":["D","S","T","Q","Q","S","S"],"dateFormatItem-MMM":"LLL","field-month":"Mês","dateFormatItem-HHmm":"HH:mm","dayPeriods-format-wide-am":"AM","dateFormat-short":"dd/MM/yy","dayPeriods-format-wide-afternoon":"tarde","field-second":"Segundo","dateFormatItem-yMMMEd":"E, d 'de' MMM 'de' y","field-month-relative+0":"Este mês","field-month-relative+1":"Próximo mês","dateFormatItem-Ed":"E, d","field-week":"Semana","dateFormat-medium":"dd/MM/y","field-year-relative+0":"Este ano","field-week-relative+-1":"Semana passada","field-year-relative+1":"Próximo ano","dayPeriods-format-narrow-pm":"p","dateTimeFormat-short":"{1} {0}","dateFormatItem-Hms":"HH:mm:ss","dateFormatItem-hms":"h:mm:ss a","dateFormatItem-GyMMM":"MMM 'de' y G","field-week-relative+0":"Esta semana","field-week-relative+1":"Próxima semana"});
},"dojo/nls/colors":function(){
define({root:({aliceblue:"alice blue",antiquewhite:"antique white",aqua:"aqua",aquamarine:"aquamarine",azure:"azure",beige:"beige",bisque:"bisque",black:"black",blanchedalmond:"blanched almond",blue:"blue",blueviolet:"blue-violet",brown:"brown",burlywood:"burlywood",cadetblue:"cadet blue",chartreuse:"chartreuse",chocolate:"chocolate",coral:"coral",cornflowerblue:"cornflower blue",cornsilk:"cornsilk",crimson:"crimson",cyan:"cyan",darkblue:"dark blue",darkcyan:"dark cyan",darkgoldenrod:"dark goldenrod",darkgray:"dark gray",darkgreen:"dark green",darkgrey:"dark gray",darkkhaki:"dark khaki",darkmagenta:"dark magenta",darkolivegreen:"dark olive green",darkorange:"dark orange",darkorchid:"dark orchid",darkred:"dark red",darksalmon:"dark salmon",darkseagreen:"dark sea green",darkslateblue:"dark slate blue",darkslategray:"dark slate gray",darkslategrey:"dark slate gray",darkturquoise:"dark turquoise",darkviolet:"dark violet",deeppink:"deep pink",deepskyblue:"deep sky blue",dimgray:"dim gray",dimgrey:"dim gray",dodgerblue:"dodger blue",firebrick:"fire brick",floralwhite:"floral white",forestgreen:"forest green",fuchsia:"fuchsia",gainsboro:"gainsboro",ghostwhite:"ghost white",gold:"gold",goldenrod:"goldenrod",gray:"gray",green:"green",greenyellow:"green-yellow",grey:"gray",honeydew:"honeydew",hotpink:"hot pink",indianred:"indian red",indigo:"indigo",ivory:"ivory",khaki:"khaki",lavender:"lavender",lavenderblush:"lavender blush",lawngreen:"lawn green",lemonchiffon:"lemon chiffon",lightblue:"light blue",lightcoral:"light coral",lightcyan:"light cyan",lightgoldenrodyellow:"light goldenrod yellow",lightgray:"light gray",lightgreen:"light green",lightgrey:"light gray",lightpink:"light pink",lightsalmon:"light salmon",lightseagreen:"light sea green",lightskyblue:"light sky blue",lightslategray:"light slate gray",lightslategrey:"light slate gray",lightsteelblue:"light steel blue",lightyellow:"light yellow",lime:"lime",limegreen:"lime green",linen:"linen",magenta:"magenta",maroon:"maroon",mediumaquamarine:"medium aquamarine",mediumblue:"medium blue",mediumorchid:"medium orchid",mediumpurple:"medium purple",mediumseagreen:"medium sea green",mediumslateblue:"medium slate blue",mediumspringgreen:"medium spring green",mediumturquoise:"medium turquoise",mediumvioletred:"medium violet-red",midnightblue:"midnight blue",mintcream:"mint cream",mistyrose:"misty rose",moccasin:"moccasin",navajowhite:"navajo white",navy:"navy",oldlace:"old lace",olive:"olive",olivedrab:"olive drab",orange:"orange",orangered:"orange red",orchid:"orchid",palegoldenrod:"pale goldenrod",palegreen:"pale green",paleturquoise:"pale turquoise",palevioletred:"pale violet-red",papayawhip:"papaya whip",peachpuff:"peach puff",peru:"peru",pink:"pink",plum:"plum",powderblue:"powder blue",purple:"purple",red:"red",rosybrown:"rosy brown",royalblue:"royal blue",saddlebrown:"saddle brown",salmon:"salmon",sandybrown:"sandy brown",seagreen:"sea green",seashell:"seashell",sienna:"sienna",silver:"silver",skyblue:"sky blue",slateblue:"slate blue",slategray:"slate gray",slategrey:"slate gray",snow:"snow",springgreen:"spring green",steelblue:"steel blue",tan:"tan",teal:"teal",thistle:"thistle",tomato:"tomato",transparent:"transparent",turquoise:"turquoise",violet:"violet",wheat:"wheat",white:"white",whitesmoke:"white smoke",yellow:"yellow",yellowgreen:"yellow green"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});
},"dojo/nls/pt/colors":function(){
define(({aliceblue:"azul alice",antiquewhite:"branco antigo",aqua:"aqua",aquamarine:"água marinha",azure:"azul celeste",beige:"bege",bisque:"bisque",black:"preto",blanchedalmond:"amêndoa pelada",blue:"azul",blueviolet:"azul violeta",brown:"marrom",burlywood:"burlywood",cadetblue:"azul cadet",chartreuse:"chartreuse",chocolate:"chocolate",coral:"coral",cornflowerblue:"azul centaurea",cornsilk:"cornsilk",crimson:"carmesim",cyan:"ciano",darkblue:"azul escuro",darkcyan:"ciano escuro",darkgoldenrod:"goldenrod escuro",darkgray:"cinza escuro",darkgreen:"verde escuro",darkgrey:"cinza escuro",darkkhaki:"cáqui escuro",darkmagenta:"magenta escuro",darkolivegreen:"verde oliva escuro",darkorange:"laranja escuro",darkorchid:"orquídea escuro",darkred:"vermelho escuro",darksalmon:"salmão escuro",darkseagreen:"verde marinho escuro",darkslateblue:"azul ardósia escuro",darkslategray:"cinza ardósia escuro",darkslategrey:"cinza ardósia escuro",darkturquoise:"turquesa escuro",darkviolet:"violeta escuro",deeppink:"rosa profundo",deepskyblue:"azul céu intenso",dimgray:"cinza turvo",dimgrey:"cinza turvo",dodgerblue:"azul dodger",firebrick:"firebrick",floralwhite:"branco floral",forestgreen:"verde floresta",fuchsia:"fúcsia",gainsboro:"gainsboro",ghostwhite:"branco ghost",gold:"dourado",goldenrod:"goldenrod",gray:"cinza",green:"verde",greenyellow:"amarelo esverdeado",grey:"cinza",honeydew:"honeydew",hotpink:"rosa quente",indianred:"vermelho indiano",indigo:"índigo",ivory:"marfim",khaki:"cáqui",lavender:"lavanda",lavenderblush:"lavanda avermelhada",lawngreen:"verde grama",lemonchiffon:"limão chiffon",lightblue:"azul claro",lightcoral:"coral claro",lightcyan:"ciano claro",lightgoldenrodyellow:"amarelo goldenrod claro",lightgray:"cinza claro",lightgreen:"verde claro",lightgrey:"cinza claro",lightpink:"rosa claro",lightsalmon:"salmão claro",lightseagreen:"verde marinho claro",lightskyblue:"azul céu claro",lightslategray:"cinza ardósia claro",lightslategrey:"cinza ardósia claro",lightsteelblue:"azul aço claro",lightyellow:"amarelo claro",lime:"lima",limegreen:"verde lima",linen:"linho",magenta:"magenta",maroon:"castanho",mediumaquamarine:"água marinha médio",mediumblue:"azul médio",mediumorchid:"orquídea médio",mediumpurple:"roxo médio",mediumseagreen:"verde marinho médio",mediumslateblue:"azul ardósia médio",mediumspringgreen:"verde primavera médio",mediumturquoise:"turquesa médio",mediumvioletred:"vermelho violeta médio",midnightblue:"azul meia-noite",mintcream:"creme de menta",mistyrose:"rosa enevoado",moccasin:"moccasin",navajowhite:"branco navajo",navy:"marinho",oldlace:"cadarço velho",olive:"oliva",olivedrab:"verde oliva",orange:"laranja",orangered:"vermelho alaranjado",orchid:"orquídea",palegoldenrod:"goldenrod esbranquiçado",palegreen:"verde esbranquiçado",paleturquoise:"turquesa esbranquiçado",palevioletred:"vermelho violeta esbranquiçado",papayawhip:"creme de papaya",peachpuff:"peach puff",peru:"peru",pink:"rosa",plum:"ameixa",powderblue:"azul talco",purple:"roxo",red:"vermelho",rosybrown:"marrom rosado",royalblue:"azul royal",saddlebrown:"marrom saddle",salmon:"salmão",sandybrown:"marrom cor de areia",seagreen:"verde marinho",seashell:"seashell",sienna:"sienna",silver:"prateado",skyblue:"azul céu",slateblue:"azul ardósia",slategray:"cinza ardósia",slategrey:"cinza ardósia",snow:"branco neve",springgreen:"verde primavera",steelblue:"azul aço",tan:"tan",teal:"azul esverdeado",thistle:"thistle",tomato:"tomate",transparent:"transparente",turquoise:"turquesa",violet:"violeta",wheat:"trigo",white:"branco",whitesmoke:"fumaça branca",yellow:"amarelo",yellowgreen:"verde amarelado"}));
},"dojo/nls/pt/colors":function(){
define(({aliceblue:"azul alice",antiquewhite:"branco antigo",aqua:"aqua",aquamarine:"água marinha",azure:"azul celeste",beige:"bege",bisque:"bisque",black:"preto",blanchedalmond:"amêndoa pelada",blue:"azul",blueviolet:"azul violeta",brown:"marrom",burlywood:"burlywood",cadetblue:"azul cadet",chartreuse:"chartreuse",chocolate:"chocolate",coral:"coral",cornflowerblue:"azul centaurea",cornsilk:"cornsilk",crimson:"carmesim",cyan:"ciano",darkblue:"azul escuro",darkcyan:"ciano escuro",darkgoldenrod:"goldenrod escuro",darkgray:"cinza escuro",darkgreen:"verde escuro",darkgrey:"cinza escuro",darkkhaki:"cáqui escuro",darkmagenta:"magenta escuro",darkolivegreen:"verde oliva escuro",darkorange:"laranja escuro",darkorchid:"orquídea escuro",darkred:"vermelho escuro",darksalmon:"salmão escuro",darkseagreen:"verde marinho escuro",darkslateblue:"azul ardósia escuro",darkslategray:"cinza ardósia escuro",darkslategrey:"cinza ardósia escuro",darkturquoise:"turquesa escuro",darkviolet:"violeta escuro",deeppink:"rosa profundo",deepskyblue:"azul céu intenso",dimgray:"cinza turvo",dimgrey:"cinza turvo",dodgerblue:"azul dodger",firebrick:"firebrick",floralwhite:"branco floral",forestgreen:"verde floresta",fuchsia:"fúcsia",gainsboro:"gainsboro",ghostwhite:"branco ghost",gold:"dourado",goldenrod:"goldenrod",gray:"cinza",green:"verde",greenyellow:"amarelo esverdeado",grey:"cinza",honeydew:"honeydew",hotpink:"rosa quente",indianred:"vermelho indiano",indigo:"índigo",ivory:"marfim",khaki:"cáqui",lavender:"lavanda",lavenderblush:"lavanda avermelhada",lawngreen:"verde grama",lemonchiffon:"limão chiffon",lightblue:"azul claro",lightcoral:"coral claro",lightcyan:"ciano claro",lightgoldenrodyellow:"amarelo goldenrod claro",lightgray:"cinza claro",lightgreen:"verde claro",lightgrey:"cinza claro",lightpink:"rosa claro",lightsalmon:"salmão claro",lightseagreen:"verde marinho claro",lightskyblue:"azul céu claro",lightslategray:"cinza ardósia claro",lightslategrey:"cinza ardósia claro",lightsteelblue:"azul aço claro",lightyellow:"amarelo claro",lime:"lima",limegreen:"verde lima",linen:"linho",magenta:"magenta",maroon:"castanho",mediumaquamarine:"água marinha médio",mediumblue:"azul médio",mediumorchid:"orquídea médio",mediumpurple:"roxo médio",mediumseagreen:"verde marinho médio",mediumslateblue:"azul ardósia médio",mediumspringgreen:"verde primavera médio",mediumturquoise:"turquesa médio",mediumvioletred:"vermelho violeta médio",midnightblue:"azul meia-noite",mintcream:"creme de menta",mistyrose:"rosa enevoado",moccasin:"moccasin",navajowhite:"branco navajo",navy:"marinho",oldlace:"cadarço velho",olive:"oliva",olivedrab:"verde oliva",orange:"laranja",orangered:"vermelho alaranjado",orchid:"orquídea",palegoldenrod:"goldenrod esbranquiçado",palegreen:"verde esbranquiçado",paleturquoise:"turquesa esbranquiçado",palevioletred:"vermelho violeta esbranquiçado",papayawhip:"creme de papaya",peachpuff:"peach puff",peru:"peru",pink:"rosa",plum:"ameixa",powderblue:"azul talco",purple:"roxo",red:"vermelho",rosybrown:"marrom rosado",royalblue:"azul royal",saddlebrown:"marrom saddle",salmon:"salmão",sandybrown:"marrom cor de areia",seagreen:"verde marinho",seashell:"seashell",sienna:"sienna",silver:"prateado",skyblue:"azul céu",slateblue:"azul ardósia",slategray:"cinza ardósia",slategrey:"cinza ardósia",snow:"branco neve",springgreen:"verde primavera",steelblue:"azul aço",tan:"tan",teal:"azul esverdeado",thistle:"thistle",tomato:"tomate",transparent:"transparente",turquoise:"turquesa",violet:"violeta",wheat:"trigo",white:"branco",whitesmoke:"fumaça branca",yellow:"amarelo",yellowgreen:"verde amarelado"}));
},"dijit/form/_CheckBoxMixin":function(){
define(["dojo/_base/declare","dojo/dom-attr"],function(_1425,_1426){
return _1425("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:false,_aria_attr:"aria-checked",_setReadOnlyAttr:function(value){
this._set("readOnly",value);
_1426.set(this.focusNode,"readOnly",value);
},_setLabelAttr:undefined,_getSubmitValue:function(value){
return (value==null||value==="")?"on":value;
},_setValueAttr:function(_1427){
_1427=this._getSubmitValue(_1427);
this._set("value",_1427);
_1426.set(this.focusNode,"value",_1427);
},reset:function(){
this.inherited(arguments);
this._set("value",this._getSubmitValue(this.params.value));
_1426.set(this.focusNode,"value",this.value);
},_onClick:function(e){
if(this.readOnly){
e.stopPropagation();
e.preventDefault();
return false;
}
return this.inherited(arguments);
}});
});
},"dojo/html":function(){
define(["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_1428,lang,_1429,_142a,dom,_142b,_142c){
var _142d=0;
var html={_secureForInnerHtml:function(cont){
return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");
},_emptyNode:_142b.empty,_setNodeContent:function(node,cont){
_142b.empty(node);
if(cont){
if(typeof cont=="string"){
cont=_142b.toDom(cont,node.ownerDocument);
}
if(!cont.nodeType&&lang.isArrayLike(cont)){
for(var _142e=cont.length,i=0;i<cont.length;i=_142e==cont.length?i+1:0){
_142b.place(cont[i],node,"last");
}
}else{
_142b.place(cont,node,"last");
}
}
return node;
},_ContentSetter:_142a("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_1428._scopeName,startup:true,constructor:function(_142f,node){
lang.mixin(this,_142f||{});
node=this.node=dom.byId(this.node||node);
if(!this.id){
this.id=["Setter",(node)?node.id||node.tagName:"",_142d++].join("_");
}
},set:function(cont,_1430){
if(undefined!==cont){
this.content=cont;
}
if(_1430){
this._mixin(_1430);
}
this.onBegin();
this.setContent();
var ret=this.onEnd();
if(ret&&ret.then){
return ret;
}else{
return this.node;
}
},setContent:function(){
var node=this.node;
if(!node){
throw new Error(this.declaredClass+": setContent given no node");
}
try{
node=html._setNodeContent(node,this.content);
}
catch(e){
var _1431=this.onContentError(e);
try{
node.innerHTML=_1431;
}
catch(e){
console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);
}
}
this.node=node;
},empty:function(){
if(this.parseDeferred){
if(!this.parseDeferred.isResolved()){
this.parseDeferred.cancel();
}
delete this.parseDeferred;
}
if(this.parseResults&&this.parseResults.length){
_1429.forEach(this.parseResults,function(w){
if(w.destroy){
w.destroy();
}
});
delete this.parseResults;
}
_142b.empty(this.node);
},onBegin:function(){
var cont=this.content;
if(lang.isString(cont)){
if(this.cleanContent){
cont=html._secureForInnerHtml(cont);
}
if(this.extractContent){
var match=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);
if(match){
cont=match[1];
}
}
}
this.empty();
this.content=cont;
return this.node;
},onEnd:function(){
if(this.parseContent){
this._parse();
}
return this.node;
},tearDown:function(){
delete this.parseResults;
delete this.parseDeferred;
delete this.node;
delete this.content;
},onContentError:function(err){
return "Error occurred setting content: "+err;
},onExecError:function(err){
return "Error occurred executing scripts: "+err;
},_mixin:function(_1432){
var empty={},key;
for(key in _1432){
if(key in empty){
continue;
}
this[key]=_1432[key];
}
},_parse:function(){
var _1433=this.node;
try{
var _1434={};
_1429.forEach(["dir","lang","textDir"],function(name){
if(this[name]){
_1434[name]=this[name];
}
},this);
var self=this;
this.parseDeferred=_142c.parse({rootNode:_1433,noStart:!this.startup,inherited:_1434,scope:this.parserScope}).then(function(_1435){
return self.parseResults=_1435;
},function(e){
self._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);
});
}
catch(e){
this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);
}
},_onError:function(type,err,_1436){
var _1437=this["on"+type+"Error"].call(this,err);
if(_1436){
console.error(_1436,err);
}else{
if(_1437){
html._setNodeContent(this.node,_1437,true);
}
}
}}),set:function(node,cont,_1438){
if(undefined==cont){
console.warn("dojo.html.set: no cont argument provided, using empty string");
cont="";
}
if(!_1438){
return html._setNodeContent(node,cont,true);
}else{
var op=new html._ContentSetter(lang.mixin(_1438,{content:cont,node:node}));
return op.set();
}
}};
lang.setObject("dojo.html",html);
return html;
});
},"dojo/Stateful":function(){
define(["./_base/declare","./_base/lang","./_base/array","./when"],function(_1439,lang,array,when){
return _1439("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(name){
var apn=this._attrPairNames;
if(apn[name]){
return apn[name];
}
return (apn[name]={s:"_"+name+"Setter",g:"_"+name+"Getter"});
},postscript:function(_143a){
if(_143a){
this.set(_143a);
}
},_get:function(name,names){
return typeof this[names.g]==="function"?this[names.g]():this[name];
},get:function(name){
return this._get(name,this._getAttrNames(name));
},set:function(name,value){
if(typeof name==="object"){
for(var x in name){
if(name.hasOwnProperty(x)&&x!="_watchCallbacks"){
this.set(x,name[x]);
}
}
return this;
}
var names=this._getAttrNames(name),_143b=this._get(name,names),_143c=this[names.s],_143d;
if(typeof _143c==="function"){
_143d=_143c.apply(this,Array.prototype.slice.call(arguments,1));
}else{
this[name]=value;
}
if(this._watchCallbacks){
var self=this;
when(_143d,function(){
self._watchCallbacks(name,_143b,value);
});
}
return this;
},_changeAttrValue:function(name,value){
var _143e=this.get(name);
this[name]=value;
if(this._watchCallbacks){
this._watchCallbacks(name,_143e,value);
}
return this;
},watch:function(name,_143f){
var _1440=this._watchCallbacks;
if(!_1440){
var self=this;
_1440=this._watchCallbacks=function(name,_1441,value,_1442){
var _1443=function(_1444){
if(_1444){
_1444=_1444.slice();
for(var i=0,l=_1444.length;i<l;i++){
_1444[i].call(self,name,_1441,value);
}
}
};
_1443(_1440["_"+name]);
if(!_1442){
_1443(_1440["*"]);
}
};
}
if(!_143f&&typeof name==="function"){
_143f=name;
name="*";
}else{
name="_"+name;
}
var _1445=_1440[name];
if(typeof _1445!=="object"){
_1445=_1440[name]=[];
}
_1445.push(_143f);
var _1446={};
_1446.unwatch=_1446.remove=function(){
var index=array.indexOf(_1445,_143f);
if(index>-1){
_1445.splice(index,1);
}
};
return _1446;
}});
});
},"dijit/layout/LayoutContainer":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-style","dojo/_base/lang","../_WidgetBase","./_LayoutWidget","./utils"],function(array,_1447,_1448,_1449,lang,_144a,_144b,_144c){
var _144d=_1447("dijit.layout.LayoutContainer",_144b,{design:"headline",baseClass:"dijitLayoutContainer",startup:function(){
if(this._started){
return;
}
array.forEach(this.getChildren(),this._setupChild,this);
this.inherited(arguments);
},_setupChild:function(child){
this.inherited(arguments);
var _144e=child.region;
if(_144e){
_1448.add(child.domNode,this.baseClass+"Pane");
}
},_getOrderedChildren:function(){
var _144f=array.map(this.getChildren(),function(child,idx){
return {pane:child,weight:[child.region=="center"?Infinity:0,child.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(child.region)?1:-1),idx]};
},this);
_144f.sort(function(a,b){
var aw=a.weight,bw=b.weight;
for(var i=0;i<aw.length;i++){
if(aw[i]!=bw[i]){
return aw[i]-bw[i];
}
}
return 0;
});
return array.map(_144f,function(w){
return w.pane;
});
},layout:function(){
_144c.layoutChildren(this.domNode,this._contentBox,this._getOrderedChildren());
},addChild:function(child,_1450){
this.inherited(arguments);
if(this._started){
this.layout();
}
},removeChild:function(child){
this.inherited(arguments);
if(this._started){
this.layout();
}
_1448.remove(child.domNode,this.baseClass+"Pane");
_1449.set(child.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});
_1449.set(child.domNode,/top|bottom/.test(child.region)?"width":"height","auto");
}});
_144d.ChildWidgetProperties={region:"",layoutAlign:"",layoutPriority:0};
lang.extend(_144a,_144d.ChildWidgetProperties);
return _144d;
});
},"dojo/dnd/autoscroll":function(){
define(["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(lang,has,win,_1451,_1452,_1453){
var _1454={};
lang.setObject("dojo.dnd.autoscroll",_1454);
_1454.getViewport=_1453.getBox;
_1454.V_TRIGGER_AUTOSCROLL=32;
_1454.H_TRIGGER_AUTOSCROLL=32;
_1454.V_AUTOSCROLL_VALUE=16;
_1454.H_AUTOSCROLL_VALUE=16;
var _1455,doc=win.doc,_1456=Infinity,_1457=Infinity;
_1454.autoScrollStart=function(d){
doc=d;
_1455=_1453.getBox(doc);
var html=win.body(doc).parentNode;
_1456=Math.max(html.scrollHeight-_1455.h,0);
_1457=Math.max(html.scrollWidth-_1455.w,0);
};
_1454.autoScroll=function(e){
var v=_1455||_1453.getBox(doc),html=win.body(doc).parentNode,dx=0,dy=0;
if(e.clientX<_1454.H_TRIGGER_AUTOSCROLL){
dx=-_1454.H_AUTOSCROLL_VALUE;
}else{
if(e.clientX>v.w-_1454.H_TRIGGER_AUTOSCROLL){
dx=Math.min(_1454.H_AUTOSCROLL_VALUE,_1457-html.scrollLeft);
}
}
if(e.clientY<_1454.V_TRIGGER_AUTOSCROLL){
dy=-_1454.V_AUTOSCROLL_VALUE;
}else{
if(e.clientY>v.h-_1454.V_TRIGGER_AUTOSCROLL){
dy=Math.min(_1454.V_AUTOSCROLL_VALUE,_1456-html.scrollTop);
}
}
window.scrollBy(dx,dy);
};
_1454._validNodes={"div":1,"p":1,"td":1};
_1454._validOverflow={"auto":1,"scroll":1};
_1454.autoScrollNodes=function(e){
var b,t,w,h,rx,ry,dx=0,dy=0,_1458,_1459;
for(var n=e.target;n;){
if(n.nodeType==1&&(n.tagName.toLowerCase() in _1454._validNodes)){
var s=_1452.getComputedStyle(n),_145a=(s.overflow.toLowerCase() in _1454._validOverflow),_145b=(s.overflowX.toLowerCase() in _1454._validOverflow),_145c=(s.overflowY.toLowerCase() in _1454._validOverflow);
if(_145a||_145b||_145c){
b=_1451.getContentBox(n,s);
t=_1451.position(n,true);
}
if(_145a||_145b){
w=Math.min(_1454.H_TRIGGER_AUTOSCROLL,b.w/2);
rx=e.pageX-t.x;
if(has("webkit")||has("opera")){
rx+=win.body().scrollLeft;
}
dx=0;
if(rx>0&&rx<b.w){
if(rx<w){
dx=-w;
}else{
if(rx>b.w-w){
dx=w;
}
}
_1458=n.scrollLeft;
n.scrollLeft=n.scrollLeft+dx;
}
}
if(_145a||_145c){
h=Math.min(_1454.V_TRIGGER_AUTOSCROLL,b.h/2);
ry=e.pageY-t.y;
if(has("webkit")||has("opera")){
ry+=win.body().scrollTop;
}
dy=0;
if(ry>0&&ry<b.h){
if(ry<h){
dy=-h;
}else{
if(ry>b.h-h){
dy=h;
}
}
_1459=n.scrollTop;
n.scrollTop=n.scrollTop+dy;
}
}
if(dx||dy){
return;
}
}
try{
n=n.parentNode;
}
catch(x){
n=null;
}
}
_1454.autoScroll(e);
};
return _1454;
});
},"dojox/grid/cells":function(){
define(["../main","./cells/_base"],function(dojox){
return dojox.grid.cells;
});
},"dijit/layout/utils":function(){
define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(array,_145d,_145e,_145f,lang){
function _1460(word){
return word.substring(0,1).toUpperCase()+word.substring(1);
};
function size(_1461,dim){
var _1462=_1461.resize?_1461.resize(dim):_145e.setMarginBox(_1461.domNode,dim);
if(_1462){
lang.mixin(_1461,_1462);
}else{
lang.mixin(_1461,_145e.getMarginBox(_1461.domNode));
lang.mixin(_1461,dim);
}
};
var utils={marginBox2contentBox:function(node,mb){
var cs=_145f.getComputedStyle(node);
var me=_145e.getMarginExtents(node,cs);
var pb=_145e.getPadBorderExtents(node,cs);
return {l:_145f.toPixelValue(node,cs.paddingLeft),t:_145f.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};
},layoutChildren:function(_1463,dim,_1464,_1465,_1466){
dim=lang.mixin({},dim);
_145d.add(_1463,"dijitLayoutContainer");
_1464=array.filter(_1464,function(item){
return item.region!="center"&&item.layoutAlign!="client";
}).concat(array.filter(_1464,function(item){
return item.region=="center"||item.layoutAlign=="client";
}));
array.forEach(_1464,function(child){
var elm=child.domNode,pos=(child.region||child.layoutAlign);
if(!pos){
throw new Error("No region setting for "+child.id);
}
var _1467=elm.style;
_1467.left=dim.l+"px";
_1467.top=dim.t+"px";
_1467.position="absolute";
_145d.add(elm,"dijitAlign"+_1460(pos));
var _1468={};
if(_1465&&_1465==child.id){
_1468[child.region=="top"||child.region=="bottom"?"h":"w"]=_1466;
}
if(pos=="leading"){
pos=child.isLeftToRight()?"left":"right";
}
if(pos=="trailing"){
pos=child.isLeftToRight()?"right":"left";
}
if(pos=="top"||pos=="bottom"){
_1468.w=dim.w;
size(child,_1468);
dim.h-=child.h;
if(pos=="top"){
dim.t+=child.h;
}else{
_1467.top=dim.t+dim.h+"px";
}
}else{
if(pos=="left"||pos=="right"){
_1468.h=dim.h;
size(child,_1468);
dim.w-=child.w;
if(pos=="left"){
dim.l+=child.w;
}else{
_1467.left=dim.l+dim.w+"px";
}
}else{
if(pos=="client"||pos=="center"){
size(child,dim);
}
}
}
});
}};
lang.setObject("dijit.layout.utils",utils);
return utils;
});
},"dojo/cldr/nls/currency":function(){
define({root:{"USD_symbol":"US$","CAD_symbol":"CA$","GBP_symbol":"£","HKD_symbol":"HK$","JPY_symbol":"JP¥","AUD_symbol":"A$","CNY_symbol":"CN¥","EUR_symbol":"€"},"ar":true,"ca":true,"cs":true,"da":true,"de":true,"el":true,"en":true,"en-au":true,"en-ca":true,"en-gb":true,"es":true,"fi":true,"fr":true,"fr-ch":true,"he":true,"hu":true,"it":true,"ja":true,"ko":true,"nb":true,"nl":true,"pl":true,"pt":true,"pt-pt":true,"ro":true,"ru":true,"sk":true,"sl":true,"sv":true,"th":true,"tr":true,"zh":true,"zh-hant":true,"zh-hk":true,"zh-tw":true});
},"dojo/cldr/nls/en/currency":function(){
define({"HKD_displayName":"Hong Kong Dollar","CHF_displayName":"Swiss Franc","JPY_symbol":"¥","CAD_displayName":"Canadian Dollar","CNY_displayName":"Chinese Yuan","USD_symbol":"$","AUD_displayName":"Australian Dollar","JPY_displayName":"Japanese Yen","USD_displayName":"US Dollar","GBP_displayName":"British Pound Sterling","EUR_displayName":"Euro"});
},"dojo/cldr/nls/pt/currency":function(){
define({"HKD_displayName":"Dólar de Hong Kong","CHF_displayName":"Franco suíço","JPY_symbol":"JP¥","CAD_displayName":"Dólar canadense","HKD_symbol":"HK$","CNY_displayName":"Yuan chinês","USD_symbol":"US$","AUD_displayName":"Dólar australiano","JPY_displayName":"Iene japonês","CAD_symbol":"CA$","USD_displayName":"Dólar norte-americano","EUR_symbol":"€","CNY_symbol":"CN¥","GBP_displayName":"Libra esterlina britânica","GBP_symbol":"£","AUD_symbol":"AU$","EUR_displayName":"Euro"});
},"dojo/cldr/nls/pt/currency":function(){
define({"HKD_displayName":"Dólar de Hong Kong","CHF_displayName":"Franco suíço","JPY_symbol":"JP¥","CAD_displayName":"Dólar canadense","HKD_symbol":"HK$","CNY_displayName":"Yuan chinês","USD_symbol":"US$","AUD_displayName":"Dólar australiano","JPY_displayName":"Iene japonês","CAD_symbol":"CA$","USD_displayName":"Dólar norte-americano","EUR_symbol":"€","CNY_symbol":"CN¥","GBP_displayName":"Libra esterlina britânica","GBP_symbol":"£","AUD_symbol":"AU$","EUR_displayName":"Euro"});
},"dijit/_PaletteMixin":function(){
define(["dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/keys","dojo/_base/lang","dojo/on","./_CssStateMixin","./a11yclick","./focus","./typematic"],function(_1469,_146a,_146b,_146c,keys,lang,on,_146d,_146e,focus,_146f){
var _1470=_1469("dijit._PaletteMixin",_146d,{defaultTimeout:500,timeoutChangeRate:0.9,value:"",_selectedCell:-1,tabIndex:"0",cellClass:"dijitPaletteCell",dyeClass:null,_dyeFactory:function(value){
var _1471=typeof this.dyeClass=="string"?lang.getObject(this.dyeClass):this.dyeClass;
return new _1471(value);
},_preparePalette:function(_1472,_1473){
this._cells=[];
var url=this._blankGif;
this.own(on(this.gridNode,_146e,lang.hitch(this,"_onCellClick")));
for(var row=0;row<_1472.length;row++){
var _1474=_146c.create("tr",{tabIndex:"-1",role:"row"},this.gridNode);
for(var col=0;col<_1472[row].length;col++){
var value=_1472[row][col];
if(value){
var _1475=this._dyeFactory(value,row,col,_1473[value]);
var _1476=_146c.create("td",{"class":this.cellClass,tabIndex:"-1",title:_1473[value],role:"gridcell"},_1474);
_1475.fillCell(_1476,url);
_1476.idx=this._cells.length;
this._cells.push({node:_1476,dye:_1475});
}
}
}
this._xDim=_1472[0].length;
this._yDim=_1472.length;
var _1477={UP_ARROW:-this._xDim,DOWN_ARROW:this._xDim,RIGHT_ARROW:this.isLeftToRight()?1:-1,LEFT_ARROW:this.isLeftToRight()?-1:1};
for(var key in _1477){
this.own(_146f.addKeyListener(this.domNode,{keyCode:keys[key],ctrlKey:false,altKey:false,shiftKey:false},this,function(){
var _1478=_1477[key];
return function(count){
this._navigateByKey(_1478,count);
};
}(),this.timeoutChangeRate,this.defaultTimeout));
}
},postCreate:function(){
this.inherited(arguments);
this._setCurrent(this._cells[0].node);
},focus:function(){
focus.focus(this._currentFocus);
},_onCellClick:function(evt){
var _1479=evt.target;
while(_1479.tagName!="TD"){
if(!_1479.parentNode||_1479==this.gridNode){
return;
}
_1479=_1479.parentNode;
}
var value=this._getDye(_1479).getValue();
this._setCurrent(_1479);
focus.focus(_1479);
this._setValueAttr(value,true);
evt.stopPropagation();
evt.preventDefault();
},_setCurrent:function(node){
if("_currentFocus" in this){
_146a.set(this._currentFocus,"tabIndex","-1");
}
this._currentFocus=node;
if(node){
_146a.set(node,"tabIndex",this.tabIndex);
}
},_setValueAttr:function(value,_147a){
if(this._selectedCell>=0){
_146b.remove(this._cells[this._selectedCell].node,this.cellClass+"Selected");
}
this._selectedCell=-1;
if(value){
for(var i=0;i<this._cells.length;i++){
if(value==this._cells[i].dye.getValue()){
this._selectedCell=i;
_146b.add(this._cells[i].node,this.cellClass+"Selected");
break;
}
}
}
this._set("value",this._selectedCell>=0?value:null);
if(_147a||_147a===undefined){
this.onChange(value);
}
},onChange:function(){
},_navigateByKey:function(_147b,_147c){
if(_147c==-1){
return;
}
var _147d=this._currentFocus.idx+_147b;
if(_147d<this._cells.length&&_147d>-1){
var _147e=this._cells[_147d].node;
this._setCurrent(_147e);
this.defer(lang.hitch(focus,"focus",_147e));
}
},_getDye:function(cell){
return this._cells[cell.idx].dye;
}});
return _1470;
});
},"dijit/form/nls/ComboBox":function(){
define({root:({previousMessage:"Previous choices",nextMessage:"More choices"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});
},"dijit/form/nls/pt/ComboBox":function(){
define(({previousMessage:"Opções anteriores",nextMessage:"Mais opções"}));
},"dijit/form/nls/pt/ComboBox":function(){
define(({previousMessage:"Opções anteriores",nextMessage:"Mais opções"}));
},"dijit/_editor/plugins/TextColor":function(){
define(["require","dojo/colors","dojo/_base/declare","dojo/_base/lang","../_Plugin","../../form/DropDownButton"],function(_147f,_1480,_1481,lang,_1482,_1483){
var _1484=_1481("dijit._editor.plugins.TextColor",_1482,{buttonClass:_1483,useDefaultCommand:false,_initButton:function(){
this.inherited(arguments);
var self=this;
this.button.loadDropDown=function(_1485){
_147f(["../../ColorPalette"],lang.hitch(this,function(_1486){
this.dropDown=new _1486({dir:self.editor.dir,ownerDocument:self.editor.ownerDocument,value:self.value,onChange:function(color){
self.editor.execCommand(self.command,color);
}});
_1485();
}));
};
},updateState:function(){
var _1487=this.editor;
var _1488=this.command;
if(!_1487||!_1487.isLoaded||!_1488.length){
return;
}
if(this.button){
var _1489=this.get("disabled");
this.button.set("disabled",_1489);
if(_1489){
return;
}
var value;
try{
value=_1487.queryCommandValue(_1488)||"";
}
catch(e){
value="";
}
}
if(value==""){
value="#000000";
}
if(value=="transparent"){
value="#ffffff";
}
if(typeof value=="string"){
if(value.indexOf("rgb")>-1){
value=_1480.fromRgb(value).toHex();
}
}else{
value=((value&255)<<16)|(value&65280)|((value&16711680)>>>16);
value=value.toString(16);
value="#000000".slice(0,7-value.length)+value;
}
this.value=value;
var _148a=this.button.dropDown;
if(_148a&&value!==_148a.get("value")){
_148a.set("value",value,false);
}
}});
_1482.registry["foreColor"]=function(){
return new _1484({command:"foreColor"});
};
_1482.registry["hiliteColor"]=function(){
return new _1484({command:"hiliteColor"});
};
return _1484;
});
},"dojox/validate/br":function(){
define(["dojo/_base/lang","./_base"],function(lang,_148b){
var br=lang.getObject("br",true,_148b);
br.isValidCnpj=function(value){
if(!lang.isString(value)){
if(!value){
return false;
}
value=value+"";
while(value.length<14){
value="0"+value;
}
}
var flags={format:["##.###.###/####-##","########/####-##","############-##","##############"]};
if(_148b.isNumberFormat(value,flags)){
value=value.replace("/","").replace(/\./g,"").replace("-","");
var cgc=[];
var dv=[];
var i,j,tmp;
for(i=0;i<10;i++){
tmp="";
for(j=0;j<value.length;j++){
tmp+=""+i;
}
if(value===tmp){
return false;
}
}
for(i=0;i<12;i++){
cgc.push(parseInt(value.charAt(i),10));
}
for(i=12;i<14;i++){
dv.push(parseInt(value.charAt(i),10));
}
var base=[9,8,7,6,5,4,3,2,9,8,7,6].reverse();
var sum=0;
for(i=0;i<cgc.length;i++){
sum+=cgc[i]*base[i];
}
var dv0=sum%11;
if(dv0==dv[0]){
sum=0;
base=[9,8,7,6,5,4,3,2,9,8,7,6,5].reverse();
cgc.push(dv0);
for(i=0;i<cgc.length;i++){
sum+=cgc[i]*base[i];
}
var dv1=sum%11;
if(dv1===dv[1]){
return true;
}
}
}
return false;
};
br.computeCnpjDv=function(value){
if(!lang.isString(value)){
if(!value){
return "";
}
value=value+"";
while(value.length<12){
value="0"+value;
}
}
var flags={format:["##.###.###/####","########/####","############"]};
if(_148b.isNumberFormat(value,flags)){
value=value.replace("/","").replace(/\./g,"");
var cgc=[];
var i,j,tmp;
for(i=0;i<10;i++){
tmp="";
for(j=0;j<value.length;j++){
tmp+=""+i;
}
if(value===tmp){
return "";
}
}
for(i=0;i<value.length;i++){
cgc.push(parseInt(value.charAt(i),10));
}
var base=[9,8,7,6,5,4,3,2,9,8,7,6].reverse();
var sum=0;
for(i=0;i<cgc.length;i++){
sum+=cgc[i]*base[i];
}
var dv0=sum%11;
sum=0;
base=[9,8,7,6,5,4,3,2,9,8,7,6,5].reverse();
cgc.push(dv0);
for(i=0;i<cgc.length;i++){
sum+=cgc[i]*base[i];
}
var dv1=sum%11;
return (""+dv0)+dv1;
}
return "";
};
br.isValidCpf=function(value){
if(!lang.isString(value)){
if(!value){
return false;
}
value=value+"";
while(value.length<11){
value="0"+value;
}
}
var flags={format:["###.###.###-##","#########-##","###########"]};
if(_148b.isNumberFormat(value,flags)){
value=value.replace("-","").replace(/\./g,"");
var cpf=[];
var dv=[];
var i,j,tmp;
for(i=0;i<10;i++){
tmp="";
for(j=0;j<value.length;j++){
tmp+=""+i;
}
if(value===tmp){
return false;
}
}
for(i=0;i<9;i++){
cpf.push(parseInt(value.charAt(i),10));
}
for(i=9;i<12;i++){
dv.push(parseInt(value.charAt(i),10));
}
var base=[9,8,7,6,5,4,3,2,1].reverse();
var sum=0;
for(i=0;i<cpf.length;i++){
sum+=cpf[i]*base[i];
}
var dv0=sum%11;
if(dv0==dv[0]){
sum=0;
base=[9,8,7,6,5,4,3,2,1,0].reverse();
cpf.push(dv0);
for(i=0;i<cpf.length;i++){
sum+=cpf[i]*base[i];
}
var dv1=sum%11;
if(dv1===dv[1]){
return true;
}
}
}
return false;
};
br.computeCpfDv=function(value){
if(!lang.isString(value)){
if(!value){
return "";
}
value=value+"";
while(value.length<9){
value="0"+value;
}
}
var flags={format:["###.###.###","#########"]};
if(_148b.isNumberFormat(value,flags)){
value=value.replace(/\./g,"");
var cpf=[];
for(i=0;i<10;i++){
tmp="";
for(j=0;j<value.length;j++){
tmp+=""+i;
}
if(value===tmp){
return "";
}
}
for(i=0;i<value.length;i++){
cpf.push(parseInt(value.charAt(i),10));
}
var base=[9,8,7,6,5,4,3,2,1].reverse();
var sum=0;
for(i=0;i<cpf.length;i++){
sum+=cpf[i]*base[i];
}
var dv0=sum%11;
sum=0;
base=[9,8,7,6,5,4,3,2,1,0].reverse();
cpf.push(dv0);
for(i=0;i<cpf.length;i++){
sum+=cpf[i]*base[i];
}
var dv1=sum%11;
return (""+dv0)+dv1;
}
return "";
};
return br;
});
},"manager/FormPopup":function(){
define("manager/FormPopup",["dojo/_base/declare"],function(_148c){
return _148c("Manager.FormPopup",[],{context:null,url:"",constructor:function(){
this.obj=this;
},setContext:function(_148d){
this.context=_148d;
},start:function(){
this.url=this.context.action+"?__popupName="+this.context.name;
if(this.context.filter!=""){
var _148e=this.context.filter.split(",");
for(var i=0;i<_148e.length;i++){
var id=_148e[i];
if(field=dijit.byId(id)){
var value=field.get("value");
}else{
field=manager.getElementById(id);
var value=escape(field.value);
}
var _148f="filter"+i;
this.url=this.url+"&"+_148f+"="+value;
}
}
dojo.subscribe("windowActionClose",this,this.close);
this.open();
},open:function(){
var _1490=manager.getWindow(this.context.name);
if(!_1490){
manager.addWindow(this.context.name);
}
manager.getWindow(this.context.name).setHref(this.url);
manager.getWindow(this.context.name).open();
},close:function(id){
if(id==this.context.name){
var form=dojo.query("#"+id+" form");
var _1491=dijit.byId(form[0].id).getValues();
this.deliver(form[0].id);
}
},deliver:function(_1492){
related=this.obj.context.related;
var _1493=/(.*):([^:]*)/;
var _1494=related.split(",");
for(var i=0;i<_1494.length;i++){
_1494[i]=_1494[i].replace(/::/g,"!");
var aId=_1493.exec(_1494[i])||Array(_1494[i],_1494[i]);
var _1495=(aId[2]?aId[2]:aId[1]);
_1495=_1495.replace(/\!/g,"::");
var node=manager.getElementById(_1495);
var value=node.value;
aId[1]=aId[1].replace("!","::");
var field=dijit.byId(aId[1]);
if(field){
field.set("value",value);
}else{
field=manager.getElementById(aId[1]);
if(field!=null){
field.value=value;
field=manager.getElementById(field.name+"_sel");
if(field!=null){
field.value=value;
}
}
}
}
}});
});
},"dijit/_FocusMixin":function(){
define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(focus,_1496,_1497,lang){
lang.extend(_1496,{focused:false,onFocus:function(){
},onBlur:function(){
},_onFocus:function(){
this.onFocus();
},_onBlur:function(){
this.onBlur();
}});
return _1497("dijit._FocusMixin",null,{_focusManager:focus});
});
},"dijit/form/ValidationTextBox":function(){
define(["dojo/_base/declare","dojo/_base/kernel","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_1498,_1499,i18n,_149a,_149b,_149c){
var _149d;
return _149d=_1498("dijit.form.ValidationTextBox",_149a,{templateString:_149c,required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){
},state:"",tooltipPosition:[],_deprecateRegExp:function(attr,value){
if(value!=_149d.prototype[attr]){
_1499.deprecated("ValidationTextBox id="+this.id+", set('"+attr+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0");
this.set("pattern",value);
}
},_setRegExpGenAttr:function(_149e){
this._deprecateRegExp("regExpGen",_149e);
this._set("regExpGen",this._computeRegexp);
},_setRegExpAttr:function(value){
this._deprecateRegExp("regExp",value);
},_setValueAttr:function(){
this.inherited(arguments);
this._refreshState();
},validator:function(value,_149f){
return (new RegExp("^(?:"+this._computeRegexp(_149f)+")"+(this.required?"":"?")+"$")).test(value)&&(!this.required||!this._isEmpty(value))&&(this._isEmpty(value)||this.parse(value,_149f)!==undefined);
},_isValidSubset:function(){
return this.textbox.value.search(this._partialre)==0;
},isValid:function(){
return this.validator(this.textbox.value,this.get("constraints"));
},_isEmpty:function(value){
return (this.trim?/^\s*$/:/^$/).test(value);
},getErrorMessage:function(){
var _14a0=this.invalidMessage=="$_unset_$"?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage;
var _14a1=this.missingMessage=="$_unset_$"?this.messages.missingMessage:!this.missingMessage?_14a0:this.missingMessage;
return (this.required&&this._isEmpty(this.textbox.value))?_14a1:_14a0;
},getPromptMessage:function(){
return this.promptMessage;
},_maskValidSubsetError:true,validate:function(_14a2){
var _14a3="";
var _14a4=this.disabled||this.isValid(_14a2);
if(_14a4){
this._maskValidSubsetError=true;
}
var _14a5=this._isEmpty(this.textbox.value);
var _14a6=!_14a4&&_14a2&&this._isValidSubset();
this._set("state",_14a4?"":(((((!this._hasBeenBlurred||_14a2)&&_14a5)||_14a6)&&(this._maskValidSubsetError||(_14a6&&!this._hasBeenBlurred&&_14a2)))?"Incomplete":"Error"));
this.focusNode.setAttribute("aria-invalid",_14a4?"false":"true");
if(this.state=="Error"){
this._maskValidSubsetError=_14a2&&_14a6;
_14a3=this.getErrorMessage(_14a2);
}else{
if(this.state=="Incomplete"){
_14a3=this.getPromptMessage(_14a2);
this._maskValidSubsetError=!this._hasBeenBlurred||_14a2;
}else{
if(_14a5){
_14a3=this.getPromptMessage(_14a2);
}
}
}
this.set("message",_14a3);
return _14a4;
},displayMessage:function(_14a7){
if(_14a7&&this.focused){
_149b.show(_14a7,this.domNode,this.tooltipPosition,!this.isLeftToRight());
}else{
_149b.hide(this.domNode);
}
},_refreshState:function(){
if(this._created){
this.validate(this.focused);
}
this.inherited(arguments);
},constructor:function(_14a8){
this.constraints={};
this.baseClass+=" dijitValidationTextBox";
},startup:function(){
this.inherited(arguments);
this._refreshState();
},_setConstraintsAttr:function(_14a9){
if(!_14a9.locale&&this.lang){
_14a9.locale=this.lang;
}
this._set("constraints",_14a9);
this._refreshState();
},_setPatternAttr:function(_14aa){
this._set("pattern",_14aa);
this._refreshState();
},_computeRegexp:function(_14ab){
var p=this.pattern;
if(typeof p=="function"){
p=p.call(this,_14ab);
}
if(p!=this._lastRegExp){
var _14ac="";
this._lastRegExp=p;
if(p!=".*"){
p.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){
switch(re.charAt(0)){
case "{":
case "+":
case "?":
case "*":
case "^":
case "$":
case "|":
case "(":
_14ac+=re;
break;
case ")":
_14ac+="|$)";
break;
default:
_14ac+="(?:"+re+"|$)";
break;
}
});
}
try{
"".search(_14ac);
}
catch(e){
_14ac=this.pattern;
console.warn("RegExp error in "+this.declaredClass+": "+this.pattern);
}
this._partialre="^(?:"+_14ac+")$";
}
return p;
},postMixInProperties:function(){
this.inherited(arguments);
this.messages=i18n.getLocalization("dijit.form","validate",this.lang);
this._setConstraintsAttr(this.constraints);
},_setDisabledAttr:function(value){
this.inherited(arguments);
this._refreshState();
},_setRequiredAttr:function(value){
this._set("required",value);
this.focusNode.setAttribute("aria-required",value);
this._refreshState();
},_setMessageAttr:function(_14ad){
this._set("message",_14ad);
this.displayMessage(_14ad);
},reset:function(){
this._maskValidSubsetError=true;
this.inherited(arguments);
},_onBlur:function(){
this.displayMessage("");
this.inherited(arguments);
}});
});
},"manager/MultiSelection":function(){
define("manager/MultiSelection",["dojo/_base/declare","manager/MultiTextField2"],function(_14ae,_14af){
return _14ae("Manager.MultiSelection",[],{add:function(n){
var list=manager.getElementById(this.mtfName+this.emptyField);
var _14b0=manager.getElementById(this.mtfName+"_options"+n);
var n=list.length;
var i=0;
var achou=false;
var atext=_14b0.options[_14b0.selectedIndex].text;
for(i=0;i<n;i++){
if(list.options[i].text==atext){
achou=true;
}
}
if(achou){
alert("Item jÃ¡ estÃ¡ na lista!");
}else{
list.options[n]=new Option(atext);
list.selectedIndex=n;
}
}});
});
},"dijit/form/NumberTextBox":function(){
define(["dojo/_base/declare","dojo/_base/lang","dojo/number","./RangeBoundTextBox"],function(_14b1,lang,_14b2,_14b3){
var _14b4=_14b1("dijit.form.NumberTextBoxMixin",null,{pattern:function(_14b5){
return "("+(this.focused&&this.editOptions?this._regExpGenerator(lang.delegate(_14b5,this.editOptions))+"|":"")+this._regExpGenerator(_14b5)+")";
},value:NaN,editOptions:{pattern:"#.######"},_formatter:_14b2.format,_regExpGenerator:_14b2.regexp,postMixInProperties:function(){
this.inherited(arguments);
this._set("type","text");
},_setConstraintsAttr:function(_14b6){
var _14b7=typeof _14b6.places=="number"?_14b6.places:0;
if(_14b7){
_14b7++;
}
if(typeof _14b6.max!="number"){
_14b6.max=9*Math.pow(10,15-_14b7);
}
if(typeof _14b6.min!="number"){
_14b6.min=-9*Math.pow(10,15-_14b7);
}
this.inherited(arguments,[_14b6]);
if(this.focusNode&&this.focusNode.value&&!isNaN(this.value)){
this.set("value",this.value);
}
},_onFocus:function(){
if(this.disabled||this.readOnly){
return;
}
var val=this.get("value");
if(typeof val=="number"&&!isNaN(val)){
var _14b8=this.format(val,this.constraints);
if(_14b8!==undefined){
this.textbox.value=_14b8;
}
}
this.inherited(arguments);
},format:function(value,_14b9){
var _14ba=String(value);
if(typeof value!="number"){
return _14ba;
}
if(isNaN(value)){
return "";
}
if(!("rangeCheck" in this&&this.rangeCheck(value,_14b9))&&_14b9.exponent!==false&&/\de[-+]?\d/i.test(_14ba)){
return _14ba;
}
if(this.editOptions&&this.focused){
_14b9=lang.mixin({},_14b9,this.editOptions);
}
return this._formatter(value,_14b9);
},_parser:_14b2.parse,parse:function(value,_14bb){
var v=this._parser(value,lang.mixin({},_14bb,(this.editOptions&&this.focused)?this.editOptions:{}));
if(this.editOptions&&this.focused&&isNaN(v)){
v=this._parser(value,_14bb);
}
return v;
},_getDisplayedValueAttr:function(){
var v=this.inherited(arguments);
return isNaN(v)?this.textbox.value:v;
},filter:function(value){
return (value==null||value==="")?NaN:this.inherited(arguments);
},serialize:function(value,_14bc){
return (typeof value!="number"||isNaN(value))?"":this.inherited(arguments);
},_setBlurValue:function(){
var val=lang.hitch(lang.delegate(this,{focused:true}),"get")("value");
this._setValueAttr(val,true);
},_setValueAttr:function(value,_14bd,_14be){
if(value!==undefined&&_14be===undefined){
_14be=String(value);
if(typeof value=="number"){
if(isNaN(value)){
_14be="";
}else{
if(("rangeCheck" in this&&this.rangeCheck(value,this.constraints))||this.constraints.exponent===false||!/\de[-+]?\d/i.test(_14be)){
_14be=undefined;
}
}
}else{
if(!value){
_14be="";
value=NaN;
}else{
value=undefined;
}
}
}
this.inherited(arguments,[value,_14bd,_14be]);
},_getValueAttr:function(){
var v=this.inherited(arguments);
if(isNaN(v)&&this.textbox.value!==""){
if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)&&(new RegExp("^"+_14b2._realNumberRegexp(lang.delegate(this.constraints))+"$").test(this.textbox.value))){
var n=Number(this.textbox.value);
return isNaN(n)?undefined:n;
}else{
return undefined;
}
}else{
return v;
}
},isValid:function(_14bf){
if(!this.focused||this._isEmpty(this.textbox.value)){
return this.inherited(arguments);
}else{
var v=this.get("value");
if(!isNaN(v)&&this.rangeCheck(v,this.constraints)){
if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)){
return true;
}else{
return this.inherited(arguments);
}
}else{
return false;
}
}
}});
var _14c0=_14b1("dijit.form.NumberTextBox",[_14b3,_14b4],{baseClass:"dijitTextBox dijitNumberTextBox"});
_14c0.Mixin=_14b4;
return _14c0;
});
},"dojo/_base/url":function(){
define(["./kernel"],function(dojo){
var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_14c1=function(){
var n=null,_14c2=arguments,uri=[_14c2[0]];
for(var i=1;i<_14c2.length;i++){
if(!_14c2[i]){
continue;
}
var _14c3=new _14c1(_14c2[i]+""),_14c4=new _14c1(uri[0]+"");
if(_14c3.path==""&&!_14c3.scheme&&!_14c3.authority&&!_14c3.query){
if(_14c3.fragment!=n){
_14c4.fragment=_14c3.fragment;
}
_14c3=_14c4;
}else{
if(!_14c3.scheme){
_14c3.scheme=_14c4.scheme;
if(!_14c3.authority){
_14c3.authority=_14c4.authority;
if(_14c3.path.charAt(0)!="/"){
var path=_14c4.path.substring(0,_14c4.path.lastIndexOf("/")+1)+_14c3.path;
var segs=path.split("/");
for(var j=0;j<segs.length;j++){
if(segs[j]=="."){
if(j==segs.length-1){
segs[j]="";
}else{
segs.splice(j,1);
j--;
}
}else{
if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){
if(j==(segs.length-1)){
segs.splice(j,1);
segs[j-1]="";
}else{
segs.splice(j-1,2);
j-=2;
}
}
}
}
_14c3.path=segs.join("/");
}
}
}
}
uri=[];
if(_14c3.scheme){
uri.push(_14c3.scheme,":");
}
if(_14c3.authority){
uri.push("//",_14c3.authority);
}
uri.push(_14c3.path);
if(_14c3.query){
uri.push("?",_14c3.query);
}
if(_14c3.fragment){
uri.push("#",_14c3.fragment);
}
}
this.uri=uri.join("");
var r=this.uri.match(ore);
this.scheme=r[2]||(r[1]?"":n);
this.authority=r[4]||(r[3]?"":n);
this.path=r[5];
this.query=r[7]||(r[6]?"":n);
this.fragment=r[9]||(r[8]?"":n);
if(this.authority!=n){
r=this.authority.match(ire);
this.user=r[3]||n;
this.password=r[4]||n;
this.host=r[6]||r[7];
this.port=r[9]||n;
}
};
_14c1.prototype.toString=function(){
return this.uri;
};
return dojo._Url=_14c1;
});
},"dijit/form/_ComboBoxMenuMixin":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(array,_14c5,_14c6,has,i18n){
var _14c7=_14c5("dijit.form._ComboBoxMenuMixin"+(has("dojo-bidi")?"_NoBidi":""),null,{_messages:null,postMixInProperties:function(){
this.inherited(arguments);
this._messages=i18n.getLocalization("dijit.form","ComboBox",this.lang);
},buildRendering:function(){
this.inherited(arguments);
this.previousButton.innerHTML=this._messages["previousMessage"];
this.nextButton.innerHTML=this._messages["nextMessage"];
},_setValueAttr:function(value){
this._set("value",value);
this.onChange(value);
},onClick:function(node){
if(node==this.previousButton){
this._setSelectedAttr(null);
this.onPage(-1);
}else{
if(node==this.nextButton){
this._setSelectedAttr(null);
this.onPage(1);
}else{
this.onChange(node);
}
}
},onChange:function(){
},onPage:function(){
},onClose:function(){
this._setSelectedAttr(null);
},_createOption:function(item,_14c8){
var _14c9=this._createMenuItem();
var _14ca=_14c8(item);
if(_14ca.html){
_14c9.innerHTML=_14ca.label;
}else{
_14c9.appendChild(_14c9.ownerDocument.createTextNode(_14ca.label));
}
if(_14c9.innerHTML==""){
_14c9.innerHTML="&#160;";
}
return _14c9;
},createOptions:function(_14cb,_14cc,_14cd){
this.items=_14cb;
this.previousButton.style.display=(_14cc.start==0)?"none":"";
_14c6.set(this.previousButton,"id",this.id+"_prev");
array.forEach(_14cb,function(item,i){
var _14ce=this._createOption(item,_14cd);
_14ce.setAttribute("item",i);
_14c6.set(_14ce,"id",this.id+i);
this.nextButton.parentNode.insertBefore(_14ce,this.nextButton);
},this);
var _14cf=false;
if(_14cb.total&&!_14cb.total.then&&_14cb.total!=-1){
if((_14cc.start+_14cc.count)<_14cb.total){
_14cf=true;
}else{
if((_14cc.start+_14cc.count)>_14cb.total&&_14cc.count==_14cb.length){
_14cf=true;
}
}
}else{
if(_14cc.count==_14cb.length){
_14cf=true;
}
}
this.nextButton.style.display=_14cf?"":"none";
_14c6.set(this.nextButton,"id",this.id+"_next");
},clearResultList:function(){
var _14d0=this.containerNode;
while(_14d0.childNodes.length>2){
_14d0.removeChild(_14d0.childNodes[_14d0.childNodes.length-2]);
}
this._setSelectedAttr(null);
},highlightFirstOption:function(){
this.selectFirstNode();
},highlightLastOption:function(){
this.selectLastNode();
},selectFirstNode:function(){
this.inherited(arguments);
if(this.getHighlightedOption()==this.previousButton){
this.selectNextNode();
}
},selectLastNode:function(){
this.inherited(arguments);
if(this.getHighlightedOption()==this.nextButton){
this.selectPreviousNode();
}
},getHighlightedOption:function(){
return this.selected;
}});
if(has("dojo-bidi")){
_14c7=_14c5("dijit.form._ComboBoxMenuMixin",_14c7,{_createOption:function(){
var _14d1=this.inherited(arguments);
this.applyTextDir(_14d1);
return _14d1;
}});
}
return _14c7;
});
},"dijit/Tree":function(){
define(["dojo/_base/array","dojo/aspect","dojo/_base/connect","dojo/cookie","dojo/_base/declare","dojo/Deferred","dojo/promise/all","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/errors/create","dojo/fx","dojo/has","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","dojo/touch","dojo/when","./a11yclick","./focus","./registry","./_base/manager","./_Widget","./_TemplatedMixin","./_Container","./_Contained","./_CssStateMixin","./_KeyNavMixin","dojo/text!./templates/TreeNode.html","dojo/text!./templates/Tree.html","./tree/TreeStoreModel","./tree/ForestStoreModel","./tree/_dndSelector","dojo/query!css2"],function(array,_14d2,_14d3,_14d4,_14d5,_14d6,all,dom,_14d7,_14d8,_14d9,_14da,_14db,has,_14dc,keys,lang,on,topic,touch,when,_14dd,focus,_14de,_14df,_14e0,_14e1,_14e2,_14e3,_14e4,_14e5,_14e6,_14e7,_14e8,_14e9,_14ea){
function _14eb(d){
return lang.delegate(d.promise||d,{addCallback:function(_14ec){
this.then(_14ec);
},addErrback:function(_14ed){
this.otherwise(_14ed);
}});
};
var _14ee=_14d5("dijit._TreeNode",[_14e0,_14e1,_14e2,_14e3,_14e4],{item:null,isTreeNode:true,label:"",_setLabelAttr:function(val){
this.labelNode[this.labelType=="html"?"innerHTML":"innerText" in this.labelNode?"innerText":"textContent"]=val;
this._set("label",val);
},labelType:"text",isExpandable:null,isExpanded:false,state:"NotLoaded",templateString:_14e6,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){
this.inherited(arguments);
this._setExpando();
this._updateItemClasses(this.item);
if(this.isExpandable){
this.labelNode.setAttribute("aria-expanded",this.isExpanded);
}
this.setSelected(false);
},_setIndentAttr:function(_14ef){
var _14f0=(Math.max(_14ef,0)*this.tree._nodePixelIndent)+"px";
_14d9.set(this.domNode,"backgroundPosition",_14f0+" 0px");
_14d9.set(this.rowNode,this.isLeftToRight()?"paddingLeft":"paddingRight",_14f0);
array.forEach(this.getChildren(),function(child){
child.set("indent",_14ef+1);
});
this._set("indent",_14ef);
},markProcessing:function(){
this.state="Loading";
this._setExpando(true);
},unmarkProcessing:function(){
this._setExpando(false);
},_updateItemClasses:function(item){
var tree=this.tree,model=tree.model;
if(tree._v10Compat&&item===model.root){
item=null;
}
this._applyClassAndStyle(item,"icon","Icon");
this._applyClassAndStyle(item,"label","Label");
this._applyClassAndStyle(item,"row","Row");
this.tree._startPaint(true);
},_applyClassAndStyle:function(item,lower,upper){
var _14f1="_"+lower+"Class";
var _14f2=lower+"Node";
var _14f3=this[_14f1];
this[_14f1]=this.tree["get"+upper+"Class"](item,this.isExpanded);
_14d7.replace(this[_14f2],this[_14f1]||"",_14f3||"");
_14d9.set(this[_14f2],this.tree["get"+upper+"Style"](item,this.isExpanded)||{});
},_updateLayout:function(){
var _14f4=this.getParent();
if(!_14f4||!_14f4.rowNode||_14f4.rowNode.style.display=="none"){
_14d7.add(this.domNode,"dijitTreeIsRoot");
}else{
_14d7.toggle(this.domNode,"dijitTreeIsLast",!this.getNextSibling());
}
},_setExpando:function(_14f5){
var _14f6=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_14f7=["*","-","+","*"],idx=_14f5?0:(this.isExpandable?(this.isExpanded?1:2):3);
_14d7.replace(this.expandoNode,_14f6[idx],_14f6);
this.expandoNodeText.innerHTML=_14f7[idx];
},expand:function(){
if(this._expandDeferred){
return _14eb(this._expandDeferred);
}
if(this._collapseDeferred){
this._collapseDeferred.cancel();
delete this._collapseDeferred;
}
this.isExpanded=true;
this.labelNode.setAttribute("aria-expanded","true");
if(this.tree.showRoot||this!==this.tree.rootNode){
this.containerNode.setAttribute("role","group");
}
_14d7.add(this.contentNode,"dijitTreeContentExpanded");
this._setExpando();
this._updateItemClasses(this.item);
if(this==this.tree.rootNode&&this.tree.showRoot){
this.tree.domNode.setAttribute("aria-expanded","true");
}
var _14f8=_14db.wipeIn({node:this.containerNode,duration:_14df.defaultDuration});
var def=(this._expandDeferred=new _14d6(function(){
_14f8.stop();
}));
_14d2.after(_14f8,"onEnd",function(){
def.resolve(true);
},true);
_14f8.play();
return _14eb(def);
},collapse:function(){
if(this._collapseDeferred){
return _14eb(this._collapseDeferred);
}
if(this._expandDeferred){
this._expandDeferred.cancel();
delete this._expandDeferred;
}
this.isExpanded=false;
this.labelNode.setAttribute("aria-expanded","false");
if(this==this.tree.rootNode&&this.tree.showRoot){
this.tree.domNode.setAttribute("aria-expanded","false");
}
_14d7.remove(this.contentNode,"dijitTreeContentExpanded");
this._setExpando();
this._updateItemClasses(this.item);
var _14f9=_14db.wipeOut({node:this.containerNode,duration:_14df.defaultDuration});
var def=(this._collapseDeferred=new _14d6(function(){
_14f9.stop();
}));
_14d2.after(_14f9,"onEnd",function(){
def.resolve(true);
},true);
_14f9.play();
return _14eb(def);
},indent:0,setChildItems:function(items){
var tree=this.tree,model=tree.model,defs=[];
var _14fa=this.getChildren();
array.forEach(_14fa,function(child){
_14e2.prototype.removeChild.call(this,child);
},this);
this.defer(function(){
array.forEach(_14fa,function(node){
if(!node._destroyed&&!node.getParent()){
tree.dndController.removeTreeNode(node);
function _14fb(node){
var id=model.getIdentity(node.item),ary=tree._itemNodesMap[id];
if(ary.length==1){
delete tree._itemNodesMap[id];
}else{
var index=array.indexOf(ary,node);
if(index!=-1){
ary.splice(index,1);
}
}
array.forEach(node.getChildren(),_14fb);
};
_14fb(node);
if(tree.persist){
var _14fc=array.map(node.getTreePath(),function(item){
return tree.model.getIdentity(item);
}).join("/");
for(var path in tree._openedNodes){
if(path.substr(0,_14fc.length)==_14fc){
delete tree._openedNodes[path];
}
}
tree._saveExpandedNodes();
}
node.destroyRecursive();
}
});
});
this.state="Loaded";
if(items&&items.length>0){
this.isExpandable=true;
array.forEach(items,function(item){
var id=model.getIdentity(item),_14fd=tree._itemNodesMap[id],node;
if(_14fd){
for(var i=0;i<_14fd.length;i++){
if(_14fd[i]&&!_14fd[i].getParent()){
node=_14fd[i];
node.set("indent",this.indent+1);
break;
}
}
}
if(!node){
node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:model.mayHaveChildren(item),label:tree.getLabel(item),labelType:(tree.model&&tree.model.labelType)||"text",tooltip:tree.getTooltip(item),ownerDocument:tree.ownerDocument,dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});
if(_14fd){
_14fd.push(node);
}else{
tree._itemNodesMap[id]=[node];
}
}
this.addChild(node);
if(this.tree.autoExpand||this.tree._state(node)){
defs.push(tree._expandNode(node));
}
},this);
array.forEach(this.getChildren(),function(child){
child._updateLayout();
});
}else{
this.isExpandable=false;
}
if(this._setExpando){
this._setExpando(false);
}
this._updateItemClasses(this.item);
var def=all(defs);
this.tree._startPaint(def);
return _14eb(def);
},getTreePath:function(){
var node=this;
var path=[];
while(node&&node!==this.tree.rootNode){
path.unshift(node.item);
node=node.getParent();
}
path.unshift(this.tree.rootNode.item);
return path;
},getIdentity:function(){
return this.tree.model.getIdentity(this.item);
},removeChild:function(node){
this.inherited(arguments);
var _14fe=this.getChildren();
if(_14fe.length==0){
this.isExpandable=false;
this.collapse();
}
array.forEach(_14fe,function(child){
child._updateLayout();
});
},makeExpandable:function(){
this.isExpandable=true;
this._setExpando(false);
},setSelected:function(_14ff){
this.labelNode.setAttribute("aria-selected",_14ff?"true":"false");
_14d7.toggle(this.rowNode,"dijitTreeRowSelected",_14ff);
},focus:function(){
focus.focus(this.focusNode);
}});
if(has("dojo-bidi")){
_14ee.extend({_setTextDirAttr:function(_1500){
if(_1500&&((this.textDir!=_1500)||!this._created)){
this._set("textDir",_1500);
this.applyTextDir(this.labelNode);
array.forEach(this.getChildren(),function(_1501){
_1501.set("textDir",_1500);
},this);
}
}});
}
var Tree=_14d5("dijit.Tree",[_14e0,_14e5,_14e1,_14e4],{baseClass:"dijitTree",store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:_14e7,persist:false,autoExpand:false,dndController:_14ea,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(_1502,_1503){
topic.publish(this.id,lang.mixin({tree:this,event:_1502},_1503||{}));
},postMixInProperties:function(){
this.tree=this;
if(this.autoExpand){
this.persist=false;
}
this._itemNodesMap={};
if(!this.cookieName&&this.id){
this.cookieName=this.id+"SaveStateCookie";
}
this.expandChildrenDeferred=new _14d6();
this.pendingCommandsPromise=this.expandChildrenDeferred.promise;
this.inherited(arguments);
},postCreate:function(){
this._initState();
var self=this;
this.own(on(this.containerNode,on.selector(".dijitTreeNode",touch.enter),function(evt){
self._onNodeMouseEnter(_14de.byNode(this),evt);
}),on(this.containerNode,on.selector(".dijitTreeNode",touch.leave),function(evt){
self._onNodeMouseLeave(_14de.byNode(this),evt);
}),on(this.containerNode,on.selector(".dijitTreeRow",_14dd.press),function(evt){
self._onNodePress(_14de.getEnclosingWidget(this),evt);
}),on(this.containerNode,on.selector(".dijitTreeRow",_14dd),function(evt){
self._onClick(_14de.getEnclosingWidget(this),evt);
}),on(this.containerNode,on.selector(".dijitTreeRow","dblclick"),function(evt){
self._onDblClick(_14de.getEnclosingWidget(this),evt);
}));
if(!this.model){
this._store2model();
}
this.own(_14d2.after(this.model,"onChange",lang.hitch(this,"_onItemChange"),true),_14d2.after(this.model,"onChildrenChange",lang.hitch(this,"_onItemChildrenChange"),true),_14d2.after(this.model,"onDelete",lang.hitch(this,"_onItemDelete"),true));
this.inherited(arguments);
if(this.dndController){
if(lang.isString(this.dndController)){
this.dndController=lang.getObject(this.dndController);
}
var _1504={};
for(var i=0;i<this.dndParams.length;i++){
if(this[this.dndParams[i]]){
_1504[this.dndParams[i]]=this[this.dndParams[i]];
}
}
this.dndController=new this.dndController(this,_1504);
}
this._load();
this.onLoadDeferred=_14eb(this.pendingCommandsPromise);
this.onLoadDeferred.then(lang.hitch(this,"onLoad"));
},_store2model:function(){
this._v10Compat=true;
_14dc.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");
var _1505={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};
if(this.params.mayHaveChildren){
_1505.mayHaveChildren=lang.hitch(this,"mayHaveChildren");
}
if(this.params.getItemChildren){
_1505.getChildren=lang.hitch(this,function(item,_1506,_1507){
this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_1506,_1507);
});
}
this.model=new _14e9(_1505);
this.showRoot=Boolean(this.label);
},onLoad:function(){
},_load:function(){
this.model.getRoot(lang.hitch(this,function(item){
var rn=(this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),labelType:this.model.labelType||"text",textDir:this.textDir,indent:this.showRoot?0:-1}));
if(!this.showRoot){
rn.rowNode.style.display="none";
this.domNode.setAttribute("role","presentation");
this.domNode.removeAttribute("aria-expanded");
this.domNode.removeAttribute("aria-multiselectable");
if(this["aria-label"]){
rn.containerNode.setAttribute("aria-label",this["aria-label"]);
this.domNode.removeAttribute("aria-label");
}else{
if(this["aria-labelledby"]){
rn.containerNode.setAttribute("aria-labelledby",this["aria-labelledby"]);
this.domNode.removeAttribute("aria-labelledby");
}
}
rn.labelNode.setAttribute("role","presentation");
rn.containerNode.setAttribute("role","tree");
rn.containerNode.setAttribute("aria-expanded","true");
rn.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular);
}else{
this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular);
this.rootLoadingIndicator.style.display="none";
}
this.containerNode.appendChild(rn.domNode);
var _1508=this.model.getIdentity(item);
if(this._itemNodesMap[_1508]){
this._itemNodesMap[_1508].push(rn);
}else{
this._itemNodesMap[_1508]=[rn];
}
rn._updateLayout();
this._expandNode(rn).then(lang.hitch(this,function(){
this.rootLoadingIndicator.style.display="none";
this.expandChildrenDeferred.resolve(true);
}));
}),lang.hitch(this,function(err){
console.error(this,": error loading root: ",err);
}));
},getNodesByItem:function(item){
if(!item){
return [];
}
var _1509=lang.isString(item)?item:this.model.getIdentity(item);
return [].concat(this._itemNodesMap[_1509]);
},_setSelectedItemAttr:function(item){
this.set("selectedItems",[item]);
},_setSelectedItemsAttr:function(items){
var tree=this;
return this.pendingCommandsPromise=this.pendingCommandsPromise.always(lang.hitch(this,function(){
var _150a=array.map(items,function(item){
return (!item||lang.isString(item))?item:tree.model.getIdentity(item);
});
var nodes=[];
array.forEach(_150a,function(id){
nodes=nodes.concat(tree._itemNodesMap[id]||[]);
});
this.set("selectedNodes",nodes);
}));
},_setPathAttr:function(path){
if(path.length){
return _14eb(this.set("paths",[path]).then(function(paths){
return paths[0];
}));
}else{
return _14eb(this.set("paths",[]).then(function(paths){
return paths[0];
}));
}
},_setPathsAttr:function(paths){
var tree=this;
function _150b(path,nodes){
var _150c=path.shift();
var _150d=array.filter(nodes,function(node){
return node.getIdentity()==_150c;
})[0];
if(!!_150d){
if(path.length){
return tree._expandNode(_150d).then(function(){
return _150b(path,_150d.getChildren());
});
}else{
return _150d;
}
}else{
throw new Tree.PathError("Could not expand path at "+_150c);
}
};
return _14eb(this.pendingCommandsPromise=this.pendingCommandsPromise.always(function(){
return all(array.map(paths,function(path){
path=array.map(path,function(item){
return lang.isString(item)?item:tree.model.getIdentity(item);
});
if(path.length){
return _150b(path,[tree.rootNode]);
}else{
throw new Tree.PathError("Empty path");
}
}));
}).then(function setNodes(_150e){
tree.set("selectedNodes",_150e);
return tree.paths;
}));
},_setSelectedNodeAttr:function(node){
this.set("selectedNodes",[node]);
},_setSelectedNodesAttr:function(nodes){
this.dndController.setSelection(nodes);
},expandAll:function(){
var _150f=this;
function _1510(node){
return _150f._expandNode(node).then(function(){
var _1511=array.filter(node.getChildren()||[],function(node){
return node.isExpandable;
});
return all(array.map(_1511,_1510));
});
};
return _14eb(_1510(this.rootNode));
},collapseAll:function(){
var _1512=this;
function _1513(node){
var _1514=array.filter(node.getChildren()||[],function(node){
return node.isExpandable;
}),defs=all(array.map(_1514,_1513));
if(!node.isExpanded||(node==_1512.rootNode&&!_1512.showRoot)){
return defs;
}else{
return defs.then(function(){
return _1512._collapseNode(node);
});
}
};
return _14eb(_1513(this.rootNode));
},mayHaveChildren:function(){
},getItemChildren:function(){
},getLabel:function(item){
return this.model.getLabel(item);
},getIconClass:function(item,_1515){
return (!item||this.model.mayHaveChildren(item))?(_1515?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";
},getLabelClass:function(){
},getRowClass:function(){
},getIconStyle:function(){
},getLabelStyle:function(){
},getRowStyle:function(){
},getTooltip:function(){
return "";
},_onDownArrow:function(evt,node){
var _1516=this._getNext(node);
if(_1516&&_1516.isTreeNode){
this.focusNode(_1516);
}
},_onUpArrow:function(evt,node){
var _1517=node.getPreviousSibling();
if(_1517){
node=_1517;
while(node.isExpandable&&node.isExpanded&&node.hasChildren()){
var _1518=node.getChildren();
node=_1518[_1518.length-1];
}
}else{
var _1519=node.getParent();
if(!(!this.showRoot&&_1519===this.rootNode)){
node=_1519;
}
}
if(node&&node.isTreeNode){
this.focusNode(node);
}
},_onRightArrow:function(evt,node){
if(node.isExpandable&&!node.isExpanded){
this._expandNode(node);
}else{
if(node.hasChildren()){
node=node.getChildren()[0];
if(node&&node.isTreeNode){
this.focusNode(node);
}
}
}
},_onLeftArrow:function(evt,node){
if(node.isExpandable&&node.isExpanded){
this._collapseNode(node);
}else{
var _151a=node.getParent();
if(_151a&&_151a.isTreeNode&&!(!this.showRoot&&_151a===this.rootNode)){
this.focusNode(_151a);
}
}
},focusLastChild:function(){
var node=this._getLast();
if(node&&node.isTreeNode){
this.focusNode(node);
}
},_getFirst:function(){
return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];
},_getLast:function(){
var node=this.rootNode;
while(node.isExpanded){
var c=node.getChildren();
if(!c.length){
break;
}
node=c[c.length-1];
}
return node;
},_getNext:function(node){
if(node.isExpandable&&node.isExpanded&&node.hasChildren()){
return node.getChildren()[0];
}else{
while(node&&node.isTreeNode){
var _151b=node.getNextSibling();
if(_151b){
return _151b;
}
node=node.getParent();
}
return null;
}
},childSelector:".dijitTreeRow",isExpandoNode:function(node,_151c){
return dom.isDescendant(node,_151c.expandoNode)||dom.isDescendant(node,_151c.expandoNodeText);
},_onNodePress:function(_151d,e){
_151d.focus();
},__click:function(_151e,e,_151f,func){
var _1520=e.target,_1521=this.isExpandoNode(_1520,_151e);
if(_151e.isExpandable&&(_151f||_1521)){
this._onExpandoClick({node:_151e});
}else{
this._publish("execute",{item:_151e.item,node:_151e,evt:e});
this[func](_151e.item,_151e,e);
this.focusNode(_151e);
}
e.stopPropagation();
e.preventDefault();
},_onClick:function(_1522,e){
this.__click(_1522,e,this.openOnClick,"onClick");
},_onDblClick:function(_1523,e){
this.__click(_1523,e,this.openOnDblClick,"onDblClick");
},_onExpandoClick:function(_1524){
var node=_1524.node;
this.focusNode(node);
if(node.isExpanded){
this._collapseNode(node);
}else{
this._expandNode(node);
}
},onClick:function(){
},onDblClick:function(){
},onOpen:function(){
},onClose:function(){
},_getNextNode:function(node){
_14dc.deprecated(this.declaredClass+"::_getNextNode(node) is deprecated. Use _getNext(node) instead.","","2.0");
return this._getNext(node);
},_getRootOrFirstNode:function(){
_14dc.deprecated(this.declaredClass+"::_getRootOrFirstNode() is deprecated. Use _getFirst() instead.","","2.0");
return this._getFirst();
},_collapseNode:function(node){
if(node._expandNodeDeferred){
delete node._expandNodeDeferred;
}
if(node.state=="Loading"){
return;
}
if(node.isExpanded){
var ret=node.collapse();
this.onClose(node.item,node);
this._state(node,false);
this._startPaint(ret);
return ret;
}
},_expandNode:function(node){
if(node._expandNodeDeferred){
return node._expandNodeDeferred;
}
var model=this.model,item=node.item,_1525=this;
if(!node._loadDeferred){
node.markProcessing();
node._loadDeferred=new _14d6();
model.getChildren(item,function(items){
node.unmarkProcessing();
node.setChildItems(items).then(function(){
node._loadDeferred.resolve(items);
});
},function(err){
console.error(_1525,": error loading "+node.label+" children: ",err);
node._loadDeferred.reject(err);
});
}
var def=node._loadDeferred.then(lang.hitch(this,function(){
var def2=node.expand();
this.onOpen(node.item,node);
this._state(node,true);
return def2;
}));
this._startPaint(def);
return def;
},focusNode:function(node){
this.focusChild(node);
},_onNodeMouseEnter:function(){
},_onNodeMouseLeave:function(){
},_onItemChange:function(item){
var model=this.model,_1526=model.getIdentity(item),nodes=this._itemNodesMap[_1526];
if(nodes){
var label=this.getLabel(item),_1527=this.getTooltip(item);
array.forEach(nodes,function(node){
node.set({item:item,label:label,tooltip:_1527});
node._updateItemClasses(item);
});
}
},_onItemChildrenChange:function(_1528,_1529){
var model=this.model,_152a=model.getIdentity(_1528),_152b=this._itemNodesMap[_152a];
if(_152b){
array.forEach(_152b,function(_152c){
_152c.setChildItems(_1529);
});
}
},_onItemDelete:function(item){
var model=this.model,_152d=model.getIdentity(item),nodes=this._itemNodesMap[_152d];
if(nodes){
array.forEach(nodes,function(node){
this.dndController.removeTreeNode(node);
var _152e=node.getParent();
if(_152e){
_152e.removeChild(node);
}
node.destroyRecursive();
},this);
delete this._itemNodesMap[_152d];
}
},_initState:function(){
this._openedNodes={};
if(this.persist&&this.cookieName){
var oreo=_14d4(this.cookieName);
if(oreo){
array.forEach(oreo.split(","),function(item){
this._openedNodes[item]=true;
},this);
}
}
},_state:function(node,_152f){
if(!this.persist){
return false;
}
var path=array.map(node.getTreePath(),function(item){
return this.model.getIdentity(item);
},this).join("/");
if(arguments.length===1){
return this._openedNodes[path];
}else{
if(_152f){
this._openedNodes[path]=true;
}else{
delete this._openedNodes[path];
}
this._saveExpandedNodes();
}
},_saveExpandedNodes:function(){
if(this.persist&&this.cookieName){
var ary=[];
for(var id in this._openedNodes){
ary.push(id);
}
_14d4(this.cookieName,ary.join(","),{expires:365});
}
},destroy:function(){
if(this._curSearch){
this._curSearch.timer.remove();
delete this._curSearch;
}
if(this.rootNode){
this.rootNode.destroyRecursive();
}
if(this.dndController&&!lang.isString(this.dndController)){
this.dndController.destroy();
}
this.rootNode=null;
this.inherited(arguments);
},destroyRecursive:function(){
this.destroy();
},resize:function(_1530){
if(_1530){
_14d8.setMarginBox(this.domNode,_1530);
}
this._nodePixelIndent=_14d8.position(this.tree.indentDetector).w||this._nodePixelIndent;
this.expandChildrenDeferred.then(lang.hitch(this,function(){
this.rootNode.set("indent",this.showRoot?0:-1);
this._adjustWidths();
}));
},_outstandingPaintOperations:0,_startPaint:function(p){
this._outstandingPaintOperations++;
if(this._adjustWidthsTimer){
this._adjustWidthsTimer.remove();
delete this._adjustWidthsTimer;
}
var oc=lang.hitch(this,function(){
this._outstandingPaintOperations--;
if(this._outstandingPaintOperations<=0&&!this._adjustWidthsTimer&&this._started){
this._adjustWidthsTimer=this.defer("_adjustWidths");
}
});
when(p,oc,oc);
},_adjustWidths:function(){
if(this._adjustWidthsTimer){
this._adjustWidthsTimer.remove();
delete this._adjustWidthsTimer;
}
this.containerNode.style.width="auto";
this.containerNode.style.width=this.domNode.scrollWidth>this.domNode.offsetWidth?"auto":"100%";
},_createTreeNode:function(args){
return new _14ee(args);
},focus:function(){
if(this.lastFocusedChild){
this.focusNode(this.lastFocusedChild);
}else{
this.focusFirstChild();
}
}});
if(has("dojo-bidi")){
Tree.extend({_setTextDirAttr:function(_1531){
if(_1531&&this.textDir!=_1531){
this._set("textDir",_1531);
this.rootNode.set("textDir",_1531);
}
}});
}
Tree.PathError=_14da("TreePathError");
Tree._TreeNode=_14ee;
return Tree;
});
},"put-selector/put":function(){
(function(_1532){
var _1533,_1534=/[-+,> ]/;
_1532([],_1533=function(doc,_1535){
"use strict";
_1534=_1535||_1534;
var _1536=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,_1537,doc=doc||document,_1538=typeof doc.createElement=="object";
function _1539(_153a,text){
_153a.appendChild(doc.createTextNode(text));
};
function put(_153b){
var _153c,_153d,_153e,_153f,_1540,args=arguments,_1541=args[0];
function _1542(){
if(_1540&&_153f&&_1540!=_153f){
(_153f==_153b&&(_153c||(_153c=_1534.test(_1543)&&doc.createDocumentFragment()))||_153f).insertBefore(_1540,_153e||null);
}
};
for(var i=0;i<args.length;i++){
var _1543=args[i];
if(typeof _1543=="object"){
_153d=false;
if(_1543 instanceof Array){
_1540=doc.createDocumentFragment();
for(var key=0;key<_1543.length;key++){
_1540.appendChild(put(_1543[key]));
}
_1543=_1540;
}
if(_1543.nodeType){
_1540=_1543;
_1542();
_153f=_1543;
_153e=0;
}else{
for(var key in _1543){
_1540[key]=_1543[key];
}
}
}else{
if(_153d){
_153d=false;
_1539(_1540,_1543);
}else{
if(i<1){
_153b=null;
}
_153d=true;
var _1544=_1543.replace(_1536,function(t,_1545,_1546,value,_1547,_1548){
if(_1545){
_1542();
if(_1545=="-"||_1545=="+"){
_153f=(_153e=(_1540||_153f)).parentNode;
_1540=null;
if(_1545=="+"){
_153e=_153e.nextSibling;
}
}else{
if(_1545=="<"){
_153f=_1540=(_1540||_153f).parentNode;
}else{
if(_1545==","){
_153f=_153b;
}else{
if(_1540){
_153f=_1540;
}
}
_1540=null;
}
_153e=0;
}
if(_1540){
_153f=_1540;
}
}
var tag=!_1546&&value;
if(tag||(!_1540&&(_1546||_1547))){
if(tag=="$"){
_1539(_153f,args[++i]);
}else{
tag=tag||put.defaultTag;
var _1549=_1538&&args[i+1]&&args[i+1].name;
if(_1549){
tag="<"+tag+" name=\""+_1549+"\">";
}
_1540=doc.createElement(tag);
}
}
if(_1546){
if(value=="$"){
value=args[++i];
}
if(_1546=="#"){
_1540.id=value;
}else{
var _154a=_1540.className;
var _154b=_154a&&(" "+_154a+" ").replace(" "+value+" "," ");
if(_1546=="."){
_1540.className=_154a?(_154b+value).substring(1):value;
}else{
if(_1543=="!"){
put("div",_1540,"<").innerHTML="";
}else{
_154b=_154b.substring(1,_154b.length-1);
if(_154b!=_154a){
_1540.className=_154b;
}
}
}
}
}
if(_1547){
if(_1548=="$"){
_1548=args[++i];
}
if(_1547=="style"){
_1540.style.cssText=_1548;
}else{
_1540[_1547.charAt(0)=="!"?(_1547=_1547.substring(1))&&"removeAttribute":"setAttribute"](_1547,_1548===""?_1547:_1548);
}
}
return "";
});
if(_1544){
throw new SyntaxError("Unexpected char "+_1544+" in "+_1543);
}
_1542();
_153f=_1541=_1540||_153f;
}
}
}
if(_153b&&_153c){
_153b.appendChild(_153c);
}
return _1541;
};
put.defaultTag="div";
put.forDocument=_1533;
return put;
});
})(typeof define=="undefined"?function(deps,_154c){
if(typeof window=="undefined"){
require("./node-html")(module,_154c);
}else{
put=_154c();
}
}:define);
},"dijit/form/Button":function(){
define(["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html"],function(_154d,_154e,_154f,has,_1550,lang,ready,_1551,_1552,_1553){
if(has("dijit-legacy-requires")){
ready(0,function(){
var _1554=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];
_154d(_1554);
});
}
var _1555=_154e("dijit.form.Button"+(has("dojo-bidi")?"_NoBidi":""),[_1551,_1552],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_1553,_setValueAttr:"valueNode",_setNameAttr:function(name){
if(this.valueNode){
this.valueNode.setAttribute("name",name);
}
},_fillContent:function(_1556){
if(_1556&&(!this.params||!("label" in this.params))){
var _1557=lang.trim(_1556.innerHTML);
if(_1557){
this.label=_1557;
}
}
},_setShowLabelAttr:function(val){
if(this.containerNode){
_154f.toggle(this.containerNode,"dijitDisplayNone",!val);
}
this._set("showLabel",val);
},setLabel:function(_1558){
_1550.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");
this.set("label",_1558);
},_setLabelAttr:function(_1559){
this.inherited(arguments);
if(!this.showLabel&&!("title" in this.params)){
this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");
}
}});
if(has("dojo-bidi")){
_1555=_154e("dijit.form.Button",_1555,{_setLabelAttr:function(_155a){
this.inherited(arguments);
if(this.titleNode.title){
this.applyTextDir(this.titleNode,this.titleNode.title);
}
},_setTextDirAttr:function(_155b){
if(this._created&&this.textDir!=_155b){
this._set("textDir",_155b);
this._setLabelAttr(this.label);
}
}});
}
return _1555;
});
},"manager/TransferBox":function(){
define("manager/TransferBox",["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dgrid/OnDemandList","dgrid/Selection","dgrid/Keyboard","dojo/dom-construct","dojo/text!./templates/TransferBox.html","dijit/form/Button"],function(_155c,_155d,_155e,_155f,List,_1560,_1561,_1562,_1563){
var _1564=_155c([List,_1560,_1561]);
function _1565(list,_1566){
var _1567=0;
list.on("dgrid-select",function(e){
_1567+=e.rows.length;
_1566.set("disabled",!_1567);
});
list.on("dgrid-deselect",function(e){
_1567-=e.rows.length;
_1566.set("disabled",!_1567);
});
};
return _155c("Manager.TransferBox",[_155d,_155e,_155f],{templateString:_1563,baseClass:"TransferBox",sortProperty:"id",selectionMode:"extended",postCreate:function(){
this.inherited(arguments);
this.addButton.set("disabled",true);
this.removeButton.set("disabled",true);
var from=this.from=new _1564({store:this.store,selectionMode:this.selectionMode,query:function(item){
return !item.__selected;
},sort:this.sortProperty,renderRow:this.renderItem},this.fromNode);
_1565(from,this.addButton);
var to=this.to=new _1564({store:this.store,selectionMode:this.selectionMode,query:function(item){
return item.__selected;
},sort:this.sortProperty,renderRow:this.renderItem},this.toNode);
_1565(to,this.removeButton);
},_setValueAttr:function(value){
var _1568=!this.from||!this.from._started;
for(var i=0;i<value.length;i++){
var item=this.store.get(value[i]);
if(!item){
continue;
}
item.__selected=true;
_1568&&this.store.put(item);
this.input(item.id,"add");
}
},_getValueAttr:function(){
var store=this.store;
return store.query(function(item){
return item.__selected;
}).map(function(item){
return store.getIdentity(item);
});
},add:function(){
for(var id in this.from.selection){
var row=this.from.row(id);
row.data.__selected=true;
this.store.put(row.data);
this.input(id,"add");
}
},remove:function(){
for(var id in this.to.selection){
var row=this.to.row(id);
row.data.__selected=false;
this.store.put(row.data);
this.input(id,"del");
}
},input:function(id,op){
var _1569=this.idHidden+"["+id+"]";
if(op=="add"){
var _156a=_1562.create("input",{type:"hidden",id:_1569,name:_1569,value:id},manager.getParentForm(this.id));
}else{
if(op=="del"){
_1562.destroy(_1569);
}
}
},renderItem:function(item){
return _1562.create("div",{innerHTML:item.name});
}});
});
},"dijit/CalendarLite":function(){
define(["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/lang","dojo/on","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./a11yclick","./hccss"],function(array,_156b,_156c,date,_156d,stamp,dom,_156e,lang,on,has,_156f,_1570,_1571,_1572){
var _1573=_156b("dijit.CalendarLite",[_1570,_1571],{templateString:_1572,dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\" scope=\"col\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",weekTemplateString:"<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>",value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),_setSummaryAttr:"gridNode",baseClass:"dijitCalendar",_isValidDate:function(value){
return value&&!isNaN(value)&&typeof value=="object"&&value.toString()!=this.constructor.prototype.value.toString();
},_getValueAttr:function(){
var _1574=this._get("value");
if(_1574&&!isNaN(_1574)){
var value=new this.dateClassObj(_1574);
value.setHours(0,0,0,0);
if(value.getDate()<_1574.getDate()){
value=this.dateModule.add(value,"hour",1);
}
return value;
}else{
return null;
}
},_setValueAttr:function(value,_1575){
if(typeof value=="string"){
value=stamp.fromISOString(value);
}
value=this._patchDate(value);
if(this._isValidDate(value)&&!this.isDisabledDate(value,this.lang)){
this._set("value",value);
this.set("currentFocus",value);
this._markSelectedDates([value]);
if(this._created&&(_1575||typeof _1575=="undefined")){
this.onChange(this.get("value"));
}
}else{
this._set("value",null);
this._markSelectedDates([]);
}
},_patchDate:function(value){
if(value){
value=new this.dateClassObj(value);
value.setHours(1,0,0,0);
}
return value;
},_setText:function(node,text){
while(node.firstChild){
node.removeChild(node.firstChild);
}
node.appendChild(node.ownerDocument.createTextNode(text));
},_populateGrid:function(){
var month=new this.dateClassObj(this.currentFocus);
month.setDate(1);
var _1576=month.getDay(),_1577=this.dateModule.getDaysInMonth(month),_1578=this.dateModule.getDaysInMonth(this.dateModule.add(month,"month",-1)),today=new this.dateClassObj(),_1579=_156c.getFirstDayOfWeek(this.lang);
if(_1579>_1576){
_1579-=7;
}
if(!this.summary){
var _157a=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month);
this.gridNode.setAttribute("summary",_157a[month.getMonth()]);
}
this._date2cell={};
array.forEach(this.dateCells,function(_157b,idx){
var i=idx+_1579;
var date=new this.dateClassObj(month),_157c,clazz="dijitCalendar",adj=0;
if(i<_1576){
_157c=_1578-_1576+i+1;
adj=-1;
clazz+="Previous";
}else{
if(i>=(_1576+_1577)){
_157c=i-_1576-_1577+1;
adj=1;
clazz+="Next";
}else{
_157c=i-_1576+1;
clazz+="Current";
}
}
if(adj){
date=this.dateModule.add(date,"month",adj);
}
date.setDate(_157c);
if(!this.dateModule.compare(date,today,"date")){
clazz="dijitCalendarCurrentDate "+clazz;
}
if(this.isDisabledDate(date,this.lang)){
clazz="dijitCalendarDisabledDate "+clazz;
_157b.setAttribute("aria-disabled","true");
}else{
clazz="dijitCalendarEnabledDate "+clazz;
_157b.removeAttribute("aria-disabled");
_157b.setAttribute("aria-selected","false");
}
var _157d=this.getClassForDate(date,this.lang);
if(_157d){
clazz=_157d+" "+clazz;
}
_157b.className=clazz+"Month dijitCalendarDateTemplate";
var _157e=date.valueOf();
this._date2cell[_157e]=_157b;
_157b.dijitDateValue=_157e;
this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());
},this);
},_populateControls:function(){
var month=new this.dateClassObj(this.currentFocus);
month.setDate(1);
this.monthWidget.set("month",month);
var y=month.getFullYear()-1;
var d=new this.dateClassObj();
array.forEach(["previous","current","next"],function(name){
d.setFullYear(y++);
this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));
},this);
},goToToday:function(){
this.set("value",new this.dateClassObj());
},constructor:function(_157f){
this.dateModule=_157f.datePackage?lang.getObject(_157f.datePackage,false):date;
this.dateClassObj=this.dateModule.Date||Date;
this.dateLocaleModule=_157f.datePackage?lang.getObject(_157f.datePackage+".locale",false):_156d;
},_createMonthWidget:function(){
return _1573._MonthWidget({id:this.id+"_mddb",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);
},buildRendering:function(){
var d=this.dowTemplateString,_1580=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_1581=_156c.getFirstDayOfWeek(this.lang);
this.dayCellsHtml=_156f.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){
return _1580[_1581++%7];
});
var r=_156f.substitute(this.weekTemplateString,{d:this.dateTemplateString});
this.dateRowsHtml=[r,r,r,r,r,r].join("");
this.dateCells=[];
this.dateLabels=[];
this.inherited(arguments);
dom.setSelectable(this.domNode,false);
var _1582=new this.dateClassObj(this.currentFocus);
this.monthWidget=this._createMonthWidget();
this.set("currentFocus",_1582,false);
},postCreate:function(){
this.inherited(arguments);
this._connectControls();
},_connectControls:function(){
var _1583=lang.hitch(this,function(_1584,part,_1585){
return on(this[_1584],"click",lang.hitch(this,function(){
this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,part,_1585));
}));
});
this.own(_1583("incrementMonth","month",1),_1583("decrementMonth","month",-1),_1583("nextYearLabelNode","year",1),_1583("previousYearLabelNode","year",-1));
},_setCurrentFocusAttr:function(date,_1586){
var _1587=this.currentFocus,_1588=this._getNodeByDate(_1587);
date=this._patchDate(date);
this._set("currentFocus",date);
if(!this._date2cell||this.dateModule.difference(_1587,date,"month")!=0){
this._populateGrid();
this._populateControls();
this._markSelectedDates([this.value]);
}
var _1589=this._getNodeByDate(date);
_1589.setAttribute("tabIndex",this.tabIndex);
if(this.focused||_1586){
_1589.focus();
}
if(_1588&&_1588!=_1589){
if(has("webkit")){
_1588.setAttribute("tabIndex","-1");
}else{
_1588.removeAttribute("tabIndex");
}
}
},focus:function(){
this._setCurrentFocusAttr(this.currentFocus,true);
},_onDayClick:function(evt){
evt.stopPropagation();
evt.preventDefault();
for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){
}
if(node&&!_156e.contains(node,"dijitCalendarDisabledDate")){
this.set("value",node.dijitDateValue);
}
},_getNodeByDate:function(value){
value=this._patchDate(value);
return value&&this._date2cell?this._date2cell[value.valueOf()]:null;
},_markSelectedDates:function(dates){
function mark(_158a,cell){
_156e.toggle(cell,"dijitCalendarSelectedDate",_158a);
cell.setAttribute("aria-selected",_158a?"true":"false");
};
array.forEach(this._selectedCells||[],lang.partial(mark,false));
this._selectedCells=array.filter(array.map(dates,this._getNodeByDate,this),function(n){
return n;
});
array.forEach(this._selectedCells,lang.partial(mark,true));
},onChange:function(){
},isDisabledDate:function(){
},getClassForDate:function(){
}});
_1573._MonthWidget=_156b("dijit.CalendarLite._MonthWidget",_1570,{_setMonthAttr:function(month){
var _158b=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month),_158c=(has("ie")==6?"":"<div class='dijitSpacer'>"+array.map(_158b,function(s){
return "<div>"+s+"</div>";
}).join("")+"</div>");
this.domNode.innerHTML=_158c+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_158b[month.getMonth()]+"</div>";
}});
return _1573;
});
},"dojo/parser":function(){
define(["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./dom","./_base/window","./_base/url","./aspect","./promise/all","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_158d,dojo,dlang,_158e,_158f,dom,_1590,_1591,_1592,all,dates,_1593,has,query,don,ready){
new Date("X");
function _1594(text){
return eval("("+text+")");
};
var _1595=0;
_1592.after(dlang,"extend",function(){
_1595++;
},true);
function _1596(ctor){
var map=ctor._nameCaseMap,proto=ctor.prototype;
if(!map||map._extendCnt<_1595){
map=ctor._nameCaseMap={};
for(var name in proto){
if(name.charAt(0)==="_"){
continue;
}
map[name.toLowerCase()]=name;
}
map._extendCnt=_1595;
}
return map;
};
var _1597={};
function _1598(types,_1599){
var ts=types.join();
if(!_1597[ts]){
var _159a=[];
for(var i=0,l=types.length;i<l;i++){
var t=types[i];
_159a[_159a.length]=(_1597[t]=_1597[t]||(dlang.getObject(t)||(~t.indexOf("/")&&(_1599?_1599(t):_158d(t)))));
}
var ctor=_159a.shift();
_1597[ts]=_159a.length?(ctor.createSubclass?ctor.createSubclass(_159a):ctor.extend.apply(ctor,_159a)):ctor;
}
return _1597[ts];
};
var _159b={_clearCache:function(){
_1595++;
_1597={};
},_functionFromScript:function(_159c,_159d){
var _159e="",_159f="",_15a0=(_159c.getAttribute(_159d+"args")||_159c.getAttribute("args")),_15a1=_159c.getAttribute("with");
var _15a2=(_15a0||"").split(/\s*,\s*/);
if(_15a1&&_15a1.length){
_158e.forEach(_15a1.split(/\s*,\s*/),function(part){
_159e+="with("+part+"){";
_159f+="}";
});
}
return new Function(_15a2,_159e+_159c.innerHTML+_159f);
},instantiate:function(nodes,mixin,_15a3){
mixin=mixin||{};
_15a3=_15a3||{};
var _15a4=(_15a3.scope||dojo._scopeName)+"Type",_15a5="data-"+(_15a3.scope||dojo._scopeName)+"-",_15a6=_15a5+"type",_15a7=_15a5+"mixins";
var list=[];
_158e.forEach(nodes,function(node){
var type=_15a4 in mixin?mixin[_15a4]:node.getAttribute(_15a6)||node.getAttribute(_15a4);
if(type){
var _15a8=node.getAttribute(_15a7),types=_15a8?[type].concat(_15a8.split(/\s*,\s*/)):[type];
list.push({node:node,types:types});
}
});
return this._instantiate(list,mixin,_15a3);
},_instantiate:function(nodes,mixin,_15a9,_15aa){
var _15ab=_158e.map(nodes,function(obj){
var ctor=obj.ctor||_1598(obj.types,_15a9.contextRequire);
if(!ctor){
throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");
}
return this.construct(ctor,obj.node,mixin,_15a9,obj.scripts,obj.inherited);
},this);
function _15ac(_15ad){
if(!mixin._started&&!_15a9.noStart){
_158e.forEach(_15ad,function(_15ae){
if(typeof _15ae.startup==="function"&&!_15ae._started){
_15ae.startup();
}
});
}
return _15ad;
};
if(_15aa){
return all(_15ab).then(_15ac);
}else{
return _15ac(_15ab);
}
},construct:function(ctor,node,mixin,_15af,_15b0,_15b1){
var proto=ctor&&ctor.prototype;
_15af=_15af||{};
var _15b2={};
if(_15af.defaults){
dlang.mixin(_15b2,_15af.defaults);
}
if(_15b1){
dlang.mixin(_15b2,_15b1);
}
var _15b3;
if(has("dom-attributes-explicit")){
_15b3=node.attributes;
}else{
if(has("dom-attributes-specified-flag")){
_15b3=_158e.filter(node.attributes,function(a){
return a.specified;
});
}else{
var clone=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),attrs=clone.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");
_15b3=_158e.map(attrs.split(/\s+/),function(name){
var _15b4=name.toLowerCase();
return {name:name,value:(node.nodeName=="LI"&&name=="value")||_15b4=="enctype"?node.getAttribute(_15b4):node.getAttributeNode(_15b4).value};
});
}
}
var scope=_15af.scope||dojo._scopeName,_15b5="data-"+scope+"-",hash={};
if(scope!=="dojo"){
hash[_15b5+"props"]="data-dojo-props";
hash[_15b5+"type"]="data-dojo-type";
hash[_15b5+"mixins"]="data-dojo-mixins";
hash[scope+"type"]="dojoType";
hash[_15b5+"id"]="data-dojo-id";
}
var i=0,item,_15b6=[],_15b7,extra;
while(item=_15b3[i++]){
var name=item.name,_15b8=name.toLowerCase(),value=item.value;
switch(hash[_15b8]||_15b8){
case "data-dojo-type":
case "dojotype":
case "data-dojo-mixins":
break;
case "data-dojo-props":
extra=value;
break;
case "data-dojo-id":
case "jsid":
_15b7=value;
break;
case "data-dojo-attach-point":
case "dojoattachpoint":
_15b2.dojoAttachPoint=value;
break;
case "data-dojo-attach-event":
case "dojoattachevent":
_15b2.dojoAttachEvent=value;
break;
case "class":
_15b2["class"]=node.className;
break;
case "style":
_15b2["style"]=node.style&&node.style.cssText;
break;
default:
if(!(name in proto)){
var map=_1596(ctor);
name=map[_15b8]||name;
}
if(name in proto){
switch(typeof proto[name]){
case "string":
_15b2[name]=value;
break;
case "number":
_15b2[name]=value.length?Number(value):NaN;
break;
case "boolean":
_15b2[name]=value.toLowerCase()!="false";
break;
case "function":
if(value===""||value.search(/[^\w\.]+/i)!=-1){
_15b2[name]=new Function(value);
}else{
_15b2[name]=dlang.getObject(value,false)||new Function(value);
}
_15b6.push(name);
break;
default:
var pVal=proto[name];
_15b2[name]=(pVal&&"length" in pVal)?(value?value.split(/\s*,\s*/):[]):(pVal instanceof Date)?(value==""?new Date(""):value=="now"?new Date():dates.fromISOString(value)):(pVal instanceof _1591)?(dojo.baseUrl+value):_1594(value);
}
}else{
_15b2[name]=value;
}
}
}
for(var j=0;j<_15b6.length;j++){
var _15b9=_15b6[j].toLowerCase();
node.removeAttribute(_15b9);
node[_15b9]=null;
}
if(extra){
try{
extra=_1594.call(_15af.propsThis,"{"+extra+"}");
dlang.mixin(_15b2,extra);
}
catch(e){
throw new Error(e.toString()+" in data-dojo-props='"+extra+"'");
}
}
dlang.mixin(_15b2,mixin);
if(!_15b0){
_15b0=(ctor&&(ctor._noScript||proto._noScript)?[]:query("> script[type^='dojo/']",node));
}
var _15ba=[],calls=[],_15bb=[],ons=[];
if(_15b0){
for(i=0;i<_15b0.length;i++){
var _15bc=_15b0[i];
node.removeChild(_15bc);
var event=(_15bc.getAttribute(_15b5+"event")||_15bc.getAttribute("event")),prop=_15bc.getAttribute(_15b5+"prop"),_15bd=_15bc.getAttribute(_15b5+"method"),_15be=_15bc.getAttribute(_15b5+"advice"),_15bf=_15bc.getAttribute("type"),nf=this._functionFromScript(_15bc,_15b5);
if(event){
if(_15bf=="dojo/connect"){
_15ba.push({method:event,func:nf});
}else{
if(_15bf=="dojo/on"){
ons.push({event:event,func:nf});
}else{
_15b2[event]=nf;
}
}
}else{
if(_15bf=="dojo/aspect"){
_15ba.push({method:_15bd,advice:_15be,func:nf});
}else{
if(_15bf=="dojo/watch"){
_15bb.push({prop:prop,func:nf});
}else{
calls.push(nf);
}
}
}
}
}
var _15c0=ctor.markupFactory||proto.markupFactory;
var _15c1=_15c0?_15c0(_15b2,node,ctor):new ctor(_15b2,node);
function _15c2(_15c3){
if(_15b7){
dlang.setObject(_15b7,_15c3);
}
for(i=0;i<_15ba.length;i++){
_1592[_15ba[i].advice||"after"](_15c3,_15ba[i].method,dlang.hitch(_15c3,_15ba[i].func),true);
}
for(i=0;i<calls.length;i++){
calls[i].call(_15c3);
}
for(i=0;i<_15bb.length;i++){
_15c3.watch(_15bb[i].prop,_15bb[i].func);
}
for(i=0;i<ons.length;i++){
don(_15c3,ons[i].event,ons[i].func);
}
return _15c3;
};
if(_15c1.then){
return _15c1.then(_15c2);
}else{
return _15c2(_15c1);
}
},scan:function(root,_15c4){
var list=[],mids=[],_15c5={};
var _15c6=(_15c4.scope||dojo._scopeName)+"Type",_15c7="data-"+(_15c4.scope||dojo._scopeName)+"-",_15c8=_15c7+"type",_15c9=_15c7+"textdir",_15ca=_15c7+"mixins";
var node=root.firstChild;
var _15cb=_15c4.inherited;
if(!_15cb){
function _15cc(node,attr){
return (node.getAttribute&&node.getAttribute(attr))||(node.parentNode&&_15cc(node.parentNode,attr));
};
_15cb={dir:_15cc(root,"dir"),lang:_15cc(root,"lang"),textDir:_15cc(root,_15c9)};
for(var key in _15cb){
if(!_15cb[key]){
delete _15cb[key];
}
}
}
var _15cd={inherited:_15cb};
var _15ce;
var _15cf;
function _15d0(_15d1){
if(!_15d1.inherited){
_15d1.inherited={};
var node=_15d1.node,_15d2=_15d0(_15d1.parent);
var _15d3={dir:node.getAttribute("dir")||_15d2.dir,lang:node.getAttribute("lang")||_15d2.lang,textDir:node.getAttribute(_15c9)||_15d2.textDir};
for(var key in _15d3){
if(_15d3[key]){
_15d1.inherited[key]=_15d3[key];
}
}
}
return _15d1.inherited;
};
while(true){
if(!node){
if(!_15cd||!_15cd.node){
break;
}
node=_15cd.node.nextSibling;
_15cf=false;
_15cd=_15cd.parent;
_15ce=_15cd.scripts;
continue;
}
if(node.nodeType!=1){
node=node.nextSibling;
continue;
}
if(_15ce&&node.nodeName.toLowerCase()=="script"){
type=node.getAttribute("type");
if(type&&/^dojo\/\w/i.test(type)){
_15ce.push(node);
}
node=node.nextSibling;
continue;
}
if(_15cf){
node=node.nextSibling;
continue;
}
var type=node.getAttribute(_15c8)||node.getAttribute(_15c6);
var _15d4=node.firstChild;
if(!type&&(!_15d4||(_15d4.nodeType==3&&!_15d4.nextSibling))){
node=node.nextSibling;
continue;
}
var _15d5;
var ctor=null;
if(type){
var _15d6=node.getAttribute(_15ca),types=_15d6?[type].concat(_15d6.split(/\s*,\s*/)):[type];
try{
ctor=_1598(types,_15c4.contextRequire);
}
catch(e){
}
if(!ctor){
_158e.forEach(types,function(t){
if(~t.indexOf("/")&&!_15c5[t]){
_15c5[t]=true;
mids[mids.length]=t;
}
});
}
var _15d7=ctor&&!ctor.prototype._noScript?[]:null;
_15d5={types:types,ctor:ctor,parent:_15cd,node:node,scripts:_15d7};
_15d5.inherited=_15d0(_15d5);
list.push(_15d5);
}else{
_15d5={node:node,scripts:_15ce,parent:_15cd};
}
_15ce=_15d7;
_15cf=node.stopParser||(ctor&&ctor.prototype.stopParser&&!(_15c4.template));
_15cd=_15d5;
node=_15d4;
}
var d=new _1593();
if(mids.length){
if(has("dojo-debug-messages")){
console.warn("WARNING: Modules being Auto-Required: "+mids.join(", "));
}
var r=_15c4.contextRequire||_158d;
r(mids,function(){
d.resolve(_158e.filter(list,function(_15d8){
if(!_15d8.ctor){
try{
_15d8.ctor=_1598(_15d8.types,_15c4.contextRequire);
}
catch(e){
}
}
var _15d9=_15d8.parent;
while(_15d9&&!_15d9.types){
_15d9=_15d9.parent;
}
var proto=_15d8.ctor&&_15d8.ctor.prototype;
_15d8.instantiateChildren=!(proto&&proto.stopParser&&!(_15c4.template));
_15d8.instantiate=!_15d9||(_15d9.instantiate&&_15d9.instantiateChildren);
return _15d8.instantiate;
}));
});
}else{
d.resolve(list);
}
return d.promise;
},_require:function(_15da,_15db){
var hash=_1594("{"+_15da.innerHTML+"}"),vars=[],mids=[],d=new _1593();
var _15dc=(_15db&&_15db.contextRequire)||_158d;
for(var name in hash){
vars.push(name);
mids.push(hash[name]);
}
_15dc(mids,function(){
for(var i=0;i<vars.length;i++){
dlang.setObject(vars[i],arguments[i]);
}
d.resolve(arguments);
});
return d.promise;
},_scanAmd:function(root,_15dd){
var _15de=new _1593(),_15df=_15de.promise;
_15de.resolve(true);
var self=this;
query("script[type='dojo/require']",root).forEach(function(node){
_15df=_15df.then(function(){
return self._require(node,_15dd);
});
node.parentNode.removeChild(node);
});
return _15df;
},parse:function(_15e0,_15e1){
var root;
if(!_15e1&&_15e0&&_15e0.rootNode){
_15e1=_15e0;
root=_15e1.rootNode;
}else{
if(_15e0&&dlang.isObject(_15e0)&&!("nodeType" in _15e0)){
_15e1=_15e0;
}else{
root=_15e0;
}
}
root=root?dom.byId(root):_1590.body();
_15e1=_15e1||{};
var mixin=_15e1.template?{template:true}:{},_15e2=[],self=this;
var p=this._scanAmd(root,_15e1).then(function(){
return self.scan(root,_15e1);
}).then(function(_15e3){
return self._instantiate(_15e3,mixin,_15e1,true);
}).then(function(_15e4){
return _15e2=_15e2.concat(_15e4);
}).otherwise(function(e){
console.error("dojo/parser::parse() error",e);
throw e;
});
dlang.mixin(_15e2,p);
return _15e2;
}};
if(1){
dojo.parser=_159b;
}
if(_158f.parseOnLoad){
ready(100,_159b,"parse");
}
return _159b;
});
},"dijit/Toolbar":function(){
define(["require","dojo/_base/declare","dojo/has","dojo/keys","dojo/ready","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_15e5,_15e6,has,keys,ready,_15e7,_15e8,_15e9){
if(has("dijit-legacy-requires")){
ready(0,function(){
var _15ea=["dijit/ToolbarSeparator"];
_15e5(_15ea);
});
}
return _15e6("dijit.Toolbar",[_15e7,_15e9,_15e8],{templateString:"<div class=\"dijit\" role=\"toolbar\" tabIndex=\"${tabIndex}\" data-dojo-attach-point=\"containerNode\">"+"</div>",baseClass:"dijitToolbar",_onLeftArrow:function(){
this.focusPrev();
},_onRightArrow:function(){
this.focusNext();
}});
});
},"dojo/promise/all":function(){
define(["../_base/array","../Deferred","../when"],function(array,_15eb,when){
"use strict";
var some=array.some;
return function all(_15ec){
var _15ed,array;
if(_15ec instanceof Array){
array=_15ec;
}else{
if(_15ec&&typeof _15ec==="object"){
_15ed=_15ec;
}
}
var _15ee;
var _15ef=[];
if(_15ed){
array=[];
for(var key in _15ed){
if(Object.hasOwnProperty.call(_15ed,key)){
_15ef.push(key);
array.push(_15ed[key]);
}
}
_15ee={};
}else{
if(array){
_15ee=[];
}
}
if(!array||!array.length){
return new _15eb().resolve(_15ee);
}
var _15f0=new _15eb();
_15f0.promise.always(function(){
_15ee=_15ef=null;
});
var _15f1=array.length;
some(array,function(_15f2,index){
if(!_15ed){
_15ef.push(index);
}
when(_15f2,function(value){
if(!_15f0.isFulfilled()){
_15ee[_15ef[index]]=value;
if(--_15f1===0){
_15f0.resolve(_15ee);
}
}
},_15f0.reject);
return _15f0.isFulfilled();
});
return _15f0.promise;
};
});
},"dijit/form/nls/pt/validate":function(){
define(({invalidMessage:"O valor inserido não é válido.",missingMessage:"Este valor é necessário.",rangeMessage:"Este valor está fora do intervalo. "}));
},"dijit/form/_Spinner":function(){
define(["dojo/_base/declare","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/mouse","dojo/on","../typematic","./RangeBoundTextBox","dojo/text!./templates/Spinner.html","./_TextBoxMixin"],function(_15f3,keys,lang,has,mouse,on,_15f4,_15f5,_15f6,_15f7){
return _15f3("dijit.form._Spinner",_15f5,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:_15f6,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{"upArrowNode":"dijitUpArrowButton","downArrowNode":"dijitDownArrowButton"},adjust:function(val){
return val;
},_arrowPressed:function(_15f8,_15f9,_15fa){
if(this.disabled||this.readOnly){
return;
}
this._setValueAttr(this.adjust(this.get("value"),_15f9*_15fa),false);
_15f7.selectInputText(this.textbox,this.textbox.value.length);
},_arrowReleased:function(){
this._wheelTimer=null;
},_typematicCallback:function(count,node,evt){
var inc=this.smallDelta;
if(node==this.textbox){
var key=evt.keyCode;
inc=(key==keys.PAGE_UP||key==keys.PAGE_DOWN)?this.largeDelta:this.smallDelta;
node=(key==keys.UP_ARROW||key==keys.PAGE_UP)?this.upArrowNode:this.downArrowNode;
}
if(count==-1){
this._arrowReleased(node);
}else{
this._arrowPressed(node,(node==this.upArrowNode)?1:-1,inc);
}
},_wheelTimer:null,_mouseWheeled:function(evt){
evt.stopPropagation();
evt.preventDefault();
var _15fb=evt.wheelDelta/120;
if(Math.floor(_15fb)!=_15fb){
_15fb=evt.wheelDelta>0?1:-1;
}
var _15fc=evt.detail?(evt.detail*-1):_15fb;
if(_15fc!==0){
var node=this[(_15fc>0?"upArrowNode":"downArrowNode")];
this._arrowPressed(node,_15fc,this.smallDelta);
if(this._wheelTimer){
this._wheelTimer.remove();
}
this._wheelTimer=this.defer(function(){
this._arrowReleased(node);
},50);
}
},_setConstraintsAttr:function(_15fd){
this.inherited(arguments);
if(this.focusNode){
if(this.constraints.min!==undefined){
this.focusNode.setAttribute("aria-valuemin",this.constraints.min);
}else{
this.focusNode.removeAttribute("aria-valuemin");
}
if(this.constraints.max!==undefined){
this.focusNode.setAttribute("aria-valuemax",this.constraints.max);
}else{
this.focusNode.removeAttribute("aria-valuemax");
}
}
},_setValueAttr:function(value,_15fe){
this.focusNode.setAttribute("aria-valuenow",value);
this.inherited(arguments);
},postCreate:function(){
this.inherited(arguments);
this.own(on(this.domNode,mouse.wheel,lang.hitch(this,"_mouseWheeled")),_15f4.addListener(this.upArrowNode,this.textbox,{keyCode:keys.UP_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_15f4.addListener(this.downArrowNode,this.textbox,{keyCode:keys.DOWN_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_15f4.addListener(this.upArrowNode,this.textbox,{keyCode:keys.PAGE_UP,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_15f4.addListener(this.downArrowNode,this.textbox,{keyCode:keys.PAGE_DOWN,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));
}});
});
},"dijit/nls/loading":function(){
define({root:({loadingState:"Loading...",errorState:"Sorry, an error occurred"}),"zh":true,"zh-tw":true,"uk":true,"tr":true,"th":true,"sv":true,"sl":true,"sk":true,"ru":true,"ro":true,"pt":true,"pt-pt":true,"pl":true,"nl":true,"nb":true,"ko":true,"kk":true,"ja":true,"it":true,"hu":true,"hr":true,"he":true,"fr":true,"fi":true,"es":true,"el":true,"de":true,"da":true,"cs":true,"ca":true,"bg":true,"az":true,"ar":true});
},"dijit/nls/pt/loading":function(){
define(({loadingState:"Carregando...",errorState:"Desculpe, ocorreu um erro"}));
},"dijit/nls/pt/loading":function(){
define(({loadingState:"Carregando...",errorState:"Desculpe, ocorreu um erro"}));
},"manager/nls/messages":function(){
define("manager/nls/messages",{root:{PRINT_FILE:"Aguarde a geração do relatório.\nO resultado será exibido em uma nova janela.",INVALID_CHAR:"Invalid character."},"pt-br.utf8":1,"pt":1,"pt-br":1,"en-us":1});
},"manager/nls/pt/messages":function(){
define("manager/nls/pt/messages",{});
},"manager/nls/pt-br/messages":function(){
define("manager/nls/pt-br/messages",{PRINT_FILE:"Aguarde a geração do relatório.\nO resultado será exibido em uma nova janela.",SHOW_PDF:"Aguarde a geração do arquivo PDF.\nO resultado será exibido em uma nova janela.",PLEASE_WAIT:"Aguarde...",INVALID_CHAR:"Caracter inválido."});
},"manager/nls/pt/messages":function(){
define("manager/nls/pt/messages",{});
},"manager/DataGrid":function(){
define("manager/DataGrid",["dojo/_base/declare","dojox/grid/DataGrid"],function(_15ff,_1600){
return _15ff("Manager.DataGrid",[_1600],{constructor:function(name,page){
this.obj=this;
this.name=name;
this.page=page;
this.widget=null;
},canSort:function(i){
return (i!=3);
},get:function(_1601){
return [this.index,_1601].join(", ");
},removeEscape:function(value){
return value?value.replace("&lt","<"):"";
},goPage:function(_1602){
manager.setElementValueById("_PAGING","yes");
manager.setElementValueById(this.name+"_PAGE",this.page);
manager.setElementValueById(this.name+"_GOPAGE",_1602);
manager.setElementValueById("_GRIDNAME",this.name);
manager.doPostBack(this.name);
}});
});
},"dojox/grid/_View":function(){
define(["dojo","dijit/registry","../main","dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/_base/connect","dojo/_base/sniff","dojo/query","dojo/_base/window","dojo/text!./resources/View.html","dojo/dnd/Source","dijit/_Widget","dijit/_TemplatedMixin","dojox/html/metrics","./util","dojo/_base/html","./_Builder","dojo/dnd/Avatar","dojo/dnd/Manager"],function(dojo,dijit,dojox,_1603,array,lang,_1604,has,query,win,_1605,_1606,_1607,_1608,_1609,util,html,_160a,_160b,_160c){
var _160d=function(_160e,_160f){
return _160e.style.cssText==undefined?_160e.getAttribute("style"):_160e.style.cssText;
};
var _1610=_1603("dojox.grid._View",[_1607,_1608],{defaultWidth:"18em",viewWidth:"",templateString:_1605,classTag:"dojoxGrid",marginBottom:0,rowPad:2,_togglingColumn:-1,_headerBuilderClass:_160a._HeaderBuilder,_contentBuilderClass:_160a._ContentBuilder,postMixInProperties:function(){
this.rowNodes={};
},postCreate:function(){
this.connect(this.scrollboxNode,"onscroll","doscroll");
util.funnelEvents(this.contentNode,this,"doContentEvent",["mouseover","mouseout","click","dblclick","contextmenu","mousedown"]);
util.funnelEvents(this.headerNode,this,"doHeaderEvent",["dblclick","mouseover","mouseout","mousemove","mousedown","click","contextmenu"]);
this.content=new this._contentBuilderClass(this);
this.header=new this._headerBuilderClass(this);
if(!this.grid.isLeftToRight()){
this.headerNodeContainer.style.width="";
}
},destroy:function(){
html.destroy(this.headerNode);
delete this.headerNode;
for(var i in this.rowNodes){
this._cleanupRowWidgets(this.rowNodes[i]);
html.destroy(this.rowNodes[i]);
}
this.rowNodes={};
if(this.source){
this.source.destroy();
}
this.inherited(arguments);
},focus:function(){
if(has("ie")||has("webkit")||has("opera")){
this.hiddenFocusNode.focus();
}else{
this.scrollboxNode.focus();
}
},setStructure:function(_1611){
var vs=(this.structure=_1611);
if(vs.width&&!isNaN(vs.width)){
this.viewWidth=vs.width+"em";
}else{
this.viewWidth=vs.width||(vs.noscroll?"auto":this.viewWidth);
}
this._onBeforeRow=vs.onBeforeRow||function(){
};
this._onAfterRow=vs.onAfterRow||function(){
};
this.noscroll=vs.noscroll;
if(this.noscroll){
this.scrollboxNode.style.overflow="hidden";
}
this.simpleStructure=Boolean(vs.cells.length==1);
this.testFlexCells();
this.updateStructure();
},_cleanupRowWidgets:function(_1612){
if(_1612){
array.forEach(query("[widgetId]",_1612).map(dijit.byNode),function(w){
if(w._destroyOnRemove){
w.destroy();
delete w;
}else{
if(w.domNode&&w.domNode.parentNode){
w.domNode.parentNode.removeChild(w.domNode);
}
}
});
}
},onBeforeRow:function(_1613,cells){
this._onBeforeRow(_1613,cells);
if(_1613>=0){
this._cleanupRowWidgets(this.getRowNode(_1613));
}
},onAfterRow:function(_1614,cells,_1615){
this._onAfterRow(_1614,cells,_1615);
var g=this.grid;
array.forEach(query(".dojoxGridStubNode",_1615),function(n){
if(n&&n.parentNode){
var lw=n.getAttribute("linkWidget");
var _1616=window.parseInt(html.attr(n,"cellIdx"),10);
var _1617=g.getCell(_1616);
var w=dijit.byId(lw);
if(w){
n.parentNode.replaceChild(w.domNode,n);
if(!w._started){
w.startup();
}
dojo.destroy(n);
}else{
n.innerHTML="";
}
}
},this);
},testFlexCells:function(){
this.flexCells=false;
for(var j=0,row;(row=this.structure.cells[j]);j++){
for(var i=0,cell;(cell=row[i]);i++){
cell.view=this;
this.flexCells=this.flexCells||cell.isFlex();
}
}
return this.flexCells;
},updateStructure:function(){
this.header.update();
this.content.update();
},getScrollbarWidth:function(){
var _1618=this.hasVScrollbar();
var _1619=html.style(this.scrollboxNode,"overflow");
if(this.noscroll||!_1619||_1619=="hidden"){
_1618=false;
}else{
if(_1619=="scroll"){
_1618=true;
}
}
return (_1618?_1609.getScrollbar().w:0);
},getColumnsWidth:function(){
var h=this.headerContentNode;
return h&&h.firstChild?(h.firstChild.offsetWidth||html.style(h.firstChild,"width")):0;
},setColumnsWidth:function(width){
this.headerContentNode.firstChild.style.width=width+"px";
if(this.viewWidth){
this.viewWidth=width+"px";
}
},getWidth:function(){
return this.viewWidth||(this.getColumnsWidth()+this.getScrollbarWidth())+"px";
},getContentWidth:function(){
return Math.max(0,html._getContentBox(this.domNode).w-this.getScrollbarWidth())+"px";
},render:function(){
this.scrollboxNode.style.height="";
this.renderHeader();
if(this._togglingColumn>=0){
this.setColumnsWidth(this.getColumnsWidth()-this._togglingColumn);
this._togglingColumn=-1;
}
var cells=this.grid.layout.cells;
var _161a=lang.hitch(this,function(node,_161b){
!this.grid.isLeftToRight()&&(_161b=!_161b);
var inc=_161b?-1:1;
var idx=this.header.getCellNodeIndex(node)+inc;
var cell=cells[idx];
while(cell&&cell.getHeaderNode()&&cell.getHeaderNode().style.display=="none"){
idx+=inc;
cell=cells[idx];
}
if(cell){
return cell.getHeaderNode();
}
return null;
});
if(this.grid.columnReordering&&this.simpleStructure){
if(this.source){
this.source.destroy();
}
var _161c="dojoxGrid_bottomMarker";
var _161d="dojoxGrid_topMarker";
if(this.bottomMarker){
html.destroy(this.bottomMarker);
}
this.bottomMarker=html.byId(_161c);
if(this.topMarker){
html.destroy(this.topMarker);
}
this.topMarker=html.byId(_161d);
if(!this.bottomMarker){
this.bottomMarker=html.create("div",{"id":_161c,"class":"dojoxGridColPlaceBottom"},win.body());
this._hide(this.bottomMarker);
this.topMarker=html.create("div",{"id":_161d,"class":"dojoxGridColPlaceTop"},win.body());
this._hide(this.topMarker);
}
this.arrowDim=html.contentBox(this.bottomMarker);
var _161e=html.contentBox(this.headerContentNode.firstChild.rows[0]).h;
this.source=new _1606(this.headerContentNode.firstChild.rows[0],{horizontal:true,accept:["gridColumn_"+this.grid.id],viewIndex:this.index,generateText:false,onMouseDown:lang.hitch(this,function(e){
this.header.decorateEvent(e);
if((this.header.overRightResizeArea(e)||this.header.overLeftResizeArea(e))&&this.header.canResize(e)&&!this.header.moveable){
this.header.beginColumnResize(e);
}else{
if(this.grid.headerMenu){
this.grid.headerMenu.onCancel(true);
}
if(e.button===(has("ie")<9?1:0)){
_1606.prototype.onMouseDown.call(this.source,e);
}
}
}),onMouseOver:lang.hitch(this,function(e){
var src=this.source;
if(src._getChildByEvent(e)){
_1606.prototype.onMouseOver.apply(src,arguments);
}
}),_markTargetAnchor:lang.hitch(this,function(_161f){
var src=this.source;
if(src.current==src.targetAnchor&&src.before==_161f){
return;
}
if(src.targetAnchor&&_161a(src.targetAnchor,src.before)){
src._removeItemClass(_161a(src.targetAnchor,src.before),src.before?"After":"Before");
}
_1606.prototype._markTargetAnchor.call(src,_161f);
var _1620=_161f?src.targetAnchor:_161a(src.targetAnchor,src.before);
var _1621=0;
if(!_1620){
_1620=src.targetAnchor;
_1621=html.contentBox(_1620).w+this.arrowDim.w/2+2;
}
var pos=html.position(_1620,true);
var left=Math.floor(pos.x-this.arrowDim.w/2+_1621);
html.style(this.bottomMarker,"visibility","visible");
html.style(this.topMarker,"visibility","visible");
html.style(this.bottomMarker,{"left":left+"px","top":(_161e+pos.y)+"px"});
html.style(this.topMarker,{"left":left+"px","top":(pos.y-this.arrowDim.h)+"px"});
if(src.targetAnchor&&_161a(src.targetAnchor,src.before)){
src._addItemClass(_161a(src.targetAnchor,src.before),src.before?"After":"Before");
}
}),_unmarkTargetAnchor:lang.hitch(this,function(){
var src=this.source;
if(!src.targetAnchor){
return;
}
if(src.targetAnchor&&_161a(src.targetAnchor,src.before)){
src._removeItemClass(_161a(src.targetAnchor,src.before),src.before?"After":"Before");
}
this._hide(this.bottomMarker);
this._hide(this.topMarker);
_1606.prototype._unmarkTargetAnchor.call(src);
}),destroy:lang.hitch(this,function(){
_1604.disconnect(this._source_conn);
_1604.unsubscribe(this._source_sub);
_1606.prototype.destroy.call(this.source);
if(this.bottomMarker){
html.destroy(this.bottomMarker);
delete this.bottomMarker;
}
if(this.topMarker){
html.destroy(this.topMarker);
delete this.topMarker;
}
}),onDndCancel:lang.hitch(this,function(){
_1606.prototype.onDndCancel.call(this.source);
this._hide(this.bottomMarker);
this._hide(this.topMarker);
})});
this._source_conn=_1604.connect(this.source,"onDndDrop",this,"_onDndDrop");
this._source_sub=_1604.subscribe("/dnd/drop/before",this,"_onDndDropBefore");
this.source.startup();
}
},_hide:function(node){
html.style(node,{top:"-10000px","visibility":"hidden"});
},_onDndDropBefore:function(_1622,nodes,copy){
if(_160c.manager().target!==this.source){
return;
}
this.source._targetNode=this.source.targetAnchor;
this.source._beforeTarget=this.source.before;
var views=this.grid.views.views;
var _1623=views[_1622.viewIndex];
var _1624=views[this.index];
if(_1624!=_1623){
_1623.convertColPctToFixed();
_1624.convertColPctToFixed();
}
},_onDndDrop:function(_1625,nodes,copy){
if(_160c.manager().target!==this.source){
if(_160c.manager().source===this.source){
this._removingColumn=true;
}
return;
}
this._hide(this.bottomMarker);
this._hide(this.topMarker);
var _1626=function(n){
return n?html.attr(n,"idx"):null;
};
var w=html.marginBox(nodes[0]).w;
if(_1625.viewIndex!==this.index){
var views=this.grid.views.views;
var _1627=views[_1625.viewIndex];
var _1628=views[this.index];
if(_1627.viewWidth&&_1627.viewWidth!="auto"){
_1627.setColumnsWidth(_1627.getColumnsWidth()-w);
}
if(_1628.viewWidth&&_1628.viewWidth!="auto"){
_1628.setColumnsWidth(_1628.getColumnsWidth());
}
}
var stn=this.source._targetNode;
var stb=this.source._beforeTarget;
!this.grid.isLeftToRight()&&(stb=!stb);
var _1629=this.grid.layout;
var idx=this.index;
delete this.source._targetNode;
delete this.source._beforeTarget;
_1629.moveColumn(_1625.viewIndex,idx,_1626(nodes[0]),_1626(stn),stb);
},renderHeader:function(){
this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);
if(this.flexCells){
this.contentWidth=this.getContentWidth();
this.headerContentNode.firstChild.style.width=this.contentWidth;
}
util.fire(this,"onAfterRow",[-1,this.structure.cells,this.headerContentNode]);
},_getHeaderContent:function(_162a){
var n=_162a.name||_162a.grid.getCellName(_162a);
if(/^\s+$/.test(n)){
n="&nbsp;";
}
var ret=["<div class=\"dojoxGridSortNode"];
if(_162a.index!=_162a.grid.getSortIndex()){
ret.push("\">");
}else{
ret=ret.concat([" ",_162a.grid.sortInfo>0?"dojoxGridSortUp":"dojoxGridSortDown","\"><div class=\"dojoxGridArrowButtonChar\">",_162a.grid.sortInfo>0?"&#9650;":"&#9660;","</div><div class=\"dojoxGridArrowButtonNode\" role=\"presentation\"></div>","<div class=\"dojoxGridColCaption\">"]);
}
ret=ret.concat([n,"</div></div>"]);
return ret.join("");
},resize:function(){
this.adaptHeight();
this.adaptWidth();
},hasHScrollbar:function(reset){
var _162b=this._hasHScroll||false;
if(this._hasHScroll==undefined||reset){
if(this.noscroll){
this._hasHScroll=false;
}else{
var style=html.style(this.scrollboxNode,"overflow");
if(style=="hidden"){
this._hasHScroll=false;
}else{
if(style=="scroll"){
this._hasHScroll=true;
}else{
this._hasHScroll=(this.scrollboxNode.offsetWidth-this.getScrollbarWidth()<this.contentNode.offsetWidth);
}
}
}
}
if(_162b!==this._hasHScroll){
this.grid.update();
}
return this._hasHScroll;
},hasVScrollbar:function(reset){
var _162c=this._hasVScroll||false;
if(this._hasVScroll==undefined||reset){
if(this.noscroll){
this._hasVScroll=false;
}else{
var style=html.style(this.scrollboxNode,"overflow");
if(style=="hidden"){
this._hasVScroll=false;
}else{
if(style=="scroll"){
this._hasVScroll=true;
}else{
this._hasVScroll=(this.scrollboxNode.scrollHeight>this.scrollboxNode.clientHeight);
}
}
}
}
if(_162c!==this._hasVScroll){
this.grid.update();
}
return this._hasVScroll;
},convertColPctToFixed:function(){
var _162d=false;
this.grid.initialWidth="";
var _162e=query("th",this.headerContentNode);
var _162f=array.map(_162e,function(c,vIdx){
var w=c.style.width;
html.attr(c,"vIdx",vIdx);
if(w&&w.slice(-1)=="%"){
_162d=true;
}else{
if(w&&w.slice(-2)=="px"){
return window.parseInt(w,10);
}
}
return html.contentBox(c).w;
});
if(_162d){
array.forEach(this.grid.layout.cells,function(cell,idx){
if(cell.view==this){
var _1630=cell.view.getHeaderCellNode(cell.index);
if(_1630&&html.hasAttr(_1630,"vIdx")){
var vIdx=window.parseInt(html.attr(_1630,"vIdx"));
this.setColWidth(idx,_162f[vIdx]);
html.removeAttr(_1630,"vIdx");
}
}
},this);
return true;
}
return false;
},adaptHeight:function(_1631){
if(!this.grid._autoHeight){
var h=(this.domNode.style.height&&parseInt(this.domNode.style.height.replace(/px/,""),10))||this.domNode.clientHeight;
var self=this;
var _1632=function(){
var v;
for(var i in self.grid.views.views){
v=self.grid.views.views[i];
if(v!==self&&v.hasHScrollbar()){
return true;
}
}
return false;
};
if(_1631||(this.noscroll&&_1632())){
h-=_1609.getScrollbar().h;
}
util.setStyleHeightPx(this.scrollboxNode,h);
}
this.hasVScrollbar(true);
},adaptWidth:function(){
if(this.flexCells){
this.contentWidth=this.getContentWidth();
this.headerContentNode.firstChild.style.width=this.contentWidth;
}
var w=this.scrollboxNode.offsetWidth-this.getScrollbarWidth();
if(!this._removingColumn){
w=Math.max(w,this.getColumnsWidth())+"px";
}else{
w=Math.min(w,this.getColumnsWidth())+"px";
this._removingColumn=false;
}
var cn=this.contentNode;
cn.style.width=w;
this.hasHScrollbar(true);
},setSize:function(w,h){
var ds=this.domNode.style;
var hs=this.headerNode.style;
if(w){
ds.width=w;
hs.width=w;
}
ds.height=(h>=0?h+"px":"");
},renderRow:function(_1633){
var _1634=this.createRowNode(_1633);
this.buildRow(_1633,_1634);
return _1634;
},createRowNode:function(_1635){
var node=document.createElement("div");
node.className=this.classTag+"Row";
if(this instanceof dojox.grid._RowSelector){
html.attr(node,"role","presentation");
}else{
html.attr(node,"role","row");
if(this.grid.selectionMode!="none"){
node.setAttribute("aria-selected","false");
}
}
node[util.gridViewTag]=this.id;
node[util.rowIndexTag]=_1635;
this.rowNodes[_1635]=node;
return node;
},buildRow:function(_1636,_1637){
this.buildRowContent(_1636,_1637);
this.styleRow(_1636,_1637);
},buildRowContent:function(_1638,_1639){
_1639.innerHTML=this.content.generateHtml(_1638,_1638);
if(this.flexCells&&this.contentWidth){
_1639.firstChild.style.width=this.contentWidth;
}
util.fire(this,"onAfterRow",[_1638,this.structure.cells,_1639]);
},rowRemoved:function(_163a){
if(_163a>=0){
this._cleanupRowWidgets(this.getRowNode(_163a));
}
this.grid.edit.save(this,_163a);
delete this.rowNodes[_163a];
},getRowNode:function(_163b){
return this.rowNodes[_163b];
},getCellNode:function(_163c,_163d){
var row=this.getRowNode(_163c);
if(row){
return this.content.getCellNode(row,_163d);
}
},getHeaderCellNode:function(_163e){
if(this.headerContentNode){
return this.header.getCellNode(this.headerContentNode,_163e);
}
},styleRow:function(_163f,_1640){
_1640._style=_160d(_1640);
this.styleRowNode(_163f,_1640);
},styleRowNode:function(_1641,_1642){
if(_1642){
this.doStyleRowNode(_1641,_1642);
}
},doStyleRowNode:function(_1643,_1644){
this.grid.styleRowNode(_1643,_1644);
},updateRow:function(_1645){
var _1646=this.getRowNode(_1645);
if(_1646){
_1646.style.height="";
this.buildRow(_1645,_1646);
}
return _1646;
},updateRowStyles:function(_1647){
this.styleRowNode(_1647,this.getRowNode(_1647));
},lastTop:0,firstScroll:0,_nativeScroll:false,doscroll:function(_1648){
if(has("ff")>=13||has("chrome")){
this._nativeScroll=true;
}
var isLtr=this.grid.isLeftToRight();
if(this.firstScroll<2){
if((!isLtr&&this.firstScroll==1)||(isLtr&&this.firstScroll===0)){
var s=html.marginBox(this.headerNodeContainer);
if(has("ie")){
this.headerNodeContainer.style.width=s.w+this.getScrollbarWidth()+"px";
}else{
if(has("mozilla")){
this.headerNodeContainer.style.width=s.w-this.getScrollbarWidth()+"px";
this.scrollboxNode.scrollLeft=isLtr?this.scrollboxNode.clientWidth-this.scrollboxNode.scrollWidth:this.scrollboxNode.scrollWidth-this.scrollboxNode.clientWidth;
}
}
}
this.firstScroll++;
}
this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;
var top=this.scrollboxNode.scrollTop;
if(top!==this.lastTop){
this.grid.scrollTo(top);
}
this._nativeScroll=false;
},setScrollTop:function(inTop){
this.lastTop=inTop;
if(!this._nativeScroll){
this.scrollboxNode.scrollTop=inTop;
}
return this.scrollboxNode.scrollTop;
},doContentEvent:function(e){
if(this.content.decorateEvent(e)){
this.grid.onContentEvent(e);
}
},doHeaderEvent:function(e){
if(this.header.decorateEvent(e)){
this.grid.onHeaderEvent(e);
}
},dispatchContentEvent:function(e){
return this.content.dispatchEvent(e);
},dispatchHeaderEvent:function(e){
return this.header.dispatchEvent(e);
},setColWidth:function(_1649,_164a){
this.grid.setCellWidth(_1649,_164a+"px");
},update:function(){
if(!this.domNode){
return;
}
this.content.update();
this.grid.update();
var left=this.scrollboxNode.scrollLeft;
this.scrollboxNode.scrollLeft=left;
this.headerNode.scrollLeft=left;
}});
var _164b=_1603("dojox.grid._GridAvatar",_160b,{construct:function(){
var dd=win.doc;
var a=dd.createElement("table");
a.cellPadding=a.cellSpacing="0";
a.className="dojoxGridDndAvatar";
a.style.position="absolute";
a.style.zIndex=1999;
a.style.margin="0px";
var b=dd.createElement("tbody");
var tr=dd.createElement("tr");
var td=dd.createElement("td");
var img=dd.createElement("td");
tr.className="dojoxGridDndAvatarItem";
img.className="dojoxGridDndAvatarItemImage";
img.style.width="16px";
var _164c=this.manager.source,node;
if(_164c.creator){
node=_164c._normalizedCreator(_164c.getItem(this.manager.nodes[0].id).data,"avatar").node;
}else{
node=this.manager.nodes[0].cloneNode(true);
var table,tbody;
if(node.tagName.toLowerCase()=="tr"){
table=dd.createElement("table");
tbody=dd.createElement("tbody");
tbody.appendChild(node);
table.appendChild(tbody);
node=table;
}else{
if(node.tagName.toLowerCase()=="th"){
table=dd.createElement("table");
tbody=dd.createElement("tbody");
var r=dd.createElement("tr");
table.cellPadding=table.cellSpacing="0";
r.appendChild(node);
tbody.appendChild(r);
table.appendChild(tbody);
node=table;
}
}
}
node.id="";
td.appendChild(node);
tr.appendChild(img);
tr.appendChild(td);
html.style(tr,"opacity",0.9);
b.appendChild(tr);
a.appendChild(b);
this.node=a;
var m=_160c.manager();
this.oldOffsetY=m.OFFSET_Y;
m.OFFSET_Y=1;
},destroy:function(){
_160c.manager().OFFSET_Y=this.oldOffsetY;
this.inherited(arguments);
}});
var _164d=_160c.manager().makeAvatar;
_160c.manager().makeAvatar=function(){
var src=this.source;
if(src.viewIndex!==undefined&&!html.hasClass(win.body(),"dijit_a11y")){
return new _164b(this);
}
return _164d.call(_160c.manager());
};
return _1610;
});
},"dijit/TooltipDialog":function(){
define(["dojo/_base/declare","dojo/dom-class","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","./focus","./layout/ContentPane","./_DialogMixin","./form/_FormMixin","./_TemplatedMixin","dojo/text!./templates/TooltipDialog.html","./main"],function(_164e,_164f,has,keys,lang,on,focus,_1650,_1651,_1652,_1653,_1654,dijit){
var _1655=_164e("dijit.TooltipDialog",[_1650,_1653,_1652,_1651],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:_1654,_setTitleAttr:"containerNode",postCreate:function(){
this.inherited(arguments);
this.own(on(this.containerNode,"keydown",lang.hitch(this,"_onKey")));
},orient:function(node,_1656,_1657){
var newC={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft","BR-TL":"dijitTooltipBelow dijitTooltipABLeft","BL-TR":"dijitTooltipBelow dijitTooltipABRight","TL-BR":"dijitTooltipAbove dijitTooltipABRight","TR-BL":"dijitTooltipAbove dijitTooltipABLeft"}[_1656+"-"+_1657];
_164f.replace(this.domNode,newC,this._currentOrientClass||"");
this._currentOrientClass=newC;
},focus:function(){
this._getFocusItems(this.containerNode);
focus.focus(this._firstFocusItem);
},onOpen:function(pos){
this.orient(this.domNode,pos.aroundCorner,pos.corner);
var _1658=pos.aroundNodePos;
if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){
this.connectorNode.style.top=_1658.y+((_1658.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";
this.connectorNode.style.left="";
}else{
if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){
this.connectorNode.style.left=_1658.x+((_1658.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";
}
}
this._onShow();
},onClose:function(){
this.onHide();
},_onKey:function(evt){
if(evt.keyCode==keys.ESCAPE){
this.defer("onCancel");
evt.stopPropagation();
evt.preventDefault();
}else{
if(evt.keyCode==keys.TAB){
var node=evt.target;
this._getFocusItems(this.containerNode);
if(this._firstFocusItem==this._lastFocusItem){
evt.stopPropagation();
evt.preventDefault();
}else{
if(node==this._firstFocusItem&&evt.shiftKey){
focus.focus(this._lastFocusItem);
evt.stopPropagation();
evt.preventDefault();
}else{
if(node==this._lastFocusItem&&!evt.shiftKey){
focus.focus(this._firstFocusItem);
evt.stopPropagation();
evt.preventDefault();
}else{
evt.stopPropagation();
}
}
}
}
}
}});
if(has("dojo-bidi")){
_1655.extend({_setTitleAttr:function(title){
this.containerNode.title=(this.textDir&&this.enforceTextDirWithUcc)?this.enforceTextDirWithUcc(null,title):title;
this._set("title",title);
},_setTextDirAttr:function(_1659){
if(!this._created||this.textDir!=_1659){
this._set("textDir",_1659);
if(this.textDir&&this.title){
this.containerNode.title=this.enforceTextDirWithUcc(null,this.title);
}
}
}});
}
return _1655;
});
},"url:dojox/grid/resources/View.html":"<div class=\"dojoxGridView\" role=\"presentation\">\n\t<div class=\"dojoxGridHeader\" dojoAttachPoint=\"headerNode\" role=\"presentation\">\n\t\t<div dojoAttachPoint=\"headerNodeContainer\" style=\"width:9000em\" role=\"presentation\">\n\t\t\t<div dojoAttachPoint=\"headerContentNode\" role=\"row\"></div>\n\t\t</div>\n\t</div>\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" dojoAttachPoint=\"hiddenFocusNode\" role=\"presentation\" />\n\t<input type=\"checkbox\" class=\"dojoxGridHiddenFocus\" role=\"presentation\" />\n\t<div class=\"dojoxGridScrollbox\" dojoAttachPoint=\"scrollboxNode\" role=\"presentation\">\n\t\t<div class=\"dojoxGridContent\" dojoAttachPoint=\"contentNode\" hidefocus=\"hidefocus\" role=\"presentation\"></div>\n\t</div>\n</div>\n","url:manager/templates/BoxPane.html":"<div class=\"mBoxPane\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"mBoxPaneTitleBar ${classTitle}\" id=\"${id}_titleBar\">\n\t<span data-dojo-attach-point=\"titleNode\" class=\"mBoxPaneTitle\" id=\"${id}_title\"></span>\n\t<div data-dojo-attach-point=\"toolBarNode\" class=\"mBoxPaneToolBar\"></div>\n\t</div>\n\t\t<div data-dojo-attach-point=\"containerNode\" class=\"mBoxPaneContent\"></div>\n</div>\n","url:dijit/form/templates/Select.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tdata-dojo-attach-point=\"_buttonNode,tableNode,focusNode,_popupStateNode\" cellspacing='0' cellpadding='0'\n\trole=\"listbox\" aria-haspopup=\"true\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonContents\" role=\"presentation\"\n\t\t\t><div class=\"dijitReset dijitInputField dijitButtonText\"  data-dojo-attach-point=\"containerNode,textDirNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitValidationContainer\"\n\t\t\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t/></div\n\t\t\t><input type=\"hidden\" ${!nameAttrSetting} data-dojo-attach-point=\"valueNode\" value=\"${value}\" aria-hidden=\"true\"\n\t\t/></td\n\t\t><td class=\"dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\"\n\t\t\tdata-dojo-attach-point=\"titleNode\" role=\"presentation\"\n\t\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t${_buttonInputDisabled}\n\t\t/></td\n\t></tr></tbody\n></table>\n","url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","url:dijit/layout/templates/AccordionButton.html":"<div data-dojo-attach-event='ondijitclick:_onTitleClick' class='dijitAccordionTitle' role=\"presentation\">\n\t<div data-dojo-attach-point='titleNode,focusNode' data-dojo-attach-event='onkeydown:_onTitleKeyDown'\n\t\t\tclass='dijitAccordionTitleFocus' role=\"tab\" aria-expanded=\"false\"\n\t\t><span class='dijitInline dijitAccordionArrow' role=\"presentation\"></span\n\t\t><span class='arrowTextUp' role=\"presentation\">+</span\n\t\t><span class='arrowTextDown' role=\"presentation\">-</span\n\t\t><span role=\"presentation\" class=\"dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t\t<span role=\"presentation\" data-dojo-attach-point='titleTextNode, textDirNode' class='dijitAccordionText'></span>\n\t</div>\n</div>\n","url:manager/templates/TransferBox.html":"<div>\r\n\t<div data-dojo-attach-point=\"fromNode\"></div>\r\n\t<div class=\"dijitReset dijitInline buttons\">\r\n\t\t<button type=\"button\" data-dojo-type=\"dijit.form.Button\" \r\n\t\t\tdata-dojo-attach-event=\"onClick:add\" \r\n\t\t\tdata-dojo-attach-point=\"addButton\">&gt;</button>\r\n\t\t<button type=\"button\" data-dojo-type=\"dijit.form.Button\" \r\n\t\t\tdata-dojo-attach-event=\"onClick:remove\" \r\n\t\t\tdata-dojo-attach-point=\"removeButton\">&lt;</button>\r\n\t</div>\r\n\t<div data-dojo-attach-point=\"toNode\"></div>\r\n</div>","url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\" role=\"separator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>\n","url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\" data-dojo-attach-point=\"gridNode\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\" scope=\"col\">\n\t\t\t\t<span class=\"dijitInline dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"></span>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\" scope=\"col\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' scope=\"col\" data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<span class=\"dijitInline dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"></span>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"ondijitclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n","url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n></div>\n","url:dijit/form/templates/Spinner.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdata-dojo-attach-point=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdata-dojo-attach-point=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' data-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\" data-dojo-attach-event=\"onkeydown:_onKeyDown\"\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n","url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:__onClick,onkeydown:_onButtonKeyDown\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeydown:_onArrowKeyDown\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\" role=\"presentation\"\n\t\t\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\t/></td></tr></tbody\n></table>\n","url:dijit/templates/MenuBarItem.html":"<div class=\"dijitReset dijitInline dijitMenuItem dijitMenuItemLabel\" data-dojo-attach-point=\"focusNode\"\n\t \trole=\"menuitem\" tabIndex=\"-1\">\n\t<span data-dojo-attach-point=\"containerNode,textDirNode\"></span>\n</div>\n","url:dojox/grid/resources/_Grid.html":"<div hidefocus=\"hidefocus\" role=\"grid\" dojoAttachEvent=\"onmouseout:_mouseOut\">\n\t<div class=\"dojoxGridMasterHeader\" dojoAttachPoint=\"viewsHeaderNode\" role=\"presentation\"></div>\n\t<div class=\"dojoxGridMasterView\" dojoAttachPoint=\"viewsNode\" role=\"presentation\"></div>\n\t<div class=\"dojoxGridMasterMessages\" style=\"display: none;\" dojoAttachPoint=\"messagesNode\"></div>\n\t<span dojoAttachPoint=\"lastFocusNode\" tabindex=\"0\"></span>\n</div>\n","url:dijit/templates/ColorPalette.html":"<div class=\"dijitInline dijitColorPalette\" role=\"grid\">\n\t<table dojoAttachPoint=\"paletteTableNode\" class=\"dijitPaletteTable\" cellSpacing=\"0\" cellPadding=\"0\" role=\"presentation\">\n\t\t<tbody data-dojo-attach-point=\"gridNode\"></tbody>\n\t</table>\n</div>\n","url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\n\t   cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n","url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"ondijitclick:_onClick\"\n/></div>\n","url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\taria-haspopup=\"true\"\n\tdata-dojo-attach-point=\"_popupStateNode\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\"\n\t/></div\n></div>\n","url:manager/templates/Dialog.html":"<div class=\"mBoxPaneDialog mElement\" role=\"dialog\" aria-labelledby=\"${id}_title\"  cleanContent=\"true\">\n    <div >\n\t<span></span>\n\t<span dojoAttachPoint=\"closeButtonNode\"></span>\n    </div>  \n<div  id=\"${id}_container\" dojoAttachPoint=\"containerNode\"></div>\n</div>\n","url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow\" role=\"presentation\"\n\t\t><span data-dojo-attach-point=\"expandoNode\" class=\"dijitInline dijitTreeExpando\" role=\"presentation\"></span\n\t\t><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitTreeIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span data-dojo-attach-point=\"labelNode,focusNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeNodeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n","url:dijit/templates/MenuBar.html":"<div class=\"dijitMenuBar dijitMenuPassive\" data-dojo-attach-point=\"containerNode\" role=\"menubar\" tabIndex=\"${tabIndex}\"\n\t ></div>\n","url:dijit/templates/TooltipDialog.html":"<div role=\"alertdialog\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class=\"dijitTooltipContents dijitTooltipFocusNode\" data-dojo-attach-point=\"containerNode\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\" data-dojo-attach-point=\"connectorNode\"></div>\n</div>\n","url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\n\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitTabButtonIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t<span data-dojo-attach-point='containerNode,focusNode' class='tabLabel'></span>\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\n\t\t  role=\"presentation\">\n\t\t<span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\n\t\t\t\t></span>\n</div>\n","url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\n/></span>\n","url:dojox/widget/ColorPicker/ColorPicker.html":"<table class=\"dojoxColorPicker\" dojoAttachEvent=\"onkeypress: _handleKey\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\">\n\t<tr>\n\t\t<td valign=\"top\" class=\"dojoxColorPickerRightPad\">\n\t\t\t<div class=\"dojoxColorPickerBox\">\n\t\t\t\t<!-- Forcing ABS in style attr due to dojo DND issue with not picking it up form the class. -->\n\t\t\t\t<img title=\"${saturationPickerTitle}\" alt=\"${saturationPickerTitle}\" class=\"dojoxColorPickerPoint\" src=\"${_pickerPointer}\" tabIndex=\"0\" dojoAttachPoint=\"cursorNode\" style=\"position: absolute; top: 0px; left: 0px;\">\n\t\t\t\t<img role=\"presentation\" alt=\"\" dojoAttachPoint=\"colorUnderlay\" dojoAttachEvent=\"onclick: _setPoint, onmousedown: _stopDrag\" class=\"dojoxColorPickerUnderlay\" src=\"${_underlay}\" ondragstart=\"return false\">\n\t\t\t</div>\n\t\t</td>\n\t\t<td valign=\"top\" class=\"dojoxColorPickerRightPad\">\n\t\t\t<div class=\"dojoxHuePicker\">\n\t\t\t\t<!-- Forcing ABS in style attr due to dojo DND issue with not picking it up form the class. -->\n\t\t\t\t<img dojoAttachPoint=\"hueCursorNode\" tabIndex=\"0\" class=\"dojoxHuePickerPoint\" title=\"${huePickerTitle}\" alt=\"${huePickerTitle}\" src=\"${_huePickerPointer}\" style=\"position: absolute; top: 0px; left: 0px;\">\n\t\t\t\t<div class=\"dojoxHuePickerUnderlay\" dojoAttachPoint=\"hueNode\">\n\t\t\t\t    <img role=\"presentation\" alt=\"\" dojoAttachEvent=\"onclick: _setHuePoint, onmousedown: _stopDrag\" src=\"${_hueUnderlay}\">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</td>\n\t\t<td valign=\"top\">\n\t\t\t<table cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td valign=\"top\" class=\"dojoxColorPickerPreviewContainer\">\n\t\t\t\t\t\t<table cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td valign=\"top\" class=\"dojoxColorPickerRightPad\">\n\t\t\t\t\t\t\t\t\t<div dojoAttachPoint=\"previewNode\" class=\"dojoxColorPickerPreview\"></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td valign=\"top\">\n\t\t\t\t\t\t\t\t\t<div dojoAttachPoint=\"safePreviewNode\" class=\"dojoxColorPickerWebSafePreview\"></div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td valign=\"bottom\">\n\t\t\t\t\t\t<table class=\"dojoxColorPickerOptional\" cellpadding=\"0\" cellspacing=\"0\" role=\"presentation\">\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div class=\"dijitInline dojoxColorPickerRgb\" dojoAttachPoint=\"rgbNode\">\n\t\t\t\t\t\t\t\t\t\t<table cellpadding=\"1\" cellspacing=\"1\" role=\"presentation\">\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_r\">${redLabel}</label></td><td><input id=\"${_uId}_r\" dojoAttachPoint=\"Rval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"></td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_g\">${greenLabel}</label></td><td><input id=\"${_uId}_g\" dojoAttachPoint=\"Gval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"></td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_b\">${blueLabel}</label></td><td><input id=\"${_uId}_b\" dojoAttachPoint=\"Bval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"></td></tr>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div class=\"dijitInline dojoxColorPickerHsv\" dojoAttachPoint=\"hsvNode\">\n\t\t\t\t\t\t\t\t\t\t<table cellpadding=\"1\" cellspacing=\"1\" role=\"presentation\">\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_h\">${hueLabel}</label></td><td><input id=\"${_uId}_h\" dojoAttachPoint=\"Hval\"size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"> ${degLabel}</td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_s\">${saturationLabel}</label></td><td><input id=\"${_uId}_s\" dojoAttachPoint=\"Sval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"> ${percentSign}</td></tr>\n\t\t\t\t\t\t\t\t\t\t<tr><td><label for=\"${_uId}_v\">${valueLabel}</label></td><td><input id=\"${_uId}_v\" dojoAttachPoint=\"Vval\" size=\"1\" dojoAttachEvent=\"onchange: _colorInputChange\"> ${percentSign}</td></tr>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td colspan=\"2\">\n\t\t\t\t\t\t\t\t\t<div class=\"dojoxColorPickerHex\" dojoAttachPoint=\"hexNode\" aria-live=\"polite\">\t\n\t\t\t\t\t\t\t\t\t\t<label for=\"${_uId}_hex\">&nbsp;${hexLabel}&nbsp;</label><input id=\"${_uId}_hex\" dojoAttachPoint=\"hexCode, focusNode, valueNode\" size=\"6\" class=\"dojoxColorPickerHexCode\" dojoAttachEvent=\"onchange: _colorInputChange\">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</td>\n\t</tr>\n</table>\n\n","url:dojox/form/resources/Uploader.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t> \n\t<input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\" data-dojo-attach-point=\"valueNode\" />\n</span>\n","url:dojox/form/resources/UploaderFileList.html":"<div class=\"dojoxUploaderFileList\">\n\t<div data-dojo-attach-point=\"progressNode\" class=\"dojoxUploaderFileListProgress\">\n\t\t<div data-dojo-attach-point=\"percentBarNode\" class=\"dojoxUploaderFileListProgressBar\"></div>\n\t\t<div data-dojo-attach-point=\"percentTextNode\" class=\"dojoxUploaderFileListPercentText\">0%</div>\n\t</div>\n\t<table class=\"dojoxUploaderFileListTable\">\n\t\t<thead>\n\t\t\t<tr class=\"dojoxUploaderFileListHeader\">\n\t\t\t\t<th class=\"dojoxUploaderIndex\">${headerIndex}</th>\n\t\t\t\t<th class=\"dojoxUploaderIcon\">${headerType}</th>\n\t\t\t\t<th class=\"dojoxUploaderFileName\">${headerFilename}</th>\n\t\t\t\t<th class=\"dojoxUploaderFileSize\" data-dojo-attach-point=\"sizeHeader\">${headerFilesize}</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody class=\"dojoxUploaderFileListContent\" data-dojo-attach-point=\"listNode\"></tbody>\n\t</table>\n<div>","url:dijit/templates/Tree.html":"<div role=\"tree\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n\t<div class=\"dijitTreeExpando dijitTreeExpandoLoading\" data-dojo-attach-point=\"rootLoadingIndicator\"></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\">\n\t</div>\n</div>\n","url:dijit/layout/templates/ScrollingTabController.html":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\n\t\t class=\"tabStripButton-${tabPosition}\"\n\t\t id=\"${id}_menuBtn\"\n\t\t data-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\n\t\t data-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t class=\"tabStripButton-${tabPosition}\"\n\t\t id=\"${id}_leftBtn\"\n\t\t data-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\n\t\t data-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t class=\"tabStripButton-${tabPosition}\"\n\t\t id=\"${id}_rightBtn\"\n\t\t data-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\n\t\t data-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\n\t<div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\n\t\t<div role='tablist' data-dojo-attach-event='onkeydown:onkeydown'\n\t\t\t data-dojo-attach-point='containerNode' class='nowrapTabStrip'></div>\n\t</div>\n</div>","url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\n\t\t\t\trole=\"heading\" level=\"1\"></span>\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabindex=\"0\">\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n","url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<span role=\"presentation\" class=\"dijitInline dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,textDirNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<span data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<span class=\"dijitInline dijitIcon dijitMenuExpand\"></span>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</span>\n\t</td>\n</tr>\n","url:dijit/layout/templates/_ScrollingTabControllerButton.html":"<div data-dojo-attach-event=\"ondijitclick:_onClick\" class=\"dijitTabInnerDiv dijitTabContent dijitButtonContents\"  data-dojo-attach-point=\"focusNode\" role=\"button\">\n\t<span role=\"presentation\" class=\"dijitInline dijitTabStripIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t<span data-dojo-attach-point=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\n</div>","url:dijit/layout/templates/TabContainer.html":"<div class=\"dijitTabContainer\">\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\n</div>\n","url:dojox/editor/plugins/resources/modifyTable.html":"<div class=\"dijitDialog\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\">${modifyTableTitle}</span>\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"onclick: onCancel\" title=\"${buttonCancel}\">\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t</span>\n\t</div>\n    <div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\">\n        <table class=\"etdTable\">\n          <tr><td>\n                <label>${backgroundColor}</label>\n            </td><td colspan=\"2\">\n                <span class=\"colorSwatchBtn\" dojoAttachPoint=\"backgroundCol\"></span>\n            </td></tr><tr><td>\n                <label>${borderColor}</label>\n            </td><td colspan=\"2\">\n                <span class=\"colorSwatchBtn\" dojoAttachPoint=\"borderCol\"></span>\n            </td></tr><tr><td>\n                <label>${align}</label>\n            </td><td colspan=\"2\">\t\n                <select dojoAttachPoint=\"selectAlign\" dojoType=\"dijit.form.FilteringSelect\">\n                  <option value=\"default\">${default}</option>\n                  <option value=\"left\">${left}</option>\n                  <option value=\"center\">${center}</option>\n                  <option value=\"right\">${right}</option>\n                </select>\n            </td></tr>\n            <tr><td>\n                <label>${tableWidth}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectWidth\" dojoType=\"dijit.form.TextBox\" value=\"100\"></span>\n            </td><td>\n                <select dojoAttachPoint=\"selectWidthType\" hasDownArrow=\"true\" dojoType=\"dijit.form.FilteringSelect\">\n                  <option value=\"percent\">${percent}</option>\n                  <option value=\"pixels\">${pixels}</option>\n                </select></td></tr>\t\n            <tr><td>\n                <label>${borderThickness}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectBorder\" dojoType=\"dijit.form.TextBox\" value=\"1\"></span>\n            </td><td>\n                ${pixels}\n            </td></tr><tr><td>\n                <label>${cellPadding}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectPad\" dojoType=\"dijit.form.TextBox\" value=\"0\"></span>\n            </td><td class=\"cellpad\"></td></tr><tr><td>\n                <label>${cellSpacing}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectSpace\" dojoType=\"dijit.form.TextBox\" value=\"0\"></span>\n            </td><td class=\"cellspace\"></td></tr>\n        </table>\n        <div class=\"dialogButtonContainer\">\n            <div dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick: onSet\">${buttonSet}</div>\n            <div dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick: onCancel\">${buttonCancel}</div>\n        </div>\n\t</div>\n</div>\n","url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"${role}\" tabIndex=\"-1\" aria-checked=\"${checked}\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<span class=\"dijitInline dijitIcon dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"></span>\n\t\t<span class=\"dijitMenuItemIconChar dijitCheckedMenuItemIconChar\">${checkedChar}</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode,textDirNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\n</tr>\n","url:dojox/editor/plugins/resources/insertTable.html":"<div class=\"dijitDialog\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\">${insertTableTitle}</span>\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"onclick: onCancel\" title=\"${buttonCancel}\">\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t</span>\n\t</div>\n    <div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\">\n        <table class=\"etdTable\"><tr>\n            <td>\n                <label>${rows}</label>\n\t\t\t</td><td>\n                <span dojoAttachPoint=\"selectRow\" dojoType=\"dijit.form.TextBox\" value=\"2\"></span>\n            </td><td><table><tr><td class=\"inner\">\n                <label>${columns}</label>\n\t\t\t</td><td class=\"inner\">\n                <span dojoAttachPoint=\"selectCol\" dojoType=\"dijit.form.TextBox\" value=\"2\"></span>\n            </td></tr></table></td></tr>\t\t\n\t\t\t<tr><td>\n                <label>${tableWidth}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectWidth\" dojoType=\"dijit.form.TextBox\" value=\"100\"></span>\n\t\t\t</td><td>\n                <select dojoAttachPoint=\"selectWidthType\" hasDownArrow=\"true\" dojoType=\"dijit.form.FilteringSelect\">\n                  <option value=\"percent\">${percent}</option>\n                  <option value=\"pixels\">${pixels}</option>\n                </select></td></tr>\t\n            <tr><td>\n                <label>${borderThickness}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectBorder\" dojoType=\"dijit.form.TextBox\" value=\"1\"></span>\n            </td><td>\n                ${pixels}\n            </td></tr><tr><td>\n                <label>${cellPadding}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectPad\" dojoType=\"dijit.form.TextBox\" value=\"0\"></span>\n            </td><td class=\"cellpad\"></td></tr><tr><td>\n                <label>${cellSpacing}</label>\n            </td><td>\n                <span dojoAttachPoint=\"selectSpace\" dojoType=\"dijit.form.TextBox\" value=\"0\"></span>\n            </td><td class=\"cellspace\"></td></tr></table>\n        <div class=\"dialogButtonContainer\">\n            <div dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick: onInsert\">${buttonInsert}</div>\n            <div dojoType=\"dijit.form.Button\" dojoAttachEvent=\"onClick: onCancel\">${buttonCancel}</div>\n        </div>\n\t</div>\n</div>\n","url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:__onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode,_popupStateNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-event=\"onclick:_onClick\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n","*now":function(r){
r(["dojo/i18n!*preload*manager/nls/main*[]"]);
}}});
require(["dojo/_base/kernel","dojo/_base/loader"],function(dojo){
dojo.registerModulePath("manager","../manager");
});
require(["dojo/i18n!dojo/cldr/nls/pt/currency","dojo/i18n!dojo/cldr/nls/pt/number","dojo/i18n!dojo/cldr/nls/pt/gregorian"]);
require(["manager/Core"],function(Core){
window.manager=Core;
});
require(["manager/BoxPane"]);
require(["manager/Grid"]);
require(["manager/Lookup"]);
require(["manager/FormPopup"]);
